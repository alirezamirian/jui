"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[7810],{"../../node_modules/@react-aria/utils/dist/runAfterTransition.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>$bbed8b41f857bcc0$export$24490316f764c430});let $bbed8b41f857bcc0$var$transitionsByElement=new Map,$bbed8b41f857bcc0$var$transitionCallbacks=new Set;function $bbed8b41f857bcc0$var$setupGlobalEvents(){if("undefined"==typeof window)return;function isTransitionEvent(event){return"propertyName"in event}let onTransitionEnd=e=>{if(!isTransitionEvent(e)||!e.target)return;let properties=$bbed8b41f857bcc0$var$transitionsByElement.get(e.target);if(properties&&(properties.delete(e.propertyName),0===properties.size&&(e.target.removeEventListener("transitioncancel",onTransitionEnd),$bbed8b41f857bcc0$var$transitionsByElement.delete(e.target)),0===$bbed8b41f857bcc0$var$transitionsByElement.size)){for(let cb of $bbed8b41f857bcc0$var$transitionCallbacks)cb();$bbed8b41f857bcc0$var$transitionCallbacks.clear()}};document.body.addEventListener("transitionrun",(e=>{if(!isTransitionEvent(e)||!e.target)return;let transitions=$bbed8b41f857bcc0$var$transitionsByElement.get(e.target);transitions||(transitions=new Set,$bbed8b41f857bcc0$var$transitionsByElement.set(e.target,transitions),e.target.addEventListener("transitioncancel",onTransitionEnd,{once:!0})),transitions.add(e.propertyName)})),document.body.addEventListener("transitionend",onTransitionEnd)}function $bbed8b41f857bcc0$export$24490316f764c430(fn){requestAnimationFrame((()=>{0===$bbed8b41f857bcc0$var$transitionsByElement.size?fn():$bbed8b41f857bcc0$var$transitionCallbacks.add(fn)}))}"undefined"!=typeof document&&("loading"!==document.readyState?$bbed8b41f857bcc0$var$setupGlobalEvents():document.addEventListener("DOMContentLoaded",$bbed8b41f857bcc0$var$setupGlobalEvents))},"./src/ThreeViewSplitter/ThreeViewSplitter.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{RelativeSizing:()=>RelativeSizing,WithFocusableContent:()=>WithFocusableContent,WithInitialSize:()=>WithInitialSize,WithoutInitialSize:()=>WithoutInitialSize,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_ThreeViewSplitter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ThreeViewSplitter/ThreeViewSplitter.tsx");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/ThreeViewSplitter",argTypes:{orientation:{defaultValue:"horizontal",type:{name:"enum",value:["horizontal","vertical"]}},innerViewMinSize:{defaultValue:50,type:"number"},firstView:{defaultValue:"First view",type:"string"},innerView:{defaultValue:"Inner view",type:"string"},lastView:{defaultValue:"Last view",type:"string"}},parameters:{layout:"fullscreen",controls:{exclude:__webpack_require__("./src/story-helpers.tsx").E}}},ThreeViewSplitterWithStyles=props=>{const{firstView,lastView,innerView,...otherProps}=props;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_ThreeViewSplitter__WEBPACK_IMPORTED_MODULE_2__.v,{...otherProps,style:{height:"100vh"},firstView:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-testid":"first",style:{background:"lightyellow",height:"100%",padding:8,fontFamily:"monospace",boxSizing:"border-box"}},firstView,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"size: ",props.firstSize)),lastView:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-testid":"last",style:{background:"lightcoral",height:"100%",padding:8,fontFamily:"monospace",boxSizing:"border-box"}},lastView,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"size: ",props.lastSize)),innerView:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{"data-testid":"middle",style:{background:"lightcyan",height:"100%",padding:8}},innerView)})},WithInitialSize={render:props=>{const[firstSize,setFirstSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(250),[lastSize,setLastSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(250);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThreeViewSplitterWithStyles,{...props,firstSize,onFirstResize:setFirstSize,lastSize,onLastResize:setLastSize})}},WithFocusableContent={render:props=>{const[firstSize,setFirstSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[lastSize,setLastSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThreeViewSplitterWithStyles,{...props,firstView:react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{autoFocus:!0}),firstSize,onFirstResize:setFirstSize,lastSize,onLastResize:setLastSize})}},WithoutInitialSize={render:props=>{const[firstSize,setFirstSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),[lastSize,setLastSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThreeViewSplitterWithStyles,{...props,firstSize,onFirstResize:setFirstSize,lastSize,onLastResize:setLastSize})}},RelativeSizing={render:props=>{const[firstSize,setFirstSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(.2),[lastSize,setLastSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(.2);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThreeViewSplitterWithStyles,{...props,firstSize,onFirstResize:setFirstSize,lastSize,onLastResize:setLastSize})}},__namedExportsOrder=["WithInitialSize","WithFocusableContent","WithoutInitialSize","RelativeSizing"];WithInitialSize.parameters={...WithInitialSize.parameters,docs:{...WithInitialSize.parameters?.docs,source:{originalSource:"{\n  render: (props: Partial<ThreeViewSplitterProps>) => {\n    const [firstSize, setFirstSize] = useState<number>(250);\n    const [lastSize, setLastSize] = useState<number>(250);\n    return <ThreeViewSplitterWithStyles {...props} firstSize={firstSize} onFirstResize={setFirstSize} lastSize={lastSize} onLastResize={setLastSize} />;\n  }\n}",...WithInitialSize.parameters?.docs?.source}}},WithFocusableContent.parameters={...WithFocusableContent.parameters,docs:{...WithFocusableContent.parameters?.docs,source:{originalSource:"{\n  render: (props: Partial<ThreeViewSplitterProps>) => {\n    const [firstSize, setFirstSize] = useState<number>();\n    const [lastSize, setLastSize] = useState<number>();\n    return <ThreeViewSplitterWithStyles {...props} firstView={<input autoFocus />} firstSize={firstSize} onFirstResize={setFirstSize} lastSize={lastSize} onLastResize={setLastSize} />;\n  }\n}",...WithFocusableContent.parameters?.docs?.source}}},WithoutInitialSize.parameters={...WithoutInitialSize.parameters,docs:{...WithoutInitialSize.parameters?.docs,source:{originalSource:"{\n  render: (props: Partial<ThreeViewSplitterProps>) => {\n    const [firstSize, setFirstSize] = useState<number>();\n    const [lastSize, setLastSize] = useState<number>();\n    return <ThreeViewSplitterWithStyles {...props} firstSize={firstSize} onFirstResize={setFirstSize} lastSize={lastSize} onLastResize={setLastSize} />;\n  }\n}",...WithoutInitialSize.parameters?.docs?.source}}},RelativeSizing.parameters={...RelativeSizing.parameters,docs:{...RelativeSizing.parameters?.docs,source:{originalSource:"{\n  render: (props: Partial<ThreeViewSplitterProps>) => {\n    const [firstSize, setFirstSize] = useState<number>(0.2);\n    const [lastSize, setLastSize] = useState<number>(0.2);\n    return <ThreeViewSplitterWithStyles {...props} firstSize={firstSize} onFirstResize={setFirstSize} lastSize={lastSize} onLastResize={setLastSize} />;\n  }\n}",...RelativeSizing.parameters?.docs?.source}}}},"./src/Resizer/TopResizer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>TopResizer});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_useResizer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Resizer/useResizer.ts"),_VerticalResizer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Resizer/VerticalResizer.tsx");const TopResizer=({onResize,onResizeEnd,onResizeStarted,...props})=>{const{resizerProps}=(0,_useResizer__WEBPACK_IMPORTED_MODULE_1__.LO)({onResize,onResizeEnd,onResizeStarted});return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_VerticalResizer__WEBPACK_IMPORTED_MODULE_2__.H,{resizerProps,...props})};TopResizer.__docgenInfo={description:"Handle for resizing views in a vertical layout, where the resizer is at the top side of the resizable view. i.e.\nmoving mouse to bottom/top will decrease/increase the height",methods:[],displayName:"TopResizer",props:{onResizeStarted:{required:!0,tsType:{name:"signature",type:"function",raw:"() => number | void",signature:{arguments:[],return:{name:"union",raw:"number | void",elements:[{name:"number"},{name:"void"}]}}},description:"Called when the resize starts by a move action. The callback can optionally\nreturn the initial width of the view for which the resize handle\nis used. The amount of resize will be added to this initial value and\npassed to `onResize`, when movement happens."},onResize:{required:!0,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:"Called when resize is happening.\n@param size: New size based on the diff and the initial size returned\nby onResizeStarted, or zero if initial size is not returned."},onResizeEnd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when movement interaction is finished, e.g. by a mouse up event."},background:{required:!1,tsType:{name:'CSSProperties["background"]',raw:'CSSProperties["background"]'},description:"Background color of the visible space-occupying part of the resize handle."},size:{required:!1,tsType:{name:"number"},description:"Visible and space-occupying part of the resize handle. Total grab-able\nwidth will be `size` + `outerPadding`\n@default 0"},outerPadding:{required:!1,tsType:{name:"number"},description:"Length of the extra grab-able zone around the resize handle.\nFor example, if set to 10 there will be an area of length 5 pixels in each\nside of the handle which still can be used for resizing.\n@default 10"},cursor:{required:!1,tsType:{name:"unknown"},description:"Resizer cursor."},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Any arbitrary content for customizing look and feel of the resizer.\nFor example for showing a rounded handle kind of thing in the middle,\nor showing shadows, etc."},style:{required:!1,tsType:{name:"Omit",elements:[{name:"CSSProperties"},{name:"union",raw:'(Orientation extends "horizontal" ? "width" : "height") | "background"',elements:[{name:"unknown"},{name:"literal",value:'"background"'}]}],raw:'Omit<\n  CSSProperties,\n  (Orientation extends "horizontal" ? "width" : "height") | "background"\n>'},description:"styles passed to the root resizer element. `width` and `background` is not allowed and will be overridden.\nNOTE: it's added to allow use case of absolutely positioned resizers in float tool windows. Might be a better\nidea to add a `absolute` instead option and apply the necessary style based on it, if it can be seen as a re-usable\nand legit feature."}}}},"./src/ThreeViewSplitter/ThreeViewSplitter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>ThreeViewSplitter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_Resizer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Resizer/RightResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Resizer/BottomResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Resizer/LeftResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Resizer/TopResizer.tsx");const StyledSplitterContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  flex-direction: ${({$orientation})=>"vertical"===$orientation?"column":"row"};
`,StyledView=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div`
  // The default overflow visible should be changed obviously. Not sure if there is any layout implication
  // in using 'auto' instead of hidden, to provide scroll behaviour by default, but even if we realize later
  // that we need to set overflow to hidden here, we can have scrollable content inside the inner view via an
  // intermediate element inside the inner view, with overflow set to auto and width set to 100%.
  overflow: auto;
`,StyledSplitterInnerView=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(StyledView)`
  flex: 1;
`,ThreeViewSplitter=({orientation="horizontal",firstView,firstSize,lastView,lastSize,onFirstResize,onLastResize,resizerProps:resizerPropsOverrides={},innerView,firstViewMinSize,lastViewMinSize,innerViewMinSize,...containerProps})=>{const containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),firstViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),lastViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),resizeFromRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({firstView:null,lastView:null}),[firstSizeState,setFirstSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[lastSizeState,setLastSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),theme=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.DP)(),value=(horizontalValue,verticalValue)=>"horizontal"===orientation?horizontalValue:verticalValue,FirstResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_2__.R,_Resizer__WEBPACK_IMPORTED_MODULE_3__.I),SecondResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_4__.o,_Resizer__WEBPACK_IMPORTED_MODULE_5__.M),sizeStyleProp=value("width","height"),minSizeStyleProp=value("minWidth","minHeight"),resizerProps={background:theme.commonColors.contrastBorder,size:1,...resizerPropsOverrides},isFractionSize=size=>size<1,normalizeSize=size=>null!=size?isFractionSize(size)?100*size+"%":Math.round(size):void 0,getSize=elem=>value(elem.offsetWidth,elem.offsetHeight),getNewSize=(fromSize,resize)=>{if(null!=fromSize&&isFractionSize(fromSize)){if(!containerRef.current)throw new Error("ThreeViewSplitter: Could not locate container to calculate fraction size");const newFractionSize=resize/value(containerRef.current.offsetWidth,containerRef.current.offsetHeight);return newFractionSize<1?newFractionSize:fromSize}return Math.max(resize,1)},getActualSize=viewElem=>{if(!containerRef.current||!viewElem)return null;const actualSize=getSize(viewElem);return viewElem.style[sizeStyleProp]?.includes("%")?actualSize/getSize(containerRef.current):actualSize},currentLastSize=normalizeSize(lastSizeState??lastSize),currentFirstSize=normalizeSize(firstSizeState??firstSize);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSplitterContainer,{ref:containerRef,$orientation:orientation,...containerProps},firstView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledView,{ref:firstViewRef,style:{[sizeStyleProp]:currentFirstSize,[minSizeStyleProp]:(null!==lastSizeState?currentFirstSize:void 0)??firstViewMinSize}},firstView),react__WEBPACK_IMPORTED_MODULE_0__.createElement(FirstResizer,{onResizeStarted:()=>{const size=firstViewRef.current?getSize(firstViewRef.current):0;return setFirstSizeState(firstSize??size),resizeFromRef.current.firstView=firstSize??size,size},onResize:newSize=>{null!=resizeFromRef.current.firstView&&setFirstSizeState(getNewSize(resizeFromRef.current.firstView,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(firstViewRef.current);null!==actualSize&&onFirstResize?.(actualSize),setFirstSizeState(null)},...resizerProps})),innerView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSplitterInnerView,{style:{[minSizeStyleProp]:innerViewMinSize}},innerView),lastView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(SecondResizer,{onResizeStarted:()=>{const size=getSize(lastViewRef.current);return setLastSizeState(lastSize??size),resizeFromRef.current.lastView=lastSize??size,size},onResize:newSize=>{null!=resizeFromRef.current.lastView&&setLastSizeState(getNewSize(resizeFromRef.current.lastView,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(lastViewRef.current);null!==actualSize&&onLastResize?.(actualSize),setLastSizeState(null)},...resizerProps}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledView,{ref:lastViewRef,style:{[sizeStyleProp]:currentLastSize,[minSizeStyleProp]:(null!==firstSizeState?currentLastSize:void 0)??lastViewMinSize}},lastView)))};ThreeViewSplitter.__docgenInfo={description:"Corresponding to\n[ThreeComponentsSplitter](https://github.com/JetBrains/intellij-community/blob/58dbd93e9ea527987466072fa0bfbf70864cd35f/platform/platform-api/src/com/intellij/openapi/ui/ThreeComponentsSplitter.java#L40-L40)\n`firstView` and `lastView` are optional, and if not provided, the corresponding resizer is not rendered.\ninnerView is supposed to fill the remaining space, while firstView and lastView have specific sizes.\nsize changes in a resize interaction is not reported and is handled by local state in the component. That's\nto prevent frequent state updates in a higher level which can be expensive. It's also based on this assumption\nthat in the usage side there is no need for any control over resizing or even knowing the intermediate state.\nMaybe a minSize and maxSize would be the extent of the required control over resizing. But anyway, this model\nof keeping the size as a local state during a resize session is something that can be changed if needed.\n\nFeatures:\n- Relative sizing (fraction of the container)\n- Default size by content\n- Change handling only when resize is done.\n\nTODO: max and min size not implemented\nTODO: add support for uncontrolled version",methods:[],displayName:"ThreeViewSplitter",props:{orientation:{required:!1,tsType:{name:"union",raw:'"horizontal" | "vertical"',elements:[{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'}]},description:"",defaultValue:{value:'"horizontal"',computed:!1}},resizerProps:{required:!1,tsType:{name:"Partial",elements:[{name:"Omit",elements:[{name:"ResizerProps"},{name:"union",raw:'"onResize" | "onResizeStarted" | "onResizeEnd"',elements:[{name:"literal",value:'"onResize"'},{name:"literal",value:'"onResizeStarted"'},{name:"literal",value:'"onResizeEnd"'}]}],raw:'Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">'}],raw:'Partial<\n  Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">\n>'},description:"",defaultValue:{value:"{}",computed:!1}},innerView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},innerViewMinSize:{required:!1,tsType:{name:"number"},description:""},firstView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},firstSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},firstViewMinSize:{required:!1,tsType:{name:"number"},description:""},lastView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},lastSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},lastViewMinSize:{required:!1,tsType:{name:"number"},description:""},onFirstResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:""},onLastResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/story-helpers.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>styledComponentsControlsExclude});__webpack_require__("../../node_modules/react/index.js");const styledComponentsControlsExclude=["theme","as","forwardedAs","ref"]},"./src/utils/useLatest.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>useLatest});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function useLatest(value){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{ref.current=value})),ref}}}]);
//# sourceMappingURL=ThreeViewSplitter-ThreeViewSplitter-stories.838ca68f.iframe.bundle.js.map