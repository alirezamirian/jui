"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[5935],{"./src/Menu/MenuOverlay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>MenuOverlay});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_utils_FocusScope__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/FocusScope.tsx"),_intellij_platform_core_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Menu/Menu.tsx"),_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Overlay/Overlay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function MenuOverlay({children,restoreFocus,overlayProps,overlayRef,state}){return state.isOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_2__.a,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_utils_FocusScope__WEBPACK_IMPORTED_MODULE_3__.M,{restoreFocus,forceRestoreFocus:restoreFocus,autoFocus:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__.EC.Provider,{value:state,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{...overlayProps,ref:overlayRef,children})})})}):null}MenuOverlay.displayName="MenuOverlay";try{MenuOverlay.displayName="MenuOverlay",MenuOverlay.__docgenInfo={description:"Overlay container for menu. Extracted into a separate component, to be used by components like MenuTrigger or\nContextMenuContainer, that need to render a menu as an overlay.",displayName:"MenuOverlay",props:{restoreFocus:{defaultValue:null,description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!0,type:{name:"HTMLProps<HTMLDivElement>"}},overlayRef:{defaultValue:null,description:"",name:"overlayRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"MenuTriggerState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Menu/MenuOverlay.tsx#MenuOverlay"]={docgenInfo:MenuOverlay.__docgenInfo,name:"MenuOverlay",path:"src/Menu/MenuOverlay.tsx#MenuOverlay"})}catch(__react_docgen_typescript_loader_error){}},"./src/Menu/MenuTrigger.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>MenuTrigger});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/button/dist/module.js"),_react_aria_menu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/menu/dist/module.js"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_stately_menu__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-stately/menu/dist/module.js"),_MenuOverlay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Menu/MenuOverlay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const MenuTrigger=({children,renderMenu,direction="bottom",align="start",shouldFlip=!0,restoreFocus=!0,preventFocusOnPress=!0,...otherProps})=>{const menuTriggerProps={...otherProps,direction,align,shouldFlip},state=(0,_react_stately_menu__WEBPACK_IMPORTED_MODULE_2__.W)(menuTriggerProps),triggerRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),overlayRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),{menuTriggerProps:triggerProps,menuProps}=(0,_react_aria_menu__WEBPACK_IMPORTED_MODULE_3__.u4)({type:"menu"},state,triggerRef),{buttonProps}=(0,_react_aria_button__WEBPACK_IMPORTED_MODULE_4__.U)({...triggerProps,preventFocusOnPress},triggerRef),{overlayProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.Ir)({onClose:()=>state.close(),shouldCloseOnBlur:!1,isOpen:state.isOpen,isKeyboardDismissDisabled:!1,isDismissable:!0,shouldCloseOnInteractOutside:element=>!element.matches("[role=menu] *")},overlayRef),{overlayProps:positionProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.tN)({targetRef:triggerRef,overlayRef,placement:getPlacement(direction,align),shouldFlip,offset:0,containerPadding:0,isOpen:state.isOpen});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[children(buttonProps,triggerRef),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_MenuOverlay__WEBPACK_IMPORTED_MODULE_6__.T,{overlayProps:(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_7__.dG)(overlayProps,positionProps),overlayRef,state,restoreFocus,children:renderMenu({menuProps})})]})};function getPlacement(direction,align){switch(direction){case"left":case"right":case"start":case"end":return`${direction} ${"end"===align?"bottom":"top"}`;default:return`${direction} ${align}`}}try{MenuTrigger.displayName="MenuTrigger",MenuTrigger.__docgenInfo={description:"Makes its children a trigger for a menu, rendered via {@link MenuTriggerProps#renderMenu } prop.\nCloses the menu when a menu action is triggered.",displayName:"MenuTrigger",props:{restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},preventFocusOnPress:{defaultValue:{value:"true"},description:"",name:"preventFocusOnPress",required:!1,type:{name:"boolean"}},renderMenu:{defaultValue:null,description:"",name:"renderMenu",required:!0,type:{name:"(props: { menuProps: HTMLAttributes<HTMLElement>; }) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Menu/MenuTrigger.tsx#MenuTrigger"]={docgenInfo:MenuTrigger.__docgenInfo,name:"MenuTrigger",path:"src/Menu/MenuTrigger.tsx#MenuTrigger"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tabs/StyledDefaultTab.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>StyledDefaultTab});var _TabTheme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Tabs/TabTheme.ts");const StyledDefaultTab=__webpack_require__("./src/styled.ts").zo.div`
  box-sizing: border-box;
  display: inline-flex;
  letter-spacing: 0.015rem;
  font-size: 0.85rem;
  cursor: default;
  white-space: nowrap;

  // spacing
  padding: 0 0.5rem;
  line-height: 1.7rem; // vertical spacing handled by line-height

  // disabled state doesn't seem to be supported in Intellij Platform at all.
  opacity: ${({disabled})=>disabled?".5":"1"};
  color: ${({theme})=>theme.color("DefaultTabs.foreground")};

  position: relative;
  &::after {
    content: "";
    position: absolute;
    width: 100%;
    left: 0;
    bottom: 0;
  }

  ${({theme})=>(0,_TabTheme__WEBPACK_IMPORTED_MODULE_0__.s)({underlineHeight:theme.value("DefaultTabs.underlineHeight")??3,inactiveUnderlineColor:theme.color("DefaultTabs.inactiveUnderlineColor",theme.dark?"#747a80":"#9ca7b8"),underlineColor:theme.color("DefaultTabs.underlineColor",theme.dark?"#4A88C7":"#4083C9"),underlinedTabInactiveForeground:theme.color("DefaultTabs.underlinedTabInactiveForeground"),underlinedTabForeground:theme.color("DefaultTabs.underlinedTabForeground"),background:theme.color("DefaultTabs.background",theme.dark?"#3C3F41":"#ECECEC"),underlinedTabInactiveBackground:theme.color("DefaultTabs.underlinedTabInactiveBackground"),underlinedTabBackground:theme.color("DefaultTabs.underlinedTabBackground"),hoverInactiveBackground:theme.color("DefaultTabs.hoverInactiveBackground",theme.dark?"rgba(0,0,0,.35)":"rgba(0,0,0,.1)"),hoverBackground:theme.color("DefaultTabs.hoverBackground",theme.dark?"rgba(0,0,0,.35)":"rgba(0,0,0,.1)")})};
`},"./src/Tabs/StyledDefaultTabs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>StyledDefaultTabs});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styled.ts"),_TabTheme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Tabs/TabTheme.ts");const StyledDefaultTabs=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__.zo.div`
  display: flex;
  align-items: center;
  box-sizing: border-box;
  border-style: solid;
  border-width: ${({noBorders})=>noBorders?"0":"1px 0"};

  ${({theme})=>(0,_TabTheme__WEBPACK_IMPORTED_MODULE_0__.N)({borderColor:theme.color("DefaultTabs.borderColor",theme.commonColors.contrastBorder),background:theme.color("DefaultTabs.background")})};
`},"./src/Tabs/TabContentLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>TabContentLayout});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledTabItemLayout=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  display: inline-flex;
  align-items: center;
`,iconStyle=_styled__WEBPACK_IMPORTED_MODULE_2__.iv`
  display: inline-flex; // without this, the wrapper takes the full height, causing icon to be placed on top
  margin-top: -0.1rem; // seems necessary for pixel perfect match with the original impl
`,StyledStartIconWrapper=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.span`
  ${iconStyle};
  margin-right: 0.25rem;
`,StyledEndIconWrapper=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.span`
  ${iconStyle};
  margin-left: 0.25rem;
  margin-right: -0.25rem; // default padding of the tab should be a little reduced when close icon is there.
  border-radius: 16px;
`,TabContentLayout=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({startIcon,title,endIcon,containerProps={}},ref)=>{const{focusableProps}=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_3__.kc)({},(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.B3)(ref));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledTabItemLayout,{...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.dG)(focusableProps,containerProps),ref,children:[startIcon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledStartIconWrapper,{children:startIcon}),title,endIcon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledEndIconWrapper,{children:endIcon})]})}));try{TabContentLayout.displayName="TabContentLayout",TabContentLayout.__docgenInfo={description:"Helper component for rendering the common layout of tab content.",displayName:"TabContentLayout",props:{startIcon:{defaultValue:null,description:"the icon placed before the text.",name:"startIcon",required:!1,type:{name:"ReactNode"}},title:{defaultValue:null,description:"title of the tab. Normally just a string",name:"title",required:!1,type:{name:"ReactNode"}},endIcon:{defaultValue:null,description:"the icon placed after the text. Typical use cases: close or pin icon.",name:"endIcon",required:!1,type:{name:"ReactNode"}},containerProps:{defaultValue:{value:"{}"},description:"Generic HTML props passed to the container div.",name:"containerProps",required:!1,type:{name:'Omit<HTMLProps<HTMLDivElement>, "as" | "ref">'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/TabContentLayout.tsx#TabContentLayout"]={docgenInfo:TabContentLayout.__docgenInfo,name:"TabContentLayout",path:"src/Tabs/TabContentLayout.tsx#TabContentLayout"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tabs/TabTheme.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>getTabsThemeStyles,s:()=>getTabThemeStyles});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts");const getTabsThemeStyles=({background,borderColor})=>_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
  border-color: ${borderColor};
  background: ${background};
`,getTabThemeStyles=({underlineHeight,background,underlinedTabBackground,underlinedTabInactiveBackground,hoverInactiveBackground,hoverBackground,underlinedTabForeground,underlinedTabInactiveForeground,inactiveUnderlineColor,underlineColor})=>_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
    // active indicator
    &::after {
      height: ${null!=underlineHeight?`${underlineHeight}px`:void 0};
      background-color: ${({selected})=>selected&&inactiveUnderlineColor};
      background-color: ${({selected,active})=>selected&&active&&underlineColor};
    }

    // foreground rules
    color: ${({selected})=>selected&&underlinedTabInactiveForeground};
    color: ${({selected,active})=>selected&&active&&underlinedTabForeground};

    //  background rules
    background: ${background};
    background: ${({selected})=>selected&&underlinedTabInactiveBackground};
    background: ${({selected,active})=>selected&&active&&underlinedTabBackground};

    ${({disabled,active})=>!disabled&&_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
        &:hover,
        &.hover /* for testing purposes */ {
          background: ${hoverInactiveBackground};
          background: ${active&&hoverBackground};
        }
      `}
  `},"./src/Tabs/Tabs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Tabs});var react=__webpack_require__("../../node_modules/react/index.js"),dist_module=__webpack_require__("../../node_modules/@react-aria/tabs/dist/module.js"),utils_dist_module=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),tabs_dist_module=__webpack_require__("../../node_modules/@react-stately/tabs/dist/module.js"),styled=__webpack_require__("./src/styled.ts");const horizontalOverflowIndicatorStyles=styled.iv`
  content: "";
  pointer-events: none;
  position: absolute;
  top: 0;
  bottom: 0;
  width: 10px;
  z-index: 1;
`,StyledHorizontalOverflowShadows=styled.zo.div`
  position: relative; // for overflow indicator (pseudo-)elements to be positioned absolute

  /* FIXME: find out what color, width and gradient parameters are used in the original implementation */
  ${({hasOverflowAtStart})=>hasOverflowAtStart&&styled.iv`
      ::before {
        ${horizontalOverflowIndicatorStyles};
        background: linear-gradient(
          90deg,
          ${({theme})=>theme.commonColors.panelBackground} 0%,
          transparent 100%
        );
        left: 0;
      }
    `};
  ${({hasOverflowAtEnd})=>hasOverflowAtEnd&&styled.iv`
      ::after {
        ${horizontalOverflowIndicatorStyles};
        background: linear-gradient(
          -90deg,
          ${({theme})=>theme.commonColors.panelBackground} 0%,
          transparent 100%
        );
        right: 0;
      }
    `};
`;try{StyledHorizontalOverflowShadows.displayName="StyledHorizontalOverflowShadows",StyledHorizontalOverflowShadows.__docgenInfo={description:"",displayName:"StyledHorizontalOverflowShadows",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},hasOverflowAtStart:{defaultValue:null,description:"",name:"hasOverflowAtStart",required:!0,type:{name:"boolean"}},hasOverflowAtEnd:{defaultValue:null,description:"",name:"hasOverflowAtEnd",required:!0,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/StyledHorizontalOverflowShadows.tsx#StyledHorizontalOverflowShadows"]={docgenInfo:StyledHorizontalOverflowShadows.__docgenInfo,name:"StyledHorizontalOverflowShadows",path:"src/Tabs/StyledHorizontalOverflowShadows.tsx#StyledHorizontalOverflowShadows"})}catch(__react_docgen_typescript_loader_error){}var collections_dist_module=__webpack_require__("../../node_modules/@react-stately/collections/dist/module.js"),MenuTrigger=__webpack_require__("./src/Menu/MenuTrigger.tsx"),Menu=__webpack_require__("./src/Menu/Menu.tsx"),IconButton=__webpack_require__("./src/IconButton/IconButton.tsx"),PlatformIcon=__webpack_require__("./src/Icon/PlatformIcon.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const TabsOverflowMenu=({collection,overflowedKeys,onSelect})=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:overflowedKeys.size>0&&(0,jsx_runtime.jsx)(MenuTrigger.b,{align:"end",renderMenu:({menuProps})=>{const items=[...collection].filter((menuItem=>overflowedKeys.has(menuItem.key)));return(0,jsx_runtime.jsx)(Menu.v2,{...menuProps,onAction:key=>{onSelect(key)},items,children:item=>(0,jsx_runtime.jsx)(collections_dist_module.ck,{textValue:item.textValue,children:item.props.inOverflowMenu||item.textValue},item.key)})},children:(props,ref)=>(0,jsx_runtime.jsx)(IconButton.hU,{...props,ref,children:(0,jsx_runtime.jsx)(PlatformIcon.vq,{icon:"actions/findAndShowNextMatches"})})})});try{TabsOverflowMenu.displayName="TabsOverflowMenu",TabsOverflowMenu.__docgenInfo={description:"",displayName:"TabsOverflowMenu",props:{collection:{defaultValue:null,description:"",name:"collection",required:!0,type:{name:"Collection<Node<T>>"}},overflowedKeys:{defaultValue:null,description:"",name:"overflowedKeys",required:!0,type:{name:"Set<Key>"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(key: Key) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/TabsOverflowMenu.tsx#TabsOverflowMenu"]={docgenInfo:TabsOverflowMenu.__docgenInfo,name:"TabsOverflowMenu",path:"src/Tabs/TabsOverflowMenu.tsx#TabsOverflowMenu"})}catch(__react_docgen_typescript_loader_error){}function useCollectionOverflowObserver(scrollableItemsContainerRef,{threshold=.9}={}){const[intersectionObserver,setIntersectionObserver]=(0,react.useState)(null),[overflowedKeys,setOverflowedKeys]=(0,react.useState)(new Set);return(0,react.useEffect)((()=>{scrollableItemsContainerRef.current?.scrollWidth===scrollableItemsContainerRef.current?.offsetWidth&&overflowedKeys.size>0&&setOverflowedKeys(new Set)})),(0,react.useEffect)((()=>{const observer=new IntersectionObserver((entries=>{const newHiddenKeys=entries.map((entry=>!entry.isIntersecting&&entry.target instanceof HTMLElement?entry.target.dataset.key:void 0)).filter((val=>Boolean(val))),newVisibleKeys=entries.map((entry=>entry.isIntersecting&&entry.target instanceof HTMLElement?entry.target.dataset.key:null)).filter((val=>Boolean(val)));setOverflowedKeys((currentOverflowMenuKeys=>new Set([...currentOverflowMenuKeys].filter((key=>!newVisibleKeys.includes(`${key}`))).concat(newHiddenKeys))))}),{root:scrollableItemsContainerRef.current,rootMargin:"0px",threshold});return setIntersectionObserver(observer),()=>{observer.disconnect()}}),[]),{intersectionObserver,overflowedKeys}}try{useCollectionOverflowObserver.displayName="useCollectionOverflowObserver",useCollectionOverflowObserver.__docgenInfo={description:"Given a ref to a scrollable container of collection items, returns the keys that are not completely visible and\nare off view because of scroll. It relies on data-key property of observed elements.",displayName:"useCollectionOverflowObserver",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/useCollectionOverflowObserver.tsx#useCollectionOverflowObserver"]={docgenInfo:useCollectionOverflowObserver.__docgenInfo,name:"useCollectionOverflowObserver",path:"src/Tabs/useCollectionOverflowObserver.tsx#useCollectionOverflowObserver"})}catch(__react_docgen_typescript_loader_error){}function useIsScrolled({threshold=5,ref}){const[isScrolled,setIsScrolled]=(0,react.useState)({left:!1,right:!1,top:!1,bottom:!1}),update=()=>{const element=ref.current;if(element){const offsetLeft=element.scrollLeft,offsetRight=element.scrollWidth-(element.offsetWidth+element.scrollLeft),offsetTop=element.scrollTop,offsetBottom=element.scrollHeight-(element.offsetHeight+element.scrollTop),newIsScrolled={top:offsetTop>=threshold,bottom:offsetBottom>=threshold,left:offsetLeft>=threshold,right:offsetRight>=threshold};isScrolled.top==isScrolled.top&&isScrolled.bottom===newIsScrolled.bottom&&isScrolled.left===newIsScrolled.left&&isScrolled.right===newIsScrolled.right||setIsScrolled(newIsScrolled)}};return(0,react.useEffect)(update),{scrolledIndicatorProps:{onScroll:update},isScrolled}}try{useIsScrolled.displayName="useIsScrolled",useIsScrolled.__docgenInfo={description:"",displayName:"useIsScrolled",props:{threshold:{defaultValue:{value:"5"},description:"",name:"threshold",required:!1,type:{name:"number"}},ref:{defaultValue:null,description:"",name:"ref",required:!0,type:{name:"RefObject<T>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/useIsScrolled.tsx#useIsScrolled"]={docgenInfo:useIsScrolled.__docgenInfo,name:"useIsScrolled",path:"src/Tabs/useIsScrolled.tsx#useIsScrolled"})}catch(__react_docgen_typescript_loader_error){}var StyledDefaultTabs=__webpack_require__("./src/Tabs/StyledDefaultTabs.ts"),StyledDefaultTab=__webpack_require__("./src/Tabs/StyledDefaultTab.ts");const Tab=({state,item,focusable,active,Component=StyledDefaultTab.z,intersectionObserver})=>{const{key,rendered}=item,ref=react.useRef(null),{tabProps:{tabIndex,...tabProps}}=(0,dist_module.xD)({key},state,ref),isSelected=state.selectedKey===key,isDisabled=state.disabledKeys.has(key);return function useIntersectionObserver(ref,intersectionObserver){(0,react.useEffect)((()=>{const element=ref.current;if(element)return intersectionObserver?.observe(element),()=>{intersectionObserver?.unobserve(element)}}),[intersectionObserver])}(ref,intersectionObserver),(0,jsx_runtime.jsx)(Component,{...tabProps,tabIndex:focusable?tabIndex:void 0,ref,active,selected:isSelected,disabled:isDisabled,children:rendered})};Tab.displayName="Tab";try{Tab.displayName="Tab",Tab.__docgenInfo={description:"",displayName:"Tab",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"TabListState<object>"}},item:{defaultValue:null,description:"",name:"item",required:!0,type:{name:"Node<T>"}},intersectionObserver:{defaultValue:null,description:"",name:"intersectionObserver",required:!0,type:{name:"IntersectionObserver | null"}},focusable:{defaultValue:null,description:"{@see TabsProps#focusable}",name:"focusable",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"{@see TabsProps#active}",name:"active",required:!1,type:{name:"boolean"}},Component:{defaultValue:{value:'styled.div<StyledTabProps>`\n  box-sizing: border-box;\n  display: inline-flex;\n  letter-spacing: 0.015rem;\n  font-size: 0.85rem;\n  cursor: default;\n  white-space: nowrap;\n\n  // spacing\n  padding: 0 0.5rem;\n  line-height: 1.7rem; // vertical spacing handled by line-height\n\n  // disabled state doesn\'t seem to be supported in Intellij Platform at all.\n  opacity: ${({ disabled }) => (disabled ? ".5" : "1")};\n  color: ${({ theme }) =>\n    theme.color(\n      "DefaultTabs.foreground" as UnknownThemeProp<"DefaultTabs.foreground">\n    )};\n\n  position: relative;\n  &::after {\n    content: "";\n    position: absolute;\n    width: 100%;\n    left: 0;\n    bottom: 0;\n  }\n\n  ${defaultTabTheme};\n`'},description:"",name:"Component",required:!1,type:{name:'StyledComponent<"div", Theme<KnownThemePropertyPath>, StyledTabProps, never>'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/Tab.tsx#Tab"]={docgenInfo:Tab.__docgenInfo,name:"Tab",path:"src/Tabs/Tab.tsx#Tab"})}catch(__react_docgen_typescript_loader_error){}const scrollBarDisabledStyle=styled.iv`
  -ms-overflow-style: none; /* for Internet Explorer, Edge */
  scrollbar-width: none; /* for Firefox */
  &::-webkit-scrollbar {
    /* for Chrome/Safari/Webkit */
    display: none;
  }
`,StyledTabList=styled.zo.div`
  display: flex;
  flex-wrap: ${({multiRow})=>multiRow?"wrap":"nowrap"};
  overflow: auto;

  ${scrollBarDisabledStyle};
`,Tabs=({focusable,active,TabComponent,TabsComponent=StyledDefaultTabs.f,multiRow,noOverflowMenu,noScroll,noBorders,...props})=>{const state=(0,tabs_dist_module.p)(props),ref=react.useRef(null),{tabListProps}=(0,dist_module.hp)(props,state,ref),{scrolledIndicatorProps,isScrolled}=useIsScrolled({ref}),{overflowedKeys,intersectionObserver}=useCollectionOverflowObserver(ref);(0,react.useEffect)((()=>{if(!noScroll){const scrollableContainer=ref.current,selectedTabElement=scrollableContainer?.querySelector(`[data-key="${state.selectedKey}"]`);scrollableContainer&&selectedTabElement&&(0,utils_dist_module.zT)(scrollableContainer,selectedTabElement)}}),[state.selectedKey]);if(noScroll)throw new Error("noScroll is not supported yet.");return(0,jsx_runtime.jsxs)(TabsComponent,{noBorders,...(0,utils_dist_module.zL)(props),children:[(0,jsx_runtime.jsx)(StyledHorizontalOverflowShadows,{hasOverflowAtStart:isScrolled.left,hasOverflowAtEnd:isScrolled.right,style:{minWidth:0},children:(0,jsx_runtime.jsx)(StyledTabList,{...(0,utils_dist_module.dG)(tabListProps,scrolledIndicatorProps),multiRow,ref,children:[...state.collection].map((item=>(0,jsx_runtime.jsx)(Tab,{item,state,focusable,active,Component:TabComponent,intersectionObserver},item.key)))})}),!noOverflowMenu&&(0,jsx_runtime.jsx)(TabsOverflowMenu,{collection:state.collection,overflowedKeys,onSelect:key=>{state.setSelectedKey(key)}})]})};Tabs.displayName="Tabs";try{Tabs.displayName="Tabs",Tabs.__docgenInfo={description:"\nTODO: add support for overflow:\n - have vertical scroll also scroll tabs\n - add support for re-reordering tabs.\n - FIX: When a tab that was not selected is removed, selection should not change. It now changes to the tab before the removed one.",displayName:"Tabs",props:{focusable:{defaultValue:{value:"false"},description:"Whether tabs should be focusable or not. By default, following the Intellij Platform implementation, tabs are\nnot focusable and therefore lack the keyboard accessibility support specified in WAI-ARIA.\nYou can change this default behaviour and make the tabs keyboard accessible by passing `focusable`.\nfocus styles are not perfect at the moment, since it's not considered an important feature.",name:"focusable",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:'Enables "active" style on tabs. Is usually related to a container having focus.',name:"active",required:!1,type:{name:"boolean"}},multiRow:{defaultValue:{value:"false"},description:"If set to true, tabs will be wrapped into multiple rows if needed.\nNOTE: In the original implementation, in multi row mode, rows are separated by a border. It's not easy to achieve\nthis when we are implementing this feature with a simple `flex-wrap: wrap` css rule. It doesn't seem that\nimportant, but we can achieve something similar by some css tricks like the ones suggested here:\nhttps://stackoverflow.com/questions/36128333/row-lines-for-flex-container-css",name:"multiRow",required:!1,type:{name:"boolean"}},noScroll:{defaultValue:{value:"false"},description:"Only effective when {@link multiRow } is not true.\nIf set to true and multiRow is not true, it will prevent horizontal scroll of tabs. Depending on the value of\nIn this case:\n- if {@link noOverflowMenu } is not set to true, tabs that can't be fitted into the available space will be\n  accessible via an overflow menu.\n- if {@link noOverflowMenu } is set to true, the tabs will be fitted into the available space, and they will\n  be shrunk when needed.\n@todo : not implemented yet.",name:"noScroll",required:!1,type:{name:"boolean"}},noOverflowMenu:{defaultValue:null,description:"Only effective when {@link multiRow } is not true.\nWhen set to true, tabs that couldn't be fitted into the available space, are either shrunk (if {@link noScroll }\nis set to true), or are just accessible by scroll.",name:"noOverflowMenu",required:!1,type:{name:"boolean"}},noBorders:{defaultValue:{value:"false"},description:"Removes the top and bottom border when passed.\nIt's still not clear whether such option makes sense or not, but\nat least in common use cases like in tool windows, it seems borders are already there and there should be a way\nof removing tab borders. On the other hand, when Tabs is used without any assumption about the surrounding UI,\nit kind of makes sense to have the top and bottom borders by default. So that's why this is made an option for\nnow, maybe until things are clearer.",name:"noBorders",required:!1,type:{name:"boolean"}},TabsComponent:{defaultValue:{value:'styled.div<{ noBorders?: boolean }>`\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  border-style: solid;\n  border-width: ${({ noBorders }) => (noBorders ? "0" : "1px 0")};\n\n  ${defaultTabsTheme};\n`'},description:"",name:"TabsComponent",required:!1,type:{name:'StyledComponent<"div", Theme<KnownThemePropertyPath>, { noBorders?: boolean; }, never>'}},TabComponent:{defaultValue:null,description:"",name:"TabComponent",required:!1,type:{name:'StyledComponent<"div", Theme<KnownThemePropertyPath>, StyledTabProps, never>'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/Tabs.tsx#Tabs"]={docgenInfo:Tabs.__docgenInfo,name:"Tabs",path:"src/Tabs/Tabs.tsx#Tabs"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/FocusScope.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>FocusScope});var _react_aria_focus__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const FocusScope=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function BetterFocusScope({children,forceRestoreFocus,...otherProps},ref){const directChildRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),focusManagerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return function useForceRestoreFocus(restoreFocus){(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{let nodeToRestore=document.activeElement;return()=>{restoreFocus&&nodeToRestore&&requestAnimationFrame((()=>{document.body.contains(nodeToRestore)&&(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.ex)(nodeToRestore)}))}}),[restoreFocus])}(forceRestoreFocus),(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>({focus:forceFocusFirst=>{const focusManager=focusManagerRef.current,containerElement=directChildRef.current?.parentElement;if(!focusManager)throw new Error("focus manager not found!");if(!containerElement)throw new Error("container element not found");if(forceFocusFirst)return focusManager.focusFirst();document.activeElement&&document.activeElement!==containerElement&&containerElement.contains(document.activeElement)||focusManager.focusNext({tabbable:!0})}})),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.MT,{...otherProps,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(GetFocusManager,{ref:focusManagerRef}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{"data-focus-root-direct-child":"",hidden:!0,ref:directChildRef}),children]})})),GetFocusManager=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function FocusScopeHandle(props,ref){const focusManager=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.bO)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>focusManager),[focusManager]),null}));try{FocusScope.displayName="FocusScope",FocusScope.__docgenInfo={description:"A version of FocusScope which also allows for imperatively moving focus to the scope.\nand has tiny patches/improvements\nIt's useful for",displayName:"FocusScope",props:{forceRestoreFocus:{defaultValue:null,description:"",name:"forceRestoreFocus",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/FocusScope.tsx#FocusScope"]={docgenInfo:FocusScope.__docgenInfo,name:"FocusScope",path:"src/utils/FocusScope.tsx#FocusScope"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=5935.08406636.iframe.bundle.js.map