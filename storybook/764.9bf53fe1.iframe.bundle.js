"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[764],{"./src/Collections/ItemStateContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ItemStateContext});const ItemStateContext=__webpack_require__("../../node_modules/react/index.js").createContext(null)},"./src/Icon/LafIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>LafIcon});var _intellij_platform_core_utils_useForwardedRef__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/useForwardedRef.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Icon/StyledIconWrapper.tsx"),_useSvgIcon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Icon/useSvgIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ICONS_DIR_PREFIX="com/intellij/ide/ui/laf/icons/";function useIconPath(iconDescriptor,themePath){const theme=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Fg)(),resolvedValue=themePath&&theme.value(themePath);if(resolvedValue)return resolvedValue;const{modifiers={},name}="string"==typeof iconDescriptor?{name:iconDescriptor}:iconDescriptor;return function findIconPath(theme,name,modifiers={}){return`${ICONS_DIR_PREFIX}${theme.isUnderDarcula()?"darcula/":"intellij/"}${name}${["Editable","Selected","Pressed","Focused","Disabled"].filter((modifier=>!modifiers.Disabled||!["Focused","Pressed"].includes(modifier))).reduce(((soFar,modifier)=>soFar+(modifiers[modifier]?modifier:"")),"")}.svg`}(theme,name,modifiers)}const LafIcon=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({themePath,icon,size,...props},forwardedRef)=>{const resolvedIconPath=useIconPath(icon,themePath),ref=(0,_intellij_platform_core_utils_useForwardedRef__WEBPACK_IMPORTED_MODULE_3__.Z)(forwardedRef);return(0,_useSvgIcon__WEBPACK_IMPORTED_MODULE_4__.Z)({path:`platform/platform-impl/src/${resolvedIconPath}`},ref),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_5__.M,{...props,ref,size})}));try{LafIcon.displayName="LafIcon",LafIcon.__docgenInfo={description:"",displayName:"LafIcon",props:{icon:{defaultValue:null,description:"Icon which will be resolved against the default icon location based on theme type",name:"icon",required:!0,type:{name:"string | { name: string; modifiers: IconModifiers; }"}},themePath:{defaultValue:null,description:"A theme key that can optionally override the icon.",name:"themePath",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Additional node going into the icon wrapper. Such as indicators.",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Icon/LafIcon.tsx#LafIcon"]={docgenInfo:LafIcon.__docgenInfo,name:"LafIcon",path:"src/Icon/LafIcon.tsx#LafIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/Icon/PlatformIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{qb:()=>amendName,vq:()=>PlatformIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_utils_useForwardedRef__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/useForwardedRef.ts"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/styled.ts"),_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Icon/StyledIconWrapper.tsx"),_useSvgIcon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Icon/useSvgIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const amendName=(iconNameOrPath,amendment)=>{const[name,ext]=iconNameOrPath.split(".");return`${name}${amendment}${ext?`.${ext}`:""}`},getPlatformIconPath=relativePath=>relativePath.startsWith("/")?relativePath.slice(1):`platform/icons/src/${relativePath}`,PlatformIcon=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({icon,darkIcon,...props},forwardedRef)=>{const ref=(0,_intellij_platform_core_utils_useForwardedRef__WEBPACK_IMPORTED_MODULE_2__.Z)(forwardedRef),iconName=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_3__.Fg)().dark?((path,darkPath)=>{const[name,ext]=path.split(".");return darkPath||`${name}_dark${ext?`.${ext}`:""}`})(icon,darkIcon):icon;return(0,_useSvgIcon__WEBPACK_IMPORTED_MODULE_4__.Z)({path:getPlatformIconPath(iconName),fallbackPath:getPlatformIconPath(icon)},ref),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_5__.M,{...props,ref})}));try{PlatformIcon.displayName="PlatformIcon",PlatformIcon.__docgenInfo={description:"Renders an icon from the predefined list of platform icons.\nicon name must follow the directory structure in platform icons.",displayName:"PlatformIcon",props:{icon:{defaultValue:null,description:'Icon path in intellij platform repo.\nIf starts with "/", the path will be from the repo root. Otherwise, it\'s relative to "platform/icons/src".\n".svg" extension is optional.',name:"icon",required:!0,type:{name:"string"}},darkIcon:{defaultValue:null,description:"Similar to icon, but for dark themes.",name:"darkIcon",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Additional node going into the icon wrapper. Such as indicators.",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Icon/PlatformIcon.tsx#PlatformIcon"]={docgenInfo:PlatformIcon.__docgenInfo,name:"PlatformIcon",path:"src/Icon/PlatformIcon.tsx#PlatformIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/Icon/StyledIconWrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>StyledIconWrapper});var _styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts");const StyledIconWrapper=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.span`
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
  width: ${({size=16})=>`${size}px`};
  height: ${({size=16})=>`${size}px`};
  position: relative; // to allow absolute positioned indicators and overlays on icon
  cursor: ${({role})=>"button"===role?"pointer":void 0};
`;try{StyledIconWrapper.displayName="StyledIconWrapper",StyledIconWrapper.__docgenInfo={description:"",displayName:"StyledIconWrapper",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},useCurrentColor:{defaultValue:null,description:"",name:"useCurrentColor",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Icon/StyledIconWrapper.tsx#StyledIconWrapper"]={docgenInfo:StyledIconWrapper.__docgenInfo,name:"StyledIconWrapper",path:"src/Icon/StyledIconWrapper.tsx#StyledIconWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./src/Icon/useSvgIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useSvgIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Collections/ItemStateContext.tsx");function useSvgIcon({path,fallbackPath},ref){const theme=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__.Fg)(),itemState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_2__.k),selected=itemState?.isSelected||itemState?.isContainerFocused;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let unmounted=!1;return(async()=>{if(!path)return void console.error("icon path is empty");ref.current&&(ref.current.ariaBusy="true");const svg=await theme.getSvgIcon(path,selected).catch((e=>{if(fallbackPath)return theme.getSvgIcon(fallbackPath,selected);throw e}));if(svg){const element=ref?.current;if(!unmounted&&element){element.querySelector("svg")?.remove();const svgElement=document.createElement("svg");element.appendChild(svgElement),svgElement.outerHTML=function makeIdsUnique(svg){const randomPostfix=(1e3*Math.random()).toFixed(0),idMatches=svg.matchAll(/id="(.*?)"/g);return[...idMatches].reduce(((modifiedSvg,[_,id])=>{const newId=`${id}-${randomPostfix}`;return replaceAll(`id="${id}"`,`id="${newId}"`,replaceAll(`url(#${id})`,`url(#${newId})`,modifiedSvg))}),svg)}(svg),element.ariaBusy="false"}}else console.error("Could not resolve icon:",path)})().catch(console.error),()=>{unmounted=!0}}),[path,selected])}function replaceAll(theOld,theNew,str){const replaced=str.replace(theOld,theNew),replacedAgain=replaced.replace(theOld,theNew);return replaced===replacedAgain?replaced:replaceAll(theOld,theNew,replacedAgain)}},"./src/Tree/useTreeState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>useTreeState});var react=__webpack_require__("../../node_modules/react/index.js"),useLatest=__webpack_require__("./src/utils/useLatest.ts");function useTreeRef(props,forwardedRef){const latestState=(0,useLatest.d)(props);(0,react.useImperativeHandle)(forwardedRef,(()=>({replaceSelection:key=>{latestState.current.selectionManager.replaceSelection(key)},focus:key=>{const selectionManager=latestState.current.selectionManager;selectionManager.setFocused(!0),selectionManager.setFocusedKey(null),setTimeout((()=>{selectionManager.setFocusedKey(key)}))},expandSelection(){latestState.current.selectionManager.expandSelection()},shrinkSelection(){latestState.current.selectionManager.shrinkSelection()},expandAll(){latestState.current.setExpandedKeys(latestState.current.tree.getAllExpandableKeys())},collapseAll(){const{tree,setExpandedKeys,selectionManager}=latestState.current,focusedKey=selectionManager.focusedKey;if(setExpandedKeys(new Set),focusedKey&&!tree.rootKeys.includes(focusedKey)){let item=tree.getItem(focusedKey);for(;null!=item?.parentKey;)item=tree.getItem(item.parentKey);item&&(selectionManager.setFocusedKey(item.key),selectionManager.isSelected(focusedKey)&&selectionManager.select(item.key))}}})),[])}try{useTreeRef.displayName="useTreeRef",useTreeRef.__docgenInfo={description:"Sets up a tree ref for imperatively working with tree from outside. For imperatively focusing, expanding to\nspecific key, etc.",displayName:"useTreeRef",props:{tree:{defaultValue:null,description:"",name:"tree",required:!0,type:{name:"TreeCollection<T>"}},selectionManager:{defaultValue:null,description:"",name:"selectionManager",required:!0,type:{name:"TreeSelectionManager"}},setExpandedKeys:{defaultValue:null,description:"",name:"setExpandedKeys",required:!0,type:{name:"(keys: Set<Key>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tree/useTreeRef.tsx#useTreeRef"]={docgenInfo:useTreeRef.__docgenInfo,name:"useTreeRef",path:"src/Tree/useTreeRef.tsx#useTreeRef"})}catch(__react_docgen_typescript_loader_error){}var dist_module=__webpack_require__("../../node_modules/@react-stately/selection/dist/module.js"),collections_dist_module=__webpack_require__("../../node_modules/@react-stately/collections/dist/module.js"),utils_dist_module=__webpack_require__("../../node_modules/@react-stately/utils/dist/module.js"),usePrevious=__webpack_require__("./src/utils/usePrevious.ts");const useCollectionCacheInvalidation=({cacheInvalidation})=>{const invalidators="object"==typeof cacheInvalidation?cacheInvalidation.invalidators:[],lastInvalidators=(0,usePrevious.D)(invalidators);return{invalidated:"object"==typeof cacheInvalidation?cacheInvalidation.invalidators.length!==lastInvalidators.length||cacheInvalidation.invalidators.some(((anInvalidator,index)=>anInvalidator!==lastInvalidators[index])):cacheInvalidation}};let _Symbol$iterator;function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}_Symbol$iterator=Symbol.iterator;class _copied_TreeCollection_TreeCollection{constructor(nodes,{expandedKeys}={}){_defineProperty(this,"keyMap",new Map),_defineProperty(this,"iterable",void 0),_defineProperty(this,"firstKey",void 0),_defineProperty(this,"lastKey",void 0),this.iterable=nodes,expandedKeys=expandedKeys||new Set;let last,visit=node=>{if(this.keyMap.set(node.key,node),node.childNodes&&("section"===node.type||expandedKeys.has(node.key)))for(let child of node.childNodes)visit(child)};for(let node of nodes)visit(node);let index=0;for(let[key,node]of this.keyMap)last?(last.nextKey=key,node.prevKey=last.key):(this.firstKey=key,node.prevKey=void 0),"item"===node.type&&(node.index=index++),last=node,last.nextKey=void 0;this.lastKey=last?.key}*[_Symbol$iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(key){let node=this.keyMap.get(key);return node?node.prevKey:null}getKeyAfter(key){let node=this.keyMap.get(key);return node?node.nextKey:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(key){return this.keyMap.get(key)}at(idx){const keys=[...this.getKeys()];return this.getItem(keys[idx])}}function getSingleChildrenKeys(node){return getSingleChildrenKeysRecursive(node,[])}function getSingleChildrenKeysRecursive(node,previousKeys){if(!node)return[];const childNodesIterator=node.childNodes[Symbol.iterator](),{value:firstChild,done}=childNodesIterator.next(),noMoreChildren=done||null==childNodesIterator.next().value;return null!=firstChild&&noMoreChildren&&isExpandable(firstChild)?getSingleChildrenKeysRecursive(firstChild,previousKeys.concat(firstChild.key)):previousKeys}const isExpandable=node=>node.hasChildNodes||!function isEmptyIterable(iterable){for(const _ of iterable||[])return!1;return!0}(node.childNodes);function TreeSelectionManager_defineProperty(obj,key,value){return(key=function TreeSelectionManager_toPropertyKey(arg){var key=function TreeSelectionManager_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class TreeSelectionManager extends dist_module.Z{constructor(collection,state,options){super(collection,state,options),TreeSelectionManager_defineProperty(this,"collection",void 0),this.collection=collection}expandSelection(){if(this.focusedKey){const node=this.collection.getItem(this.focusedKey),{expandKeys}=this.getExpandAndShrinkKeys(node);expandKeys.length>0&&this.setSelectedKeys([...this.selectedKeys,...expandKeys])}}shrinkSelection(){if(this.focusedKey){const node=this.collection.getItem(this.focusedKey),{shrinkKeys}=this.getExpandAndShrinkKeys(node);shrinkKeys.length>0&&this.setSelectedKeys([...this.selectedKeys].filter((key=>!shrinkKeys.includes(key))))}}getExpandAndShrinkKeys(node){return this.recursivelyGetExpandAndShrinkKeys(node,[...this.collection.getKeys()],null)}recursivelyGetExpandAndShrinkKeys(node,keys,previousChild){const parent=node&&node.parentKey?this.collection.getItem(node.parentKey):null,newKeys=keys.filter((key=>key!==previousChild)),parentDescendants=parent?getAllDescendants(parent,newKeys).map((({key})=>key)):this.getAllRoots().flatMap((key=>key!==node.key?getAllDescendants(this.collection.getItem(key),newKeys).map((({key})=>key)).concat(key):[]));if(parent&&parentDescendants.every((key=>this.isSelected(key))))return this.recursivelyGetExpandAndShrinkKeys(parent,keys,node.key);const descendants=getAllDescendants(node,keys.filter((key=>key!==previousChild))).map((({key})=>key));return{expandKeys:descendants.some((key=>!this.isSelected(key)))?descendants:this.isSelected(node.key)?parentDescendants:[node.key],shrinkKeys:parentDescendants.length>0&&parentDescendants.every((key=>this.isSelected(key)))?parentDescendants:this.isSelected(node.key)&&previousChild?[node.key]:descendants.filter((key=>this.isSelected(key)))}}getAllRoots(){return[...this.collection.getKeys()].filter((key=>null==this.collection.getItem(key).parentKey))}}function getAllDescendants(node,stopKeys){const childNodes=(node.hasChildNodes?[...node.childNodes]:[]).filter((node=>stopKeys.includes(node.key)));return node.hasChildNodes?childNodes.concat(childNodes.map((node=>getAllDescendants(node,stopKeys))).flat()):[]}var array_utils=__webpack_require__("./src/utils/array-utils.ts");function useTreeState_defineProperty(obj,key,value){return(key=function useTreeState_toPropertyKey(arg){var key=function useTreeState_toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class TreeCollection extends _copied_TreeCollection_TreeCollection{constructor(nodes,{expandedKeys}){super(nodes,{expandedKeys}),useTreeState_defineProperty(this,"rootKeys",void 0),this.rootKeys=Array.from(nodes).map((({key})=>key))}getAllExpandableKeys(){const rootNodes=this.rootKeys.map((key=>this.getItem(key))).filter(array_utils.N);return this.recursivelyAddExpandableKeys(rootNodes,new Set)}recursivelyAddExpandableKeys(nodes,result){for(const node of nodes)node?.hasChildNodes&&(result.add(node.key),this.recursivelyAddExpandableKeys(node.childNodes,result));return result}}function useTreeState({childExpansionBehaviour="multi",...props},treeRef){let[expandedKeys,setExpandedKeys]=(0,utils_dist_module.zk)(props.expandedKeys?new Set(props.expandedKeys):void 0,props.defaultExpandedKeys?new Set(props.defaultExpandedKeys):new Set,props.onExpandedChange),selectionState=(0,dist_module.q)({...props,selectionBehavior:"replace"}),disabledKeys=(0,react.useMemo)((()=>props.disabledKeys?new Set(props.disabledKeys):new Set),[props.disabledKeys]);const context=useCollectionCacheInvalidation(props);let tree=(0,collections_dist_module.Kx)(props,(nodes=>new TreeCollection(nodes,{expandedKeys})),context,[expandedKeys]);const selectionManager=new TreeSelectionManager(tree,selectionState);useTreeRef({selectionManager,setExpandedKeys,tree},treeRef),(0,react.useEffect)((()=>{null==selectionState.focusedKey||tree.getItem(selectionState.focusedKey)||selectionState.setFocusedKey(null)}),[tree,selectionState.focusedKey]);return{collection:tree,expandedKeys,disabledKeys,toggleKey:key=>{let newExpandedKeys=toggleTreeNode(tree,expandedKeys,key);if("single"===childExpansionBehaviour){const expandedSiblings=function getSiblings(tree,key){const parentKey=tree.getItem(key)?.parentKey;if(!parentKey)return[...tree.rootKeys].concat(getRootItemKeys(tree));let parent=parentKey?tree.getItem(parentKey):null;if("item"===parent?.type)return getChildItems(parent).map((({key})=>key));const siblings=[];for(;parent;)siblings.push(...getChildItems(parent).map((({key})=>key))),"section"===parent.type?parent.parentKey?parent=tree.getItem(parent.parentKey):(siblings.push(...getRootItemKeys(tree)),parent=null):parent=null;return Array.from(new Set(siblings))}(tree,key).filter((aKey=>aKey!==key&&expandedKeys.has(aKey)));newExpandedKeys=expandedSiblings.reduce(((expandedKeys,expandedKey)=>toggleTreeNode(tree,expandedKeys,expandedKey)),newExpandedKeys)}setExpandedKeys(newExpandedKeys)},selectionManager}}function getChildItems(node){const childNodes=[...node.childNodes||[]],childItems=childNodes.filter((({type})=>"item"===type)),sectionItems=childNodes.filter((({type})=>"section"===type));return childItems.concat(sectionItems.flatMap(getChildItems))}function getRootItemKeys(tree){return tree.rootKeys.map((key=>tree.getItem(key))).filter(array_utils.N).flatMap(getChildItems).map((({key})=>key))}function toggleTreeNode(tree,expandedKeys,key){if(!expandedKeys.has(key)&&!tree.getItem(key).hasChildNodes)return expandedKeys;const newKeys=function toggleKey(set,key){let res=new Set(set);res.has(key)?res.delete(key):res.add(key);return res}(expandedKeys,key);for(const aKey of newKeys)null==tree.getItem(aKey)&&newKeys.delete(aKey);if(newKeys.has(key))for(const aKey of getSingleChildrenKeys(tree.getItem(key)))newKeys.add(aKey);return newKeys}},"./src/styled.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fg:()=>useTheme,iv:()=>css,zo:()=>styled});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const styled=styled_components__WEBPACK_IMPORTED_MODULE_0__.ZP,useTheme=styled_components__WEBPACK_IMPORTED_MODULE_0__.Fg,css=styled_components__WEBPACK_IMPORTED_MODULE_0__.iv;styled_components__WEBPACK_IMPORTED_MODULE_0__.Sf},"./src/utils/array-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>notNull});const notNull=item=>null!=item},"./src/utils/useForwardedRef.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>useForwardedRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function useForwardedRef(forwardedRef){const innerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{forwardedRef&&("function"==typeof forwardedRef?forwardedRef(innerRef.current):forwardedRef.current=innerRef.current)})),innerRef}},"./src/utils/useLatest.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>useLatest});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function useLatest(value){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{ref.current=value})),ref}},"./src/utils/usePrevious.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function usePrevious(value){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{ref.current=value}),[value]),ref.current}}}]);
//# sourceMappingURL=764.9bf53fe1.iframe.bundle.js.map