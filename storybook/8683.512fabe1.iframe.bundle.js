"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[8683],{"./src/IconButton/IconButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hU:()=>IconButton});var _react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledIconButton=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.button`
  position: relative; // to allow absolutely positioned overlays like an dropdown icon at the bottom right corner
  background: none;
  color: inherit;
  border: 1px solid transparent;
  border-radius: 3px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: ${({minSize})=>`${minSize}px`};
  min-width: ${({minSize})=>`${minSize}px`};
  padding: 0;
  margin: 0;
  &:disabled {
    opacity: 0.25; // not quite accurate implementation. There might be better ways to style disabled state.
  }
  &:hover:not(:disabled) {
    background: ${({theme})=>theme.color("ActionButton.hoverBackground","#DFDFDF")};
    border-color: ${({theme})=>theme.color("ActionButton.hoverBorderColor","#DFDFDF")};
  }
  &:focus-visible:not(:disabled) {
    outline: none;
    background: ${({theme})=>theme.color("ActionButton.pressedBackground","#CFCFCF")};
    border-color: ${({theme})=>theme.color("ActionButton.focusedBorderColor",theme.dark?"#5eacd0":"#62b8de")};
  }
  &:active:not(:disabled),
  &.active:not(:disabled) {
    background: ${({theme})=>theme.color("ActionButton.pressedBackground","#CFCFCF")};
    border-color: ${({theme})=>theme.color("ActionButton.pressedBorderColor","#CFCFCF")};
  }
`,IconButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function IconButton({minSize=22,preventFocusOnPress=!0,excludeFromTabOrder=!0,isPressed:isPressedInput,isDisabled,onPress,onPressChange,onPressEnd,onPressStart,onPressUp,shouldCancelOnPointerExit,...otherProps},forwardedRef){const ref=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__.B3)(forwardedRef),{focusableProps}=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_4__.kc)({isDisabled},ref),{pressProps,isPressed}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__.r7)({ref,isPressed:isPressedInput,isDisabled,onPress,onPressChange,onPressEnd,onPressStart,onPressUp,shouldCancelOnPointerExit,preventFocusOnPress});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledIconButton,{className:isPressed?"active":"",disabled:isDisabled,...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__.dG)(pressProps,otherProps,focusableProps),minSize,tabIndex:excludeFromTabOrder&&!isDisabled?-1:void 0,ref})}));try{StyledIconButton.displayName="StyledIconButton",StyledIconButton.__docgenInfo={description:"",displayName:"StyledIconButton",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},minSize:{defaultValue:{value:"22"},description:"",name:"minSize",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/IconButton/IconButton.tsx#StyledIconButton"]={docgenInfo:StyledIconButton.__docgenInfo,name:"StyledIconButton",path:"src/IconButton/IconButton.tsx#StyledIconButton"})}catch(__react_docgen_typescript_loader_error){}try{IconButton.displayName="IconButton",IconButton.__docgenInfo={description:"Icon button, aka Action Button, in the reference implementation.",displayName:"IconButton",props:{minSize:{defaultValue:{value:"22"},description:"The minimum width/height of the button.",name:"minSize",required:!1,type:{name:"number"}},excludeFromTabOrder:{defaultValue:{value:"true"},description:"Whether the button should be focusable by pressing tab. The default is true for icon buttons (aka. action buttons),\nwhich means they are not included in the tab order.",name:"excludeFromTabOrder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/IconButton/IconButton.tsx#IconButton"]={docgenInfo:IconButton.__docgenInfo,name:"IconButton",path:"src/IconButton/IconButton.tsx#IconButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/Popup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GI:()=>Popup,eE:()=>StyledPopupContainer});var react=__webpack_require__("../../node_modules/react/index.js"),dist_module=__webpack_require__("../../node_modules/@react-aria/interactions/dist/module.js"),focus_dist_module=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),overlays_dist_module=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),utils_dist_module=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),pipe=__webpack_require__("../../node_modules/ramda/es/pipe.js"),useResizableMovableOverlay=__webpack_require__("./src/Overlay/useResizableMovableOverlay.tsx"),bounds_helpers=__webpack_require__("./src/Overlay/bounds-helpers.tsx"),OverlayInteractionHandler=__webpack_require__("./src/Overlay/OverlayInteractionHandler.tsx"),OverlayResizeHandles=__webpack_require__("./src/Overlay/OverlayResizeHandles.tsx"),styled=__webpack_require__("./src/styled.ts"),style_constants=__webpack_require__("./src/style-constants.ts"),Overlay=__webpack_require__("./src/Overlay/Overlay.tsx"),filter=__webpack_require__("../../node_modules/ramda/es/filter.js");const mergeNonNullProps=(...propsArray)=>(0,utils_dist_module.dG)(...propsArray.map((props=>(0,filter.Z)((value=>null!=value),props))));try{mergeNonNullProps.displayName="mergeNonNullProps",mergeNonNullProps.__docgenInfo={description:"Like mergeProps, but doesn't merge props where value is null or undefined. That's needed because useFocusable (and\nmaybe some other react-aria hooks as well) return props like onFocus, with value set to null or undefined, which\noverrides the same prop from other sources.",displayName:"mergeNonNullProps",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/mergeNonNullProps.tsx#mergeNonNullProps"]={docgenInfo:mergeNonNullProps.__docgenInfo,name:"mergeNonNullProps",path:"src/utils/mergeNonNullProps.tsx#mergeNonNullProps"})}catch(__react_docgen_typescript_loader_error){}var useFocusForwarder=__webpack_require__("./src/utils/useFocusForwarder.ts");var PopupHeader=__webpack_require__("./src/Popup/PopupHeader.tsx"),PopupContext=__webpack_require__("./src/Popup/PopupContext.tsx"),PopupLayout=__webpack_require__("./src/Popup/PopupLayout.tsx"),StyledPopupHint=__webpack_require__("./src/Popup/StyledPopupHint.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledPopupContainer=styled.zo.div`
  position: fixed;
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${({theme})=>theme.color("*.background")};
  color: ${({theme})=>theme.color("*.foreground")};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${style_constants.s}; // FIXME: OS-dependant style?
`,StyledInnerContainer=styled.zo.div`
  height: inherit;
  overflow: hidden;
`,_Popup=({interactions="move",nonDismissable=!1,allowScroll="auto",minWidth=50,minHeight=50,positioning:positioningProp,onClose:onCloseProp,...props},forwardedRef)=>{const propsContext=(0,react.useContext)(PopupContext.V),positioning=positioningProp||propsContext.positioning,onClose=()=>{onCloseProp?.(),propsContext.onClose?.()},ref=(0,utils_dist_module.B3)(forwardedRef),shouldCloseOnInteractOutside=element=>!positioning?.targetRef.current?.contains(element)&&!(0,Overlay.Z)(ref.current,element),{overlayProps}=(0,overlays_dist_module.Ir)({isOpen:!0,onClose,shouldCloseOnBlur:!nonDismissable,shouldCloseOnInteractOutside},ref);(0,dist_module.Fc)({ref,onInteractOutsideStart:e=>{ref.current?.contains(document.activeElement)||nonDismissable||!shouldCloseOnInteractOutside(e.target)||onClose()},onInteractOutside:()=>{}}),(0,overlays_dist_module.tk)({isDisabled:"auto"===allowScroll?!positioning:allowScroll});const{bounds,positioned,overlayInteractionHandlerProps}=(0,useResizableMovableOverlay.t)(ref,{...props,minWidth,minHeight,observeContentResize:!0}),positionedBounds=positioning?.targetRef.current&&!positioned?(0,pipe.Z)((0,bounds_helpers.FK)({targetElement:positioning.targetRef.current,placement:positioning.placement}),bounds_helpers.fw)(bounds):bounds,[isActive,setActive]=(0,react.useState)(!1),{focusWithinProps}=(0,dist_module.L_)({onFocusWithinChange:setActive}),{focusableProps}=(0,focus_dist_module.kc)({excludeFromTabOrder:!0},ref),{focusForwarderProps}=(0,useFocusForwarder.e)(),{dialogProps,titleProps}=function useDialog(props,ref){let{role="dialog"}=props,titleId=(0,utils_dist_module.mp)();return titleId=props["aria-label"]?void 0:titleId,(0,react.useEffect)((()=>{ref.current&&!ref.current.contains(document.activeElement)&&(0,focus_dist_module.ex)(ref.current)}),[ref]),(0,overlays_dist_module.Bq)(),{dialogProps:{...(0,utils_dist_module.zL)(props,{labelable:!0}),role,tabIndex:-1,"aria-labelledby":props["aria-labelledby"]||titleId},titleProps:{id:titleId}}}(props,ref),zIndex=isActive?1:0;return(0,jsx_runtime.jsx)(Overlay.a,{children:(0,jsx_runtime.jsx)(OverlayInteractionHandler.Z,{...overlayInteractionHandlerProps,children:(0,jsx_runtime.jsx)(focus_dist_module.MT,{restoreFocus:!0,children:(0,jsx_runtime.jsx)(StyledPopupContainer,{ref,style:{...positionedBounds,zIndex},tabIndex:-1,...mergeNonNullProps(focusWithinProps,focusableProps,focusForwarderProps,overlayProps,propsContext.overlayProps||{},dialogProps,(0,utils_dist_module.zL)(props)),children:(0,jsx_runtime.jsxs)(PopupContext.t.Provider,{value:{isActive,movable:"none"!==interactions,titleProps},children:[(0,jsx_runtime.jsx)(StyledInnerContainer,{children:props.children}),"all"===interactions&&(0,jsx_runtime.jsx)(OverlayResizeHandles.S,{})]})})})})})};_Popup.displayName="_Popup";const Popup=Object.assign(react.forwardRef(_Popup),{Header:PopupHeader.C,Layout:PopupLayout.F,Hint:StyledPopupHint.X});try{StyledPopupContainer.displayName="StyledPopupContainer",StyledPopupContainer.__docgenInfo={description:"",displayName:"StyledPopupContainer",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/Popup.tsx#StyledPopupContainer"]={docgenInfo:StyledPopupContainer.__docgenInfo,name:"StyledPopupContainer",path:"src/Popup/Popup.tsx#StyledPopupContainer"})}catch(__react_docgen_typescript_loader_error){}try{_Popup.displayName="_Popup",_Popup.__docgenInfo={description:"[Popup](https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-%28Community%29?node-id=75426%3A16881&t=vzpRGV2y2cDw5a6Z-0)\ncomponent, rendered as a draggable overlay which is positioned either in the center of the viewport or relative to a trigger element.\nIf there is a trigger element, use {@link PopupTrigger } instead.",displayName:"_Popup",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/Popup.tsx#_Popup"]={docgenInfo:_Popup.__docgenInfo,name:"_Popup",path:"src/Popup/Popup.tsx#_Popup"})}catch(__react_docgen_typescript_loader_error){}try{Popup.displayName="Popup",Popup.__docgenInfo={description:"",displayName:"Popup",props:{onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},nonDismissable:{defaultValue:{value:"false"},description:"",name:"nonDismissable",required:!1,type:{name:"boolean"}},allowScroll:{defaultValue:{value:"auto"},description:"By default, Popup prevents scrolling on the scrollable ancestor, if popup is positioned relative to a target\nelement. Allowing or disallowing scroll can be forced by passing boolean value.",name:"allowScroll",required:!1,type:{name:'boolean | "auto"'}},positioning:{defaultValue:null,description:"Used to position the popup relative to a target element, if there is no positioning information in the input\n`bounds`/`defaultBounds`.",name:"positioning",required:!1,type:{name:'{ targetRef: RefObject<HTMLElement>; placement?: "bottom" | "top"; }'}},onBoundsChange:{defaultValue:null,description:"",name:"onBoundsChange",required:!1,type:{name:'((bounds: Bounds, interactionType: "move" | "resize") => void)'}},onBoundsChanging:{defaultValue:null,description:"For performance reason, overlay bounds is kept in a local state during a resize or move interaction, and\n`onBoundsChange` is called once at the end of interaction. `onBoundsChanging` gives a chance of rectifying\nbounds changes during an interaction to for example apply custom size/placement constraints.",name:"onBoundsChanging",required:!1,type:{name:'((newBounds: Bounds, interactionType: "move" | "resize") => Bounds)'}},bounds:{defaultValue:null,description:"Controlled bounds. Can be a partially specified bounds.\n- If `top` not specified, the returned bounds will be centered vertically.\n- If `left` not specified, the returned bounds will be centered horizontally.\n- If `width` not specified, the width of the bounds will be based on content width.\n- If `height` not specified, the height of the bounds will be based on content height.\nNote that regardless of `bounds`, `onBoundsChange` always receives a full `bounds` object which is solely\nbased on the bounds of the overlay, at the end of an interaction.",name:"bounds",required:!1,type:{name:"Partial<Bounds>"}},defaultBounds:{defaultValue:null,description:"Default bounds in uncontrolled mode. Can be a partially specified bounds.\n- If `top` not specified, the returned bounds will be centered vertically.\n- If `left` not specified, the returned bounds will be centered horizontally.\n- If `width` not specified, the width of the bounds will be based on content width.\n- If `height` not specified, the height of the bounds will be based on content height.\nNote that regardless of `defaultBounds`, `onBoundsChange` always receives a full `bounds` object which is solely\nbased on the bounds of the overlay, at the end of an interaction.",name:"defaultBounds",required:!1,type:{name:"Partial<Bounds>"}},minWidth:{defaultValue:{value:"50"},description:"",name:"minWidth",required:!1,type:{name:'number | "content"'}},minHeight:{defaultValue:{value:"50"},description:"",name:"minHeight",required:!1,type:{name:'number | "content"'}},interactions:{defaultValue:{value:"move"},description:'Allowed interactions:\n- "all": both resizable and movable\n- "move": movable, but not resizable\n- "none": fixed size and position\nThe reason there are no `resizable` and `movable` boolean props is that resizable=true,movable=false doesn\'t make\nsense from UX perspective.',name:"interactions",required:!1,type:{name:"enum",value:[{value:'"none"'},{value:'"all"'},{value:'"move"'}]}},observeContentResize:{defaultValue:null,description:"When the size is not specified by `bounds` or `defaultBounds` props, the content size is measured and used in the\nreturned bounds. By default, the content size is measured initially. If `observeContentSize` is true, the DOM\nmutations will be observed and the content is re-measured as changes are observed.",name:"observeContentResize",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/Popup.tsx#Popup"]={docgenInfo:Popup.__docgenInfo,name:"Popup",path:"src/Popup/Popup.tsx#Popup"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/PopupContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>PopupControllerContext,t:()=>PopupContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const PopupContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({isActive:!1,movable:!0,titleProps:{}}),PopupControllerContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});try{PopupControllerContext.displayName="PopupControllerContext",PopupControllerContext.__docgenInfo={description:"A context to provide some props that are necessary for PopupTrigger or PopupManager.\nPassing those props via context helps with providing a nice API in those components.",displayName:"PopupControllerContext",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/PopupContext.tsx#PopupControllerContext"]={docgenInfo:PopupControllerContext.__docgenInfo,name:"PopupControllerContext",path:"src/Popup/PopupContext.tsx#PopupControllerContext"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/PopupHeader.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>PopupHeader});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Overlay/OverlayMoveHandle.tsx"),_PopupContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Popup/PopupContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledPopupHeader=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 1.5rem;
  min-height: ${({hasControls})=>hasControls&&"1.75rem"};
  cursor: default;
  white-space: nowrap;
  color: ${({theme,active})=>active?theme.color("Popup.Header.activeForeground",theme.commonColors.labelForeground):theme.color("Popup.Header.inactiveForeground",theme.commonColors.labelDisabledForeground)};
  background-color: ${({theme,active})=>active?theme.color("Popup.Header.activeBackground","#e6e6e6"):theme.color("Popup.Header.inactiveBackground","#ededed")};
`,PopupHeader=({children,hasControls,className,style})=>{const{isActive,movable,titleProps}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_PopupContext__WEBPACK_IMPORTED_MODULE_3__.t),renderHeader=(otherProps={})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledPopupHeader,{active:isActive,hasControls,className,style,...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.dG)(titleProps,otherProps),children});return movable?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_5__.F,{children:({moveHandleProps})=>renderHeader(moveHandleProps)}):renderHeader()};try{PopupHeader.displayName="PopupHeader",PopupHeader.__docgenInfo={description:"Implements appearance of\n[Popup Header](https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-%28Community%29?node-id=75455%3A26566&t=Hzwse5j5R6iCEzVW-4),\nand also acts as a handle for moving the panel.\nExpected to be used with {@link Popup#Layout }:",displayName:"PopupHeader",props:{hasControls:{defaultValue:null,description:"",name:"hasControls",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/PopupHeader.tsx#PopupHeader"]={docgenInfo:PopupHeader.__docgenInfo,name:"PopupHeader",path:"src/Popup/PopupHeader.tsx#PopupHeader"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/PopupLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>PopupLayout});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_PopupHeader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Popup/PopupHeader.tsx"),_intellij_platform_core_Popup_StyledPopupHint__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Popup/StyledPopupHint.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledPopupLayout=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  display: flex;
  flex-direction: column;
  height: inherit;
`,StyledPopupLayoutHeader=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  flex-shrink: 0;
`,StyledPopupLayoutContent=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  flex: 1;
  overflow: auto;
  // Not sure about making the content area a vertical flex container, but it seemed it makes sense as default.
  // The use case at hand where this was added was "Branches" popup, which would of course be implementable without this
  // too, with an extra flex container around the menu.
  display: flex;
  flex-direction: column;
`,StyledPopupLayoutFooter=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  flex-shrink: 0;
`;function PopupLayout({header,footer,content}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledPopupLayout,{children:[header&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledPopupLayoutHeader,{children:"string"==typeof header?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_PopupHeader__WEBPACK_IMPORTED_MODULE_3__.C,{children:header}):header}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledPopupLayoutContent,{children:content}),footer&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledPopupLayoutFooter,{children:"string"==typeof footer?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Popup_StyledPopupHint__WEBPACK_IMPORTED_MODULE_4__.X,{children:footer}):footer})]})}PopupLayout.displayName="PopupLayout";try{PopupLayout.displayName="PopupLayout",PopupLayout.__docgenInfo={description:"Popup content layout, supporting fixed `header` and `footer` sections, and a scrollable `content` area.",displayName:"PopupLayout",props:{header:{defaultValue:null,description:"Fixed position header of the popup at the top. {@link Popup.Header} can be used for the content.",name:"header",required:!1,type:{name:"ReactNode"}},content:{defaultValue:null,description:"Scrollable content of the popup.",name:"content",required:!0,type:{name:"ReactNode"}},footer:{defaultValue:null,description:"Fixed position footer of the popup at the bottom. {@link Popup.Hint} can be used for the content.",name:"footer",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/PopupLayout.tsx#PopupLayout"]={docgenInfo:PopupLayout.__docgenInfo,name:"PopupLayout",path:"src/Popup/PopupLayout.tsx#PopupLayout"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/StyledPopupHint.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>StyledPopupHint});const StyledPopupHint=__webpack_require__("./src/styled.ts").zo.div`
  // NOTE: Following the reference implementation, would require to set fallback colors non-prior to
  // *.(background|foreground) colors (by not passing the fallback color as the second argument to theme.color).
  // It's only in BigPopup that the fallback colors are prioritized over *-fallback. But in Figma designs, this is
  // simplified, and hint always has the muted color (like in BigPopup), instead of the default foreground.
  // So we are intentionally deviating from the reference implementation here.
  background: ${({theme})=>theme.color("Popup.Advertiser.background",theme.color("SearchEverywhere.Advertiser.background"))};
  color: ${({theme})=>theme.color("Popup.Advertiser.foreground",theme.color("SearchEverywhere.Advertiser.foreground"))};
  padding: 0.3125rem 0.9375rem 0.3125rem 0.625rem;
  font-size: 0.875em;
  line-height: normal;
  user-select: none;
  cursor: default;
  // NOTE: white-space is intentionally not set as nowrap.
`;try{StyledPopupHint.displayName="StyledPopupHint",StyledPopupHint.__docgenInfo={description:"Hint component (aka Advertiser) used in Popup's footer.\n{@see Popup.Layout}",displayName:"StyledPopupHint",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/StyledPopupHint.tsx#StyledPopupHint"]={docgenInfo:StyledPopupHint.__docgenInfo,name:"StyledPopupHint",path:"src/Popup/StyledPopupHint.tsx#StyledPopupHint"})}catch(__react_docgen_typescript_loader_error){}},"./src/Toolbar/Toolbar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>ToolbarSeparator,o:()=>Toolbar});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/StyledSeparator.tsx"),_intellij_platform_core_utils_overflow_utils_useOverflowObserver__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/overflow-utils/useOverflowObserver.tsx"),_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),_intellij_platform_core_Popup_Popup__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/Popup/Popup.tsx"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const borderStyle=({border})=>border&&_styled__WEBPACK_IMPORTED_MODULE_2__.iv`
    border-style: solid;
    border-color: ${({theme})=>theme.commonColors.borderColor};
    border-width: ${!0===border?"1px":borderPropToCssProp[border]};
  `,StyledToolbar=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  display: inline-flex;
  box-sizing: border-box;
  overflow: hidden;
  // NOTE: in the original implementation, there is no empty space between buttons, but buttons have kind of an
  // invisible left padding, which is mouse-intractable, but doesn't visually seem a part of the button.
  // Although implementable, it didn't seem necessary to follow the exact same thing. Margin should be fine.
  gap: 4px;
  ${borderStyle}
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.mc}:first-child {
    display: none;
  }
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.mc}:last-child {
    display: none;
  }
`,borderPropToCssProp={top:"1px 0 0 0",bottom:"0 0 1px 0",right:"0 1px 0 0",left:"0 0 0 1px",horizontal:"0 1px",vertical:"1px 0"},StyledShowMoreButton=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.button`
  all: unset;
  display: flex;
  justify-content: center;
  align-items: center;
  ${borderStyle};
`,StyledHorizontalToolbar=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledToolbar)`
  padding: ${3}px ${4}px;
  max-width: 100%;
  /*noinspection CssInvalidPropertyValue*/
  max-width: -webkit-fill-available;
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.ve} {
    margin: 1px 0;
  }
  ${StyledShowMoreButton} {
    margin-right: -${4}px;
  }
`,StyledVerticalToolbar=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledToolbar)`
  flex-direction: column;
  max-height: 100%;
  /*noinspection CssInvalidPropertyValue*/
  max-height: -webkit-fill-available;
  padding: ${4}px ${3}px;
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.lX} {
    margin: 0 1px;
  }
  ${StyledShowMoreButton} {
    margin-bottom: -${4}px;
  }
`,StyledToolbarContent=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  box-sizing: inherit;
  display: inherit;
  flex-direction: inherit;
  flex-wrap: ${({shouldWrap})=>shouldWrap?"wrap":"nowrap"};
  gap: inherit;
  max-height: inherit;
  max-width: inherit;
  min-height: 0;
  min-width: 0;

  ${({firstOverflowedIndex})=>_styled__WEBPACK_IMPORTED_MODULE_2__.iv`
      > ${0===firstOverflowedIndex?"*":`:nth-child(${firstOverflowedIndex}) ~ *`} {
        opacity: 0 !important;
        pointer-events: none !important;
      }
    `}
`,OrientationContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext("horizontal"),Toolbar=({border,orientation="horizontal",...props})=>{const overflowBehavior="horizontal"===orientation&&"overflowBehavior"in props?props.overflowBehavior:null,rootProps={style:props.style,className:props.className},ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),overlayRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),showMoreButtonRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),StyledToolbar="horizontal"===orientation?StyledHorizontalToolbar:StyledVerticalToolbar,{overflowedElements}=(0,_intellij_platform_core_utils_overflow_utils_useOverflowObserver__WEBPACK_IMPORTED_MODULE_4__.o)(ref,{threshold:.8}),[isOverflowPopupVisible,setOverflowPopupVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[popupHeight,setPopupHeight]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(30),[firstOverflowedChildIndex,setFirstOverflowedChildIndex]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),firstOverflowedChildRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{if(ref.current){const childElements=[...ref.current.children].filter((node=>node instanceof HTMLElement)),firstOverflowedChild=childElements.findIndex((child=>overflowedElements.includes(child)));setFirstOverflowedChildIndex(firstOverflowedChild),firstOverflowedChildRef.current=childElements[firstOverflowedChild]}}),[overflowedElements]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{overlayRef.current&&popupHeight!==overlayRef.current.offsetHeight&&setPopupHeight(overlayRef.current.offsetHeight)}));const{overlayProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.tN)({isOpen:isOverflowPopupVisible,placement:"bottom left",offset:"horizontal"===orientation?3-popupHeight+1:1-popupHeight,crossOffset:"horizontal"===orientation?-5:-4,containerPadding:0,shouldFlip:!1,targetRef:"horizontal"===orientation?ref:showMoreButtonRef,overlayRef,onClose:()=>{setOverflowPopupVisible(!1)}}),toolbarProps={onMouseMove:event=>{const firstOverflowedElement=firstOverflowedChildRef.current;if(!firstOverflowedElement)return;const shouldShow="vertical"===orientation?event.clientY>firstOverflowedElement.getBoundingClientRect().top:event.clientX>firstOverflowedElement.getBoundingClientRect().left;shouldShow!==isOverflowPopupVisible&&setOverflowPopupVisible(shouldShow)},onMouseLeave:()=>{isOverflowPopupVisible&&setOverflowPopupVisible(!1)}},toolbarOverflowPopupProps={onMouseEnter:()=>setOverflowPopupVisible(!0),onMouseLeave:()=>setOverflowPopupVisible(!1)};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(OrientationContext.Provider,{value:orientation,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledToolbar,{border,...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_6__.dG)(rootProps,toolbarProps),role:"toolbar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledToolbarContent,{ref,role:"presentation",firstOverflowedIndex:firstOverflowedChildIndex,shouldWrap:"wrap"===overflowBehavior,children:props.children}),overflowedElements.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledShowMoreButton,{ref:showMoreButtonRef,tabIndex:-1,onMouseEnter:()=>{setOverflowPopupVisible(!0)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_7__.vq,{icon:"ide/link"})})]}),isOverflowPopupVisible&&overflowedElements.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(OrientationContext.Provider,{value:"horizontal",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.aV,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Popup_Popup__WEBPACK_IMPORTED_MODULE_8__.eE,{ref:overlayRef,...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_6__.dG)(overlayProps,toolbarOverflowPopupProps),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ToolbarInOverlay,{border:!0,firstVisibleIndex:"vertical"===orientation?firstOverflowedChildIndex:void 0,children:props.children})})})})]})};Toolbar.displayName="Toolbar";const ToolbarInOverlay=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledHorizontalToolbar)`
  ${({firstVisibleIndex})=>firstVisibleIndex&&_styled__WEBPACK_IMPORTED_MODULE_2__.iv`
      ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.mc}:nth-child(${firstVisibleIndex+1}) {
        display: none;
      }
      > :not(:nth-child(${firstVisibleIndex}) ~ *) {
        display: none;
      }
    `};
`,ToolbarSeparator=()=>"horizontal"===(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OrientationContext)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.ve,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.lX,{});try{Toolbar.displayName="Toolbar",Toolbar.__docgenInfo={description:"",displayName:"Toolbar",props:{orientation:{defaultValue:{value:"horizontal"},description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"vertical"'},{value:'"horizontal"'}]}},border:{defaultValue:null,description:"",name:"border",required:!1,type:{name:"ToolbarBorderProp"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},overflowBehavior:{defaultValue:null,description:"Defines how the toolbar should handle its children when there is not enough room\nto fit all:\n- popup: the overflowed children will be hidden behind a show more arrow icon that\n  shows the rest of the items in a popup.\n- wrap: children will be wrapped so that they fit the available width/height",name:"overflowBehavior",required:!1,type:{name:"enum",value:[{value:'"wrap"'},{value:'"popup"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Toolbar/Toolbar.tsx#Toolbar"]={docgenInfo:Toolbar.__docgenInfo,name:"Toolbar",path:"src/Toolbar/Toolbar.tsx#Toolbar"})}catch(__react_docgen_typescript_loader_error){}try{ToolbarSeparator.displayName="ToolbarSeparator",ToolbarSeparator.__docgenInfo={description:"Separator to be used between items in a toolbar.",displayName:"ToolbarSeparator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Toolbar/Toolbar.tsx#ToolbarSeparator"]={docgenInfo:ToolbarSeparator.__docgenInfo,name:"ToolbarSeparator",path:"src/Toolbar/Toolbar.tsx#ToolbarSeparator"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/overflow-utils/useOverflowObserver.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>useOverflowObserver});var react=__webpack_require__("../../node_modules/react/index.js"),array_utils=__webpack_require__("./src/utils/array-utils.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}class OverflowObserver{constructor(callback){this.callback=callback,_defineProperty(this,"mutationObserver",void 0),_defineProperty(this,"data",new Map),this.mutationObserver=new MutationObserver((mutations=>{mutations.forEach((mutation=>{const target=mutation.target;target instanceof Element&&(mutation.removedNodes.forEach((node=>{node instanceof Element&&this.data.get(target)?.intersectionObserver.unobserve(node)})),mutation.addedNodes.forEach((node=>{node instanceof Element&&this.data.get(target)?.intersectionObserver.observe(node)})))}))}))}observe(target,options){this.data.get(target)?.intersectionObserver.disconnect();const intersectionObserver=new IntersectionObserver((entries=>{const data=this.data.get(target),newHiddenElements=entries.map((entry=>!entry.isIntersecting&&entry.target instanceof Element?entry.target:void 0)).filter(array_utils.N),newVisibleElements=entries.map((entry=>entry.isIntersecting&&entry.target instanceof Element?entry.target:null)).filter(array_utils.N),previouslyOverflowedElements=data?.currentOverflowElements||[],overflowedElements=previouslyOverflowedElements.filter((element=>!newVisibleElements.includes(element))).concat(newHiddenElements).filter((element=>!(element instanceof HTMLElement&&0===element.offsetWidth&&0===element.offsetHeight)));this.callback({previouslyOverflowedElements,overflowedElements,target},this),data&&(data.currentOverflowElements=overflowedElements)}),{...options,root:target});[...target?.children||[]].forEach((childElement=>{intersectionObserver.observe(childElement)})),this.data.set(target,{intersectionObserver,currentOverflowElements:[]}),this.mutationObserver.observe(target,{childList:!0})}unobserve(target){this.data.get(target)?.intersectionObserver.disconnect()}disconnect(){[...this.data.values()].forEach((({intersectionObserver})=>intersectionObserver.disconnect())),this.data=new Map,this.mutationObserver.disconnect()}}function useOverflowObserver(scrollableContainerRef,{threshold=.9,rootMargin="0px"}={}){const[overflowedElements,setOverflowedElements]=(0,react.useState)([]);return(0,react.useEffect)((()=>{const overflowObserver=new OverflowObserver((change=>{setOverflowedElements(change.overflowedElements)}));return overflowObserver.observe(scrollableContainerRef.current,{rootMargin,threshold}),()=>{overflowObserver.disconnect()}}),[scrollableContainerRef.current]),{overflowedElements}}try{useOverflowObserver.displayName="useOverflowObserver",useOverflowObserver.__docgenInfo={description:"Given a ref to a scrollable container, returns the child elements that are not completely visible and\nare off view because of scroll.",displayName:"useOverflowObserver",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/overflow-utils/useOverflowObserver.tsx#useOverflowObserver"]={docgenInfo:useOverflowObserver.__docgenInfo,name:"useOverflowObserver",path:"src/utils/overflow-utils/useOverflowObserver.tsx#useOverflowObserver"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/useFocusForwarder.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>useFocusForwarder});var _react_aria_focus__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js");function useFocusForwarder({forwardFocus,ignoreFocusedDescendant=!1}={}){return{focusForwarderProps:{onFocus:event=>{if(event.target!==event.currentTarget)return;const possiblyBlurredElement=event.relatedTarget;possiblyBlurredElement instanceof Element&&event.currentTarget?.contains(possiblyBlurredElement)&&!ignoreFocusedDescendant?possiblyBlurredElement instanceof HTMLElement&&possiblyBlurredElement.focus():forwardFocus?forwardFocus():(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_0__.QL)(event.currentTarget).firstChild()?.focus()}}}}}}]);
//# sourceMappingURL=8683.512fabe1.iframe.bundle.js.map