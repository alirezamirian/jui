"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[8165],{"./src/SearchInput/SearchInput.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithAfterAddons:()=>WithAfterAddons,WithHistory:()=>WithHistory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_SearchInput__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/SearchInput/SearchInput.tsx"),_intellij_platform_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/styled.ts"),_intellij_platform_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),_intellij_platform_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Tooltip/ActionTooltip.tsx"),_intellij_platform_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Icon/AutoHoverPlatformIcon.tsx"),_intellij_platform_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/IconButton/IconButton.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/SearchInput",component:_SearchInput__WEBPACK_IMPORTED_MODULE_2__.M,args:{style:{width:250}},argTypes:{}},StyledSearchValueResult=_intellij_platform_core__WEBPACK_IMPORTED_MODULE_3__.zo.div`
  margin-top: 1rem;
  color: ${({theme})=>theme.color("*.foreground")};
`,render=props=>{const[submittedValue,setSubmittedValue]=react__WEBPACK_IMPORTED_MODULE_0__.useState("");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_SearchInput__WEBPACK_IMPORTED_MODULE_2__.M,{...props,onSubmit:setSubmittedValue}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledSearchValueResult,{children:["Submitted value: ",submittedValue]})]})},Default={render},WithHistory={render,args:{searchHistory:["search query 1","search query 2"]}},WithAfterAddons={render,args:{addonAfter:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_4__.a,{tooltip:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_5__.M,{actionName:"Match Case"}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_6__.R,{as:_intellij_platform_core__WEBPACK_IMPORTED_MODULE_7__.hU,excludeFromTabOrder:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_6__.v,{icon:"actions/regex",hoverIcon:"actions/regexHovered"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_4__.a,{tooltip:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_5__.M,{actionName:"Regex"}),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_6__.R,{as:_intellij_platform_core__WEBPACK_IMPORTED_MODULE_7__.hU,excludeFromTabOrder:!1,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core__WEBPACK_IMPORTED_MODULE_6__.v,{icon:"actions/matchCase.svg",hoverIcon:"actions/matchCaseHovered.svg"})})})]})}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render\n}",...Default.parameters?.docs?.source}}},WithHistory.parameters={...WithHistory.parameters,docs:{...WithHistory.parameters?.docs,source:{originalSource:'{\n  render,\n  args: {\n    searchHistory: ["search query 1", "search query 2"]\n  }\n}',...WithHistory.parameters?.docs?.source}}},WithAfterAddons.parameters={...WithAfterAddons.parameters,docs:{...WithAfterAddons.parameters?.docs,source:{originalSource:'{\n  render,\n  args: {\n    addonAfter: <>\n        <TooltipTrigger tooltip={<ActionTooltip actionName="Match Case" />}>\n          <StyledHoverContainer as={IconButton} excludeFromTabOrder={false}>\n            <AutoHoverPlatformIcon icon="actions/regex" hoverIcon="actions/regexHovered" />\n          </StyledHoverContainer>\n        </TooltipTrigger>\n        <TooltipTrigger tooltip={<ActionTooltip actionName="Regex" />}>\n          <StyledHoverContainer as={IconButton} excludeFromTabOrder={false}>\n            <AutoHoverPlatformIcon icon="actions/matchCase.svg" hoverIcon="actions/matchCaseHovered.svg" />\n          </StyledHoverContainer>\n        </TooltipTrigger>\n      </>\n  }\n}',...WithAfterAddons.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithHistory","WithAfterAddons"]},"./src/ActionSystem/ActionShortcut.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>ActionShortcut,k:()=>useGetActionShortcut});__webpack_require__("../../node_modules/react/index.js");var _KeymapProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ActionSystem/KeymapProvider.tsx"),_shortcutToString__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/ActionSystem/shortcutToString.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ActionShortcut=({actionId,children})=>{const shortcutString=useGetActionShortcut()(actionId);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:shortcutString&&(children?children(shortcutString):shortcutString)})},useGetActionShortcut=()=>{const keymap=(0,_KeymapProvider__WEBPACK_IMPORTED_MODULE_2__.og)();return actionId=>{const keyboardShortcut=keymap?.[actionId]?.find((({type})=>"keyboard"===type));return keyboardShortcut?(0,_shortcutToString__WEBPACK_IMPORTED_MODULE_3__.W)(keyboardShortcut):""}};try{ActionShortcut.displayName="ActionShortcut",ActionShortcut.__docgenInfo={description:"Renders the first keyboard shortcut for the action specified by {@param actionId}, based on the keymap context.\nif {@param children} is provided, treats it as a render function that receives the shortcut string.",displayName:"ActionShortcut",props:{actionId:{defaultValue:null,description:"",name:"actionId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/ActionShortcut.tsx#ActionShortcut"]={docgenInfo:ActionShortcut.__docgenInfo,name:"ActionShortcut",path:"src/ActionSystem/ActionShortcut.tsx#ActionShortcut"})}catch(__react_docgen_typescript_loader_error){}try{useGetActionShortcut.displayName="useGetActionShortcut",useGetActionShortcut.__docgenInfo={description:"Returns a function that gets first keyboard shortcut for the action specified by `actionId`, based on the\nkeymap context.",displayName:"useGetActionShortcut",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/ActionShortcut.tsx#useGetActionShortcut"]={docgenInfo:useGetActionShortcut.__docgenInfo,name:"useGetActionShortcut",path:"src/ActionSystem/ActionShortcut.tsx#useGetActionShortcut"})}catch(__react_docgen_typescript_loader_error){}},"./src/IconButton/IconButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{hU:()=>IconButton});var _react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledIconButton=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.button`
  position: relative; // to allow absolutely positioned overlays like an dropdown icon at the bottom right corner
  background: none;
  color: inherit;
  border: 1px solid transparent;
  border-radius: 3px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: ${({minSize})=>`${minSize}px`};
  min-width: ${({minSize})=>`${minSize}px`};
  padding: 0;
  margin: 0;
  &:disabled {
    opacity: 0.25; // not quite accurate implementation. There might be better ways to style disabled state.
  }
  &:hover:not(:disabled) {
    background: ${({theme})=>theme.color("ActionButton.hoverBackground","#DFDFDF")};
    border-color: ${({theme})=>theme.color("ActionButton.hoverBorderColor","#DFDFDF")};
  }
  &:focus-visible:not(:disabled) {
    outline: none;
    background: ${({theme})=>theme.color("ActionButton.pressedBackground","#CFCFCF")};
    border-color: ${({theme})=>theme.color("ActionButton.focusedBorderColor",theme.dark?"#5eacd0":"#62b8de")};
  }
  &:active:not(:disabled),
  &.active:not(:disabled) {
    background: ${({theme})=>theme.color("ActionButton.pressedBackground","#CFCFCF")};
    border-color: ${({theme})=>theme.color("ActionButton.pressedBorderColor","#CFCFCF")};
  }
`,IconButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function IconButton({minSize=22,preventFocusOnPress=!0,excludeFromTabOrder=!0,isPressed:isPressedInput,isDisabled,onPress,onPressChange,onPressEnd,onPressStart,onPressUp,shouldCancelOnPointerExit,...otherProps},forwardedRef){const ref=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__.B3)(forwardedRef),{focusableProps}=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_4__.kc)({isDisabled},ref),{pressProps,isPressed}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_5__.r7)({ref,isPressed:isPressedInput,isDisabled,onPress,onPressChange,onPressEnd,onPressStart,onPressUp,shouldCancelOnPointerExit,preventFocusOnPress});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledIconButton,{className:isPressed?"active":"",disabled:isDisabled,...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__.dG)(pressProps,otherProps,focusableProps),minSize,tabIndex:excludeFromTabOrder&&!isDisabled?-1:void 0,ref})}));try{StyledIconButton.displayName="StyledIconButton",StyledIconButton.__docgenInfo={description:"",displayName:"StyledIconButton",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLButtonElement | null) => void) | RefObject<HTMLButtonElement> | null"}},minSize:{defaultValue:{value:"22"},description:"",name:"minSize",required:!1,type:{name:"number"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/IconButton/IconButton.tsx#StyledIconButton"]={docgenInfo:StyledIconButton.__docgenInfo,name:"StyledIconButton",path:"src/IconButton/IconButton.tsx#StyledIconButton"})}catch(__react_docgen_typescript_loader_error){}try{IconButton.displayName="IconButton",IconButton.__docgenInfo={description:"Icon button, aka Action Button, in the reference implementation.",displayName:"IconButton",props:{minSize:{defaultValue:{value:"22"},description:"The minimum width/height of the button.",name:"minSize",required:!1,type:{name:"number"}},excludeFromTabOrder:{defaultValue:{value:"true"},description:"Whether the button should be focusable by pressing tab. The default is true for icon buttons (aka. action buttons),\nwhich means they are not included in the tab order.",name:"excludeFromTabOrder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/IconButton/IconButton.tsx#IconButton"]={docgenInfo:IconButton.__docgenInfo,name:"IconButton",path:"src/IconButton/IconButton.tsx#IconButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/Menu/MenuOverlay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>MenuOverlay});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_utils_FocusScope__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/FocusScope.tsx"),_intellij_platform_core_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Menu/Menu.tsx"),_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Overlay/Overlay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function MenuOverlay({children,restoreFocus,overlayProps,overlayRef,state}){return state.isOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_2__.a,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_utils_FocusScope__WEBPACK_IMPORTED_MODULE_3__.M,{restoreFocus,forceRestoreFocus:restoreFocus,autoFocus:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu_Menu__WEBPACK_IMPORTED_MODULE_4__.EC.Provider,{value:state,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{...overlayProps,ref:overlayRef,children})})})}):null}MenuOverlay.displayName="MenuOverlay";try{MenuOverlay.displayName="MenuOverlay",MenuOverlay.__docgenInfo={description:"Overlay container for menu. Extracted into a separate component, to be used by components like MenuTrigger or\nContextMenuContainer, that need to render a menu as an overlay.",displayName:"MenuOverlay",props:{restoreFocus:{defaultValue:null,description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},overlayProps:{defaultValue:null,description:"",name:"overlayProps",required:!0,type:{name:"HTMLProps<HTMLDivElement>"}},overlayRef:{defaultValue:null,description:"",name:"overlayRef",required:!0,type:{name:"Ref<HTMLDivElement>"}},state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"MenuTriggerState"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Menu/MenuOverlay.tsx#MenuOverlay"]={docgenInfo:MenuOverlay.__docgenInfo,name:"MenuOverlay",path:"src/Menu/MenuOverlay.tsx#MenuOverlay"})}catch(__react_docgen_typescript_loader_error){}},"./src/Menu/MenuTrigger.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>MenuTrigger});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/button/dist/module.js"),_react_aria_menu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/menu/dist/module.js"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_stately_menu__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-stately/menu/dist/module.js"),_MenuOverlay__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Menu/MenuOverlay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const MenuTrigger=({children,renderMenu,direction="bottom",align="start",shouldFlip=!0,restoreFocus=!0,preventFocusOnPress=!0,positioningTargetRef,...otherProps})=>{const menuTriggerProps={...otherProps,direction,align,shouldFlip},state=(0,_react_stately_menu__WEBPACK_IMPORTED_MODULE_2__.W)(menuTriggerProps),triggerRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),overlayRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),{menuTriggerProps:triggerProps,menuProps}=(0,_react_aria_menu__WEBPACK_IMPORTED_MODULE_3__.u4)({type:"menu"},state,triggerRef),ariaButtonProps={...triggerProps,preventFocusOnPress},{buttonProps}=(0,_react_aria_button__WEBPACK_IMPORTED_MODULE_4__.U)(ariaButtonProps,triggerRef),{overlayProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.Ir)({onClose:()=>state.close(),shouldCloseOnBlur:!1,isOpen:state.isOpen,isKeyboardDismissDisabled:!1,isDismissable:!0,shouldCloseOnInteractOutside:element=>!element.matches("[role=menu] *")},overlayRef),{overlayProps:positionProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_5__.tN)({targetRef:positioningTargetRef??triggerRef,overlayRef,placement:getPlacement(direction,align),shouldFlip,offset:0,containerPadding:0,isOpen:state.isOpen});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[children(buttonProps,triggerRef),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_MenuOverlay__WEBPACK_IMPORTED_MODULE_6__.T,{overlayProps:(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_7__.dG)(overlayProps,positionProps),overlayRef,state,restoreFocus,children:renderMenu({menuProps})})]})};function getPlacement(direction,align){switch(direction){case"left":case"right":case"start":case"end":return`${direction} ${"end"===align?"bottom":"top"}`;default:return`${direction} ${align}`}}try{MenuTrigger.displayName="MenuTrigger",MenuTrigger.__docgenInfo={description:"Makes its children a trigger for a menu, rendered via {@link MenuTriggerProps#renderMenu } prop.\nCloses the menu when a menu action is triggered.",displayName:"MenuTrigger",props:{restoreFocus:{defaultValue:{value:"true"},description:"",name:"restoreFocus",required:!1,type:{name:"boolean"}},preventFocusOnPress:{defaultValue:{value:"true"},description:"",name:"preventFocusOnPress",required:!1,type:{name:"boolean"}},positioningTargetRef:{defaultValue:null,description:"By default, the menu is positioned relative to the trigger. `positioningTargetRef` can be used to have the menu\npositioned to another element. An example use case is when the menu trigger is a button inside some list item or\ntext box, but the menu semantically belongs to the container list item or text box.",name:"positioningTargetRef",required:!1,type:{name:"RefObject<HTMLElement>"}},renderMenu:{defaultValue:null,description:"",name:"renderMenu",required:!0,type:{name:"(props: { menuProps: HTMLAttributes<HTMLElement>; }) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Menu/MenuTrigger.tsx#MenuTrigger"]={docgenInfo:MenuTrigger.__docgenInfo,name:"MenuTrigger",path:"src/Menu/MenuTrigger.tsx#MenuTrigger"})}catch(__react_docgen_typescript_loader_error){}},"./src/SearchInput/SearchInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>SearchInput});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_stately_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-stately/utils/dist/module.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/ActionSystem/CommonActionIds.ts"),_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/ActionSystem/ActionShortcut.tsx"),_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),_intellij_platform_core_InputField__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/InputField/Input.tsx"),_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/Icon/AutoHoverPlatformIcon.tsx"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/Menu/MenuTrigger.tsx"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/Menu/Menu.tsx"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/Collections/Item.ts"),_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/Tooltip/ActionTooltip.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledInput=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(_intellij_platform_core_InputField__WEBPACK_IMPORTED_MODULE_3__.I)`
  input[type="search"] {
    -webkit-appearance: none;
    &::-webkit-search-cancel-button {
      -webkit-appearance: none;
    }
    &::-webkit-search-decoration {
      -webkit-appearance: none;
    }
  }
`,SearchInput=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function SearchInput({addonBefore,addonAfter,searchHistory,onClear,onSubmit,onHistoryItemSelected,historyButtonTitle="Recent Search",value:valueProp,defaultValue="",onChange,type="search",inputRef:inputRefProp,...props},forwardedRef){const[value,setValue]=(0,_react_stately_utils__WEBPACK_IMPORTED_MODULE_4__.zk)(valueProp,defaultValue,onChange),inputContainerRef=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__.B3)(forwardedRef),inputRef=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__.B3)(inputRefProp),[isSearchHistoryOpen,setSearchHistoryOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),showSearchHistoryAction={id:_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_6__.$.SHOW_SEARCH_HISTORY,title:historyButtonTitle,actionPerformed:()=>{setSearchHistoryOpen(!0)}},getShortcut=(0,_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_7__.k)(),searchIcon=searchHistory?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_8__.b,{isOpen:isSearchHistoryOpen,onOpenChange:setSearchHistoryOpen,positioningTargetRef:inputContainerRef,renderMenu:({menuProps})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_9__.v2,{...menuProps,autoFocus:"first",onAction:key=>{const historyItemText=searchHistory[parseInt(`${key}`.split("_")[0])];void 0!==historyItemText&&(setValue(historyItemText),onHistoryItemSelected?.(historyItemText,value),inputRef.current?.focus())},children:searchHistory.map(((historyItem,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_10__.c,{children:historyItem},`${index}_${historyItem}`)))}),children:(menuTriggerProps,ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_11__.a,{tooltip:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_12__.M,{actionName:historyButtonTitle,shortcut:getShortcut(_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_6__.$.SHOW_SEARCH_HISTORY)}),children:tooltipTriggerProps=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_13__.vq,{...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__.dG)(tooltipTriggerProps,menuTriggerProps),ref,icon:"actions/searchWithHistory.svg",role:"button","aria-label":historyButtonTitle})})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_13__.vq,{icon:"actions/search.svg"}),clear=()=>{setValue(""),onClear?.(value)},inputProps=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__.dG)(props,{ref:inputContainerRef,inputRef,value,type,onChange:event=>{setValue(event.target.value)},addonBefore:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[searchIcon,addonBefore]}),addonAfter:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[value&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_14__.v,{onClick:clear,role:"button","aria-label":"Clear search",icon:"actions/close",hoverIcon:"actions/closeHovered"}),addonAfter]}),onKeyDown:event=>{event.repeat||("Enter"===event.key?onSubmit?.(event.currentTarget.value):"Escape"===event.key&&clear())}});return searchHistory?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_15__.DG,{actions:[showSearchHistoryAction],children:({shortcutHandlerProps})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledInput,{...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_5__.dG)(inputProps,shortcutHandlerProps)})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledInput,{...inputProps})}));try{SearchInput.displayName="SearchInput",SearchInput.__docgenInfo={description:"A wrapper around {@link Input} with a few additions:\n- A Search icon, added as an {@link InputProps#addonBefore addonBefore}.\n- A clear button, added as an {@link InputProps#addonAfter addonAfter}, when the input has value.\n  {@link SearchInputProps#onClear onClear} is called when the clear button is clicked.\n- A list of search queries shown as a menu, when the search icon is clicked,\n  if {@link SearchInputProps#searchHistory searchHistory} is provided.\n- An action provided on the input element, to open the search history via\n  {@link CommonActionId.SHOW_SEARCH_HISTORY} shortcut.\n- Search submission callback ({@link SearchInputProps#onSubmit onSubmit}) called when search is submitted by pressing Enter\n\n{@link InputProps#onChange onChange} and {@link InputProps#onSubmit onSubmit} props are also different in SearchInput, compared to\nthe corresponding props of the native input.\n\nCaveat: If the width is not set (either explicitly or via the entailing layout), the width of the input will change when clear button shows/hides.",displayName:"SearchInput",props:{searchHistory:{defaultValue:null,description:"Search history to be shown as a menu when the search icon is pressed.",name:"searchHistory",required:!1,type:{name:"string[]"}},historyButtonTitle:{defaultValue:{value:"Recent Search"},description:'The content of "show history" button tooltip, and the corresponding action title.',name:"historyButtonTitle",required:!1,type:{name:"string"}},onClear:{defaultValue:null,description:"Called when the search input is cleared by either clear button or `Escape` key.\n`onChange` is also called with an empty string, whenever the input is cleared,\nso there is no need for updating the state using `onClear`, when the value is controlled.\n@param clearedValue the value before clearing.",name:"onClear",required:!1,type:{name:"((clearedValue: string) => void)"}},onSubmit:{defaultValue:null,description:"Called when the search is submitted by pressing `Enter`\n@param value submitted text",name:"onSubmit",required:!1,type:{name:"((value: string) => void)"}},value:{defaultValue:null,description:"Controlled value of the search input",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:{value:""},description:"Default value of the search input, used for initialization when value is uncontrolled.",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Called when the value is changed.",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},onHistoryItemSelected:{defaultValue:null,description:"Called when a history item is selected. `onChange` is called with the selected text, so\nthere is no need for updating the state using `onHistoryItemSelected`, when the value is controlled.\n@param value text selected from history.\n@param previousValue the value of the input before the history item was selected.",name:"onHistoryItemSelected",required:!1,type:{name:"((value: string, previousValue: string) => void)"}},validationState:{defaultValue:null,description:"",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"invalid"'},{value:'"valid"'}]}},autoSelect:{defaultValue:null,description:"Whether to auto select the value initially",name:"autoSelect",required:!1,type:{name:"boolean"}},addonAfter:{defaultValue:null,description:"Rendered inside the input box and after the input element.\nUsed to render [Built-in buttons](https://jetbrains.github.io/ui/controls/built_in_button/).",name:"addonAfter",required:!1,type:{name:"ReactNode"}},addonBefore:{defaultValue:null,description:"Rendered inside the input box and before the input element.",name:"addonBefore",required:!1,type:{name:"ReactNode"}},inputRef:{defaultValue:null,description:"Ref to the underlying input element",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SearchInput/SearchInput.tsx#SearchInput"]={docgenInfo:SearchInput.__docgenInfo,name:"SearchInput",path:"src/SearchInput/SearchInput.tsx#SearchInput"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/FocusScope.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>FocusScope});var _react_aria_focus__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const FocusScope=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function BetterFocusScope({children,forceRestoreFocus,...otherProps},ref){const directChildRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),focusManagerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return function useForceRestoreFocus(restoreFocus){(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{let nodeToRestore=document.activeElement;return()=>{restoreFocus&&nodeToRestore&&requestAnimationFrame((()=>{document.body.contains(nodeToRestore)&&(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.ex)(nodeToRestore)}))}}),[restoreFocus])}(forceRestoreFocus),(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>({focus:forceFocusFirst=>{const focusManager=focusManagerRef.current,containerElement=directChildRef.current?.parentElement;if(!focusManager)throw new Error("focus manager not found!");if(!containerElement)throw new Error("container element not found");if(forceFocusFirst)return focusManager.focusFirst();document.activeElement&&document.activeElement!==containerElement&&containerElement.contains(document.activeElement)||focusManager.focusNext({tabbable:!0})}})),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.MT,{...otherProps,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(GetFocusManager,{ref:focusManagerRef}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{"data-focus-root-direct-child":"",hidden:!0,ref:directChildRef}),children]})})),GetFocusManager=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function FocusScopeHandle(props,ref){const focusManager=(0,_react_aria_focus__WEBPACK_IMPORTED_MODULE_2__.bO)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(()=>focusManager),[focusManager]),null}));try{FocusScope.displayName="FocusScope",FocusScope.__docgenInfo={description:"A version of FocusScope which also allows for imperatively moving focus to the scope.\nand has tiny patches/improvements\nIt's useful for",displayName:"FocusScope",props:{forceRestoreFocus:{defaultValue:null,description:"",name:"forceRestoreFocus",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/FocusScope.tsx#FocusScope"]={docgenInfo:FocusScope.__docgenInfo,name:"FocusScope",path:"src/utils/FocusScope.tsx#FocusScope"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=SearchInput-SearchInput-stories.9000c2dc.iframe.bundle.js.map