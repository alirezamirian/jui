"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[730],{"./src/ActionSystem/ActionShortcut.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>ActionShortcut,k:()=>useGetActionShortcut});__webpack_require__("../../node_modules/react/index.js");var _KeymapProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ActionSystem/KeymapProvider.tsx"),_shortcutToString__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/ActionSystem/shortcutToString.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ActionShortcut=({actionId,children})=>{const shortcutString=useGetActionShortcut()(actionId);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:shortcutString&&(children?children(shortcutString):shortcutString)})},useGetActionShortcut=()=>{const keymap=(0,_KeymapProvider__WEBPACK_IMPORTED_MODULE_2__.og)();return actionId=>{const keyboardShortcut=keymap?.[actionId]?.find((({type})=>"keyboard"===type));return keyboardShortcut?(0,_shortcutToString__WEBPACK_IMPORTED_MODULE_3__.W)(keyboardShortcut):""}};try{ActionShortcut.displayName="ActionShortcut",ActionShortcut.__docgenInfo={description:"Renders the first keyboard shortcut for the action specified by {@param actionId}, based on the keymap context.\nif {@param children} is provided, treats it as a render function that receives the shortcut string.",displayName:"ActionShortcut",props:{actionId:{defaultValue:null,description:"",name:"actionId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/ActionShortcut.tsx#ActionShortcut"]={docgenInfo:ActionShortcut.__docgenInfo,name:"ActionShortcut",path:"src/ActionSystem/ActionShortcut.tsx#ActionShortcut"})}catch(__react_docgen_typescript_loader_error){}try{useGetActionShortcut.displayName="useGetActionShortcut",useGetActionShortcut.__docgenInfo={description:"Returns a function that gets first keyboard shortcut for the action specified by `actionId`, based on the\nkeymap context.",displayName:"useGetActionShortcut",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/ActionShortcut.tsx#useGetActionShortcut"]={docgenInfo:useGetActionShortcut.__docgenInfo,name:"useGetActionShortcut",path:"src/ActionSystem/ActionShortcut.tsx#useGetActionShortcut"})}catch(__react_docgen_typescript_loader_error){}},"./src/ActionSystem/components/ActionsMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>ActionsMenu,F:()=>renderActionAsMenuItem});__webpack_require__("../../node_modules/react/index.js");var ramda__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/ramda/es/flatten.js"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Menu/Menu.tsx"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Menu/MenuItemLayout.tsx"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Collections/Divider.ts"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Collections/Item.ts"),_react_stately_collections__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-stately/collections/dist/module.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function isAction(item){return"actionPerformed"in item}function ActionsMenu({actions,selectedKeys,menuProps}){const allActions=function getAllActions(items){return(0,ramda__WEBPACK_IMPORTED_MODULE_7__.Z)(items.map((item=>"children"in item?item.children:item))).filter(isAction)}(actions),disabledKeys=allActions.filter((({isDisabled})=>isDisabled)).map((({id})=>id));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_2__.v2,{...menuProps,onAction:key=>{const action=allActions.find((({id})=>id===key));action&&isAction(action)&&action.perform()},selectedKeys,disabledKeys,items:actions,autoFocus:!0,children:action=>action instanceof _intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_3__.P?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_3__.i,{}):renderActionAsMenuItem(action)})}function renderActionAsMenuItem(action){const isGroup="children"in action;return isGroup&&!action.isPopup?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_react_stately_collections__WEBPACK_IMPORTED_MODULE_4__.$0,{title:action.title,items:action.children,children:renderActionAsMenuItem},action.id):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_5__.c,{textValue:action.title,childItems:isGroup?action.children:void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_6__._,{content:action.title,icon:action.icon,shortcut:"shortcut"in action?action.shortcut:void 0})},action.id)}ActionsMenu.displayName="ActionsMenu",renderActionAsMenuItem.displayName="renderActionAsMenuItem";try{ActionsMenu.displayName="ActionsMenu",ActionsMenu.__docgenInfo={description:"Given a nested list of resolved actions, renders a menu corresponding to them.",displayName:"ActionsMenu",props:{selectedKeys:{defaultValue:null,description:"",name:"selectedKeys",required:!1,type:{name:"string[]"}},menuProps:{defaultValue:null,description:"",name:"menuProps",required:!1,type:{name:"HTMLAttributes<HTMLElement>"}},actions:{defaultValue:null,description:"",name:"actions",required:!0,type:{name:"ActionItem[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/components/ActionsMenu.tsx#ActionsMenu"]={docgenInfo:ActionsMenu.__docgenInfo,name:"ActionsMenu",path:"src/ActionSystem/components/ActionsMenu.tsx#ActionsMenu"})}catch(__react_docgen_typescript_loader_error){}try{renderActionAsMenuItem.displayName="renderActionAsMenuItem",renderActionAsMenuItem.__docgenInfo={description:"",displayName:"renderActionAsMenuItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"ReactNode"}},isPopup:{defaultValue:null,description:"If the action group should be rendered as a popup (submenu), in menus.",name:"isPopup",required:!1,type:{name:"boolean"}},shortcut:{defaultValue:null,description:"string representation of the shortcuts",name:"shortcut",required:!0,type:{name:"string | undefined"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/components/ActionsMenu.tsx#renderActionAsMenuItem"]={docgenInfo:renderActionAsMenuItem.__docgenInfo,name:"renderActionAsMenuItem",path:"src/ActionSystem/components/ActionsMenu.tsx#renderActionAsMenuItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/ActionSystem/components/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{aU:()=>Action});__webpack_require__("../../node_modules/react/index.js");var ActionsProvider=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),ActionButton=__webpack_require__("./src/ActionButton/ActionButton.tsx"),TooltipTrigger=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),ActionTooltip=__webpack_require__("./src/Tooltip/ActionTooltip.tsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ActionButton_ActionButton=({actionId,children})=>{const action=(0,ActionsProvider.BH)(actionId);if(!action)return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{});const actionButton=(0,jsx_runtime.jsx)(ActionButton.Kk,{onPress:()=>action?.perform(),isDisabled:action.isDisabled,children:action.icon||children});return action.title?(0,jsx_runtime.jsx)(TooltipTrigger.a,{tooltip:(0,jsx_runtime.jsx)(ActionTooltip.M,{actionName:action.title,shortcut:action.shortcut}),children:actionButton}):actionButton};try{ActionButton_ActionButton.displayName="ActionButton",ActionButton_ActionButton.__docgenInfo={description:"",displayName:"ActionButton",props:{actionId:{defaultValue:null,description:"",name:"actionId",required:!0,type:{name:"string"}},children:{defaultValue:null,description:"Content to show if `action.icon` is not set.",name:"children",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/components/ActionButton.tsx#ActionButton"]={docgenInfo:ActionButton_ActionButton.__docgenInfo,name:"ActionButton",path:"src/ActionSystem/components/ActionButton.tsx#ActionButton"})}catch(__react_docgen_typescript_loader_error){}const Action={Button:ActionButton_ActionButton}},"./src/ActionToolbar/ActionToolbar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>ActionToolbar,f:()=>ActionToolbarSeparator});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_ActionButton__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/ActionButton/ActionButton.tsx"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/StyledSeparator.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledActionToolbar=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  display: flex;
`,getBorder=({theme,hasBorder})=>hasBorder?`1px solid ${theme.color("Borders.color",theme.dark?"rgb(50,50,50)":"rgb(192, 192, 192)")}`:"none",StyledHorizontalActionToolbar=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledActionToolbar)`
  padding: 2px;
  border-bottom: ${getBorder};
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.v} {
    margin: 1px 2px;
  }
  // NOTE: in the original implementation, there is no empty space between buttons, but buttons have kind of an
  // invisible left padding, which is mouse-intractable, but doesn't visually seem a part of the button.
  // Although implementable, it didn't seem necessary to follow the exact same thing. Margin should be fine.
  ${_ActionButton__WEBPACK_IMPORTED_MODULE_4__.lj} {
    margin: 0 2px 0 2px;
  }
`,StyledVerticalActionToolbar=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledActionToolbar)`
  flex-direction: column;
  padding: 0 2px;
  border-right: ${getBorder};

  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.l} {
    margin: 4px 1px;
  }
  ${_ActionButton__WEBPACK_IMPORTED_MODULE_4__.lj} {
    margin: 2px 0 1px 0;
  }
`,OrientationContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext("horizontal"),ActionToolbar=({orientation="horizontal",hasBorder=!1,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(OrientationContext.Provider,{value:orientation,children:"horizontal"===orientation?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledHorizontalActionToolbar,{hasBorder,children}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledVerticalActionToolbar,{hasBorder,children})});ActionToolbar.displayName="ActionToolbar";const ActionToolbarSeparator=()=>"horizontal"===(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OrientationContext)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.v,{}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_StyledSeparator__WEBPACK_IMPORTED_MODULE_3__.l,{});try{ActionToolbar.displayName="ActionToolbar",ActionToolbar.__docgenInfo={description:"Remaining features:\n- overflow behaviour:\n  - wrap. like main action toolbar.\n  - hidden, shown by arrow. Similar to actions in Git->Log. Note that the behaviour for horizontal and vertical\n    modes are different apparently.",displayName:"ActionToolbar",props:{orientation:{defaultValue:{value:"horizontal"},description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},hasBorder:{defaultValue:{value:"false"},description:"Whether to include a border to the bottom/right the toolbar, or not.",name:"hasBorder",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionToolbar/ActionToolbar.tsx#ActionToolbar"]={docgenInfo:ActionToolbar.__docgenInfo,name:"ActionToolbar",path:"src/ActionToolbar/ActionToolbar.tsx#ActionToolbar"})}catch(__react_docgen_typescript_loader_error){}try{ActionToolbarSeparator.displayName="ActionToolbarSeparator",ActionToolbarSeparator.__docgenInfo={description:"Separator to be used between action buttons in an action toolbar.",displayName:"ActionToolbarSeparator",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionToolbar/ActionToolbar.tsx#ActionToolbarSeparator"]={docgenInfo:ActionToolbarSeparator.__docgenInfo,name:"ActionToolbarSeparator",path:"src/ActionToolbar/ActionToolbar.tsx#ActionToolbarSeparator"})}catch(__react_docgen_typescript_loader_error){}},"./src/Button/BareButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>BareButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/button/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js");const BareButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function BareButton(props,ref){const{buttonProps}=(0,_react_aria_button__WEBPACK_IMPORTED_MODULE_1__.U)(props,(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.B3)(ref)),domProps=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.zL)(props),{autoFocus}=props;return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(props.children,(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.dG)(domProps,buttonProps,{autoFocus,ref}))}));try{BareButton.displayName="BareButton",BareButton.__docgenInfo={description:"A component to make arbitrary content an accessible button which is also able to be a tooltip trigger.",displayName:"BareButton",props:{children:{defaultValue:null,description:"The content to display in the button.",name:"children",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>> & ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Button/BareButton.tsx#BareButton"]={docgenInfo:BareButton.__docgenInfo,name:"BareButton",path:"src/Button/BareButton.tsx#BareButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/Icon/AutoHoverPlatformIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>AutoHoverPlatformIcon});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_PlatformIcon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledHoverContainer=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.span`
  ${({hoverContainerSelector})=>hoverContainerSelector?`${hoverContainerSelector} &`:""} .icon[data-hover] {
    display: none;
  }

  ${({hoverContainerSelector})=>hoverContainerSelector?`${hoverContainerSelector}:hover &`:"&:hover"} {
    .icon {
      display: none;
    }

    .icon[data-hover] {
      display: inline-flex;
    }
  }
`,StyledIconHoverContainer=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(StyledHoverContainer)`
  display: inline-flex;
`,AutoHoverPlatformIcon=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function AutoHoverPlatformIcon({hoverIcon,hoverContainerSelector,...props},ref){const className=`icon ${props.className||""}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledIconHoverContainer,{ref,hoverContainerSelector,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_PlatformIcon__WEBPACK_IMPORTED_MODULE_3__.vq,{...props,className}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_PlatformIcon__WEBPACK_IMPORTED_MODULE_3__.vq,{...props,className,icon:hoverIcon??(0,_PlatformIcon__WEBPACK_IMPORTED_MODULE_3__.qb)(props.icon,"Hover"),"data-hover":!0})]})}));try{StyledHoverContainer.displayName="StyledHoverContainer",StyledHoverContainer.__docgenInfo={description:"",displayName:"StyledHoverContainer",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLSpanElement | null) => void) | RefObject<HTMLSpanElement> | null"}},hoverContainerSelector:{defaultValue:null,description:"",name:"hoverContainerSelector",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Icon/AutoHoverPlatformIcon.tsx#StyledHoverContainer"]={docgenInfo:StyledHoverContainer.__docgenInfo,name:"StyledHoverContainer",path:"src/Icon/AutoHoverPlatformIcon.tsx#StyledHoverContainer"})}catch(__react_docgen_typescript_loader_error){}try{AutoHoverPlatformIcon.displayName="AutoHoverPlatformIcon",AutoHoverPlatformIcon.__docgenInfo={description:'A common use case for PlatformIcons is to have a default icon and a hover icon.\nThis component captures that simple use case, by rendering both icons, and hiding one based on a hover selector.\n\n### Parent hover container\n\nIf the hover-able element is a parent of the icon, and not the icon itself (i.e., the icon should change if the\nthat parent is hovered), you can use `StyledHoverContainer` to define that parent element:\n\n```tsx\nconst SomeParent = styled(StyledHoverContainer)`...`;\n<SomeParent><AutoHoverPlatformIcon icon="..." /></SomeParent>\n```\n\nIf the hover-able element is a parent of the icon, with a known selector, you can pass `hoverContainerSelector`,\ninstead of using `StyledHoverContainer`:\n\n```tsx\n<AutoHoverPlatformIcon icon="..." hoverContainerSelector="[role=menuitem]" />\n```\n\nIf the hover container is a styled component, you can have it converted to selector like this:\n\n```tsx\n<AutoHoverPlatformIcon icon="..." hoverContainerSelector={`${MyStyledHoverContainer}`} />\n```\n\nIn all examples above, the hover icon is shown when the parent is hovered, instead of the icon itself.',displayName:"AutoHoverPlatformIcon",props:{icon:{defaultValue:null,description:'Icon path in intellij platform repo.\nIf starts with "/", the path will be from the repo root. Otherwise, it\'s relative to "platform/icons/src".\n".svg" extension is optional.',name:"icon",required:!0,type:{name:"string"}},darkIcon:{defaultValue:null,description:"Similar to icon, but for dark themes.",name:"darkIcon",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},children:{defaultValue:null,description:"Additional node going into the icon wrapper. Such as indicators.",name:"children",required:!1,type:{name:"ReactNode"}},hoverIcon:{defaultValue:null,description:'The icon to be used when hovered. If not provided, it will be the "somethingHovered" where "something" is the `icon`',name:"hoverIcon",required:!1,type:{name:"string"}},hoverContainerSelector:{defaultValue:null,description:"",name:"hoverContainerSelector",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Icon/AutoHoverPlatformIcon.tsx#AutoHoverPlatformIcon"]={docgenInfo:AutoHoverPlatformIcon.__docgenInfo,name:"AutoHoverPlatformIcon",path:"src/Icon/AutoHoverPlatformIcon.tsx#AutoHoverPlatformIcon"})}catch(__react_docgen_typescript_loader_error){}},"./src/Menu/SpeedSearchMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>SpeedSearchMenu});var react=__webpack_require__("../../node_modules/react/index.js"),dist_module=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),focus_dist_module=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),list_dist_module=__webpack_require__("../../node_modules/@react-stately/list/dist/module.js"),useEventCallback=__webpack_require__("./src/utils/useEventCallback.ts"),useCollectionSpeedSearch=__webpack_require__("./src/CollectionSpeedSearch/useCollectionSpeedSearch.ts"),button_dist_module=__webpack_require__("../../node_modules/@react-aria/button/dist/module.js"),PlatformIcon=__webpack_require__("./src/Icon/PlatformIcon.tsx"),AutoHoverPlatformIcon=__webpack_require__("./src/Icon/AutoHoverPlatformIcon.tsx"),styled=__webpack_require__("./src/styled.ts"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledSearchIcon=(0,styled.zo)(PlatformIcon.vq)`
  margin-right: 0.25rem;
`,StyledSpeedSearchInput=styled.zo.span`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  background: ${({theme,noMatch})=>noMatch?theme.color("SearchField.errorBackground",theme.dark?"#743A3A":"#ffcccc"):theme.color("TextField.background")}; // fallback logic not checked with the ref impl
  color: ${({theme})=>theme.color("TextField.foreground")}; // fallback logic not checked with the ref impl
  height: 1.5rem; // 24px, JBTextField COMPACT_HEIGHT
  padding: 0.125rem 0.375rem;
  border: 1px solid ${({theme})=>theme.getOutlineColor(!0,!1)};
  border-radius: ${({theme})=>(theme.value("Component.arc")??5)/2}px;
`,StyledSearchText=styled.zo.span`
  flex: 1;
  font-size: 0.91em; // RelativeFont.SMALL
`,SpeedSearchInput=react.forwardRef((({active,match,children,clear},ref)=>{const clearButtonRef=(0,react.useRef)(null),{buttonProps}=(0,button_dist_module.U)({elementType:"span","aria-label":"Clear search",excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:clear},clearButtonRef);return active?(0,jsx_runtime.jsxs)(StyledSpeedSearchInput,{ref,noMatch:!match,children:[(0,jsx_runtime.jsx)(StyledSearchIcon,{icon:"actions/search"}),(0,jsx_runtime.jsx)(StyledSearchText,{children:(children||"").replace(/ /g," ")}),children&&(0,jsx_runtime.jsx)(AutoHoverPlatformIcon.v,{...buttonProps,ref:clearButtonRef,icon:"actions/close",hoverIcon:"actions/closeHovered"})]}):null}));try{SpeedSearchInput.displayName="SpeedSearchInput",SpeedSearchInput.__docgenInfo={description:"An input field to be rendered to show the filter value in speed search in menus and similar speedSearch-enabled\ncomponents.",displayName:"SpeedSearchInput",props:{match:{defaultValue:null,description:"",name:"match",required:!1,type:{name:"boolean"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean | undefined"}},clear:{defaultValue:null,description:"",name:"clear",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SpeedSearch/SpeedSearchInput.tsx#SpeedSearchInput"]={docgenInfo:SpeedSearchInput.__docgenInfo,name:"SpeedSearchInput",path:"src/SpeedSearch/SpeedSearchInput.tsx#SpeedSearchInput"})}catch(__react_docgen_typescript_loader_error){}var StyledMenu=__webpack_require__("./src/Menu/StyledMenu.tsx"),Menu=__webpack_require__("./src/Menu/Menu.tsx"),renderMenuNodes=__webpack_require__("./src/Menu/renderMenuNodes.tsx"),Submenu=__webpack_require__("./src/Menu/Submenu.tsx"),_useSubmenuState=__webpack_require__("./src/Menu/_useSubmenuState.tsx"),_useSubmenu=__webpack_require__("./src/Menu/_useSubmenu.ts"),StyledSeparator=__webpack_require__("./src/StyledSeparator.tsx");const StyledItemsContainer=styled.zo.ul`
  all: unset;
  flex: 1;
  overflow: auto;
`,StyledSearchFieldWrapper=styled.zo.div`
  flex-shrink: 0;
  padding: 0 0.2rem 0.3rem;
`,StyledSpeedSearchMenu=(0,styled.zo)(StyledMenu.l2)`
  --jui-menu-item-padding: 1.25rem;
  ${StyledSeparator.l} {
    margin: 0 3px; // FIXME: probably use theme
  }
`,StyledPlaceholder=styled.zo.div`
  color: ${({theme})=>theme.color("Component.infoForeground",theme.dark?"#787878":"#999999")};

  // center positioning. Intentionally different from reference impl.
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;

  white-space: nowrap;
`;function useSpeedSearchMenu(state,rootKey,ref,containerRef){const{speedSearch,selectionManager,keyboardDelegate,containerProps:speedSearchContainerProps,searchPopupProps}=(0,useCollectionSpeedSearch.q)({collection:(0,react.useMemo)((()=>new list_dist_module.DC(rootKey?state.collection.getItem(rootKey).childNodes:state.collection)),[rootKey,state.collection]),selectionManager:state.selectionManager,keyboardDelegate:new _useSubmenu.R(rootKey,state.collection,state.disabledKeys,ref),stickySearch:!0,focusBestMatch:!0,ref});(0,react.useEffect)((()=>{const element=ref.current;element&&state.selectionManager.isFocused&&!element?.contains(document.activeElement)&&(0,focus_dist_module.ex)(element)}));const lastSize=(0,react.useRef)({width:0,height:0}),[size,setSize]=(0,react.useState)(null),isSearchActive=speedSearch.active&&speedSearch.searchTerm.length>0;(0,dist_module.yU)({ref:containerRef,onResize:(0,useEventCallback.$)((()=>{isSearchActive||(lastSize.current={width:containerRef.current?.offsetWidth??0,height:containerRef.current?.offsetHeight??0})}))}),(0,dist_module.bt)((()=>{setSize(isSearchActive?lastSize.current:null)}),[isSearchActive]);const sizeStyleProps=size?{style:{...size,minHeight:size.height,maxHeight:size.height}}:{};return{speedSearch,keyboardDelegate,selectionManager,speedSearchContainerProps:(0,dist_module.dG)(speedSearchContainerProps,sizeStyleProps,{onMouseDown:e=>{e.preventDefault()}}),searchPopupProps}}const SpeedSearchMenu=({submenuBehavior="toggleOnPress",autoFocus="first",emptyText="Nothing to show",...props})=>{const ref=react.useRef(null),containerRef=react.useRef(null),state=(0,Menu.w8)({...props}),{speedSearch,speedSearchContainerProps,searchPopupProps,keyboardDelegate}=useSpeedSearchMenu(state,null,ref,containerRef),{menuContextValue,menuProps}=(0,Menu.H9)({...props,autoFocus,onAction:key=>{props.onAction?.(key),speedSearch.clear()},keyboardDelegate,submenuBehavior},state,ref);return(0,jsx_runtime.jsx)(Menu.pl.Provider,{value:{...menuContextValue,renderSubmenu:props=>(0,jsx_runtime.jsx)(SpeedSearchSubmenu,{emptyText,...props})},children:(0,jsx_runtime.jsx)(StyledSpeedSearchMenu,{as:"div",ref:containerRef,...speedSearchContainerProps,fillAvailableSpace:props.fillAvailableSpace,children:(0,jsx_runtime.jsx)(SpeedSearchMenuContent,{items:[...state.collection],emptyText,speedSearch,searchPopupProps,state,menuProps,menuRef:ref})})})};function SpeedSearchMenuContent({items,state,speedSearch,searchPopupProps,menuProps,menuRef,emptyText}){const filter=speedSearch.active?({key,type})=>"item"!==type||speedSearch.matches.has(key):void 0;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[searchPopupProps.children&&(0,jsx_runtime.jsx)(StyledSearchFieldWrapper,{onClick:e=>{e.preventDefault()},children:(0,jsx_runtime.jsx)(SpeedSearchInput,{...searchPopupProps,clear:speedSearch.clear})}),(0,jsx_runtime.jsxs)(StyledItemsContainer,{...menuProps,ref:menuRef,children:[(0,renderMenuNodes.p)(state,items,filter),speedSearch.active&&0===speedSearch.matches.size&&(0,jsx_runtime.jsx)(StyledPlaceholder,{children:emptyText})]})]})}function SpeedSearchSubmenu({parentState,rootKey,emptyText}){const ref=(0,react.useRef)(null),containerRef=(0,react.useRef)(null),state=(0,_useSubmenuState.P)(parentState),rootItem=state.collection.getItem(rootKey),{speedSearch,speedSearchContainerProps,searchPopupProps,keyboardDelegate}=useSpeedSearchMenu(state,rootKey,ref,containerRef),{submenuProps}=(0,Submenu.d)({rootKey,parentState,keyboardDelegate},state,ref);return(0,jsx_runtime.jsx)(StyledSpeedSearchMenu,{...speedSearchContainerProps,as:"div",ref:containerRef,children:(0,jsx_runtime.jsx)(SpeedSearchMenuContent,{items:[...rootItem?.childNodes||[]],speedSearch,searchPopupProps,state,menuProps:submenuProps,menuRef:ref,emptyText})})}SpeedSearchMenu.displayName="SpeedSearchMenu",SpeedSearchSubmenu.displayName="SpeedSearchSubmenu";try{SpeedSearchMenu.displayName="SpeedSearchMenu",SpeedSearchMenu.__docgenInfo={description:"Drop-in replacement for Menu, which implements SpeedSearch.",displayName:"SpeedSearchMenu",props:{submenuBehavior:{defaultValue:{value:"toggleOnPress"},description:"",name:"submenuBehavior",required:!1,type:{name:"enum",value:[{value:'"toggleOnPress"'},{value:'"actionOnPress"'}]}},emptyText:{defaultValue:{value:"Nothing to show"},description:"Text to show when the filtering is active but no match is found for the current query.",name:"emptyText",required:!1,type:{name:"ReactNode"}},fillAvailableSpace:{defaultValue:null,description:"fills the available horizontal or vertical space, when rendered in a flex container.",name:"fillAvailableSpace",required:!1,type:{name:"boolean"}},expandedKey:{defaultValue:null,description:"Indicates currently expanded menu item (controlled).",name:"expandedKey",required:!1,type:{name:"Key"}},onExpandedKeyChange:{defaultValue:null,description:"Called when expanded menu item is changed by user interaction, which can be either hovering over the menu item",name:"onExpandedKeyChange",required:!1,type:{name:"((expandedKey: Key) => void)"}},defaultExpandedKey:{defaultValue:null,description:"",name:"defaultExpandedKey",required:!1,type:{name:"Key"}},expandOn:{defaultValue:null,description:"@deprecated",name:"expandOn",required:!1,type:{name:"enum",value:[{value:'"hover"'},{value:'"press"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Menu/SpeedSearchMenu.tsx#SpeedSearchMenu"]={docgenInfo:SpeedSearchMenu.__docgenInfo,name:"SpeedSearchMenu",path:"src/Menu/SpeedSearchMenu.tsx#SpeedSearchMenu"})}catch(__react_docgen_typescript_loader_error){}},"./src/Popup/PopupManager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>usePopupManager,q:()=>PopupManager});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Popup_PopupContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Popup/PopupContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const PopupsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({show:()=>{throw new Error("PopupManager not found. Wrap your application with PopupManager to be able to open popups imperatively")}}),usePopupManager=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PopupsContext),PopupManager=({children})=>{const[popups,setPopups]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),newKeyRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),api=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({show:popup=>{newKeyRef.current++;const close=()=>{setPopups((currentPopups=>currentPopups.filter((aPopup=>aPopup!==wrappedPopup))))},wrappedPopup=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Popup_PopupContext__WEBPACK_IMPORTED_MODULE_2__.V.Provider,{value:{onClose:close},children:"function"==typeof popup?popup({close}):popup},newKeyRef.current);setPopups((currentPopups=>currentPopups.concat(wrappedPopup)))}})),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(PopupsContext.Provider,{value:api,children:[children,popups]})};PopupManager.displayName="PopupManager";try{usePopupManager.displayName="usePopupManager",usePopupManager.__docgenInfo={description:"Returns imperative API for showing popups.",displayName:"usePopupManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/PopupManager.tsx#usePopupManager"]={docgenInfo:usePopupManager.__docgenInfo,name:"usePopupManager",path:"src/Popup/PopupManager.tsx#usePopupManager"})}catch(__react_docgen_typescript_loader_error){}try{PopupManager.displayName="PopupManager",PopupManager.__docgenInfo={description:"Enables imperative API (via {@link usePopupManager}) for showing Popups.\nIt renders popups in a portal appended to `body`, unless `disablePortal` is `true`.",displayName:"PopupManager",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Popup/PopupManager.tsx#PopupManager"]={docgenInfo:PopupManager.__docgenInfo,name:"PopupManager",path:"src/Popup/PopupManager.tsx#PopupManager"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tabs/TabCloseButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>TabCloseButton});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_Button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Button/BareButton.tsx"),_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledIconWrapper=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.span`
  display: inherit;
  .icon.hover {
    display: none;
  }
  &:hover {
    .icon {
      display: none;
    }
    .icon.hover {
      display: unset;
    }
  }
`,TabCloseButton=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Button__WEBPACK_IMPORTED_MODULE_3__.V,{...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledIconWrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icon__WEBPACK_IMPORTED_MODULE_4__.vq,{icon:"actions/closeHovered",className:"icon hover"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Icon__WEBPACK_IMPORTED_MODULE_4__.vq,{icon:"actions/close",className:"icon"})]})});TabCloseButton.displayName="TabCloseButton";try{TabCloseButton.displayName="TabCloseButton",TabCloseButton.__docgenInfo={description:"Close button for Tab",displayName:"TabCloseButton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/TabCloseButton.tsx#TabCloseButton"]={docgenInfo:TabCloseButton.__docgenInfo,name:"TabCloseButton",path:"src/Tabs/TabCloseButton.tsx#TabCloseButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tabs/TabItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>TabItem});const TabItem=__webpack_require__("../../node_modules/@react-stately/collections/dist/module.js").ck;try{TabItem.displayName="TabItem",TabItem.__docgenInfo={description:"Same as {@link Item}, but allows for specifying the tab content for when it's rendered in the overflow menu item.",displayName:"TabItem",props:{inOverflowMenu:{defaultValue:null,description:"Determines how the tab item should look when rendered as a menu item in overflow menu.\nIf not passed, `textValue` will be used.\n@example <TabItem\n  key={tab.id}\n  textValue={tab.title}\n  inOverflowMenu={\n    <MenuItemLayout content={tab.title} icon={icon} />\n  }\n >\n  <TabContentLayout startIcon={icon} title={tab.title} />\n</TabItem>",name:"inOverflowMenu",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/TabItem.tsx#TabItem"]={docgenInfo:TabItem.__docgenInfo,name:"TabItem",path:"src/Tabs/TabItem.tsx#TabItem"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>toolWindowTabTheme,i:()=>StyledToolWindowTab});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Tabs_StyledDefaultTab__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/StyledDefaultTab.ts"),_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/TabTheme.ts");const toolWindowTabTheme=({theme})=>({borderColor:theme.color("ToolWindow.HeaderTab.borderColor"),underlineHeight:theme.value("ToolWindow.HeaderTab.underlineHeight"),background:"transparent",underlinedTabInactiveBackground:theme.color("ToolWindow.HeaderTab.underlinedTabInactiveBackground"),underlinedTabBackground:theme.color("ToolWindow.HeaderTab.underlinedTabBackground"),hoverInactiveBackground:theme.color("ToolWindow.HeaderTab.hoverInactiveBackground")??theme.color("ToolWindow.HeaderTab.hoverBackground"),hoverBackground:theme.color("ToolWindow.HeaderTab.hoverBackground"),inactiveUnderlineColor:theme.color("ToolWindow.HeaderTab.inactiveUnderlineColor"),underlineColor:theme.color("ToolWindow.HeaderTab.underlineColor"),underlinedTabInactiveForeground:theme.color("ToolWindow.HeaderTab.underlinedTabInactiveForeground")??theme.color("ToolWindow.HeaderTab.underlinedTabForeground"),underlinedTabForeground:theme.color("ToolWindow.HeaderTab.underlinedTabForeground")}),StyledToolWindowTab=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.zo)(_intellij_platform_core_Tabs_StyledDefaultTab__WEBPACK_IMPORTED_MODULE_1__.z)`
  padding: 0 0.7rem;
  ${({theme})=>(0,_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__.s)(toolWindowTabTheme({theme}))};
`},"./src/Tabs/ToolWindowTabs/StyledToolWindowTabs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>StyledToolWindowTabs});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/TabTheme.ts"),_intellij_platform_core_Tabs_StyledDefaultTabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/StyledDefaultTabs.ts"),_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts");const StyledToolWindowTabs=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.zo)(_intellij_platform_core_Tabs_StyledDefaultTabs__WEBPACK_IMPORTED_MODULE_1__.f)`
  ${({theme})=>(0,_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__.N)((0,_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__.f)({theme}))};
`},"./src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>ToolWindowTabs});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_Tabs_Tabs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/Tabs.tsx"),_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts"),_StyledToolWindowTabs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTabs.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ToolWindowTabs=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tabs_Tabs__WEBPACK_IMPORTED_MODULE_2__.m,{...props,TabComponent:_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__.i,TabsComponent:_StyledToolWindowTabs__WEBPACK_IMPORTED_MODULE_4__.o,focusable:!1});ToolWindowTabs.displayName="ToolWindowTabs";try{ToolWindowTabs.displayName="ToolWindowTabs",ToolWindowTabs.__docgenInfo={description:"",displayName:"ToolWindowTabs",props:{active:{defaultValue:null,description:'Enables "active" style on tabs. Is usually related to a container having focus.',name:"active",required:!1,type:{name:"boolean"}},noBorders:{defaultValue:{value:"false"},description:"Removes the top and bottom border when passed.\nIt's still not clear whether such option makes sense or not, but\nat least in common use cases like in tool windows, it seems borders are already there and there should be a way\nof removing tab borders. On the other hand, when Tabs is used without any assumption about the surrounding UI,\nit kind of makes sense to have the top and bottom borders by default. So that's why this is made an option for\nnow, maybe until things are clearer.",name:"noBorders",required:!1,type:{name:"boolean"}},multiRow:{defaultValue:{value:"false"},description:"If set to true, tabs will be wrapped into multiple rows if needed.\nNOTE: In the original implementation, in multi row mode, rows are separated by a border. It's not easy to achieve\nthis when we are implementing this feature with a simple `flex-wrap: wrap` css rule. It doesn't seem that\nimportant, but we can achieve something similar by some css tricks like the ones suggested here:\nhttps://stackoverflow.com/questions/36128333/row-lines-for-flex-container-css",name:"multiRow",required:!1,type:{name:"boolean"}},noOverflowMenu:{defaultValue:null,description:"Only effective when {@link multiRow } is not true.\nWhen set to true, tabs that couldn't be fitted into the available space, are either shrunk (if {@link noScroll }\nis set to true), or are just accessible by scroll.",name:"noOverflowMenu",required:!1,type:{name:"boolean"}},noScroll:{defaultValue:{value:"false"},description:"Only effective when {@link multiRow } is not true.\nIf set to true and multiRow is not true, it will prevent horizontal scroll of tabs. Depending on the value of\nIn this case:\n- if {@link noOverflowMenu } is not set to true, tabs that can't be fitted into the available space will be\n  accessible via an overflow menu.\n- if {@link noOverflowMenu } is set to true, the tabs will be fitted into the available space, and they will\n  be shrunk when needed.\n@todo : not implemented yet.",name:"noScroll",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx#ToolWindowTabs"]={docgenInfo:ToolWindowTabs.__docgenInfo,name:"ToolWindowTabs",path:"src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx#ToolWindowTabs"})}catch(__react_docgen_typescript_loader_error){}},"./src/ThreeViewSplitter/ThreeViewSplitter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>ThreeViewSplitter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_Resizer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Resizer/RightResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Resizer/BottomResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Resizer/LeftResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Resizer/TopResizer.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledSplitterContainer=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({displayName:"ThreeViewSplitter__StyledSplitterContainer",componentId:"sc-j4euj9-0"})(["display:flex;width:100%;height:100%;overflow:hidden;flex-direction:",";"],(({orientation})=>"vertical"===orientation?"column":"row")),StyledSplitterInnerView=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({displayName:"ThreeViewSplitter__StyledSplitterInnerView",componentId:"sc-j4euj9-1"})(["overflow:auto;flex:1;"]),ThreeViewSplitter=({orientation="horizontal",firstView,firstSize,lastView,lastSize,onFirstResize,onLastResize,resizerProps:resizerPropsOverrides={},innerView,innerViewMinSize,...containerProps})=>{const containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),firstViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),lastViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[firstSizeState,setFirstSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[lastSizeState,setLastSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),theme=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.Fg)(),value=(horizontalValue,verticalValue)=>"horizontal"===orientation?horizontalValue:verticalValue,FirstResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_3__.i,_Resizer__WEBPACK_IMPORTED_MODULE_4__.o),SecondResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_5__.t,_Resizer__WEBPACK_IMPORTED_MODULE_6__.m),sizeStyleProp=value("width","height"),minSizeStyleProp=value("minWidth","minHeight"),resizerProps={background:theme.commonColors.contrastBorder,size:1,...resizerPropsOverrides},isFractionSize=size=>size<1,normalizeSize=size=>null!=size?isFractionSize(size)?100*size+"%":Math.round(size):void 0,getSize=elem=>value(elem.offsetWidth,elem.offsetHeight),getNewSize=(currentSize,newSize)=>{if(null!=currentSize&&isFractionSize(currentSize)){if(!containerRef.current)throw new Error("ThreeViewSplitter: Could not locate container to calculate fraction size");const newFractionSize=newSize/value(containerRef.current.offsetWidth,containerRef.current.offsetHeight);return newFractionSize<1?newFractionSize:currentSize}return Math.max(newSize,1)},getActualSize=viewElem=>{if(!containerRef.current||!viewElem)return null;const actualSize=getSize(viewElem);return viewElem.style[sizeStyleProp]?.includes("%")?actualSize/getSize(containerRef.current):actualSize},currentLastSize=normalizeSize(lastSizeState??lastSize),currentFirstSize=normalizeSize(firstSizeState??firstSize);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(StyledSplitterContainer,{ref:containerRef,orientation,...containerProps,children:[firstView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref:firstViewRef,style:{[sizeStyleProp]:currentFirstSize,[minSizeStyleProp]:null!==lastSizeState?currentFirstSize:void 0},children:firstView}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FirstResizer,{onResizeStarted:()=>{const size=getSize(firstViewRef.current);return setFirstSizeState(firstSize??size),size},onResize:newSize=>{null!=firstSizeState&&setFirstSizeState(getNewSize(firstSizeState,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(firstViewRef.current);null!==actualSize&&onFirstResize?.(actualSize),setFirstSizeState(null)},...resizerProps})]}),innerView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledSplitterInnerView,{style:{[value("minWidth","minHeight")]:innerViewMinSize},children:innerView}),lastView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(SecondResizer,{onResizeStarted:()=>{const size=getSize(lastViewRef.current);return setLastSizeState(lastSize??size),size},onResize:newSize=>{null!=lastSizeState&&setLastSizeState(getNewSize(lastSizeState,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(lastViewRef.current);null!==actualSize&&onLastResize?.(actualSize),setLastSizeState(null)},...resizerProps}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{ref:lastViewRef,style:{[sizeStyleProp]:currentLastSize,[minSizeStyleProp]:null!==firstSizeState?currentLastSize:void 0},children:lastView})]})]})};ThreeViewSplitter.displayName="ThreeViewSplitter";try{ThreeViewSplitter.displayName="ThreeViewSplitter",ThreeViewSplitter.__docgenInfo={description:"Corresponding to\n[ThreeComponentsSplitter](https://github.com/JetBrains/intellij-community/blob/58dbd93e9ea527987466072fa0bfbf70864cd35f/platform/platform-api/src/com/intellij/openapi/ui/ThreeComponentsSplitter.java#L40-L40)\n`firstView` and `lastView` are optional, and if not provided, the corresponding resizer is not rendered.\ninnerView is supposed to fill the remaining space, while firstView and lastView have specific sizes.\nsize changes in a resize interaction is not reported and is handled by local state in the component. That's\nto prevent frequent state updates in a higher level which can be expensive. It's also based on this assumption\nthat in the usage side there is no need for any control over resizing or even knowing the intermediate state.\nMaybe a minSize and maxSize would be the extent of the required control over resizing. But anyway, this model\nof keeping the size as a local state during a resize session is something that can be changed if needed.\n\nFeatures:\n- Relative sizing (fraction of the container)\n- Default size by content\n- Change handling only when resize is done.\n\nTODO: max and min size not implemented\nTODO: add support for uncontrolled version",displayName:"ThreeViewSplitter",props:{orientation:{defaultValue:{value:"horizontal"},description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},resizerProps:{defaultValue:null,description:"",name:"resizerProps",required:!1,type:{name:'Partial<Omit<ResizerProps<"horizontal" | "vertical">, "onResize" | "onResizeStarted" | "onResizeEnd">>'}},innerView:{defaultValue:null,description:"",name:"innerView",required:!1,type:{name:"ReactNode"}},innerViewMinSize:{defaultValue:null,description:"",name:"innerViewMinSize",required:!1,type:{name:"number"}},firstView:{defaultValue:null,description:"",name:"firstView",required:!1,type:{name:"ReactNode"}},firstSize:{defaultValue:null,description:"",name:"firstSize",required:!1,type:{name:"number | null"}},lastView:{defaultValue:null,description:"",name:"lastView",required:!1,type:{name:"ReactNode"}},lastSize:{defaultValue:null,description:"",name:"lastSize",required:!1,type:{name:"number | null"}},onFirstResize:{defaultValue:null,description:"",name:"onFirstResize",required:!1,type:{name:"((size: number) => void)"}},onLastResize:{defaultValue:null,description:"",name:"onLastResize",required:!1,type:{name:"((size: number) => void)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ThreeViewSplitter/ThreeViewSplitter.tsx#ThreeViewSplitter"]={docgenInfo:ThreeViewSplitter.__docgenInfo,name:"ThreeViewSplitter",path:"src/ThreeViewSplitter/ThreeViewSplitter.tsx#ThreeViewSplitter"})}catch(__react_docgen_typescript_loader_error){}},"./src/ToolWindows/StyledToolWindowOuterLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>StyledToolWindowOuterLayout});var _styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const TopStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: ts;
`,BottomStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: bs;
`,LeftStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  grid-area: ls;
`,RightStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  grid-area: rs;
`,InnerView=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  grid-area: main;
  min-height: 0; // necessary to prevent overflow;
  position: relative; // necessary for undock views which are absolute positioned
  background: inherit;
  min-width: 0; // very important for layout. If not set, resizing tool windows can cause weird scrollbar inside tool windows pane.
`,StyledToolWindowOuterLayout={Shell:_styled__WEBPACK_IMPORTED_MODULE_0__.zo.div`
  display: grid;
  grid-template-columns: min-content auto min-content;
  grid-template-rows: min-content auto min-content;
  grid-template-areas:
    ".   ts   ."
    "ls main rs"
    ".   bs   .";

  background: ${({theme})=>theme.commonColors.panelBackground};
  color: ${({theme})=>theme.color("*.foreground")};
  ${({hideStripes})=>hideStripes&&(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.iv)(["",",",",",",","{display:none;}"],TopStripe,BottomStripe,LeftStripe,RightStripe)}
`,TopStripe,BottomStripe,LeftStripe,RightStripe,InnerView}},"./src/ToolWindows/ToolWindows.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>ToolWindows});var react=__webpack_require__("../../node_modules/react/index.js"),dist_module=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),ThreeViewSplitter=__webpack_require__("./src/ThreeViewSplitter/ThreeViewSplitter.tsx"),FocusScope=__webpack_require__("./src/utils/FocusScope.tsx"),move=__webpack_require__("../../node_modules/ramda/es/move.js"),utils_dist_module=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),style_constants=__webpack_require__("./src/style-constants.ts"),styled=__webpack_require__("./src/styled.ts"),useResizableMovableOverlay=__webpack_require__("./src/Overlay/useResizableMovableOverlay.tsx"),OverlayInteractionHandler=__webpack_require__("./src/Overlay/OverlayInteractionHandler.tsx"),OverlayResizeHandles=__webpack_require__("./src/Overlay/OverlayResizeHandles.tsx"),overlays_dist_module=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledFloatView=styled.zo.div`
  box-sizing: border-box;
  position: fixed;
  background: ${({theme})=>theme.commonColors.panelBackground};
  color: ${({theme})=>theme.color("*.foreground")};
  // border color doesn't seem to be correct and needs more investigation. might be even os-specific and outside
  // theme colors.
  border: ${({theme})=>`1px solid ${theme.color("Component.borderColor")}`};
  ${style_constants.s};
  ${(0,utils_dist_module.V5)()&&(0,styled_components_browser_esm.iv)(["border-radius:8px;"])}
  z-index: 2;
`,FloatView=({children,state:{bounds},onBoundsChange,...otherProps})=>{const ref=(0,react.useRef)(null),{bounds:boundsStyle,overlayInteractionHandlerProps}=(0,useResizableMovableOverlay.t)(ref,{bounds,onBoundsChange});return(0,jsx_runtime.jsx)(overlays_dist_module.aV,{children:(0,jsx_runtime.jsx)(StyledFloatView,{...otherProps,ref,style:{...otherProps.style,...boundsStyle},children:(0,jsx_runtime.jsxs)(OverlayInteractionHandler.Z,{...overlayInteractionHandlerProps,children:[(0,jsx_runtime.jsx)(OverlayResizeHandles.S,{minWidth:100,minHeight:40}),children]})})})};FloatView.displayName="FloatView";try{FloatView.displayName="FloatView",FloatView.__docgenInfo={description:"Container for tool windows in float view mode. It handles some visual aspects like the border and shadow, as well as\nUI interactions for changing the floatingBound of the tool window.",displayName:"FloatView",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"FloatWindowState"}},onBoundsChange:{defaultValue:null,description:"",name:"onBoundsChange",required:!0,type:{name:"(bounds: WindowBounds) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/FloatView.tsx#FloatView"]={docgenInfo:FloatView.__docgenInfo,name:"FloatView",path:"src/ToolWindows/FloatView.tsx#FloatView"})}catch(__react_docgen_typescript_loader_error){}function FloatToolWindows({floatWindows=[],onBoundsChange,renderToolWindow}){const stackedFloatWindows=function useStackedLayersState(items,getKey){const[sortedKeys,setSortedKeys]=(0,react.useState)([]),sorted=items.sort(((a,b)=>sortedKeys.indexOf(getKey(a))-sortedKeys.indexOf(getKey(b))));return{sorted,bringToFront:index=>{setSortedKeys((0,move.Z)(index,-1,sorted).map(getKey))}}}(floatWindows,(({key})=>key)),{layersProps}=function useStackedLayers(state){return{layersProps:state.sorted.map(((_,index)=>({onFocus:()=>{state.bringToFront(index)}})))}}(stackedFloatWindows);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:stackedFloatWindows.sorted.map(((toolWindow,index)=>(0,jsx_runtime.jsx)(FloatView,{state:toolWindow,...layersProps[index],onBoundsChange:bounds=>onBoundsChange(toolWindow.key,bounds),children:renderToolWindow(toolWindow.key)},toolWindow.key)))})}try{FloatToolWindows.displayName="FloatToolWindows",FloatToolWindows.__docgenInfo={description:"Renders float tool windows.\n- handles resize and move actions for float windows.\n- handles layering of float tool windows.",displayName:"FloatToolWindows",props:{floatWindows:{defaultValue:{value:"[]"},description:"",name:"floatWindows",required:!1,type:{name:"FloatWindowState[]"}},onBoundsChange:{defaultValue:null,description:"",name:"onBoundsChange",required:!0,type:{name:"(key: Key, bounds: WindowBounds) => void"}},renderToolWindow:{defaultValue:null,description:"",name:"renderToolWindow",required:!0,type:{name:"(key: Key) => ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/FloatToolWindows.tsx#FloatToolWindows"]={docgenInfo:FloatToolWindows.__docgenInfo,name:"FloatToolWindows",path:"src/ToolWindows/FloatToolWindows.tsx#FloatToolWindows"})}catch(__react_docgen_typescript_loader_error){}var MovableToolWindowStripeProvider=__webpack_require__("./src/ToolWindows/MovableToolWindowStripeProvider.tsx"),StyledToolWindowOuterLayout=__webpack_require__("./src/ToolWindows/StyledToolWindowOuterLayout.tsx"),map=__webpack_require__("../../node_modules/ramda/es/map.js"),prop=__webpack_require__("../../node_modules/ramda/es/prop.js"),compose=__webpack_require__("../../node_modules/ramda/es/compose.js"),sortBy=__webpack_require__("../../node_modules/ramda/es/sortBy.js"),filter=__webpack_require__("../../node_modules/ramda/es/filter.js"),pipe=__webpack_require__("../../node_modules/ramda/es/pipe.js"),groupBy=__webpack_require__("../../node_modules/ramda/es/groupBy.js"),utils=__webpack_require__("./src/ToolWindows/utils.ts");const getSizeInAnchor=(containerSize,anchor)=>containerSize[(0,utils.m$)(anchor)?"height":"width"],mapToKey=(0,map.Z)((0,prop.Z)("key")),sortAndMapToKey=(0,compose.Z)(mapToKey,(0,sortBy.Z)((({order})=>order))),filterMains=(0,filter.Z)((({isSplit})=>!isSplit)),getMains=(0,compose.Z)(sortAndMapToKey,filterMains),filterSplits=(0,filter.Z)((({isSplit})=>isSplit)),filterVisible=(expectedViewMode=[])=>(0,filter.Z)((({viewMode,isVisible})=>isVisible&&[].concat(expectedViewMode).includes(viewMode))),getSplits=(0,compose.Z)(sortAndMapToKey,filterSplits),filterVisibleDocked=filterVisible(["docked_unpinned","docked_pinned"]),filterVisibleUnDocked=filterVisible("undock"),getDocked=(anchor,containerSize,toolWindows)=>{const docks=filterVisibleDocked(toolWindows),mains=filterMains(docks),splits=filterSplits(docks);if(mains.length>1||splits.length>1)throw new Error("More than one visible docked window in a side is not possible");if(mains[0]||splits[0]){const weight=mains[0]?.weight||splits[0]?.weight;return{mainKey:mains[0]?.key||splits[0]?.key,split:mains[0]?.key&&splits[0]?.key?{key:splits[0].key,sizeFraction:mains[0].weight?1-mains[0].sideWeight:splits[0].sideWeight}:null,size:weight*getSizeInAnchor(containerSize,anchor)}}return null},getUnDocked=(anchor,containerSize,toolWindows)=>{const windows=filterVisibleUnDocked(toolWindows);if(1===windows.length)return{key:windows[0].key,size:windows[0].weight*getSizeInAnchor(containerSize,anchor)};if(0===windows.length)return null;throw new Error("More than one visible undocked window in a side is not possible")},getSideState=(anchor,containerSize,toolWindows)=>({stripes:{main:getMains(toolWindows),split:getSplits(toolWindows),activeKeys:mapToKey(toolWindows.filter((({isVisible})=>isVisible)))},undocked:getUnDocked(anchor,containerSize,toolWindows),docked:getDocked(anchor,containerSize,toolWindows)}),getFloatWindowsState=(viewMode,containerSize,toolWindows)=>(0,pipe.Z)(filterVisible(viewMode),(0,map.Z)((containerSize=>({floatingBounds:bounds={top:containerSize.height/2-150,left:containerSize.width/2-200,height:300,width:400},key})=>({bounds,key}))(containerSize)))(toolWindows);var ToolWindowStateProvider=__webpack_require__("./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx"),ToolWindowStripe=__webpack_require__("./src/ToolWindows/ToolWindowStripe.tsx");const ResizableView=({children,size,onResize,resizerPlacement="after",...props})=>(0,jsx_runtime.jsx)(ThreeViewSplitter.D,{..."after"===resizerPlacement?{firstView:children,firstSize:size,onFirstResize:onResize}:{lastView:children,lastSize:size,onLastResize:onResize},...props});ResizableView.displayName="ResizableView";try{ResizableView.displayName="ResizableView",ResizableView.__docgenInfo={description:'A single resizable view, built on top of {@link ThreeViewSplitter}, just to provide better prop interface.\nLike `ThreeViewSplitter` it supports "horizontal" or "vertical orientations. There is an extra `resizerPlacement`\nprop which determines where the resizer should be placed in relation with the view. When set to "before" the view\nwill be resizable from the start ("left" or "top"). When set to "after" the view will be resizable from end ("right"\nor "bottom"). Default is "after"',displayName:"ResizableView",props:{orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},resizerProps:{defaultValue:null,description:"",name:"resizerProps",required:!1,type:{name:'Partial<Omit<ResizerProps<"horizontal" | "vertical">, "onResize" | "onResizeStarted" | "onResizeEnd">>'}},innerViewMinSize:{defaultValue:null,description:"",name:"innerViewMinSize",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onResize:{defaultValue:null,description:"",name:"onResize",required:!0,type:{name:"((size: number) => void) | undefined"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number | null | undefined"}},resizerPlacement:{defaultValue:{value:"after"},description:"Whether the resizer should be placed at before or after the resizable view.",name:"resizerPlacement",required:!1,type:{name:"enum",value:[{value:'"before"'},{value:'"after"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ResizableView.tsx#ResizableView"]={docgenInfo:ResizableView.__docgenInfo,name:"ResizableView",path:"src/ResizableView.tsx#ResizableView"})}catch(__react_docgen_typescript_loader_error){}const StyledUndockSide=styled.zo.div`
  position: absolute;
  background: inherit;
  z-index: 1;
  ${({anchor})=>(0,utils.m$)(anchor)?(0,styled_components_browser_esm.iv)(["left:0;right:0;"]):(0,styled_components_browser_esm.iv)(["top:0;bottom:0;"])};
  ${({anchor})=>(0,styled_components_browser_esm.iv)(["",":0;"],anchor)};
`;function UndockSide({state,anchor,children,onResize}){return state&&(0,jsx_runtime.jsx)(StyledUndockSide,{anchor,children:(0,jsx_runtime.jsx)(ResizableView,{orientation:(0,utils.m$)(anchor)?"vertical":"horizontal",resizerPlacement:"left"===anchor||"top"===anchor?"after":"before",size:state.size,onResize,children})})}try{UndockSide.displayName="UndockSide",UndockSide.__docgenInfo={description:"",displayName:"UndockSide",props:{state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"{ size: number; key: Key; }"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'}]}},onResize:{defaultValue:null,description:"",name:"onResize",required:!0,type:{name:"(size: number) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/UndockSide.tsx#UndockSide"]={docgenInfo:UndockSide.__docgenInfo,name:"UndockSide",path:"src/ToolWindows/UndockSide.tsx#UndockSide"})}catch(__react_docgen_typescript_loader_error){}try{StyledUndockSide.displayName="StyledUndockSide",StyledUndockSide.__docgenInfo={description:"",displayName:"StyledUndockSide",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},anchor:{defaultValue:null,description:"",name:"anchor",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"top"'},{value:'"bottom"'}]}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme<KnownThemePropertyPath>"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/UndockSide.tsx#StyledUndockSide"]={docgenInfo:StyledUndockSide.__docgenInfo,name:"StyledUndockSide",path:"src/ToolWindows/UndockSide.tsx#StyledUndockSide"})}catch(__react_docgen_typescript_loader_error){}var useLatest=__webpack_require__("./src/utils/useLatest.ts"),indexBy=__webpack_require__("../../node_modules/ramda/es/indexBy.js"),interactions_dist_module=__webpack_require__("../../node_modules/@react-aria/interactions/dist/module.js");const ToolWindows=react.forwardRef((function ToolWindows({hideToolWindowBars=!1,useWidescreenLayout=!1,allowBlurOnInteractionOutside=!1,height="100%",minHeight="0",toolWindowsState,onToolWindowStateChange,windows,children,mainContentMinWidth=50,containerProps},ref){const windowsById=(0,indexBy.Z)((({id})=>id),windows),containerRef=(0,react.useRef)(null),mainContentFocusScopeRef=(0,react.useRef)(null),[layoutState,setLayoutState]=(0,react.useState)(),windowFocusableRefs=(0,react.useRef)({}),latestRef=(0,useLatest.d)({toolWindowsState,onToolWindowStateChange});(0,react.useLayoutEffect)((()=>{const container=containerRef.current,_setLayoutState=()=>setLayoutState(function getToolWindowsLayoutState(state,containerSize,windowIds=Object.keys(state.windows)){const toolWindows=Object.keys(state.windows).filter((key=>windowIds.includes(key)&&!state.removedFromSideBarIds.has(key))).map((key=>({...state.windows[key],key}))),{top=[],bottom=[],left=[],right=[]}=(0,groupBy.Z)((({anchor})=>anchor),toolWindows);return{left:getSideState("left",containerSize,left),top:getSideState("top",containerSize,top),right:getSideState("right",containerSize,right),bottom:getSideState("bottom",containerSize,bottom),windows:getFloatWindowsState("window",containerSize,toolWindows),floatWindows:getFloatWindowsState("float",containerSize,toolWindows)}}(toolWindowsState,container.getBoundingClientRect(),windows.map((({id})=>id))));if(0===container?.offsetWidth||0===container?.offsetHeight){const observer=new ResizeObserver((([resize])=>{resize.contentRect.width>0&&resize.contentRect.height>0&&(_setLayoutState(),observer.unobserve(container))}));observer.observe(container)}_setLayoutState()}),[toolWindowsState]),(0,react.useImperativeHandle)(ref,(()=>({focus:key=>{windowFocusableRefs.current[key]?.current?.focus()},hasFocus:key=>null!==document.activeElement?.closest(`[data-tool-window-id="${key}"]`),focusLastActiveWindow:()=>{const{lastFocusedKey}=latestRef.current.toolWindowsState;null!=lastFocusedKey&&(latestRef.current.toolWindowsState.windows[lastFocusedKey].isVisible||latestRef.current.onToolWindowStateChange(toolWindowsState.show(lastFocusedKey)),windowFocusableRefs.current[lastFocusedKey].current?.focus(!0))},focusMainContent:()=>{mainContentFocusScopeRef.current?.focus()},changeState:updater=>{onToolWindowStateChange(updater(latestRef.current.toolWindowsState))}})),[]);const[interactionOutside,setInteractionOutside]=(0,react.useState)(!1);(0,interactions_dist_module.Fc)({ref:containerRef,isDisabled:!allowBlurOnInteractionOutside,onInteractOutsideStart:()=>{setInteractionOutside(!0)},onInteractOutside:()=>{setInteractionOutside(!1)}});const renderStripe=({anchor,state})=>(0,jsx_runtime.jsx)(ToolWindowStripe.f,{anchor,items:state.main,splitItems:state.split,getKey:item=>item,renderItem:item=>windowsById[item]?.toolbarButton,onItemPress:key=>onToolWindowStateChange(toolWindowsState.toggle(key)),selectedKeys:state.activeKeys}),renderToolWindow=key=>(windowFocusableRefs.current[key]||(windowFocusableRefs.current[key]=react.createRef()),(0,jsx_runtime.jsx)("div",{style:{all:"unset"},"data-tool-window-id":key,onFocus:()=>{onToolWindowStateChange(toolWindowsState.lastFocused(key))},children:(0,jsx_runtime.jsx)(FocusScope.M,{ref:windowFocusableRefs.current[key],children:(0,jsx_runtime.jsx)(ToolWindowStateProvider.P,{id:key,containerRef,mainContentFocusableRef:mainContentFocusScopeRef,toolWindowsState,onToolWindowStateChange,children:windowsById[key]?.content})})})),renderSideDockedView=({anchor,state})=>state?(0,jsx_runtime.jsx)(ThreeViewSplitter.D,{innerView:renderToolWindow(state.mainKey),innerViewMinSize:50,lastView:state.split&&renderToolWindow(state.split.key),lastSize:state.split?.sizeFraction,onLastResize:newSize=>{onToolWindowStateChange(toolWindowsState.resizeDockSplitView(anchor,newSize))},orientation:(0,utils.m$)(anchor)?"horizontal":"vertical"}):null,onDockResize=anchor=>size=>{const containerBounds=containerRef.current?.getBoundingClientRect();containerBounds&&onToolWindowStateChange(toolWindowsState.resizeDock(anchor,size,containerBounds))},getSplitViewProps=(layoutState,orientation)=>{const firstAnchor="horizontal"===orientation?"left":"top",secondAnchor="horizontal"===orientation?"right":"bottom";return{orientation,firstView:renderSideDockedView({anchor:firstAnchor,state:layoutState[firstAnchor].docked}),firstSize:layoutState[firstAnchor].docked?.size,onFirstResize:onDockResize(firstAnchor),lastView:renderSideDockedView({anchor:secondAnchor,state:layoutState[secondAnchor].docked}),lastSize:layoutState[secondAnchor].docked?.size,onLastResize:onDockResize(secondAnchor)}};return(0,jsx_runtime.jsx)(dist_module.MT,{contain:!(allowBlurOnInteractionOutside&&interactionOutside),children:(0,jsx_runtime.jsx)(StyledToolWindowOuterLayout.$.Shell,{...containerProps,ref:containerRef,hideStripes:hideToolWindowBars,style:{height,minHeight,...containerProps?.style},children:layoutState&&(layoutState=>{const horizontalSplitterProps=getSplitViewProps(layoutState,"horizontal"),verticalSplitterProps=getSplitViewProps(layoutState,"vertical"),[outerSplitterProps,innerSplitterProps]=useWidescreenLayout?[horizontalSplitterProps,verticalSplitterProps]:[verticalSplitterProps,horizontalSplitterProps],undockLayers=["left","top","right","bottom"].map((anchor=>{const state=layoutState[anchor].undocked;return state&&(0,jsx_runtime.jsx)(UndockSide,{anchor,state,onResize:size=>{containerRef.current&&onToolWindowStateChange(toolWindowsState.resizeUndock(anchor,size,containerRef.current.getBoundingClientRect()))},children:renderToolWindow(state.key)},anchor)}));return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(MovableToolWindowStripeProvider.b,{onMove:({to,from})=>{onToolWindowStateChange(toolWindowsState.move(layoutState[from.anchor].stripes[from.isSplit?"split":"main"][from.index],{anchor:to.anchor,isSplit:to.isSplit},to.index))},children:[(0,jsx_runtime.jsx)(StyledToolWindowOuterLayout.$.LeftStripe,{children:renderStripe({anchor:"left",state:layoutState.left.stripes})}),(0,jsx_runtime.jsx)(StyledToolWindowOuterLayout.$.TopStripe,{children:renderStripe({anchor:"top",state:layoutState.top.stripes})}),(0,jsx_runtime.jsx)(StyledToolWindowOuterLayout.$.RightStripe,{children:renderStripe({anchor:"right",state:layoutState.right.stripes})}),(0,jsx_runtime.jsx)(StyledToolWindowOuterLayout.$.BottomStripe,{children:renderStripe({anchor:"bottom",state:layoutState.bottom.stripes})})]}),(0,jsx_runtime.jsxs)(StyledToolWindowOuterLayout.$.InnerView,{children:[(0,jsx_runtime.jsx)(ThreeViewSplitter.D,{...outerSplitterProps,innerView:(0,jsx_runtime.jsx)(ThreeViewSplitter.D,{innerViewMinSize:mainContentMinWidth,innerView:(0,jsx_runtime.jsx)(FocusScope.M,{ref:mainContentFocusScopeRef,children}),...innerSplitterProps})}),undockLayers,(0,jsx_runtime.jsx)(FloatToolWindows,{floatWindows:layoutState?.floatWindows,renderToolWindow,onBoundsChange:(key,bounds)=>onToolWindowStateChange(toolWindowsState.setFloatingBound(key,bounds))})]})]})})(layoutState)})})}));try{ToolWindows.displayName="ToolWindows",ToolWindows.__docgenInfo={description:"",displayName:"ToolWindows",props:{windows:{defaultValue:null,description:"",name:"windows",required:!0,type:{name:"ToolWindow[]"}},toolWindowsState:{defaultValue:null,description:"",name:"toolWindowsState",required:!0,type:{name:"Readonly<ToolWindowsState>"}},onToolWindowStateChange:{defaultValue:null,description:"",name:"onToolWindowStateChange",required:!0,type:{name:"(newState: ToolWindowsState) => void"}},hideToolWindowBars:{defaultValue:{value:"false"},description:"Whether stripe buttons should be hidden or not.\n`hideToolStripes` UISettings in Intellij Platform",name:"hideToolWindowBars",required:!1,type:{name:"boolean"}},useWidescreenLayout:{defaultValue:{value:"false"},description:"`wideScreenSupport` in UISettings in Intellij Platform",name:"useWidescreenLayout",required:!1,type:{name:"boolean"}},mainContentMinWidth:{defaultValue:{value:"50"},description:"min width applied to the main content (children).",name:"mainContentMinWidth",required:!1,type:{name:"number"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:{value:"0"},description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},margin:{defaultValue:null,description:"",name:"margin",required:!1,type:{name:"Margin<string | number>"}},containerProps:{defaultValue:null,description:"props to be passed to the container element.",name:"containerProps",required:!1,type:{name:'Omit<HTMLProps<HTMLDivElement>, "as">'}},allowBlurOnInteractionOutside:{defaultValue:{value:"false"},description:"By default, `ToolWindows` prevents focus from going to `body`, when something blurs. This is especially\nuseful for global actions handled at the level of ToolWindows, to be able to consistently capture keyboard events.\nsetting `disableFocusTrap` to true prevents that default behavior.",name:"allowBlurOnInteractionOutside",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/ToolWindows.tsx#ToolWindows"]={docgenInfo:ToolWindows.__docgenInfo,name:"ToolWindows",path:"src/ToolWindows/ToolWindows.tsx#ToolWindows"})}catch(__react_docgen_typescript_loader_error){}},"./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>ToolWindowStateProvider,j:()=>useToolWindowState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/useEventCallback.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ToolWindowStateContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),useToolWindowState=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ToolWindowStateContext);if(!context)throw new Error("useToolWindowContext is meant to be used inside a tool window.");return context},ToolWindowStateProvider=({toolWindowsState,containerRef,mainContentFocusableRef,onToolWindowStateChange,id,children})=>{const blur=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((()=>{onToolWindowStateChange(toolWindowsState.blur(id))})),hide=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((()=>{onToolWindowStateChange(toolWindowsState.hide(id))})),remove=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((()=>{onToolWindowStateChange(toolWindowsState.removeFromSidebar(id))})),focusMainContent=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((()=>{mainContentFocusableRef.current?.focus()})),moveToSide=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((side=>{onToolWindowStateChange(toolWindowsState.move(id,side))})),changeViewMode=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((viewMode=>{onToolWindowStateChange(toolWindowsState.changeViewMode(id,viewMode))})),stretchWidth=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((value=>{const container=containerRef.current;if(!container)throw new Error("Couldn't resize since the container is not present");onToolWindowStateChange(toolWindowsState.stretchWidth(id,value,container.getBoundingClientRect()))})),stretchHeight=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((value=>{const container=containerRef.current;if(!container)throw new Error("Couldn't resize since the container is not present");onToolWindowStateChange(toolWindowsState.stretchHeight(id,value,container.getBoundingClientRect()))})),setFloatingBounds=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_2__.$)((bounds=>{onToolWindowStateChange(toolWindowsState.setFloatingBound(id,bounds))})),contextValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({state:toolWindowsState.windows[id],hide,blur,remove,focusMainContent,moveToSide,changeViewMode,stretchWidth,stretchHeight,setFloatingBounds})),[toolWindowsState,id]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ToolWindowStateContext.Provider,{value:contextValue,children})};ToolWindowStateProvider.displayName="ToolWindowStateProvider";try{useToolWindowState.displayName="useToolWindowState",useToolWindowState.__docgenInfo={description:"Used in a tool window's UI tree, to get access to the tool window state and actions for changing it.",displayName:"useToolWindowState",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx#useToolWindowState"]={docgenInfo:useToolWindowState.__docgenInfo,name:"useToolWindowState",path:"src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx#useToolWindowState"})}catch(__react_docgen_typescript_loader_error){}try{ToolWindowStateProvider.displayName="ToolWindowStateProvider",ToolWindowStateProvider.__docgenInfo={description:"Used in ToolWindows to provide tool window state and necessary actions as a context, which will be accessible\nwithin the tool window content tree, via {@link useToolWindowState}",displayName:"ToolWindowStateProvider",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"Key"}},containerRef:{defaultValue:null,description:"",name:"containerRef",required:!0,type:{name:"RefObject<HTMLElement>"}},mainContentFocusableRef:{defaultValue:null,description:"",name:"mainContentFocusableRef",required:!0,type:{name:"RefObject<{ focus: () => void; }>"}},toolWindowsState:{defaultValue:null,description:"",name:"toolWindowsState",required:!0,type:{name:"Readonly<ToolWindowsState>"}},onToolWindowStateChange:{defaultValue:null,description:"",name:"onToolWindowStateChange",required:!0,type:{name:"(newState: ToolWindowsState) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx#ToolWindowStateProvider"]={docgenInfo:ToolWindowStateProvider.__docgenInfo,name:"ToolWindowStateProvider",path:"src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx#ToolWindowStateProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/ToolWindows/ToolWindowsState/ToolWindowsState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Qy:()=>getViewModeType,iC:()=>ToolWindowsState,x5:()=>toolWindowState});var ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/ramda/es/curry.js"),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/ramda/es/insert.js"),ramda__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/ramda/es/move.js"),ramda__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/ramda/es/fromPairs.js"),ramda__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/ramda/es/mapObjIndexed.js"),ramda__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/ramda/es/clamp.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/ToolWindows/utils.ts");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}const isDocked=toolWindow=>"docked_unpinned"===toolWindow.viewMode||"docked_pinned"===toolWindow.viewMode,areInSameSection=(0,ramda__WEBPACK_IMPORTED_MODULE_0__.Z)(((window1,window2)=>window1.anchor===window2.anchor&&window1.isSplit===window2.isSplit)),getViewModeType=viewMode=>"docked_pinned"===viewMode||"docked_unpinned"===viewMode?"docked":"window"===viewMode||"float"===viewMode?"float":viewMode;class ToolWindowsState{constructor(windows,{lastFocusedKey=null,layoutToRestore={},removedFromSideBarIds=[]}={}){this.windows=windows,_defineProperty(this,"lastFocusedKey",void 0),_defineProperty(this,"removedFromSideBarIds",void 0),_defineProperty(this,"layoutToRestore",void 0),this.lastFocusedKey=lastFocusedKey,this.layoutToRestore=layoutToRestore,this.removedFromSideBarIds=new Set(removedFromSideBarIds);const invalidWindows=Object.keys(this.windows).filter((key=>this.removedFromSideBarIds.has(key)&&this.windows[key].isVisible));if(invalidWindows.length>0)throw new Error(`Invalid ToolWindowsState. The following windows are set as visible but are removed from the sidebar: ${invalidWindows}`)}hide(targetKey){return this.mapWindows(((toolWindow,key)=>key===targetKey?{...toolWindow,isVisible:!1}:toolWindow))}hideAll(){return this.mapWindows(((toolWindow,key)=>"float"===getViewModeType(toolWindow.viewMode)?toolWindow:{...toolWindow,isVisible:!1}),{layoutToRestore:this.windows})}restoreWindows(){return this.mapWindows(((toolWindow,key)=>this.layoutToRestore[key]||toolWindow))}lastFocused(key){return this.mapWindows((toolWindow=>toolWindow),{lastFocusedKey:key})}show(targetKey){const target=this.windows[targetKey];if(!target)return this;const closableViewModes=[];return"undock"===target.viewMode?closableViewModes.push("undock"):isDocked(target)&&closableViewModes.push("docked_unpinned","docked_pinned","undock"),this.mapWindows(((toolWindow,key)=>key===targetKey?{...toolWindow,isVisible:!0}:toolWindow.isVisible&&areInSameSection(target,toolWindow)&&closableViewModes.includes(toolWindow.viewMode)?{...toolWindow,isVisible:!1}:toolWindow),{removedFromSideBarIds:[...this.removedFromSideBarIds].filter((key=>key!==targetKey))})}toggle(targetKey){return this.windows[targetKey]?.isVisible?this.hide(targetKey):this.show(targetKey)}blur(targetKey){const target=this.windows[targetKey];return target&&("docked_unpinned"===(toolWindow=target).viewMode||"undock"===toolWindow.viewMode)?this.mapWindows((toolWindow=>toolWindow===target?{...toolWindow,isVisible:!1}:toolWindow)):this;var toolWindow}changeViewMode(targetKey,viewMode){const target=this.windows[targetKey];return target?this.mapWindows((toolWindow=>{if(toolWindow===target)return{...toolWindow,viewMode};const viewModeType=getViewModeType(toolWindow.viewMode);return toolWindow.isVisible&&"float"!==viewModeType&&areInSameSection(toolWindow,target)&&viewModeType===getViewModeType(viewMode)?{...toolWindow,isVisible:!1}:toolWindow})):this}move(targetKey,sideOrIndex,index){const target=this.windows[targetKey];if(!target)return this;const targetSide="object"==typeof sideOrIndex?sideOrIndex:target,targetIndex="number"==typeof sideOrIndex?sideOrIndex:index,targetSideWindows=Object.entries(this.windows).filter((([,value])=>areInSameSection(targetSide,value))),indexInTargetSide=targetSideWindows.findIndex((([,window])=>window===target)),sortedTargetWindows=indexInTargetSide<0?(0,ramda__WEBPACK_IMPORTED_MODULE_1__.Z)(targetIndex??-1,[targetKey,{...target,...targetSide}],targetSideWindows):(0,ramda__WEBPACK_IMPORTED_MODULE_2__.Z)(indexInTargetSide,targetIndex??indexInTargetSide,targetSideWindows),newTargetSideWindows=(0,ramda__WEBPACK_IMPORTED_MODULE_3__.Z)(sortedTargetWindows.map((([key,value],index)=>{let newValue=value;value.order!==index&&(newValue={...value,order:index});const targetViewMode=getViewModeType(target.viewMode);return key!==targetKey&&target.isVisible&&value.isVisible&&"float"!==targetViewMode&&getViewModeType(value.viewMode)===targetViewMode&&(newValue={...value,isVisible:!1}),[`${key}`,newValue]})));return this.mapWindows(((value,key)=>newTargetSideWindows[key]||value))}stretchWidth(targetKey,value,containerBounds){return this.stretch(targetKey,value,containerBounds,"width")}stretchHeight(targetKey,value,containerBounds){return this.stretch(targetKey,value,containerBounds,"height")}setFloatingBound(targetKey,floatingBounds){return this.update(targetKey,"floatingBounds",floatingBounds)}removeFromSidebar(targetKey){return this.mapWindows(((state,key)=>key===targetKey?{...state,isVisible:!1}:state),{removedFromSideBarIds:[...this.removedFromSideBarIds,targetKey]})}mapWindows(mapFn,options={}){return new ToolWindowsState((0,ramda__WEBPACK_IMPORTED_MODULE_4__.Z)(mapFn,this.windows),{lastFocusedKey:this.lastFocusedKey,layoutToRestore:this.layoutToRestore,removedFromSideBarIds:this.removedFromSideBarIds,...options})}update(targetKey,key,value){const target=this.windows[targetKey];return target?this.mapWindows((window=>window===target?{...window,[key]:value}:window)):this}stretch(targetKey,value,containerBounds,property){const target=this.windows[targetKey];if(!target)return this;const viewModeType=getViewModeType(target.viewMode);if("float"===viewModeType)return this.mapWindows((window=>{if(window===target){const currentFloatingBound=window.floatingBounds;return{...window,floatingBounds:{...currentFloatingBound,[property]:currentFloatingBound[property]+value}}}return window}));if(((0,_utils__WEBPACK_IMPORTED_MODULE_5__.m$)(target.anchor)?"height":"width")!==property)return this;const containerSize=containerBounds[property],newValue=containerSize*target.weight+value;return(0,ramda__WEBPACK_IMPORTED_MODULE_6__.Z)(0,containerSize,newValue)===newValue?"docked"===viewModeType?this.resizeDock(target.anchor,newValue,containerBounds):this.resizeUndock(target.anchor,newValue,containerBounds):this}resizeDock(anchor,size,containerBounds){return this.resizeSide(!0,anchor,size,containerBounds)}resizeUndock(anchor,size,containerBounds){return this.resizeSide(!1,anchor,size,containerBounds)}resizeDockSplitView(anchor,weight){return this.mapWindows((window=>window.anchor===anchor&&window.isVisible&&isDocked(window)?{...window,sideWeight:window.isSplit?weight:1-weight}:window))}resizeSide(dock,anchor,size,containerBounds){return this.mapWindows((window=>{const isInResizingView=dock?isDocked(window):"undock"===window.viewMode;if(window.anchor===anchor&&isInResizingView&&window.isVisible){const containerSize=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.m$)(anchor)?containerBounds.height:containerBounds.width;return{...window,weight:size/containerSize}}return window}))}}const toolWindowState=({viewMode="docked_pinned",...inputs}={})=>({anchor:"left",isSplit:!1,viewMode,order:1,weight:.2,sideWeight:.5,isVisible:!1,floatingBounds:"float"===getViewModeType(viewMode)?{left:300,top:300,width:600,height:300}:void 0,...inputs})},"./src/ToolWindowsImpl/DefaultToolWindow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>DefaultToolWindow,e:()=>useDefaultToolWindowContext});var react=__webpack_require__("../../node_modules/react/index.js"),dist_module=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),styled=__webpack_require__("./src/styled.ts"),FocusScope=__webpack_require__("./src/utils/FocusScope.tsx"),ActionsProvider=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),interactions_dist_module=__webpack_require__("../../node_modules/@react-aria/interactions/dist/module.js"),ToolWindowStateProvider=__webpack_require__("./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx"),OverlayMoveHandle=__webpack_require__("./src/Overlay/OverlayMoveHandle.tsx"),useFocusForwarder=__webpack_require__("./src/utils/useFocusForwarder.ts");function useToolWindow({containerRef,contentRef,focusableContentRef},{onFocusChange}={}){const[contentHasFocus,setContentHasFocus]=(0,react.useState)(!1),{focusWithinProps:contentFocusWithinProps}=(0,interactions_dist_module.L_)({onFocusWithinChange:setContentHasFocus}),{focusWithinProps}=(0,interactions_dist_module.L_)({onFocusWithinChange:onFocusChange}),{toolWindowProps:autoHideProps}=function useAutoHide(){const{blur}=(0,ToolWindowStateProvider.j)(),hideTimeoutId=(0,react.useRef)(null),{focusWithinProps:windowFocusWithinProps}=(0,interactions_dist_module.L_)({onBlurWithin:e=>{hideTimeoutId.current=window.setTimeout((()=>{e.relatedTarget&&blur()}))},onFocusWithin:()=>{null!==hideTimeoutId.current&&(clearTimeout(hideTimeoutId.current),hideTimeoutId.current=null)}});return{toolWindowProps:windowFocusWithinProps}}(),{focusForwarderProps}=(0,useFocusForwarder.e)({forwardFocus:focusableContentRef.current?.focus,ignoreFocusedDescendant:!0});(0,react.useEffect)((()=>{document.activeElement&&containerRef.current?.contains(document.activeElement)||containerRef.current?.focus()}),[]);const{moveHandleProps}=(0,OverlayMoveHandle.y)();return{contentHasFocus,toolWindowProps:(0,dist_module.dG)(focusForwarderProps,focusWithinProps,autoHideProps,{tabIndex:-1}),toolWindowContentProps:contentFocusWithinProps,toolWindowHeaderProps:moveHandleProps}}var ActionButton=__webpack_require__("./src/ActionButton/ActionButton.tsx"),ActionToolbar=__webpack_require__("./src/ActionToolbar/ActionToolbar.tsx"),PlatformIcon=__webpack_require__("./src/Icon/PlatformIcon.tsx"),MenuTrigger=__webpack_require__("./src/Menu/MenuTrigger.tsx"),TooltipTrigger=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),ActionTooltip=__webpack_require__("./src/Tooltip/ActionTooltip.tsx"),StyledSeparator=__webpack_require__("./src/StyledSeparator.tsx"),components=__webpack_require__("./src/ActionSystem/components/index.ts"),Divider=__webpack_require__("./src/Collections/Divider.ts"),ActionGroup=__webpack_require__("./src/ActionSystem/ActionGroup.tsx");const useActionGroup=actionGroupId=>{const action=(0,ActionsProvider.BH)(actionGroupId);if(action){if((0,ActionGroup.YC)(action))return action;throw new Error(`Action with id ${actionGroupId} is not a group`)}return null};try{useActionGroup.displayName="useActionGroup",useActionGroup.__docgenInfo={description:"",displayName:"useActionGroup",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ActionSystem/useActionGroup.tsx#useActionGroup"]={docgenInfo:useActionGroup.__docgenInfo,name:"useActionGroup",path:"src/ActionSystem/useActionGroup.tsx#useActionGroup"})}catch(__react_docgen_typescript_loader_error){}var ActionsMenu=__webpack_require__("./src/ActionSystem/components/ActionsMenu.tsx"),utils=__webpack_require__("./src/ToolWindows/utils.ts"),ToolWindowActionIds=__webpack_require__("./src/ToolWindowsImpl/ToolWindowActionIds.ts"),PopupManager=__webpack_require__("./src/Popup/PopupManager.tsx"),Popup=__webpack_require__("./src/Popup/Popup.tsx"),ActionShortcut=__webpack_require__("./src/ActionSystem/ActionShortcut.tsx"),SpeedSearchMenu=__webpack_require__("./src/Menu/SpeedSearchMenu.tsx"),useEventCallback=__webpack_require__("./src/utils/useEventCallback.ts"),flatten=__webpack_require__("../../node_modules/ramda/es/flatten.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");const useToolWindowActions_anchors=[{id:"moveToLeftTop",anchor:"left",isSplit:!1},{id:"moveToLeftBottom",anchor:"left",isSplit:!0},{id:"moveToBottomLeft",anchor:"bottom",isSplit:!1},{id:"moveToBottomRight",anchor:"bottom",isSplit:!0},{id:"moveToRightTop",anchor:"right",isSplit:!0},{id:"moveToRightBottom",anchor:"right",isSplit:!1},{id:"moveToTopRight",anchor:"top",isSplit:!0},{id:"moveToTopLeft",anchor:"top",isSplit:!1}],getAnchorName=({anchor,isSplit})=>`${anchor[0].toUpperCase()}${anchor.slice(1)} ${(0,utils.m$)(anchor)?isSplit?"Right":"Left":isSplit?"Bottom":"Top"}`,ViewModeToActionId={docked_pinned:ToolWindowActionIds.yT,docked_unpinned:ToolWindowActionIds.tA,undock:ToolWindowActionIds.JF,float:ToolWindowActionIds.xs,window:ToolWindowActionIds.Xr};function useToolWindowActions({mainContentTitle}){const{stretchWidth,stretchHeight,changeViewMode,moveToSide,focusMainContent,hide,remove,state}=(0,ToolWindowStateProvider.j)(),createDefaultActionGroup=(()=>{const{show}=(0,PopupManager.U)(),getActionShortcut=(0,ActionShortcut.k)(),openActionsInPopup=(0,useEventCallback.$)((({children,title},context)=>{show((({close})=>(0,jsx_runtime.jsx)(Popup.GI.Layout,{content:(0,jsx_runtime.jsx)(SpeedSearchMenu.w,{"aria-label":title,items:children,onAction:key=>{const action=(0,flatten.Z)(children.map((item=>(0,ActionGroup.yb)(item)?item.children:item))).find((action=>action.id===key));action&&!action.isDisabled&&action.actionPerformed(context)},onClose:close,autoFocus:"first",children:item=>(0,ActionsMenu.F)({...item,shortcut:getActionShortcut(item.id)})}),header:title})))}));return groupDefinition=>({isPopup:!0,...groupDefinition,actionPerformed:context=>openActionsInPopup(groupDefinition,context)})})(),actions=[],activeToolWindowActionGroup=createDefaultActionGroup({id:"ActiveToolwindowGroup",title:"Active Tool Window",children:actions});if(!state)return activeToolWindowActionGroup;const viewModeActionGroup=createDefaultActionGroup({id:"TW.ViewModeGroup",title:"View Mode",children:[{id:ToolWindowActionIds.yT,title:"Dock Pinned",actionPerformed:()=>{changeViewMode("docked_pinned")}},{id:ToolWindowActionIds.tA,title:"Dock Unpinned",actionPerformed:()=>{changeViewMode("docked_unpinned")}},{id:ToolWindowActionIds.JF,title:"Undock",actionPerformed:()=>{changeViewMode("undock")}},{id:ToolWindowActionIds.xs,title:"Float",actionPerformed:()=>{changeViewMode("float")}},{id:ToolWindowActionIds.Xr,title:"Window",actionPerformed:()=>{changeViewMode("window")}}]}),moveToActionGroup=createDefaultActionGroup({id:"TW.MoveToGroup",title:"Move to",children:useToolWindowActions_anchors.map((anchor=>({id:`TW.MoveTo.${anchor.id}`,title:getAnchorName(anchor),icon:(0,jsx_runtime.jsx)(PlatformIcon.vq,{icon:`actions/${anchor.id}`}),isDisabled:state.anchor===anchor.anchor&&state.isSplit===anchor.isSplit,actionPerformed:()=>{moveToSide(anchor)}})))});if(actions.push({id:ToolWindowActionIds.Od,title:`Focus ${mainContentTitle}`,actionPerformed:()=>{focusMainContent()}},{id:ToolWindowActionIds.L$,title:"Hide",icon:(0,jsx_runtime.jsx)(PlatformIcon.vq,{icon:"general/hideToolWindow"}),actionPerformed:()=>{hide()}},{id:ToolWindowActionIds.Jy,title:"Maximize Tool Window",actionPerformed:()=>{alert("Not implemented")}},{id:ToolWindowActionIds.jw,title:"Remove from Sidebar",actionPerformed:()=>{remove()}},viewModeActionGroup,moveToActionGroup),"float"===state.viewMode&&actions.push({id:ToolWindowActionIds.TD,title:"Dock",icon:(0,jsx_runtime.jsx)(PlatformIcon.vq,{icon:`actions/${useToolWindowActions_anchors.find((({anchor,isSplit})=>anchor===state.anchor&&isSplit===state.isSplit))?.id}`}),actionPerformed:()=>{changeViewMode("docked_pinned")}}),"float"!==state.viewMode&&"window"!==state.viewMode){const resizeGroup=createDefaultActionGroup({id:"ResizeToolWindowGroup",title:"Resize",children:[]});(0,utils.m$)(state.anchor)?(resizeGroup.children.push({id:ToolWindowActionIds.aV,title:"Stretch to bottom",actionPerformed:()=>{stretchHeight("bottom"===state.anchor?-80:80)}}),resizeGroup.children.push({id:ToolWindowActionIds.lh,title:"Stretch to top",actionPerformed:()=>{stretchHeight("top"===state.anchor?-80:80)}})):(resizeGroup.children.push({id:ToolWindowActionIds.JQ,title:"Stretch to left",actionPerformed:()=>{stretchWidth("left"===state.anchor?-65:65)}}),resizeGroup.children.push({id:ToolWindowActionIds.G$,title:"Stretch to right",actionPerformed:()=>{stretchWidth("right"===state.anchor?-65:65)}})),actions.push(resizeGroup)}return activeToolWindowActionGroup}try{useToolWindowActions.displayName="useToolWindowActions",useToolWindowActions.__docgenInfo={description:"",displayName:"useToolWindowActions",props:{mainContentTitle:{defaultValue:null,description:"",name:"mainContentTitle",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/useToolWindowActions.tsx#useToolWindowActions"]={docgenInfo:useToolWindowActions.__docgenInfo,name:"useToolWindowActions",path:"src/ToolWindowsImpl/useToolWindowActions.tsx#useToolWindowActions"})}catch(__react_docgen_typescript_loader_error){}function ToolWindowSettingsIconMenu({menuProps}){const{state}=(0,ToolWindowStateProvider.j)(),viewModeActionGroup=useActionGroup("TW.ViewModeGroup"),moveToActionGroup=useActionGroup("TW.MoveToGroup"),resizeActions=useActionGroup("ResizeToolWindowGroup"),maximizeAction=(0,ActionsProvider.BH)(ToolWindowActionIds.Jy),removeFromSideBarAction=(0,ActionsProvider.BH)(ToolWindowActionIds.jw);if(!(viewModeActionGroup&&moveToActionGroup&&resizeActions&&maximizeAction&&removeFromSideBarAction))throw new Error("[ToolWindowSettingsIconMenu]: can't find tool window actions.");const gearIconActions=[viewModeActionGroup,moveToActionGroup,{id:"resize",title:"Resize",isPopup:!0,children:[...resizeActions.children,maximizeAction]},new Divider.P,removeFromSideBarAction];return(0,jsx_runtime.jsx)(ActionsMenu.C,{actions:gearIconActions,menuProps,selectedKeys:[ViewModeToActionId[state.viewMode]]})}ToolWindowSettingsIconMenu.displayName="ToolWindowSettingsIconMenu";try{ToolWindowSettingsIconMenu.displayName="ToolWindowSettingsIconMenu",ToolWindowSettingsIconMenu.__docgenInfo={description:"Tool window gear icon menu, with a set of default actions and some extra ones.\nTODO: add support for extra actions when action system is progressed a little.",displayName:"ToolWindowSettingsIconMenu",props:{menuProps:{defaultValue:null,description:"",name:"menuProps",required:!0,type:{name:"HTMLAttributes<HTMLElement>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/ToolWindowSettingsIconMenu.tsx#ToolWindowSettingsIconMenu"]={docgenInfo:ToolWindowSettingsIconMenu.__docgenInfo,name:"ToolWindowSettingsIconMenu",path:"src/ToolWindowsImpl/ToolWindowSettingsIconMenu.tsx#ToolWindowSettingsIconMenu"})}catch(__react_docgen_typescript_loader_error){}const StyledToolWindowHeader=styled.zo.div`
  display: flex;
  align-items: center;
  justify-content: end; // to have the content overflow from right, as the toolwindow shrinks. That will keep the left-most buttons in the view
  padding: 0 2px 0 4px;
  overflow: hidden; // for the negative margin applied on StyledToolWindowHeaderActions
  border-bottom: 1px solid
    ${({theme})=>theme.color("ToolWindow.Header.borderColor")||theme.color("DefaultTabs.borderColor")||theme.commonColors.contrastBorder};
  background: ${({theme,active})=>active?theme.color("ToolWindow.Header.background")||theme.color("ToolWindow.header.active.background")||"#E2E6EC":theme.color("ToolWindow.Header.inactiveBackground")||theme.color("ToolWindow.Header.background")||"#ECECEC"};
`,StyledToolWindowHeaderActions=styled.zo.div`
  margin-right: -4px;
`,StyledToolWindowHeaderContent=styled.zo.div`
  flex: 1;
  display: flex;
  align-items: center;
`,DefaultToolWindowHeader=({children,additionalActions,contentHasFocus=!1,...otherProps})=>(0,jsx_runtime.jsxs)(StyledToolWindowHeader,{active:contentHasFocus,...otherProps,children:[(0,jsx_runtime.jsx)(StyledToolWindowHeaderContent,{children}),(0,jsx_runtime.jsx)(StyledToolWindowHeaderActions,{children:(0,jsx_runtime.jsxs)(ActionToolbar.K,{children:[additionalActions&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[additionalActions,(0,jsx_runtime.jsx)(StyledSeparator.v,{})]}),(0,jsx_runtime.jsx)(components.aU.Button,{actionId:ToolWindowActionIds.TD}),(0,jsx_runtime.jsx)(MenuTrigger.b,{renderMenu:({menuProps})=>(0,jsx_runtime.jsx)(ToolWindowSettingsIconMenu,{menuProps}),children:(props,ref)=>(0,jsx_runtime.jsx)(TooltipTrigger.a,{tooltip:(0,jsx_runtime.jsx)(ActionTooltip.M,{actionName:"Options"}),children:(0,jsx_runtime.jsx)(ActionButton.Kk,{...props,ref,children:(0,jsx_runtime.jsx)(PlatformIcon.vq,{icon:"general/gearPlain"})})})}),(0,jsx_runtime.jsx)(components.aU.Button,{actionId:ToolWindowActionIds.L$})]})})]});DefaultToolWindowHeader.displayName="DefaultToolWindowHeader";try{DefaultToolWindowHeader.displayName="DefaultToolWindowHeader",DefaultToolWindowHeader.__docgenInfo={description:"",displayName:"DefaultToolWindowHeader",props:{contentHasFocus:{defaultValue:{value:"false"},description:"",name:"contentHasFocus",required:!1,type:{name:"boolean"}},additionalActions:{defaultValue:null,description:"",name:"additionalActions",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/DefaultToolWindowHeader.tsx#DefaultToolWindowHeader"]={docgenInfo:DefaultToolWindowHeader.__docgenInfo,name:"DefaultToolWindowHeader",path:"src/ToolWindowsImpl/DefaultToolWindowHeader.tsx#DefaultToolWindowHeader"})}catch(__react_docgen_typescript_loader_error){}const StyledToolWindowContainer=styled.zo.div`
  outline: none;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  flex: 1;
`,StyledToolWindowContent=styled.zo.div`
  flex: 1;
  overflow: auto;
`,DefaultToolWindowContext=react.createContext({hasFocus:!1}),useDefaultToolWindowContext=()=>(0,react.useContext)(DefaultToolWindowContext),DefaultToolWindow=({headerContent,children,additionalActions,onFocusChange,actions,mainContentTitle="Editor",...otherProps})=>{const containerRef=(0,react.useRef)(null),contentRef=(0,react.useRef)(null),focusableContentRef=(0,react.useRef)(null),{contentHasFocus,toolWindowProps,toolWindowContentProps,toolWindowHeaderProps}=useToolWindow({containerRef,contentRef,focusableContentRef},{onFocusChange}),defaultToolWindowContext=(0,react.useMemo)((()=>({hasFocus:contentHasFocus})),[contentHasFocus]),allActions=[useToolWindowActions({mainContentTitle}),...actions||[]];return(0,jsx_runtime.jsx)(ActionsProvider.DG,{actions:allActions,children:({shortcutHandlerProps})=>(0,jsx_runtime.jsx)(StyledToolWindowContainer,{...(0,dist_module.dG)(toolWindowProps,shortcutHandlerProps,(0,dist_module.zL)(otherProps)),ref:containerRef,children:(0,jsx_runtime.jsxs)(DefaultToolWindowContext.Provider,{value:defaultToolWindowContext,children:[(0,jsx_runtime.jsx)(DefaultToolWindowHeader,{additionalActions,contentHasFocus,...toolWindowHeaderProps,children:headerContent}),(0,jsx_runtime.jsx)(StyledToolWindowContent,{ref:contentRef,...toolWindowContentProps,children:(0,jsx_runtime.jsx)(FocusScope.M,{ref:focusableContentRef,autoFocus:!0,children})})]})})})};DefaultToolWindow.displayName="DefaultToolWindow";try{DefaultToolWindow.displayName="DefaultToolWindow",DefaultToolWindow.__docgenInfo={description:"Default component for rendering the content of a tool window. It supports a header and a scrollable area.\nThe header supports showing a content, and some default+custom actions on the right.",displayName:"DefaultToolWindow",props:{headerContent:{defaultValue:null,description:"title to be shown on the left side of the tool window header.",name:"headerContent",required:!1,type:{name:"ReactNode"}},additionalActions:{defaultValue:null,description:"additional action buttons to be rendered before the default gear and hide buttons.",name:"additionalActions",required:!1,type:{name:"ReactNode"}},actions:{defaultValue:null,description:"Actions to be provided in the tool window, in addition to the default tool window actions.",name:"actions",required:!1,type:{name:"ActionDefinition[]"}},mainContentTitle:{defaultValue:{value:"Editor"},description:"The title of main part of the tool windows component. Used in tool window actions.",name:"mainContentTitle",required:!1,type:{name:"string"}},onFocusChange:{defaultValue:null,description:"",name:"onFocusChange",required:!1,type:{name:"((focused: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/DefaultToolWindow.tsx#DefaultToolWindow"]={docgenInfo:DefaultToolWindow.__docgenInfo,name:"DefaultToolWindow",path:"src/ToolWindowsImpl/DefaultToolWindow.tsx#DefaultToolWindow"})}catch(__react_docgen_typescript_loader_error){}},"./src/ToolWindowsImpl/MultiViewToolWindow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>MultiViewToolWindow});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_stately_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-stately/utils/dist/module.js"),_DefaultToolWindow__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/ToolWindowsImpl/DefaultToolWindow.tsx"),_Tabs_TabItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Tabs/TabItem.tsx"),_utils_usePrevious__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/utils/usePrevious.ts"),_Tabs_ToolWindowTabs_ToolWindowTabs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const MultiViewToolWindow=({groupTabs,children,headerContent,...props})=>{const[isToolWindowFocused,setToolWindowFocused]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[activeKey,setActiveKey]=(0,_react_stately_utils__WEBPACK_IMPORTED_MODULE_2__.zk)(props.activeKey,props.defaultActiveKey,props.onActiveKeyChange),contents=react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children).filter((child=>{const validChild=react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&child.type===MultiContentToolWindowContent;return validChild||console.warn("You are not supposed to render anything but MultiContentToolWindowContent inside MultiViewToolWindow. Rendered: ",child),validChild})).map((content=>({...content,key:`${content.key}`.slice(2)}))),renderedViewSwitcher=(groupTabs&&console.error("groupTab is not supported yet in MultiViewToolWindow. Will fallback to ungrouped tabs"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Tabs_ToolWindowTabs_ToolWindowTabs__WEBPACK_IMPORTED_MODULE_3__.N,{noBorders:!0,items:contents,active:isToolWindowFocused,selectedKey:activeKey,onSelectionChange:setActiveKey,children:item=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Tabs_TabItem__WEBPACK_IMPORTED_MODULE_4__.E,{children:item.props.tabContent},item.key)})),keys=contents.map((({key})=>key)),previousKeys=(0,_utils_usePrevious__WEBPACK_IMPORTED_MODULE_5__.D)(keys);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!keys.includes(activeKey)){const newActiveKey=keys[previousKeys.indexOf(activeKey)-1]??keys[0];null!=newActiveKey&&setActiveKey(newActiveKey)}}));const activeContent=contents.find((content=>null==activeKey||activeKey===content.key));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_DefaultToolWindow__WEBPACK_IMPORTED_MODULE_6__.n,{onFocusChange:setToolWindowFocused,headerContent:"function"==typeof headerContent?headerContent({renderedViewSwitcher}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[headerContent,renderedViewSwitcher]}),additionalActions:props.additionalActions,children:activeContent?.props.children})};MultiViewToolWindow.displayName="MultiViewToolWindow";const MultiContentToolWindowContent=({})=>{throw new Error("MultiContentToolWindowContent is not meant to be rendered directly. You should only use it in MultiViewToolWindow")};MultiViewToolWindow.View=MultiContentToolWindowContent;try{MultiViewToolWindow.displayName="MultiViewToolWindow",MultiViewToolWindow.__docgenInfo={description:"Implemented on top of DefaultToolWindow, allows for multiple tabbed content within a tool window.\nRemaining features:\n- Although trivial, group tabs action in tool window header gear icon is intentionally left unimplemented for now,\n  until an increment on action system is done.\n- Grouped mode is not implemented currently, as we don't have a dropdown component. Though it seems it's just a\n  MenuTrigger and some trigger with a arrow icon.",displayName:"MultiViewToolWindow",props:{children:{defaultValue:null,description:"List of contents that will be accessible with a list of grouped or ungrouped tabs in the tool window header.",name:"children",required:!0,type:{name:"ReactElement<MultiContentToolWindowContentProps, string | JSXElementConstructor<any>> | ReactElement<...>[]"}},activeKey:{defaultValue:null,description:"Key of currently active content",name:"activeKey",required:!1,type:{name:"Key"}},defaultActiveKey:{defaultValue:null,description:"",name:"defaultActiveKey",required:!1,type:{name:"Key"}},onActiveKeyChange:{defaultValue:null,description:"",name:"onActiveKeyChange",required:!1,type:{name:"((key: Key) => void)"}},groupTabs:{defaultValue:{value:"false"},description:"If true, it groups tabs in a dropdown instead.",name:"groupTabs",required:!1,type:{name:"boolean"}},headerContent:{defaultValue:null,description:'The content shown as the title of the tool window, before content switcher (tabs or dropdown).\nFor more control over header content, you can pass a function which accepts rendered content switcher,\nand then you can compose it with other content as you wish. Use case examples of function variant:\n- You want to render a title before the content switcher, and something after the tabs. Like a "+" button in\n  terminal.\n- You want to conditionally move inner-content header up to the tool window header, if there is only one tab. In\n  that case you don\'t need to render the content switcher at all. An example is the new design in the "Run"\n  tool window.',name:"headerContent",required:!1,type:{name:"ReactNode | ((props: { renderedViewSwitcher: ReactNode; }) => ReactNode)"}},additionalActions:{defaultValue:null,description:"additional action buttons to be rendered before the default gear and hide buttons.",name:"additionalActions",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/MultiViewToolWindow.tsx#MultiViewToolWindow"]={docgenInfo:MultiViewToolWindow.__docgenInfo,name:"MultiViewToolWindow",path:"src/ToolWindowsImpl/MultiViewToolWindow.tsx#MultiViewToolWindow"})}catch(__react_docgen_typescript_loader_error){}try{View.displayName="MultiViewToolWindow.View",View.__docgenInfo={description:"",displayName:"MultiViewToolWindow.View",props:{key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"Key"}},tabContent:{defaultValue:null,description:"Used in the corresponding tab.",name:"tabContent",required:!0,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/ToolWindowsImpl/MultiViewToolWindow.tsx#MultiViewToolWindow.View"]={docgenInfo:MultiViewToolWindow.View.__docgenInfo,name:"MultiViewToolWindow.View",path:"src/ToolWindowsImpl/MultiViewToolWindow.tsx#MultiViewToolWindow.View"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tooltip/ActionTooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>ActionTooltip});__webpack_require__("../../node_modules/react/index.js");var _intellij_platform_core_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tooltip/Tooltip.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const ActionTooltip=({actionName,shortcut})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__.u,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_intellij_platform_core_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__.u.Header,{children:[actionName,shortcut&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_2__.u.Shortcut,{children:shortcut})]})});ActionTooltip.displayName="ActionTooltip";try{ActionTooltip.displayName="ActionTooltip",ActionTooltip.__docgenInfo={description:'Tooltip of type "Action"',displayName:"ActionTooltip",props:{actionName:{defaultValue:null,description:"",name:"actionName",required:!0,type:{name:"ReactNode"}},shortcut:{defaultValue:null,description:"",name:"shortcut",required:!1,type:{name:"ReactNode"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tooltip/ActionTooltip.tsx#ActionTooltip"]={docgenInfo:ActionTooltip.__docgenInfo,name:"ActionTooltip",path:"src/Tooltip/ActionTooltip.tsx#ActionTooltip"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tooltip/Tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>_Tooltip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@react-aria/tooltip/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_style_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/style-constants.ts"),_TooltipContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Tooltip/TooltipContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const StyledTooltip=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  box-sizing: content-box;
  max-width: ${({theme,multiline})=>multiline?`${theme.value("HelpTooltip.maxWidth")??250}px`:null};
  white-space: ${({multiline})=>multiline?null:"nowrap"};
  display: inline-flex;
  flex-direction: column;
  gap: ${({theme})=>theme.value("HelpToolTip.verticalGap")??4}px;
  background: ${({theme})=>theme.color("ToolTip.background",theme.dark?"#3c3f41":"#f2f2f2")};
  color: ${({theme})=>theme.color("ToolTip.foreground",theme.dark?"#bfbfbf":"#000")};
  padding: ${({theme,multiline})=>multiline?theme.inset("HelpTooltip.defaultTextBorderInsets")||"0.5rem 0.8125rem 0.625rem 0.625rem":theme.inset("HelpTooltip.smallTextBorderInsets")||"0.375rem 0.75rem 0.4375rem 0.625rem"};
  line-height: 1.2;
  border-style: solid;
  border-width: ${({theme})=>theme.value("ToolTip.paintBorder")?"1px":"0px"};
  border-color: ${({theme})=>theme.color("ToolTip.borderColor",theme.dark?"#636569":"#adadad")};
  ${_intellij_platform_core_style_constants__WEBPACK_IMPORTED_MODULE_3__.s};
`,StyledShortcut=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.kbd`
  all: unset;
  color: ${({theme})=>theme.color("ToolTip.shortcutForeground",theme.dark?"#999999":"#787878")};
`,StyledHeader=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  font-size: ${({theme})=>theme.fontSizeDelta("HelpTooltip.fontSizeDelta")};
  display: flex;
  gap: 0.5rem;
`,StyledDescription=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  color: ${({theme})=>theme.color("Tooltip.infoForeground",theme.commonColors.contextHelpForeground)};
  font-size: ${({theme})=>theme.fontSizeDelta("HelpTooltip.descriptionSizeDelta")};
`,StyledLink=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.zo.div`
  color: ${({theme})=>theme.color("ToolTip.linkForeground",theme.commonColors.linkForegroundEnabled)};
  a,
  [role="link"] {
    // Maybe target Link instead, without important. It didn't work as expected, in the first try tho.
    color: inherit !important;
  }
`,Tooltip=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Tooltip({children,multiline,...props},forwardedRef){const ref=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.B3)(forwardedRef),{state,isInteractive}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_TooltipContext__WEBPACK_IMPORTED_MODULE_5__.d)||{},{tooltipProps}=(0,_react_aria_tooltip__WEBPACK_IMPORTED_MODULE_6__.l)(props,state?{...state,open:isInteractive?state?.open:()=>{}}:state);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(StyledTooltip,{multiline,...tooltipProps,className:props.className,ref,children})})),_Tooltip=Object.assign(Tooltip,{Header:StyledHeader,Shortcut:StyledShortcut,Description:StyledDescription,Link:StyledLink});try{Tooltip.displayName="_Tooltip",Tooltip.__docgenInfo={description:"",displayName:"_Tooltip",props:{multiline:{defaultValue:null,description:"",name:"multiline",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tooltip/Tooltip.tsx#_Tooltip"]={docgenInfo:_Tooltip.__docgenInfo,name:"_Tooltip",path:"src/Tooltip/Tooltip.tsx#_Tooltip"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tooltip/TooltipContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>TooltipContext});const TooltipContext=__webpack_require__("../../node_modules/react/index.js").createContext(null)},"./src/Tooltip/TooltipTrigger.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>TooltipTrigger});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_stately_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-stately/tooltip/dist/module.js"),_intellij_platform_core_utils_useMouseEventOverlayPosition__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/useMouseEventOverlayPosition.tsx"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Tooltip_TooltipTriggerAndOverlay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Tooltip/TooltipTriggerAndOverlay.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const TooltipTrigger=({tooltip,children,delay=500,...props})=>{const triggerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),theme=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.Fg)(),state=(0,_react_stately_tooltip__WEBPACK_IMPORTED_MODULE_3__.O)({...props,delay}),overlayRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),{overlayProps,updatePosition}=(0,_intellij_platform_core_utils_useMouseEventOverlayPosition__WEBPACK_IMPORTED_MODULE_4__.u)({overlayRef,isOpen:state.isOpen,placement:"bottom left",shouldFlip:!0,offset:theme.value("HelpTooltip.mouseCursorOffset")??20});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{state.isOpen&&requestAnimationFrame((()=>{updatePosition()}))}),[state.isOpen]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip_TooltipTriggerAndOverlay__WEBPACK_IMPORTED_MODULE_5__.t,{tooltip,tooltipOverlayProps:overlayProps,trigger:children,state,overlayRef,triggerRef,showOnFocus:!1,isDisabled:props.isDisabled})};TooltipTrigger.displayName="TooltipTrigger";try{TooltipTrigger.displayName="TooltipTrigger",TooltipTrigger.__docgenInfo={description:"Sets {@param tooltip} for its {@param children}.\nShowing tooltip on focus and controlled open state are not supported at the moment, based on how tooltip works in the\nreference impl, and since tooltip is positioned based on cursor position. Positioning the tooltip based on cursor\nposition requires tooltip to be opened on hover. That's why neither controlling opened state nor showing the tooltip\non focus are supported here. {@link PositionedTooltipTrigger } allows for positioning the tooltip with respect to the\ntrigger element, and offers more options.",displayName:"TooltipTrigger",props:{tooltip:{defaultValue:null,description:"Tooltip content. The value should be an element of type {@link Tooltip }.",name:"tooltip",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},children:{defaultValue:null,description:"Either a focusable component, or a render function which accepts trigger props and passes it to some component.",name:"children",required:!0,type:{name:"ReactNode | ((props: HTMLAttributes<HTMLElement> & { ref: RefObject<HTMLElement>; }) => ReactNode)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tooltip/TooltipTrigger.tsx#TooltipTrigger"]={docgenInfo:TooltipTrigger.__docgenInfo,name:"TooltipTrigger",path:"src/Tooltip/TooltipTrigger.tsx#TooltipTrigger"})}catch(__react_docgen_typescript_loader_error){}},"./src/Tooltip/TooltipTriggerAndOverlay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>TooltipTriggerAndOverlay});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_tooltip__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@react-aria/tooltip/dist/module.js"),_react_aria_focus__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/focus/dist/module.js"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_intellij_platform_core_Tooltip_TooltipContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Tooltip/TooltipContext.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const TooltipTriggerAndOverlay=({tooltip,trigger,state,tooltipOverlayProps,overlayRef,triggerRef,showOnFocus,...props})=>{const[isInteractive,setInteractive]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{triggerProps,tooltipProps}=useTooltipTrigger(props,{...state,close:isInteractive?state.close:()=>state.close(!0)},triggerRef);return showOnFocus||delete triggerProps.onFocus,(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.bt)((()=>{setInteractive(null!==overlayRef.current?.querySelector('a, button, [role="button"], [role=link]'))})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[normalizeChildren(trigger,{...triggerProps,ref:triggerRef}),state.isOpen&&!props.isDisabled&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_react_aria_overlays__WEBPACK_IMPORTED_MODULE_3__.aV,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_intellij_platform_core_Tooltip_TooltipContext__WEBPACK_IMPORTED_MODULE_4__.d.Provider,{value:{state,isInteractive},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.dG)(tooltipOverlayProps,tooltipProps),ref:overlayRef,children:tooltip})})})]})};function normalizeChildren(children,triggerProps){return"function"==typeof children?children(triggerProps):react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children)&&"string"==typeof children.type?react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children,triggerProps):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_react_aria_focus__WEBPACK_IMPORTED_MODULE_5__.tB,{...triggerProps,children})}normalizeChildren.displayName="normalizeChildren";const useTooltipTrigger=(props,state,ref)=>{const{triggerProps,tooltipProps}=(0,_react_aria_tooltip__WEBPACK_IMPORTED_MODULE_6__.Q)(props,state,ref);return triggerProps.onPointerDown=()=>{ref.current instanceof HTMLInputElement||state.close(!0)},delete triggerProps.onMouseDown,{triggerProps,tooltipProps}};try{TooltipTriggerAndOverlay.displayName="TooltipTriggerAndOverlay",TooltipTriggerAndOverlay.__docgenInfo={description:"Sets {@param tooltip} for its {@param children}. It doesn't handle tooltip positioning, and so shouldn't be used\ndirectly. {@param tooltipOverlayProps} should be used to apply the intended positioning.\n\nTODO: Implement timeout-based auto-hide (https://jetbrains.github.io/ui/controls/tooltip/#19)\nTODO: shadow",displayName:"TooltipTriggerAndOverlay",props:{tooltip:{defaultValue:null,description:"Tooltip content. The value should be an element of type {@link Tooltip }.",name:"tooltip",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},tooltipOverlayProps:{defaultValue:null,description:"props to be applied on the tooltip overlay, for positioning.",name:"tooltipOverlayProps",required:!0,type:{name:"HTMLProps<HTMLDivElement>"}},trigger:{defaultValue:null,description:"Either a focusable component, or a render function which accepts trigger props and passes it to some component.",name:"trigger",required:!0,type:{name:"ReactNode | ((props: HTMLAttributes<HTMLElement> & { ref: RefObject<HTMLElement>; }) => ReactNode)"}},state:{defaultValue:null,description:"",name:"state",required:!0,type:{name:"TooltipTriggerState"}},showOnFocus:{defaultValue:null,description:"",name:"showOnFocus",required:!1,type:{name:"boolean"}},overlayRef:{defaultValue:null,description:"",name:"overlayRef",required:!0,type:{name:"RefObject<HTMLDivElement>"}},triggerRef:{defaultValue:null,description:"",name:"triggerRef",required:!0,type:{name:"RefObject<HTMLElement>"}},isDisabled:{defaultValue:null,description:"",name:"isDisabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Tooltip/TooltipTriggerAndOverlay.tsx#TooltipTriggerAndOverlay"]={docgenInfo:TooltipTriggerAndOverlay.__docgenInfo,name:"TooltipTriggerAndOverlay",path:"src/Tooltip/TooltipTriggerAndOverlay.tsx#TooltipTriggerAndOverlay"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/useMouseEventOverlayPosition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>useMouseEventOverlayPosition});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/utils/dist/module.js"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/module.js");let globalMoveHandler=null,lastMouseClientPos={x:0,y:0};function useMouseEventOverlayPosition(options){const targetRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__.bt)((()=>{if(globalMoveHandler||(globalMoveHandler=e=>{lastMouseClientPos={x:e.clientX,y:e.clientY}},document.addEventListener("mousemove",globalMoveHandler)),!targetRef.current){const fakeTarget=document.createElement("span");return Object.assign(fakeTarget.style,{width:"0px",height:"0px",pointerEvents:"none",position:"fixed",visibility:"hidden"}),document.body.appendChild(fakeTarget),targetRef.current=fakeTarget,()=>{fakeTarget.remove()}}}),[]),(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__.bt)((()=>{options.isOpen&&targetRef.current&&(targetRef.current.style.left=`${lastMouseClientPos.x}px`,targetRef.current.style.top=`${lastMouseClientPos.y}px`,updatePosition())}),[options.isOpen,targetRef.current]);const{updatePosition,...result}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_2__.tN)({...options,targetRef});return{...result,updatePosition:e=>{targetRef.current&&e&&(targetRef.current.style.left=`${e.clientX}px`,targetRef.current.style.top=`${e.clientY}px`),updatePosition()}}}try{useMouseEventOverlayPosition.displayName="useMouseEventOverlayPosition",useMouseEventOverlayPosition.__docgenInfo={description:"",displayName:"useMouseEventOverlayPosition",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/utils/useMouseEventOverlayPosition.tsx#useMouseEventOverlayPosition"]={docgenInfo:useMouseEventOverlayPosition.__docgenInfo,name:"useMouseEventOverlayPosition",path:"src/utils/useMouseEventOverlayPosition.tsx#useMouseEventOverlayPosition"})}catch(__react_docgen_typescript_loader_error){}}}]);
//# sourceMappingURL=730.c1db5737.iframe.bundle.js.map