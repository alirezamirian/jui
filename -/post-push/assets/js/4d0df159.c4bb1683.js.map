{"version":3,"file":"assets/js/4d0df159.c4bb1683.js","sources":["webpack://website/./docs/guides/Collections.mdx"],"sourcesContent":["\n\nexport const frontMatter = {};\nexport const contentTitle = 'Collections';\nexport {default as metadata} from '@site/.docusaurus/docusaurus-plugin-content-docs/default/site-docs-guides-collections-mdx-4d0.json'\nexport const assets = {\n\n};\n\nimport {Fragment as _Fragment, jsx as _jsx, jsxs as _jsxs} from \"react/jsx-runtime\";\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nexport const toc = [{\n  \"value\": \"Rendering optimization caveat\",\n  \"id\": \"rendering-optimization-caveat\",\n  \"level\": 2\n}, {\n  \"value\": \"Using context\",\n  \"id\": \"using-context\",\n  \"level\": 3\n}, {\n  \"value\": \"Wrapping items with extra state\",\n  \"id\": \"wrapping-items-with-extra-state\",\n  \"level\": 3\n}, {\n  \"value\": \"Disabling or limiting cache\",\n  \"id\": \"disabling-or-limiting-cache\",\n  \"level\": 3\n}];\nfunction _createMdxContent(props) {\n  const _components = {\n    a: \"a\",\n    admonition: \"admonition\",\n    code: \"code\",\n    h1: \"h1\",\n    h2: \"h2\",\n    h3: \"h3\",\n    header: \"header\",\n    p: \"p\",\n    pre: \"pre\",\n    ..._provideComponents(),\n    ...props.components\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.header, {\n      children: _jsx(_components.h1, {\n        id: \"collections\",\n        children: \"Collections\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"A good number of components such as List, Tree, Menu, Tabs, etc. display a collection of items.\\n\", _jsx(_components.a, {\n        href: \"https://react-spectrum.adobe.com/react-stately/collections.html\",\n        children: \"@react-stately/collections\"\n      }), \" is used for all of them\\nto provide a uniform and flexible API that would allow for both static jsx-based or dynamic source of items.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      id: \"rendering-optimization-caveat\",\n      children: \"Rendering optimization caveat\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When the API for dynamic items (\", _jsx(_components.code, {\n        children: \"items\"\n      }), \" prop and a render function as \", _jsx(_components.code, {\n        children: \"children\"\n      }), \") is used, the render result for each\\nitem \", _jsx(_components.a, {\n        href: \"https://react-spectrum.adobe.com/react-stately/collections.html#why-not-array-map\",\n        children: \"is subject to caching\"\n      }), \" based\\non the item object. It's important to understand this assumption that the rendering should only depend on the item, and\\nnot any other piece of state, for example, from the closure.\"]\n    }), \"\\n\", _jsx(_components.admonition, {\n      type: \"info\",\n      children: _jsx(_components.p, {\n        children: \"The item renderer function should be a pure function that relies exclusively on its single argument: the item object.\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"However, in certain scenarios, you might need to render UI elements based on factors other than the item object. Here are a few ways to achieve this:\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"using-context\",\n      children: \"Using context\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"TODO (This is particularly useful for components implementing virtual rendering, where only a limited number of items are mounted at a time, and changes to additional state should affect only those without rebuilding the entire collection).\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"wrapping-items-with-extra-state\",\n      children: \"Wrapping items with extra state\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"TODO\"\n    }), \"\\n\", _jsx(_components.h3, {\n      id: \"disabling-or-limiting-cache\",\n      children: \"Disabling or limiting cache\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For components that support it, you can control caching by setting the \", _jsx(_components.code, {\n        children: \"cacheInvalidation\"\n      }), \" prop. Passing \", _jsx(_components.code, {\n        children: \"true\"\n      }), \" to this prop will disable caching entirely, but it may significantly reduce performance for large collections. In a performance test on a \", _jsx(_components.a, {\n        href: \"../components/Tree\",\n        children: \"Tree\"\n      }), \" with 400 elements, disabling the cache resulted in a ~10x slower rendering.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A middle-ground approach is to pass an array of cache invalidators instead of completely turning off the cache:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"<Tree cacheInvalidation={{ invalidators: [nestedSelection] }}>...</Tree>\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"This configuration will only invalidate the cache when \", _jsx(_components.code, {\n        children: \"nestedSelection\"\n      }), \" changes.\"]\n    })]\n  });\n}\nexport default function MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = {\n    ..._provideComponents(),\n    ...props.components\n  };\n  return MDXLayout ? _jsx(MDXLayout, {\n    ...props,\n    children: _jsx(_createMdxContent, {\n      ...props\n    })\n  }) : _createMdxContent(props);\n}\n\n"],"names":["frontMatter","contentTitle","assets","toc","_createMdxContent","props","_components","MDXContent","MDXLayout"],"mappings":"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"}