"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[8492],{"./src/Collections/Item.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>_Item});__webpack_require__("../../node_modules/react/index.js");var _react_stately_collections__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-stately/collections/dist/Item.mjs");function Item(props){return null}let _Item=Item;Item.getCollectionNode=function*getCollectionNode(props,context){const result=_react_stately_collections__WEBPACK_IMPORTED_MODULE_1__.c.getCollectionNode(props,context).next().value,originalShouldInvalidate=result.shouldInvalidate;result.shouldInvalidate=context=>originalShouldInvalidate?.(context)||context.invalidated,yield result}},"./src/List/ListDivider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>ListDivider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledSeparator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/StyledSeparator.tsx"),_react_aria_separator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/separator/dist/module.js");const ListDivider=()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledSeparator__WEBPACK_IMPORTED_MODULE_1__.lX,{as:"li",...(0,_react_aria_separator__WEBPACK_IMPORTED_MODULE_2__.z)({elementType:"li",orientation:"vertical"}).separatorProps});ListDivider.__docgenInfo={description:"",methods:[],displayName:"ListDivider"}},"./src/Menu/Menu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v2:()=>Menu,pl:()=>MenuContext,EC:()=>MenuOverlayContext,H9:()=>Menu_useMenu,w8:()=>useMenuState});var react=__webpack_require__("../../node_modules/react/index.js"),useMenu=__webpack_require__("../../node_modules/@react-aria/menu/dist/useMenu.mjs"),Item=__webpack_require__("../../node_modules/@react-stately/collections/dist/Item.mjs"),Section=__webpack_require__("../../node_modules/@react-stately/collections/dist/Section.mjs"),Collections_Item=__webpack_require__("./src/Collections/Item.ts");function*patchCollectionItem(nodes){for(const partialNode of nodes)yield{...partialNode,*childNodes(){const result2=partialNode.childNodes?.();if(result2)for(const partialChildNode of result2){const{type,...partialChildNodeWithoutType}=partialChildNode;yield partialChildNodeWithoutType}}}}const PatchedItem=Item.c.bind(null);PatchedItem.getCollectionNode=function getCollectionNode(props,context){return patchCollectionItem(Item.c.getCollectionNode(props,context))};const PatchedSection=Section.$.bind(null);function convertChildren(children){return Array.isArray(children)?children.map(convertChildren):function convertCollectionElement(result){return!react.isValidElement(result)||result.type!==Item.c&&result.type!==Collections_Item.c?react.isValidElement(result)&&result.type===Section.$?react.createElement(PatchedSection,{key:null!=result.key?result.key:void 0,...result.props},convertChildren(result.props.children)):result:react.createElement(PatchedItem,{key:null!=result.key?result.key:void 0,...result.props},convertChildren(result.props.children))}(children)}PatchedSection.getCollectionNode=function getCollectionNode(props,context){return patchCollectionItem(Section.$.getCollectionNode(props,context))};var useTreeState=__webpack_require__("./src/Tree/useTreeState.ts"),renderMenuNodes=__webpack_require__("./src/Menu/renderMenuNodes.tsx"),StyledMenu=__webpack_require__("./src/Menu/StyledMenu.tsx");const MenuOverlayContext=react.createContext({close:()=>{},defaultAutoFocus:void 0}),MenuContext=react.createContext({});function Menu_useMenu({onAction:onActionProp,submenuBehavior="default",...props},state,ref){const{close,defaultAutoFocus}=(0,react.useContext)(MenuOverlayContext),autoFocus=props.autoFocus??defaultAutoFocus,onClose=()=>{props.onClose?.(),close()},onAction=key=>state.collection.getItem(key)?.hasChildNodes?"actionOnPress"===submenuBehavior?(onClose(),onActionProp?.(key)):void 0:onActionProp?.(key),menuContextValue={submenuBehavior,autoFocus,onAction,onClose},{menuProps}=(0,useMenu.H)({...props,onAction,onClose,autoFocus},state,ref);return{menuProps,menuContextValue}}function useMenuState(props){return props=function patchCollectionProps({children,...props}){return{...props,children:"function"==typeof children?node=>convertChildren(children(node)):convertChildren(children)}}(props),(0,useTreeState.D)({...props,childExpansionBehaviour:"single",expandedKeys:props.expandedKey?[props.expandedKey]:void 0,onExpandedChange:([firstKey])=>props?.onExpandedKeyChange?.(firstKey),defaultExpandedKeys:props.defaultExpandedKey?[props.defaultExpandedKey]:void 0})}function Menu({minWidth,...props}){const ref=react.useRef(null),state=useMenuState(props),{menuContextValue,menuProps}=Menu_useMenu(props,state,ref);return react.createElement(MenuContext.Provider,{value:menuContextValue},react.createElement(StyledMenu.l2,{...menuProps,ref,style:{minWidth},fillAvailableSpace:props.fillAvailableSpace},(0,renderMenuNodes.p)(state,[...state.collection])))}Menu.__docgenInfo={description:'UI for menus which are normally shown in a popover. Being rendered as an overlay is not handled here.\nAlso, there is no coupling with any higher level entity like "Action", since this is just for the UI layer.\nSomething like ActionMenu which creates a menu out of a list of actions can be implemented on top of this.\n\n@example\n <Menu>\n   <Item>Item one</Item>\n   <Item>\n     <MenuItemLayout\n       icon={<PlatformIcon icon={"actions/copy"} />}\n       content="Copy"\n       shortcut={"âŒ˜C"} />\n   </Item>\n </Menu>\n\n Current issues and limitations:\n - Divider in sub-menu\'s is not supported. because of a constraint in @react-stately/collections, which results in\n   this error: Unsupported type <Divider> in <Item>. Only <Item> is supported. Maybe supporting section would\n   be a workaround for it.\n - when a parent menu item which has an open submenu is hovered, it gets focus.',methods:[],displayName:"Menu",props:{expandedKey:{required:!1,tsType:{name:"Key"},description:"Indicates currently expanded menu item (controlled)."},onExpandedKeyChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(expandedKey: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"expandedKey"}],return:{name:"void"}}},description:"Called when expanded menu item is changed by user interaction, which can be either hovering over the menu item"},defaultExpandedKey:{required:!1,tsType:{name:"Key"},description:""},expandOn:{required:!1,tsType:{name:"union",raw:'"hover" | "press"',elements:[{name:"literal",value:'"hover"'},{name:"literal",value:'"press"'}]},description:"@deprecated"},submenuBehavior:{required:!1,tsType:{name:"union",raw:'"default" | "toggleOnPress" | "actionOnPress"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"toggleOnPress"'},{name:"literal",value:'"actionOnPress"'}]},description:'Defines the press behaviour (either by mouse or by pressing Enter when focused) on menu items with submenu.\nBy default (undefined), pressing or hovering over a menu item with submenu, opens the submenu.\nWhen set to "toggle", pressing a menu item with submenu will toggle the submenu. Hovering over such items will\nno longer open the submenu.\nWhen set to "action", pressing a menu item with submenu will call onAction for that item, and closes the menu.\nHovering over such items will no longer open the submenu.\n\nIn all cases, pressing the right arrow will always open the submenu.'},fillAvailableSpace:{required:!1,tsType:{name:"boolean"},description:"fills the available horizontal or vertical space, when rendered in a flex container."},minWidth:{required:!1,tsType:{name:'CSSProperties["minWidth"]',raw:'CSSProperties["minWidth"]'},description:"Minimum width of the menu\n@default: 120px"}},composes:["Omit"]}},"./src/Menu/MenuItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>useMenuItemLayout,s:()=>MenuItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react-dom/index.js"),_react_aria_interactions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useHover.mjs"),_react_aria_interactions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useFocusVisible.mjs"),_react_aria_interactions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/usePress.mjs"),_react_aria_menu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@react-aria/menu/dist/useMenuItem.mjs"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/useOverlayPosition.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs"),_intellij_platform_core_Collections_ItemStateContext__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/Collections/ItemStateContext.tsx"),_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./src/Overlay/Overlay.tsx"),_Icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),_Icon__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Icon/LafIcon.tsx"),_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_Menu__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/Menu/Menu.tsx"),_StyledMenu__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/Menu/StyledMenu.tsx"),_StyledMenuItem__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./src/Menu/StyledMenuItem.tsx"),_intellij_platform_core_Menu_Submenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/Menu/Submenu.tsx");const StyledMenuItemText=_styled__WEBPACK_IMPORTED_MODULE_2__.zo.span`
  flex: 1;
`,StyledMenuItemPlatformIcon=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(_Icon__WEBPACK_IMPORTED_MODULE_3__.vq)`
  svg path {
    stroke: currentColor;
  }
`,StyledMenuItemLafIcon=(0,_styled__WEBPACK_IMPORTED_MODULE_2__.zo)(_Icon__WEBPACK_IMPORTED_MODULE_4__.J)`
  svg path {
    stroke: currentColor;
  }
`;const MenuItemContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({descriptionProps:{},labelProps:{},keyboardShortcutProps:{}}),useMenuItemLayout=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MenuItemContext);function MenuItem({item,state}){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),nestedMenuRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),isDisabled=state.disabledKeys.has(item.key),isExpanded=state.expandedKeys.has(item.key),isSelected=state.selectionManager.selectedKeys.has(item.key),isFocused=state.selectionManager.focusedKey===item.key,{onClose,submenuBehavior,renderSubmenu=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Menu_Submenu__WEBPACK_IMPORTED_MODULE_10__.r,props),itemWrapper=i=>i}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Menu__WEBPACK_IMPORTED_MODULE_11__.pl),{menuItemProps,labelProps,descriptionProps,keyboardShortcutProps}=function useMenuItem({submenuBehavior,...props},state,ref){const item=state.collection.getItem(props.key),isDisabled=state.disabledKeys.has(item.key),isExpanded=state.expandedKeys.has(item.key),hasSubmenu=item.hasChildNodes,{menuItemProps:ariaMenuItemProps,...result}=(0,_react_aria_menu__WEBPACK_IMPORTED_MODULE_5__.i)({key:item.key,onClose:hasSubmenu?()=>{}:void 0},state,ref);delete ariaMenuItemProps.onMouseEnter,delete ariaMenuItemProps.onPointerEnter,"default"===submenuBehavior&&isExpanded&&delete ariaMenuItemProps.onPointerDown;const{hoverProps}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_6__.X)({isDisabled,onHoverStart:()=>{const isAnySubmenuOpen=[...state.expandedKeys].some((expandedKey=>state.collection.getItem(expandedKey)?.parentKey===item.parentKey));"default"!==submenuBehavior||isExpanded||state.toggleKey(item.key),(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_7__.E)()||(("default"===submenuBehavior?!isExpanded:!isAnySubmenuOpen)&&state.selectionManager.setFocused(!0),state.selectionManager.setFocusedKey(item.key))}}),keyboardProps={onKeyDown:e=>{if(("Enter"===e.key||" "===e.key)&&"actionOnPress"!==submenuBehavior||"ArrowRight"===e.key)return state.toggleKey(item.key),void e.stopPropagation()}},{pressProps:togglePressProps}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_8__.r)({isDisabled,onPressUp:()=>{state.toggleKey(item.key),isExpanded&&state.selectionManager.setFocusedKey(item.key)}});return{...result,menuItemProps:(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_9__.d)(hasSubmenu?{"aria-expanded":isExpanded,"aria-haspopup":"menu"}:{},ariaMenuItemProps,hoverProps,keyboardProps,"toggleOnPress"===submenuBehavior?togglePressProps:{})}}({submenuBehavior,key:item.key},state,ref),{pressProps:togglePressProps}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_8__.r)({isDisabled,onPressUp:()=>{state.toggleKey(item.key),isExpanded&&state.selectionManager.setFocusedKey(item.key)}});let{overlayProps:positionProps}=(0,_react_aria_overlays__WEBPACK_IMPORTED_MODULE_12__.t)({targetRef:ref,overlayRef:nestedMenuRef,placement:"right top",shouldFlip:!0,onClose,offset:0,crossOffset:-(_StyledMenu__WEBPACK_IMPORTED_MODULE_13__.TU+_StyledMenu__WEBPACK_IMPORTED_MODULE_13__.db),isOpen:isExpanded});const arrowProps="default"!==submenuBehavior?{role:"button","aria-label":"Open",...(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_9__.d)(togglePressProps,{onPointerUp:e=>e.stopPropagation()})}:{};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledMenuItem__WEBPACK_IMPORTED_MODULE_14__.CM,{...menuItemProps,isDisabled,isActive:isFocused,ref},isSelected&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledMenuItem__WEBPACK_IMPORTED_MODULE_14__.oS,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledMenuItemLafIcon,{icon:{name:"checkmark",modifiers:{Selected:isFocused}}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Collections_ItemStateContext__WEBPACK_IMPORTED_MODULE_15__.k.Provider,{value:{isDisabled,isContainerFocused:state.selectionManager.isFocused,isSelected,node:item}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuItemContext.Provider,{value:{labelProps,descriptionProps,keyboardShortcutProps}},itemWrapper("string"==typeof item.rendered?react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledMenuItemText,labelProps,item.rendered):item.rendered,item))),item.hasChildNodes&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledMenuItem__WEBPACK_IMPORTED_MODULE_14__.w,arrowProps,react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledMenuItemPlatformIcon,{icon:"icons/ide/menuArrow"}))),isExpanded&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Overlay__WEBPACK_IMPORTED_MODULE_16__.a,{OverlayComponent:SimpleOverlay},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:nestedMenuRef,...positionProps},renderSubmenu({parentState:state,rootKey:item.key}))))}function SimpleOverlay({children,portalContainer=document.body}){return react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal(children,portalContainer)}MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},state:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""},onSubmenuClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/Menu/StyledMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{TU:()=>MENU_VERTICAL_PADDING,db:()=>MENU_BORDER_WIDTH,l2:()=>StyledMenu});var styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_style_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/style-constants.ts"),_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/StyledSeparator.tsx"),_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Menu/StyledMenuItem.tsx");const MENU_VERTICAL_PADDING=5,MENU_BORDER_WIDTH=1,StyledMenu=_styled__WEBPACK_IMPORTED_MODULE_0__.zo.ul`
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  font-size: 0.8rem;
  margin: 0;
  padding: ${MENU_VERTICAL_PADDING}px 0;
  outline: none;
  list-style: none;
  width: fit-content;
  min-width: 120px;
  overflow: auto;
  // Border doesn't seem to be painted in the original impl. IdeaPopupMenuUI.isUnderPopup(c) seemed to return false
  // in all cases. More info: https://github.com/JetBrains/intellij-community/blob/c5ece483811a3ab546fc3880225efb02cc8b94dd/platform/platform-impl/src/com/intellij/ide/ui/laf/darcula/ui/DarculaPopupMenuBorder.java#L24
  /*  border: ${MENU_BORDER_WIDTH}px solid
    ${({theme})=>theme.color("Menu.borderColor",theme.dark?"#515151":"#CDCDCD")};*/
  ${_style_constants__WEBPACK_IMPORTED_MODULE_1__.s};
  background: ${({theme})=>theme.color("PopupMenu.background")};
  color: ${({theme})=>theme.color("PopupMenu.foreground")};

  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__.lX}:first-child,
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__.lX}:last-child, 
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__.lX} + ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__.lX} {
    display: none;
  }
  ${_StyledSeparator__WEBPACK_IMPORTED_MODULE_2__.lX} {
    background-color: ${({theme})=>theme.color("Menu.separatorColor")};
    height: ${({theme})=>`${theme.value("PopupMenuSeparator.height")??3}px`};
    padding: ${({theme})=>`${theme.value("PopupMenuSeparator.stripeIndent")??1}px 0`};
    margin: ${({theme})=>`0 ${theme.value("PopupMenuSeparator.withToEdge")??1}px`};
  }
  ${({fillAvailableSpace})=>fillAvailableSpace&&styled_components__WEBPACK_IMPORTED_MODULE_3__.iv`
      flex: 1;
      width: fill-available; // will be converted to --webkit-fill-available and --moz-available, but doesn't work in FF
      height: fill-available;
    `}

  --jui-menu-item-padding: 1rem;
  --jui-menu-item-icon-width: 1rem;
  --jui-menu-item-icon-spacing: 0.3125rem;

  ${_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__.CM} {
    // NOTE: The left margin seems not to be consistent in all menus.
    padding-left: var(--jui-menu-item-padding);
  }
  &:has(${_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__.oS}) {
    // Adjusting item padding for menus with icon to be slightly smaller. Based on observations on the reference impl.
    // Could be handled by a negative margin on icons as well.
    --jui-menu-item-padding: 0.75rem;

    // CSS-only solution to conditionally add left margin to menu items without icon, if there is at least one menu item
    // with icon, in the current menu. To have text in all menu items aligned. The extra margin is avoided if there is no
    // menu item with icon. It relies on :has() css pseudo-class which is not supported in FF at the moment.
    ${_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__.CM}:not(:has(${_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__.oS})) {
      padding-left: calc(
        var(--jui-menu-item-padding) + var(--jui-menu-item-icon-width) +
          var(--jui-menu-item-icon-spacing)
      );
    }
  }
  ${_StyledMenuItem__WEBPACK_IMPORTED_MODULE_4__.oS} {
    width: var(--jui-menu-item-icon-width);
    margin-right: var(--jui-menu-item-icon-spacing);
  }
`},"./src/Menu/StyledMenuItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CM:()=>StyledMenuItem,oS:()=>StyledMenuItemIcon,w:()=>StyledNestedArrow});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts");const StyledMenuItemIcon=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.zo.span`
  display: inline-flex; // prevents unwanted increased height
`,StyledNestedArrow=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.zo.span`
  display: inline-flex; // to make it not take more height than the icon
  margin-right: -0.75rem;
  margin-left: 0.75rem;
`,highlightedStyle=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
  color: ${({theme})=>theme.asCurrentForeground(theme.color("MenuItem.selectionForeground"))};
  background: ${({theme})=>theme.color("MenuItem.selectionBackground")};
`,defaultStyle=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
  color: ${({theme})=>theme.color("MenuItem.foreground")};
  background: unset;
`,disabledStyle=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.iv`
  color: ${({theme})=>theme.color("MenuItem.disabledForeground")+"!important"};
  background: unset !important;
`,StyledMenuItem=_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.zo.li`
  position: relative; // for being able to position arrow icon absolutely
  outline: none;
  cursor: default;
  white-space: nowrap;

  // bg/fg style for different states. Order is based on how they should override each other
  ${defaultStyle};
  ${({isActive})=>isActive&&highlightedStyle};
  ${({isDisabled})=>isDisabled&&disabledStyle};

  padding-right: 1.25rem;
  line-height: 1.3125rem; // to make the item have the right height
  display: flex;
  align-items: center;
`},"./src/Menu/Submenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>useSubmenu,r:()=>Submenu});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_menu__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/menu/dist/useMenu.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs"),_useSubmenu__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Menu/_useSubmenu.ts"),_useSubmenuState__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Menu/_useSubmenuState.tsx"),_Menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Menu/Menu.tsx"),_StyledMenu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Menu/StyledMenu.tsx"),_renderMenuNodes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/Menu/renderMenuNodes.tsx");function useSubmenu({rootKey,parentState,keyboardDelegate},state,ref){const rootItem=state.collection.getItem(rootKey),{submenuBehavior,autoFocus=!0,onClose,onAction}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_Menu__WEBPACK_IMPORTED_MODULE_1__.pl);let{menuProps}=(0,_react_aria_menu__WEBPACK_IMPORTED_MODULE_2__.H)({"aria-label":rootItem?.["aria-label"]||rootItem?.textValue,onAction,onClose,selectedKeys:state.selectionManager.selectedKeys,keyboardDelegate:keyboardDelegate||new _useSubmenu__WEBPACK_IMPORTED_MODULE_3__.R(rootKey,state.collection,state.disabledKeys,ref),autoFocus},state,ref);const{submenuProps}=(0,_useSubmenu__WEBPACK_IMPORTED_MODULE_3__.d)({rootKey},parentState,ref),submenuBehaviorProps={onKeyDown:e=>{if("Escape"===e.key)return state.toggleKey(rootKey),state.selectionManager.setFocusedKey(rootKey),parentState.selectionManager.setFocused(!0),void("default"!==submenuBehavior&&e.stopPropagation())}};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTimeout((()=>{!0===autoFocus&&ref.current?.focus()}))}),[]),{submenuProps:(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.d)(menuProps,submenuProps,submenuBehaviorProps)}}function Submenu({parentState,rootKey}){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),state=(0,_useSubmenuState__WEBPACK_IMPORTED_MODULE_5__.P)(parentState),rootItem=state.collection.getItem(rootKey),{submenuProps}=useSubmenu({rootKey,parentState},state,ref);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledMenu__WEBPACK_IMPORTED_MODULE_6__.l2,{...submenuProps,ref},(0,_renderMenuNodes__WEBPACK_IMPORTED_MODULE_7__.p)(state,[...rootItem?.childNodes||[]]))}Submenu.__docgenInfo={description:"",methods:[],displayName:"Submenu",props:{parentState:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""},rootKey:{required:!0,tsType:{name:"ReactKey",raw:"React.Key"},description:""}}}},"./src/Menu/_useSubmenu.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>MenuKeyboardDelegate,d:()=>useSubmenu});__webpack_require__("../../node_modules/react/index.js");var _react_aria_interactions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useKeyboard.mjs"),_react_aria_selection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/selection/dist/ListKeyboardDelegate.mjs");class MenuKeyboardDelegate extends _react_aria_selection__WEBPACK_IMPORTED_MODULE_1__.d{collection;keys;constructor(rootKey,collection,disabledKeys,ref,collator){super(collection,disabledKeys,ref,collator),this.collection=collection,this.keys=[...collection.getKeys()].map((key=>collection.getItem(key))).flatMap((item=>{if(item&&item.parentKey==rootKey){if("item"===item.type)return[item.key];if("section"===item.type)return[...item.childNodes].map((({key})=>key))}return[]}))}getFirstKey(){return this.keys[0]}getLastKey(){return this.keys.slice(-1)[0]}getKeyBelow(key){const keyBelow=super.getKeyBelow(key);return this.keys.includes(keyBelow)?keyBelow:null}getKeyAbove(key){const keyAbove=super.getKeyAbove(key);return this.keys.includes(keyAbove)?keyAbove:null}}function useSubmenu({rootKey},state,ref){const{keyboardProps:submenuProps}=(0,_react_aria_interactions__WEBPACK_IMPORTED_MODULE_2__.v)({onKeyDown:e=>{if(!ref.current?.contains(e.target))return void e.continuePropagation();const root=state.collection.getItem(rootKey);if("ArrowLeft"===e.key&&root&&state.expandedKeys.has(root.key))return state.toggleKey(root.key),void state.selectionManager.setFocused(!0);e.continuePropagation()}});return{submenuProps}}},"./src/Menu/_useSubmenuState.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>useSubmenuState});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_stately_selection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-stately/selection/dist/SelectionManager.mjs");function useSubmenuState(parentState){const[,setFocused]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[,setFocusedKey]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),isFocusedRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),focusedKeyRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),state={...parentState.selectionManager.state,setFocused:isFocused=>{isFocusedRef.current=isFocused,setFocused(isFocused)},setFocusedKey(key){focusedKeyRef.current=key,setFocusedKey(key)}};return Object.defineProperties(state,{isFocused:{get:()=>isFocusedRef.current},focusedKey:{get:()=>focusedKeyRef.current}}),{...parentState,selectionManager:new _react_stately_selection__WEBPACK_IMPORTED_MODULE_1__.Z(parentState.collection,state)}}},"./src/Menu/renderMenuNodes.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>renderMenuNodes});var react=__webpack_require__("../../node_modules/react/index.js"),ListDivider=__webpack_require__("./src/List/ListDivider.tsx"),MenuItem=__webpack_require__("./src/Menu/MenuItem.tsx"),useMenuSection=__webpack_require__("../../node_modules/@react-aria/menu/dist/useMenuSection.mjs"),styled=__webpack_require__("./src/styled.ts");const StyledMenuHeading=styled.zo.div`
  cursor: default;
  padding: 2px 0 2px 12px;
  font-weight: bold;
  font-size: 0.8125rem;
  color: ${({theme})=>theme.color("MenuItem.disabledForeground")}; // TODO: make sure about it. It's probably not correct color
`,StyledMenuSectionItemsContainer=styled.zo.ul`
  padding: 0;
  margin: 0;
`,MenuSection=({item,state,filter=()=>!0})=>{let{itemProps,headingProps,groupProps}=(0,useMenuSection.x)({heading:item.rendered,"aria-label":item["aria-label"]});const nodes=[...item.childNodes].filter(filter);return 0===nodes.filter((({type})=>"item"===type)).length?react.createElement(react.Fragment,null):react.createElement(react.Fragment,null,react.createElement("li",itemProps,item.rendered&&react.createElement(StyledMenuHeading,headingProps,item.rendered),react.createElement(StyledMenuSectionItemsContainer,groupProps,renderMenuNodes(state,nodes))))};function renderMenuNodes(state,nodes,filter=(()=>!0)){return nodes.filter(filter).map((node=>{switch(node.type){case"item":return react.createElement(MenuItem.s,{key:node.key,item:node,state});case"section":return react.createElement(react.Fragment,null,node.props.hasDivider&&react.createElement(ListDivider.R,{key:node.key+"-divider1"}),react.createElement(MenuSection,{key:node.key,item:node,state,filter}),node.props.hasDivider&&react.createElement(ListDivider.R,{key:node.key+"-divider2"}));case"divider":return react.createElement(ListDivider.R,{key:node.key})}}))}MenuSection.__docgenInfo={description:"",methods:[],displayName:"MenuSection",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},state:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""},filter:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: Node<T>) => boolean",signature:{arguments:[{type:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},name:"node"}],return:{name:"boolean"}}},description:"",defaultValue:{value:"() => true",computed:!1}}}}},"./src/Overlay/Overlay.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>areInNestedOverlays,a:()=>Overlay});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_overlays__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/overlays/dist/Overlay.mjs");const ParentOverlayContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);function Overlay({children,OverlayComponent=_react_aria_overlays__WEBPACK_IMPORTED_MODULE_1__.aV}){const root=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ParentOverlayContext),containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return root?react__WEBPACK_IMPORTED_MODULE_0__.createElement(OverlayComponent,{portalContainer:root},children):react__WEBPACK_IMPORTED_MODULE_0__.createElement(ParentOverlayContext.Provider,{value:containerRef.current},react__WEBPACK_IMPORTED_MODULE_0__.createElement(OverlayComponent,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:containerRef,"data-overlay-root":""},children)))}function areInNestedOverlays(element1,element2){const overlayRoot1=element1?.closest("[data-overlay-root]"),overlayRoot2=element2?.closest("[data-overlay-root]");return Boolean(overlayRoot1)&&overlayRoot1===overlayRoot2}Overlay.__docgenInfo={description:'A (drop-in replacement) wrapper around Overlay, which makes sure overlays created in nested\nreact components will be ported to the same top level container. This is especially useful to detect\n"outside clicks" when overlays are nested. The most common example would be nested menu in popup.',methods:[],displayName:"Overlay",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},OverlayComponent:{required:!1,tsType:{name:"ReactComponentType",raw:"React.ComponentType<OverlayProps>",elements:[{name:"OverlayProps"}]},description:"",defaultValue:{value:"AriaOverlay",computed:!0}}}}},"./src/StyledSeparator.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{lX:()=>StyledVerticalSeparator,mc:()=>StyledSeparator,ve:()=>StyledHorizontalSeparator});__webpack_require__("../../node_modules/react/index.js");var _styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styled.ts");const DarculaSeparatorUI_STRIPE_INDENT=1,defaultSize=2*DarculaSeparatorUI_STRIPE_INDENT+1,StyledSeparator=_styled__WEBPACK_IMPORTED_MODULE_1__.zo.hr((({theme})=>({backgroundColor:theme.color("Separator.separatorColor",theme.dark?"#cdcdcd":"#515151"),backgroundClip:"content-box",boxSizing:"border-box",margin:0,border:"none",flexShrink:0}))),StyledHorizontalSeparator=(0,_styled__WEBPACK_IMPORTED_MODULE_1__.zo)(StyledSeparator)`
  height: inherit; // should it be auto?
  padding: 0 ${DarculaSeparatorUI_STRIPE_INDENT}px;
  width: ${defaultSize}px;
`,StyledVerticalSeparator=(0,_styled__WEBPACK_IMPORTED_MODULE_1__.zo)(StyledSeparator)`
  width: auto;
  padding: ${DarculaSeparatorUI_STRIPE_INDENT}px 0;
  height: ${defaultSize}px;
`}}]);
//# sourceMappingURL=8492.8e28ec79.iframe.bundle.js.map