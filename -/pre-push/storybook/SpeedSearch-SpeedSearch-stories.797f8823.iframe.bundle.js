"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[2594],{"../../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>$9ab94262bd0047c7$export$420e68273165f4ec});var _utils_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/interactions/dist/utils.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function $9ab94262bd0047c7$export$420e68273165f4ec(props){let{isDisabled,onBlurWithin,onFocusWithin,onFocusWithinChange}=props,state=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({isFocusWithin:!1}),onBlur=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{state.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(state.current.isFocusWithin=!1,onBlurWithin&&onBlurWithin(e),onFocusWithinChange&&onFocusWithinChange(!1))}),[onBlurWithin,onFocusWithinChange,state]),onSyntheticFocus=(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_1__.y)(onBlur),onFocus=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{state.current.isFocusWithin||document.activeElement!==e.target||(onFocusWithin&&onFocusWithin(e),onFocusWithinChange&&onFocusWithinChange(!0),state.current.isFocusWithin=!0,onSyntheticFocus(e))}),[onFocusWithin,onFocusWithinChange,onSyntheticFocus]);return isDisabled?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus,onBlur}}}},"../../node_modules/@react-aria/interactions/dist/useKeyboard.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function $93925083ecbb358c$export$48d1ea6320830260(handler){if(!handler)return;let shouldStopPropagation=!0;return e=>{let event={...e,preventDefault(){e.preventDefault()},isDefaultPrevented:()=>e.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){shouldStopPropagation=!1}};handler(event),shouldStopPropagation&&e.stopPropagation()}}function $46d819fcbaf35654$export$8f71654801c2f7cd(props){return{keyboardProps:props.isDisabled?{}:{onKeyDown:$93925083ecbb358c$export$48d1ea6320830260(props.onKeyDown),onKeyUp:$93925083ecbb358c$export$48d1ea6320830260(props.onKeyUp)}}}__webpack_require__.d(__webpack_exports__,{d:()=>$46d819fcbaf35654$export$8f71654801c2f7cd})},"../../node_modules/@react-aria/interactions/dist/utils.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>$8a9cb279dc87e130$export$715c682d09d639cc});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/interactions/node_modules/@react-aria/utils/dist/useLayoutEffect.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/interactions/node_modules/@react-aria/utils/dist/useEffectEvent.mjs");class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(type,nativeEvent){this.nativeEvent=nativeEvent,this.target=nativeEvent.target,this.currentTarget=nativeEvent.currentTarget,this.relatedTarget=nativeEvent.relatedTarget,this.bubbles=nativeEvent.bubbles,this.cancelable=nativeEvent.cancelable,this.defaultPrevented=nativeEvent.defaultPrevented,this.eventPhase=nativeEvent.eventPhase,this.isTrusted=nativeEvent.isTrusted,this.timeStamp=nativeEvent.timeStamp,this.type=type}}function $8a9cb279dc87e130$export$715c682d09d639cc(onBlur){let stateRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({isFocused:!1,observer:null});(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__.N)((()=>{const state=stateRef.current;return()=>{state.observer&&(state.observer.disconnect(),state.observer=null)}}),[]);let dispatchBlur=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_2__.J)((e=>{null==onBlur||onBlur(e)}));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){stateRef.current.isFocused=!0;let target=e.target,onBlurHandler=e=>{stateRef.current.isFocused=!1,target.disabled&&dispatchBlur(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",e)),stateRef.current.observer&&(stateRef.current.observer.disconnect(),stateRef.current.observer=null)};target.addEventListener("focusout",onBlurHandler,{once:!0}),stateRef.current.observer=new MutationObserver((()=>{if(stateRef.current.isFocused&&target.disabled){var _stateRef_current_observer;null===(_stateRef_current_observer=stateRef.current.observer)||void 0===_stateRef_current_observer||_stateRef_current_observer.disconnect();let relatedTargetEl=target===document.activeElement?null:document.activeElement;target.dispatchEvent(new FocusEvent("blur",{relatedTarget:relatedTargetEl})),target.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:relatedTargetEl}))}})),stateRef.current.observer.observe(target,{attributes:!0,attributeFilter:["disabled"]})}}),[dispatchBlur])}},"../../node_modules/@react-aria/interactions/node_modules/@react-aria/utils/dist/useEffectEvent.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>$8ae05eaa5c114e9c$export$7f54fc3180508a52});var _useLayoutEffect_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/interactions/node_modules/@react-aria/utils/dist/useLayoutEffect.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function $8ae05eaa5c114e9c$export$7f54fc3180508a52(fn){const ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,_useLayoutEffect_mjs__WEBPACK_IMPORTED_MODULE_1__.N)((()=>{ref.current=fn}),[fn]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((...args)=>{const f=ref.current;return null==f?void 0:f(...args)}),[])}},"../../node_modules/@react-aria/interactions/node_modules/@react-aria/utils/dist/useLayoutEffect.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c="undefined"!=typeof document?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:()=>{}},"../../node_modules/@react-aria/utils/dist/useObjectRef.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>$df56164dff5785e2$export$4338b53315abf666});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function $df56164dff5785e2$export$4338b53315abf666(forwardedRef){const objRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({get current(){return objRef.current},set current(value){objRef.current=value,"function"==typeof forwardedRef?forwardedRef(value):forwardedRef&&(forwardedRef.current=value)}})),[forwardedRef])}},"../../node_modules/@react-stately/utils/dist/useControlledState.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>$458b0a5536c1a7cf$export$40bfa8c7b0832715});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function $458b0a5536c1a7cf$export$40bfa8c7b0832715(value,defaultValue,onChange){let[stateValue,setStateValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value||defaultValue),isControlledRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0!==value),isControlled=void 0!==value;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let wasControlled=isControlledRef.current;wasControlled!==isControlled&&console.warn(`WARN: A component changed from ${wasControlled?"controlled":"uncontrolled"} to ${isControlled?"controlled":"uncontrolled"}.`),isControlledRef.current=isControlled}),[isControlled]);let currentValue=isControlled?value:stateValue,setValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(((value,...args)=>{let onChangeCaller=(value,...onChangeArgs)=>{onChange&&(Object.is(currentValue,value)||onChange(value,...onChangeArgs)),isControlled||(currentValue=value)};if("function"==typeof value){console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),setStateValue(((oldValue,...functionArgs)=>{let interceptedValue=value(isControlled?currentValue:oldValue,...functionArgs);return onChangeCaller(interceptedValue,...args),isControlled?oldValue:interceptedValue}))}else isControlled||setStateValue(value),onChangeCaller(value,...args)}),[isControlled,currentValue,onChange]);return[currentValue,setValue]}},"./src/SpeedSearch/SpeedSearch.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SpeedSearch_stories});var react=__webpack_require__("../../node_modules/react/index.js"),useObjectRef=__webpack_require__("../../node_modules/@react-aria/utils/dist/useObjectRef.mjs"),mergeProps=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs"),SpeedSearchContainer=__webpack_require__("./src/SpeedSearch/SpeedSearchContainer.tsx"),SpeedSearchPopup=__webpack_require__("./src/SpeedSearch/SpeedSearchPopup.tsx"),useSpeedSearch=__webpack_require__("./src/SpeedSearch/useSpeedSearch.tsx");const SpeedSearch=react.forwardRef((function SpeedSearch({children,keepSearchActiveOnBlur=!1,className,containerProps={},match,...otherProps},forwardedRef){const ref=(0,useObjectRef.U)(forwardedRef),speedSearchState=(0,useSpeedSearch.u)(otherProps),{containerProps:speedSearchContainerProps}=(0,useSpeedSearch.V)({keepSearchActiveOnBlur},speedSearchState,ref);return react.createElement(SpeedSearchContainer.Z,{tabIndex:-1,ref,...(0,mergeProps.v)(containerProps,speedSearchContainerProps,{className})},react.createElement(SpeedSearchPopup.A,{active:speedSearchState.active,match},speedSearchState.searchTerm),children)}));SpeedSearch.__docgenInfo={description:"",methods:[],displayName:"SpeedSearch",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},keepSearchActiveOnBlur:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},match:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},containerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"union",raw:'"as" | "ref"',elements:[{name:"literal",value:'"as"'},{name:"literal",value:'"ref"'}]}],raw:'Omit<HTMLProps<HTMLDivElement>, "as" | "ref">'},description:"",defaultValue:{value:"{}",computed:!1}}}};var minusculeMatch=__webpack_require__("./src/minusculeMatch.ts"),TextWithHighlights=__webpack_require__("./src/TextWithHighlights/TextWithHighlights.tsx"),styled=__webpack_require__("./src/styled.ts");const SpeedSearch_stories={title:"Components/SpeedSearch",component:SpeedSearch},SpeedSearch_stories_SpeedSearchContainer=(0,styled.I4)(SpeedSearch)`
  width: 400px;
  margin-top: 25px;
  background: ${({theme})=>theme.commonColors.panelBackground};
  color: ${({theme})=>theme.color("*.textForeground")};
`,Default={render:({onSearchTermChange,onIsSearchActiveChange})=>{const[searchTerm,setSearchTerm]=(0,react.useState)(""),[isActive,setIsActive]=(0,react.useState)(!1);return react.createElement(SpeedSearch_stories_SpeedSearchContainer,{searchTerm,onSearchTermChange:searchTerm=>{setSearchTerm(searchTerm),onSearchTermChange?.(searchTerm)},isSearchActive:isActive,onIsSearchActiveChange:active=>{setIsActive(active),onIsSearchActiveChange?.(active)},match:!0,keepSearchActiveOnBlur:!0},react.createElement("ul",null,react.createElement("li",null,react.createElement(SearchableText,{searchTerm},"Item one.")),react.createElement("li",null,react.createElement(SearchableText,{searchTerm},"Item two.")," ",react.createElement("input",null)),react.createElement("li",null,react.createElement(SearchableText,{searchTerm},"Paco de lucia")," ",react.createElement("button",null,"test")),react.createElement("li",null,react.createElement(SearchableText,{searchTerm},"Paco de lucia, godOfTheGuitar")," ",react.createElement("button",null,"test")),react.createElement("li",null,react.createElement("input",{type:"checkbox"}),react.createElement(SearchableText,{searchTerm},"Item four"))))}};function SearchableText({children,searchTerm}){const highlights=(0,react.useMemo)((()=>(0,minusculeMatch.T)(children,searchTerm)),[children,searchTerm]);return react.createElement(TextWithHighlights.f,{highlights},children)}const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: ({\n    onSearchTermChange,\n    onIsSearchActiveChange\n  }: {\n    onSearchTermChange?: (searchTerm: string) => void;\n    onIsSearchActiveChange?: (active: boolean) => void;\n  }) => {\n    const [searchTerm, setSearchTerm] = useState("");\n    const [isActive, setIsActive] = useState(false);\n    return <SpeedSearchContainer searchTerm={searchTerm} onSearchTermChange={searchTerm => {\n      setSearchTerm(searchTerm);\n      onSearchTermChange?.(searchTerm);\n    }} isSearchActive={isActive} onIsSearchActiveChange={active => {\n      setIsActive(active);\n      onIsSearchActiveChange?.(active);\n    }} match // search is done within the searchable text component in this dummy example, and we don\'t have information about match.\n    keepSearchActiveOnBlur>\n        <ul>\n          <li>\n            <SearchableText searchTerm={searchTerm}>Item one.</SearchableText>\n          </li>\n          <li>\n            <SearchableText searchTerm={searchTerm}>Item two.</SearchableText>{" "}\n            <input />\n          </li>\n          <li>\n            <SearchableText searchTerm={searchTerm}>\n              Paco de lucia\n            </SearchableText>{" "}\n            <button>test</button>\n          </li>\n          <li>\n            <SearchableText searchTerm={searchTerm}>\n              Paco de lucia, godOfTheGuitar\n            </SearchableText>{" "}\n            <button>test</button>\n          </li>\n          <li>\n            <input type="checkbox" />\n            <SearchableText searchTerm={searchTerm}>Item four</SearchableText>\n          </li>\n        </ul>\n      </SpeedSearchContainer>;\n  }\n}',...Default.parameters?.docs?.source}}}},"./src/Collections/ItemStateContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>ItemStateContext});const ItemStateContext=__webpack_require__("../../node_modules/react/index.js").createContext(null)},"./src/Icon/PlatformIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{RD:()=>amendName,jE:()=>PlatformIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styled.ts"),_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Icon/StyledIconWrapper.tsx"),_useSvgIcon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Icon/useSvgIcon.tsx"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/utils/dist/useObjectRef.mjs");const amendName=(iconNameOrPath,amendment)=>{const[name,ext]=iconNameOrPath.split(".");return`${name}${amendment}${ext?`.${ext}`:""}`},getPlatformIconPath=relativePath=>relativePath.startsWith("/")?relativePath.slice(1):`platform/icons/src/${relativePath}`,PlatformIcon=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({icon,darkIcon,...props},forwardedRef)=>{const ref=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__.U)(forwardedRef),iconName=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_2__.DP)().dark?((path,darkPath)=>{const[name,ext]=path.split(".");return darkPath||`${name}_dark${ext?`.${ext}`:""}`})(icon,darkIcon):icon;return(0,_useSvgIcon__WEBPACK_IMPORTED_MODULE_3__.N)({path:getPlatformIconPath(iconName),fallbackPath:getPlatformIconPath(icon)},ref),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIconWrapper__WEBPACK_IMPORTED_MODULE_4__.o,{...props,ref})}));PlatformIcon.__docgenInfo={description:'Renders an icon from the predefined list of platform icons.\nicon name must follow the directory structure in platform icons.\n@example <PlatformIcon icon="general/hideToolWindow" />\n@example <PlatformIcon icon="toolbar/pin" />\n@example <PlatformIcon icon="toolbar/pin.svg" />\n@example <PlatformIcon icon="/platform/dvcs-impl/resources/icons/currentBranchLabel.svg" />',methods:[],displayName:"PlatformIcon",props:{size:{required:!1,tsType:{name:"union",raw:"16 | number",elements:[{name:"literal",value:"16"},{name:"number"}]},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Additional node going into the icon wrapper. Such as indicators."},icon:{required:!0,tsType:{name:"string"},description:'Icon path in intellij platform repo.\nIf starts with "/", the path will be from the repo root. Otherwise, it\'s relative to "platform/icons/src".\n".svg" extension is optional.'},darkIcon:{required:!1,tsType:{name:"string"},description:"Similar to icon, but for dark themes."}},composes:["Omit"]}},"./src/Icon/StyledIconWrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>StyledIconWrapper});var _styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts");const StyledIconWrapper=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.span`
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
  width: ${({size=16})=>`${size}px`};
  height: ${({size=16})=>`${size}px`};
  position: relative; // to allow absolute positioned indicators and overlays on icon
  cursor: ${({role})=>"button"===role?"pointer":void 0};
`},"./src/Icon/useSvgIcon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>useSvgIcon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Collections/ItemStateContext.tsx");function useSvgIcon({path,fallbackPath},ref){const theme=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_1__.DP)(),itemState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_2__.k),selected=itemState?.isSelected||itemState?.isContainerFocused,[svg,setSvg]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((()=>{const element=ref.current;if(element){if(element.ariaBusy=null===svg?"true":null,element.querySelector("svg")?.remove(),svg){const svgElement=document.createElement("svg");element.appendChild(svgElement),svgElement.outerHTML=function makeIdsUnique(svg){const randomPostfix=(1e3*Math.random()).toFixed(0),idMatches=svg.matchAll(/id="(.*?)"/g);return[...idMatches].reduce(((modifiedSvg,[_,id])=>{const newId=`${id}-${randomPostfix}`;return replaceAll(`id="${id}"`,`id="${newId}"`,replaceAll(`url(#${id})`,`url(#${newId})`,modifiedSvg))}),svg)}(svg)}}else console.log(`unexpected state - ${path}`)}),[svg]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let canceled=!1;return(async()=>{if(!path)return void console.error("icon path is empty");setSvg(null);const svg=await theme.getSvgIcon(path,selected).catch((e=>{if(fallbackPath)return theme.getSvgIcon(fallbackPath,selected);throw e})).catch((e=>(console.error(`Could not resolve icon "${path}"`,e),"")));canceled||setSvg(svg)})().catch(console.error),()=>{canceled=!0}}),[path,selected])}function replaceAll(theOld,theNew,str){const replaced=str.replace(theOld,theNew),replacedAgain=replaced.replace(theOld,theNew);return replaced===replacedAgain?replaced:replaceAll(theOld,theNew,replacedAgain)}},"./src/SpeedSearch/SpeedSearchContainer.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>SpeedSearchContainer});const SpeedSearchContainer=__webpack_require__("./src/styled.ts").I4.div`
  position: relative;
  overflow: visible;
  max-height: 100%;
`},"./src/SpeedSearch/SpeedSearchPopup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SpeedSearchPopup});var _intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Icon/PlatformIcon.tsx"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styled.ts");const StyledSearchIcon=(0,_styled__WEBPACK_IMPORTED_MODULE_1__.I4)(_intellij_platform_core_Icon__WEBPACK_IMPORTED_MODULE_2__.jE)`
  margin-right: 10px;
  vertical-align: middle;
`,SpeedSearchPopup=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({active,match,children},ref)=>active?react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSpeedSearchPopup,{ref,noMatch:!match},react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSearchIcon,{icon:"actions/search"}),(children||"").replace(/ /g,"Â ")):null)),StyledSpeedSearchPopup=_styled__WEBPACK_IMPORTED_MODULE_1__.I4.span`
  // ref: https://github.com/JetBrains/intellij-community/blob/e3c7d96daba1d5d84d5650bde6c220aed225bfda/platform/platform-impl/src/com/intellij/ui/SpeedSearchBase.java#L53-L53
  box-sizing: border-box;
  position: absolute;
  background: ${({theme})=>theme.color("SpeedSearch.background",theme.dark?"rgb(111,111,111)":"#fff")};
  border: 1px solid
    ${({theme})=>theme.color("SpeedSearch.borderColor",theme.dark?"rgb(64, 64, 64)":"rgb(192, 192, 192)")};
  color: ${({noMatch,theme})=>noMatch?theme.color("SpeedSearch.errorForeground",theme.commonColors.red):theme.color("SpeedSearch.foreground",theme.commonColors.tooltipForeground)};
  z-index: 1;
  padding: 3px 7px;
  height: 25px;
  line-height: 1.2;
  transform: translateY(-100%);
`;SpeedSearchPopup.__docgenInfo={description:"The little popup view shown in the top left corner of list, tree, etc., which shows the search\nquery.\n@see SpeedSearchInput",methods:[],displayName:"SpeedSearchPopup",props:{children:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},match:{required:!1,tsType:{name:"boolean"},description:""},active:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""}}}},"./src/SpeedSearch/useSpeedSearch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>useSpeedSearch,u:()=>useSpeedSearchState});var react=__webpack_require__("../../node_modules/react/index.js");function useGhostInput({value,onChange}){const valueRef=(0,react.useRef)(value);valueRef.current=value;return{onKeyDown:event=>{if(!(event.ctrlKey||event.altKey||event.metaKey||event.target instanceof HTMLElement&&function isTypeableElement(elem){return elem.isContentEditable||elem instanceof HTMLInputElement&&!["checkbox","radio","button"].includes(elem.type)||elem instanceof HTMLTextAreaElement}(event.target))){if(1===event.key.length)return event.preventDefault(),onChange(`${valueRef.current}${event.key}`);if("Backspace"===event.key){const sliceEnd=event.metaKey?0:-1;onChange(valueRef.current.slice(0,sliceEnd))}}}}}var useKeyboard=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useKeyboard.mjs"),useFocusWithin=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs"),useControlledState=__webpack_require__("../../node_modules/@react-stately/utils/dist/useControlledState.mjs"),keyboard_utils=__webpack_require__("./src/utils/keyboard-utils.ts");function useSpeedSearchState(props){const[active,setActive]=(0,useControlledState.P)(props.isSearchActive,props.defaultIsSearchActive??!1,props.onIsSearchActiveChange),[searchTerm,setSearchTerm]=(0,useControlledState.P)(props.searchTerm,props.defaultSearchTerm||"",props.onSearchTermChange);return{active,searchTerm,setActive,setSearchTerm,clear:()=>{setSearchTerm(""),setActive(!1)}}}function useSpeedSearch({keepSearchActiveOnBlur},{searchTerm,active,setActive,setSearchTerm},ref){const{onKeyDown:ghostInputKeydown}=useGhostInput({value:searchTerm,onChange:value=>{const trimmedValue=value.trimStart();setSearchTerm(trimmedValue),active||""===trimmedValue||setActive(!0)}}),clear=()=>{setSearchTerm(""),setActive(!1)},{keyboardProps:{onKeyDown,onKeyUp}}=(0,useKeyboard.d)({onKeyDown:e=>{ref.current?.contains(e.target)&&("a"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault(),"Escape"===e.key?clear():ghostInputKeydown(e),active&&!(0,keyboard_utils.w)(e)||e.continuePropagation())}}),{focusWithinProps:{onFocus,onBlur}}=(0,useFocusWithin.R)({onBlurWithin:event=>{("function"==typeof keepSearchActiveOnBlur?keepSearchActiveOnBlur(event):keepSearchActiveOnBlur)||clear()}});return{containerProps:{onFocus,onBlur,onKeyDown,onKeyUp}}}},"./src/TextRange.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getAllRanges(ranges,length){const result=[];return ranges?.length?(ranges[0].from>0&&result.push([{from:0,to:ranges[0].from-1},!1]),ranges.forEach((({from,to},index)=>{result.push([{from,to},!0]);const gapRange=ranges[index+1]?{from:to+1,to:ranges[index+1].from-1}:{from:to+1,to:length-1};(function isEmptyRange(range){return range.from>range.to})(gapRange)||result.push([gapRange,!1])})),result):[[{from:0,to:length-1},!1]]}function createRangesFromIndices(indices){return indices.reduce(((ranges,index)=>{const lastRange=ranges.slice(-1)[0];return lastRange?.to===index-1?[...ranges.slice(0,-1),{from:lastRange.from,to:index}]:[...ranges,{from:index,to:index}]}),[])}__webpack_require__.d(__webpack_exports__,{ED:()=>getAllRanges,mG:()=>createRangesFromIndices})},"./src/TextWithHighlights/TextWithHighlights.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{f:()=>TextWithHighlights});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_TextRange__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/TextRange.ts");const HighlightedMatch=__webpack_require__("./src/styled.ts").I4.span`
  background: ${({theme})=>`linear-gradient(${theme.color("SearchMatch.startBackground","#ffeaa2b3")}, ${theme.color("SearchMatch.endBackground","#ffd042b3")})`};
  color: #000;
  border-radius: 3px;
`;function TextWithHighlights({children,highlights}){const parts=highlights?(0,_TextRange__WEBPACK_IMPORTED_MODULE_2__.ED)(highlights,children.length):[[{from:0,to:children.length},!1]];return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,parts.map((([{from,to},highlighted])=>{const text=children.slice(from,to+1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:`${from}_${to}`},highlighted?react__WEBPACK_IMPORTED_MODULE_0__.createElement(HighlightedMatch,null,text):text)})))}TextWithHighlights.__docgenInfo={description:"Renders the children (which must be a string), with highlights wrapped in spans with the highlight style.\nNote: this component doesn't render a container. It just highlights the specified ranges.",methods:[],displayName:"TextWithHighlights",props:{children:{required:!0,tsType:{name:"string"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"TextRange[] | null",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:"{ from: number; to: number }",signature:{properties:[{key:"from",value:{name:"number",required:!0}},{key:"to",value:{name:"number",required:!0}}]}}],raw:"TextRange[]"},{name:"null"}]},description:""}}}},"./src/minusculeMatch.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>minusculeMatch});var TextRange=__webpack_require__("./src/TextRange.ts");function isWordSeparator(c){return isWhitespace(c)||"_"==c||"-"==c||":"==c||"+"==c||"."==c}function isWhitespace(char){return/^\s*$/.test(char)}function isUpperCase(str){return str.toUpperCase()===str&&str.toLowerCase()!==str}function isMeaningfulChar(ch){return!isWordSeparator(ch)&&!isWhitespace(ch)}const minusculeMatch=(input,rawPattern)=>{const isStarts=input.split("").map(isStart),pattern=rawPattern.split("").filter(isMeaningfulChar).join(""),matches=[];let continuous=!1,inputIndex=0,patternIndex=0;for(;;){if(matches.length===pattern.length)return(0,TextRange.mG)(matches.map((({inputIndex:i})=>i)));if(inputIndex>input.length-1){if(matches.length>0){const lastMatch=matches.pop();inputIndex=lastMatch.inputIndex+1,patternIndex=lastMatch.patternIndex;continue}break}isMeaningfulChar(input[inputIndex])?pattern[patternIndex].toLowerCase()===input[inputIndex].toLowerCase()&&(continuous||isStarts[inputIndex]||0===matches.length)?(matches.push({patternIndex,inputIndex}),continuous=!0,patternIndex++,inputIndex++):(continuous=!1,inputIndex++):inputIndex++}return null};function isStart(char,index,chars){const previousChar=chars[index-1];return 0===index||isWordSeparator(previousChar)&&!isWordSeparator(char)||isUpperCase(char)&&!isUpperCase(previousChar)}},"./src/styled.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AH:()=>css,DP:()=>useTheme,I4:()=>styled});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const styled=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay,useTheme=styled_components__WEBPACK_IMPORTED_MODULE_0__.DP,css=styled_components__WEBPACK_IMPORTED_MODULE_0__.AH;styled_components__WEBPACK_IMPORTED_MODULE_0__.e$},"./src/utils/keyboard-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>hasAnyModifier});__webpack_require__("../../node_modules/react/index.js");function hasAnyModifier(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}}]);
//# sourceMappingURL=SpeedSearch-SpeedSearch-stories.797f8823.iframe.bundle.js.map