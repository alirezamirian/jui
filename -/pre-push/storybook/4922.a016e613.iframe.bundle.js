"use strict";(self.webpackChunk_intellij_platform_core=self.webpackChunk_intellij_platform_core||[]).push([[4922],{"./src/ActionSystem/components/ActionButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>ActionButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_ActionSystem_ActionsProvider__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),_intellij_platform_core_IconButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/IconButton/IconButton.tsx"),_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Tooltip/ActionTooltip.tsx");const ActionButton=({actionId,children,...otherProps})=>{const action=(0,_intellij_platform_core_ActionSystem_ActionsProvider__WEBPACK_IMPORTED_MODULE_1__.y3)(actionId);if(!action)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null);const actionButton=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_IconButton__WEBPACK_IMPORTED_MODULE_2__.K0,{isDisabled:action.isDisabled,"aria-label":action.title,...otherProps,onPress:e=>{action?.perform(),otherProps.onPress?.(e)}},children||action.icon);return action.title?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_3__.k,{tooltip:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Tooltip__WEBPACK_IMPORTED_MODULE_4__.m,{actionName:action.title,shortcut:action.shortcut})},actionButton):actionButton};ActionButton.__docgenInfo={description:"",methods:[],displayName:"ActionButton",props:{actionId:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Content to show instead of `action.icon`."},minSize:{required:!1,tsType:{name:"number"},description:"The minimum width/height of the button."},excludeFromTabOrder:{required:!1,tsType:{name:"boolean"},description:"Whether the button should be focusable by pressing tab. The default is true for icon buttons (aka. action buttons),\nwhich means they are not included in the tab order."}},composes:["PressProps","Pick"]}},"./src/ActionSystem/components/ActionsMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>ActionsMenu,Z:()=>renderActionAsMenuItem});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),ramda__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ramda/es/flatten.js"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Menu/Menu.tsx"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Menu/MenuItemLayout.tsx"),_intellij_platform_core_Collections_Divider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Collections/Divider.ts"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-stately/collections/dist/Section.mjs"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Collections/Item.ts");function isAction(item){return"perform"in item}function ActionsMenu({actions,actionContext,children=actionMenuProps=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_1__.W1,actionMenuProps),...otherProps}){const allActions=getAllActions(actions),disabledKeys=allActions.filter((({isDisabled})=>isDisabled)).map((({id})=>id));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,children({...otherProps,onAction:key=>{const action=allActions.find((({id})=>id===key));action&&isAction(action)&&action.perform("function"==typeof actionContext?actionContext?.():actionContext)},disabledKeys,items:actions,children:action=>action instanceof _intellij_platform_core_Collections_Divider__WEBPACK_IMPORTED_MODULE_2__.V?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Collections_Divider__WEBPACK_IMPORTED_MODULE_2__.c,null):renderActionAsMenuItem(action)}))}function renderActionAsMenuItem(action){const isGroup="children"in action;return!isGroup||"section"!==action.menuPresentation&&"titledSection"!==action.menuPresentation?action instanceof _intellij_platform_core_Collections_Divider__WEBPACK_IMPORTED_MODULE_2__.V?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Collections_Divider__WEBPACK_IMPORTED_MODULE_2__.c,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_4__.q,{key:action.id,textValue:action.title,"aria-label":action.title,childItems:isGroup&&"submenu"===action.menuPresentation?action.children:void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_5__.T,{content:action.title,icon:action.icon,shortcut:"shortcut"in action?action.shortcut:void 0})):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_3__.w,{key:action.id,hasDivider:!0,"aria-label":"section"===action.menuPresentation?action.title:void 0,title:"titledSection"===action.menuPresentation?action.title:void 0,items:action.children},renderActionAsMenuItem)}function getAllActions(items){return(0,ramda__WEBPACK_IMPORTED_MODULE_6__.A)(items.map((item=>[item].concat("children"in item?getAllActions(item.children):[])))).filter(isAction)}ActionsMenu.__docgenInfo={description:"Given a nested list of resolved actions, renders a menu corresponding to them.",methods:[],displayName:"ActionsMenu",props:{actions:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"ActionGroupAsMenuItem | Action | DividerItem",elements:[{name:"Pick",elements:[{name:"Readonly",elements:[{name:"MutableActionGroup"}],raw:"Readonly<MutableActionGroup>"},{name:"union",raw:'"id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"icon"'},{name:"literal",value:'"title"'},{name:"literal",value:'"isDisabled"'},{name:"literal",value:'"children"'},{name:"literal",value:'"menuPresentation"'}]}],raw:'Pick<\n  ActionGroup,\n  "id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"\n>'},{name:"Readonly",elements:[{name:"MutableAction"}],raw:"Readonly<MutableAction>"},{name:"DividerItem"}]}],raw:"Array<ActionItem>"},description:""},actionContext:{required:!1,tsType:{name:"union",raw:"ActionContext | (() => ActionContext)",elements:[{name:"ActionContext"},{name:"unknown"}]},description:"Context with which actions should be performed.\nUsually the context by which the ActionsMenu itself is opened.\nPass a function for lazy evaluation when the action is selected from the menu."},children:{required:!1,tsType:{name:"signature",type:"function",raw:"(props: ControlledMenuProps) => React.ReactNode",signature:{arguments:[{type:{name:"Pick",elements:[{name:"MenuProps",elements:[{name:"union",raw:"ActionGroupAsMenuItem | Action | DividerItem",elements:[{name:"Pick",elements:[{name:"Readonly",elements:[{name:"MutableActionGroup"}],raw:"Readonly<MutableActionGroup>"},{name:"union",raw:'"id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"icon"'},{name:"literal",value:'"title"'},{name:"literal",value:'"isDisabled"'},{name:"literal",value:'"children"'},{name:"literal",value:'"menuPresentation"'}]}],raw:'Pick<\n  ActionGroup,\n  "id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"\n>'},{name:"Readonly",elements:[{name:"MutableAction"}],raw:"Readonly<MutableAction>"},{name:"DividerItem"}]}],raw:"MenuProps<ActionItem>"},{name:"union",raw:'"onAction" | "disabledKeys" | "items" | "children"',elements:[{name:"literal",value:'"onAction"'},{name:"literal",value:'"disabledKeys"'},{name:"literal",value:'"items"'},{name:"literal",value:'"children"'}]}],raw:'Pick<\n  MenuProps<ActionItem>,\n  "onAction" | "disabledKeys" | "items" | "children"\n>'},name:"props"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Allows for rendering a custom menu component, e.g. {@link SpeedSearchMenu}.\nIf not provided, {@link Menu} is rendered, receiving additional props that\nare passed to `ActionsMenu`.\nIf it is provided, additional {@link Menu} props are not allowed, and they\ncan be passed directly to the returned menu element.",defaultValue:{value:"(actionMenuProps) => <Menu {...actionMenuProps} />",computed:!1}}}},renderActionAsMenuItem.__docgenInfo={description:"",methods:[],displayName:"renderActionAsMenuItem"}},"./src/ActionSystem/components/useCreateDefaultActionGroup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>useCreateDefaultActionGroup});var ramda__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/ramda/es/flatten.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Popup__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Popup/PopupManager.tsx"),_intellij_platform_core_Popup__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Popup/Popup.tsx"),_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/Menu/SpeedSearchMenu.tsx"),_intellij_platform_core_Menu_ContextMenuContainer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Menu/ContextMenuContainer.tsx"),_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/useEventCallback.ts"),_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/ActionSystem/ActionShortcut.tsx"),_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/ActionSystem/ActionGroup.tsx"),_ActionsMenu__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/ActionSystem/components/ActionsMenu.tsx"),_intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/Collections/Divider.ts");const useCreateDefaultActionGroup=()=>{const{show}=(0,_intellij_platform_core_Popup__WEBPACK_IMPORTED_MODULE_1__.n)(),getActionShortcut=(0,_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_2__.a)(),openActionsInPopup=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_3__.D)((({children,title},context)=>{show((({close})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Popup__WEBPACK_IMPORTED_MODULE_4__.zD,{positioning:context.element instanceof HTMLElement?{targetRef:{current:context.element.querySelector(`[${_intellij_platform_core_Menu_ContextMenuContainer__WEBPACK_IMPORTED_MODULE_5__.w}]`)??context.element},placement:"bottom"}:void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Popup__WEBPACK_IMPORTED_MODULE_4__.zD.Layout,{content:react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Menu__WEBPACK_IMPORTED_MODULE_6__.V,{"aria-label":title,items:children.map((item=>"divider"===item?new _intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_7__.V:item)),onAction:key=>{const action=(0,ramda__WEBPACK_IMPORTED_MODULE_8__.A)(children.map((item=>"divider"!==item&&(0,_intellij_platform_core_ActionSystem__WEBPACK_IMPORTED_MODULE_9__.DO)(item)?item.children:item))).find((action=>"object"==typeof action&&action.id===key));action&&!action.isDisabled&&action.actionPerformed(context)},onClose:close,autoFocus:"first"},(item=>(0,_ActionsMenu__WEBPACK_IMPORTED_MODULE_10__.Z)(item instanceof _intellij_platform_core_Collections__WEBPACK_IMPORTED_MODULE_7__.V?item:{...item,shortcut:getActionShortcut(item.id)}))),header:title}))))}));return groupDefinition=>({menuPresentation:"submenu",...groupDefinition,actionPerformed:context=>openActionsInPopup(groupDefinition,context)})}},"./src/ActionSystem/useActionGroup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>useActionGroup});var _ActionsProvider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),_ActionGroup__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/ActionSystem/ActionGroup.tsx");const useActionGroup=actionGroupId=>{const action=(0,_ActionsProvider__WEBPACK_IMPORTED_MODULE_0__.y3)(actionGroupId);if(action){if((0,_ActionGroup__WEBPACK_IMPORTED_MODULE_1__.Yq)(action))return action;throw new Error(`Action with id ${actionGroupId} is not a group`)}return null}},"./src/Button/BareButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>BareButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_aria_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@react-aria/button/dist/useButton.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-aria/utils/dist/useObjectRef.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@react-aria/utils/dist/filterDOMProps.mjs"),_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs");const BareButton=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function BareButton({elementType:elementTypeProp,...props},forwardedRef){const elementType=elementTypeProp||(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(props.children)&&"string"==typeof props.children.type?props.children.type:void 0)||"button",ref=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_1__.U)(forwardedRef),{buttonProps}=(0,_react_aria_button__WEBPACK_IMPORTED_MODULE_2__.s)({elementType,...props},ref),domProps=(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_3__.$)(props),{autoFocus}=props;return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(props.children,(0,_react_aria_utils__WEBPACK_IMPORTED_MODULE_4__.v)(domProps,buttonProps,{autoFocus,ref}))}));BareButton.__docgenInfo={description:"A component to make arbitrary content an accessible button which is also able to be a tooltip trigger.",methods:[],displayName:"BareButton",props:{children:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},elementType:{required:!1,tsType:{name:'AriaButtonProps["elementType"]',raw:'AriaButtonProps["elementType"]'},description:""},preventFocusOnPress:{required:!1,tsType:{name:"boolean"},description:""}},composes:["AriaBaseButtonProps","ButtonProps"]}},"./src/Menu/SpeedSearchMenu.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>SpeedSearchMenu});var react=__webpack_require__("../../node_modules/react/index.js"),useResizeObserver=__webpack_require__("../../node_modules/@react-aria/utils/dist/useResizeObserver.mjs"),useLayoutEffect=__webpack_require__("../../node_modules/@react-aria/utils/dist/useLayoutEffect.mjs"),mergeProps=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs"),focusSafely=__webpack_require__("../../node_modules/@react-aria/focus/dist/focusSafely.mjs"),ListCollection=__webpack_require__("../../node_modules/@react-stately/list/dist/ListCollection.mjs"),useEventCallback=__webpack_require__("./src/utils/useEventCallback.ts"),useCollectionSpeedSearch=__webpack_require__("./src/CollectionSpeedSearch/useCollectionSpeedSearch.ts"),useButton=__webpack_require__("../../node_modules/@react-aria/button/dist/useButton.mjs"),PlatformIcon=__webpack_require__("./src/Icon/PlatformIcon.tsx"),AutoHoverPlatformIcon=__webpack_require__("./src/Icon/AutoHoverPlatformIcon.tsx"),styled=__webpack_require__("./src/styled.ts");const StyledSearchIcon=(0,styled.I4)(PlatformIcon.jE)`
  margin-right: 0.25rem;
`,StyledSpeedSearchInput=styled.I4.span`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  background: ${({theme,noMatch})=>noMatch?theme.color("SearchField.errorBackground",theme.dark?"#743A3A":"#ffcccc"):theme.color("TextField.background")}; // fallback logic not checked with the ref impl
  color: ${({theme})=>theme.color("TextField.foreground")}; // fallback logic not checked with the ref impl
  height: 1.5rem; // 24px, JBTextField COMPACT_HEIGHT
  padding: 0.125rem 0.375rem;
  border: 1px solid ${({theme})=>theme.getOutlineColor(!0,!1)};
  border-radius: ${({theme})=>(theme.value("Component.arc")??5)/2}px;
`,StyledSearchText=styled.I4.span`
  flex: 1;
  font-size: 0.91em; // RelativeFont.SMALL
`,SpeedSearchInput=react.forwardRef((({active,match,children,clear},ref)=>{const clearButtonRef=(0,react.useRef)(null),{buttonProps}=(0,useButton.s)({elementType:"span","aria-label":"Clear search",excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:clear},clearButtonRef);return active?react.createElement(StyledSpeedSearchInput,{ref,noMatch:!match},react.createElement(StyledSearchIcon,{icon:"actions/search"}),react.createElement(StyledSearchText,null,(children||"").replace(/ /g," ")),children&&react.createElement(AutoHoverPlatformIcon.i,{...buttonProps,ref:clearButtonRef,icon:"actions/close",hoverIcon:"actions/closeHovered"})):null}));SpeedSearchInput.__docgenInfo={description:"An input field to be rendered to show the filter value in speed search in menus and similar speedSearch-enabled\ncomponents.\n@see SpeedSearchPopup",methods:[],displayName:"SpeedSearchInput",props:{children:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},match:{required:!1,tsType:{name:"boolean"},description:""},active:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},clear:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var StyledMenu=__webpack_require__("./src/Menu/StyledMenu.tsx"),Menu=__webpack_require__("./src/Menu/Menu.tsx"),renderMenuNodes=__webpack_require__("./src/Menu/renderMenuNodes.tsx"),Submenu=__webpack_require__("./src/Menu/Submenu.tsx"),_useSubmenuState=__webpack_require__("./src/Menu/_useSubmenuState.tsx"),_useSubmenu=__webpack_require__("./src/Menu/_useSubmenu.ts"),StyledSeparator=__webpack_require__("./src/StyledSeparator.tsx");const StyledItemsContainer=styled.I4.ul`
  all: unset;
  flex: 1;
  overflow: auto;
`,StyledSearchFieldWrapper=styled.I4.div`
  flex-shrink: 0;
  padding: 0 0.2rem 0.3rem;
`,StyledSpeedSearchMenu=(0,styled.I4)(StyledMenu.jl)`
  --jui-menu-item-padding: 1.25rem;
  ${StyledSeparator.tj} {
    margin: 0 3px; // FIXME: probably use theme
  }
`,StyledPlaceholder=styled.I4.div`
  color: ${({theme})=>theme.color("Component.infoForeground",theme.dark?"#787878":"#999999")};

  // center positioning. Intentionally different from reference impl.
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;

  white-space: nowrap;
`;function useSpeedSearchMenu(state,rootKey,ref,containerRef){const{speedSearch,selectionManager,keyboardDelegate,containerProps:speedSearchContainerProps,searchPopupProps}=(0,useCollectionSpeedSearch.Z)({collection:(0,react.useMemo)((()=>new ListCollection.J(rootKey?state.collection.getItem(rootKey)?.childNodes??[]:state.collection)),[rootKey,state.collection]),selectionManager:state.selectionManager,keyboardDelegate:new _useSubmenu.y(rootKey,state.collection,state.disabledKeys,ref),keepSearchActiveOnBlur:!0,focusBestMatch:!0,ref});(0,react.useEffect)((()=>{const element=ref.current;element&&state.selectionManager.isFocused&&!element?.contains(document.activeElement)&&(0,focusSafely.l)(element)}));const lastSize=(0,react.useRef)(null),[size,setSize]=(0,react.useState)(null),measureSize=()=>{const{offsetWidth=0,offsetHeight=0}=containerRef.current||{};offsetWidth>0&&offsetHeight>0&&(lastSize.current={width:offsetWidth,height:offsetHeight})},isSearchActive=speedSearch.active&&speedSearch.searchTerm.length>0;(0,useResizeObserver.w)({ref:containerRef,onResize:(0,useEventCallback.D)((()=>{isSearchActive||measureSize()}))}),(0,useLayoutEffect.N)((()=>{isSearchActive?lastSize.current&&setSize(lastSize.current):(lastSize.current||measureSize(),setSize(null))}),[isSearchActive]);const sizeStyleProps=size?{style:{...size,minHeight:size.height,maxHeight:size.height}}:{};return{speedSearch,keyboardDelegate,selectionManager,speedSearchContainerProps:(0,mergeProps.v)(speedSearchContainerProps,sizeStyleProps,{onMouseDown:e=>{e.preventDefault()}}),searchPopupProps}}const SpeedSearchMenu=({submenuBehavior="toggleOnPress",autoFocus="first",emptyText="Nothing to show",minWidth,...props})=>{const ref=react.useRef(null),containerRef=react.useRef(null),state=(0,Menu.EH)({...props}),{speedSearch,speedSearchContainerProps,searchPopupProps,keyboardDelegate}=useSpeedSearchMenu(state,null,ref,containerRef),{menuContextValue,menuProps}=(0,Menu.b)({...props,autoFocus,onAction:key=>{props.onAction?.(key),speedSearch.clear()},keyboardDelegate,submenuBehavior},state,ref);return react.createElement(Menu.xu.Provider,{value:{...menuContextValue,renderSubmenu:props=>react.createElement(SpeedSearchSubmenu,{emptyText,...props})}},react.createElement(StyledSpeedSearchMenu,{as:"div",ref:containerRef,style:{minWidth},...speedSearchContainerProps,fillAvailableSpace:props.fillAvailableSpace},react.createElement(SpeedSearchMenuContent,{items:[...state.collection],emptyText,speedSearch,searchPopupProps,state,menuProps,menuRef:ref})))};function SpeedSearchMenuContent({items,state,speedSearch,searchPopupProps,menuProps,menuRef,emptyText}){const filter=speedSearch.active?({key,type})=>"item"!==type||speedSearch.matches.has(key):void 0;return react.createElement(react.Fragment,null,searchPopupProps.children&&react.createElement(StyledSearchFieldWrapper,{onClick:e=>{e.preventDefault()}},react.createElement(SpeedSearchInput,{...searchPopupProps,clear:speedSearch.clear})),react.createElement(StyledItemsContainer,{...menuProps,ref:menuRef},(0,renderMenuNodes.P)(state,items,filter),speedSearch.active&&0===speedSearch.matches.size&&react.createElement(StyledPlaceholder,null,emptyText)))}function SpeedSearchSubmenu({parentState,rootKey,emptyText}){const ref=(0,react.useRef)(null),containerRef=(0,react.useRef)(null),state=(0,_useSubmenuState.M)(parentState),rootItem=state.collection.getItem(rootKey),{speedSearch,speedSearchContainerProps,searchPopupProps,keyboardDelegate}=useSpeedSearchMenu(state,rootKey,ref,containerRef),{submenuProps}=(0,Submenu.X)({rootKey,parentState,keyboardDelegate},state,ref);return react.createElement(StyledSpeedSearchMenu,{...speedSearchContainerProps,as:"div",ref:containerRef},react.createElement(SpeedSearchMenuContent,{items:[...rootItem?.childNodes||[]],speedSearch,searchPopupProps,state,menuProps:submenuProps,menuRef:ref,emptyText}))}SpeedSearchMenu.__docgenInfo={description:"Drop-in replacement for Menu, which implements SpeedSearch.",methods:[],displayName:"SpeedSearchMenu",props:{submenuBehavior:{required:!1,tsType:{name:"Exclude",elements:[{name:'MenuProps["submenuBehavior"]',raw:'MenuProps<T>["submenuBehavior"]'},{name:"literal",value:'"default"'}],raw:'Exclude<MenuProps<T>["submenuBehavior"], "default">'},description:"",defaultValue:{value:'"toggleOnPress"',computed:!1}},emptyText:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Text to show when the filtering is active but no match is found for the current query.\n@default "Nothing to show"',defaultValue:{value:'"Nothing to show"',computed:!1}},autoFocus:{defaultValue:{value:'"first"',computed:!1},required:!1}},composes:["Omit"]}},"./src/Popup/PopupManager.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>usePopupManager,o:()=>PopupManager});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Popup_PopupContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Popup/PopupContext.tsx");const PopupsContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({show:()=>{throw new Error("PopupManager not found. Wrap your application with PopupManager to be able to open popups imperatively")}}),usePopupManager=()=>(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PopupsContext),PopupManager=({children})=>{const[popups,setPopups]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),newKeyRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),api=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({show:popup=>{newKeyRef.current++;const close=()=>{setPopups((currentPopups=>currentPopups.filter((aPopup=>aPopup!==wrappedPopup))))},wrappedPopup=react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Popup_PopupContext__WEBPACK_IMPORTED_MODULE_1__.k.Provider,{key:newKeyRef.current,value:{onClose:close}},"function"==typeof popup?popup({close}):popup);setPopups((currentPopups=>currentPopups.concat(wrappedPopup)))}})),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PopupsContext.Provider,{value:api},children,popups)};PopupManager.__docgenInfo={description:"Enables imperative API (via {@link usePopupManager}) for showing Popups.\nIt renders popups in a portal appended to `body`, unless `disablePortal` is `true`.",methods:[],displayName:"PopupManager",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./src/Tabs/TabCloseButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>TabCloseButton});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Button/BareButton.tsx"),_Icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Icon/PlatformIcon.tsx");const StyledIconWrapper=__webpack_require__("./src/styled.ts").I4.span`
  display: inherit;
  .icon.hover {
    display: none;
  }
  &:hover {
    .icon {
      display: none;
    }
    .icon.hover {
      display: unset;
    }
  }
`,TabCloseButton=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Button__WEBPACK_IMPORTED_MODULE_2__.l,{...props,excludeFromTabOrder:!0,preventFocusOnPress:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledIconWrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icon__WEBPACK_IMPORTED_MODULE_3__.jE,{icon:"actions/closeHovered",className:"icon hover"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Icon__WEBPACK_IMPORTED_MODULE_3__.jE,{icon:"actions/close",className:"icon"})));TabCloseButton.__docgenInfo={description:"Close button for Tab",methods:[],displayName:"TabCloseButton"}},"./src/Tabs/TabItem.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>TabItem});var _react_stately_collections__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-stately/collections/dist/Item.mjs");__webpack_require__("../../node_modules/react/index.js");const TabItem=_react_stately_collections__WEBPACK_IMPORTED_MODULE_1__.q},"./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>StyledToolWindowTab,V:()=>toolWindowTabTheme});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Tabs_StyledDefaultTab__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/StyledDefaultTab.ts"),_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/TabTheme.ts");const toolWindowTabTheme=({theme})=>({borderColor:theme.color("ToolWindow.HeaderTab.borderColor"),underlineHeight:theme.value("ToolWindow.HeaderTab.underlineHeight"),background:"transparent",underlinedTabInactiveBackground:theme.color("ToolWindow.HeaderTab.underlinedTabInactiveBackground"),underlinedTabBackground:theme.color("ToolWindow.HeaderTab.underlinedTabBackground"),hoverInactiveBackground:theme.color("ToolWindow.HeaderTab.hoverInactiveBackground")??theme.color("ToolWindow.HeaderTab.hoverBackground"),hoverBackground:theme.color("ToolWindow.HeaderTab.hoverBackground"),inactiveUnderlineColor:theme.color("ToolWindow.HeaderTab.inactiveUnderlineColor"),underlineColor:theme.color("ToolWindow.HeaderTab.underlineColor"),underlinedTabInactiveForeground:theme.color("ToolWindow.HeaderTab.underlinedTabInactiveForeground")??theme.color("ToolWindow.HeaderTab.underlinedTabForeground"),underlinedTabForeground:theme.color("ToolWindow.HeaderTab.underlinedTabForeground")}),StyledToolWindowTab=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.I4)(_intellij_platform_core_Tabs_StyledDefaultTab__WEBPACK_IMPORTED_MODULE_1__.E)`
  padding: 0 0.7rem;
  ${({theme})=>(0,_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__.d)(toolWindowTabTheme({theme}))};
`},"./src/Tabs/ToolWindowTabs/StyledToolWindowTabs.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>StyledToolWindowTabs});var _intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/TabTheme.ts"),_intellij_platform_core_Tabs_StyledDefaultTabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/StyledDefaultTabs.ts"),_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts");const StyledToolWindowTabs=(0,_intellij_platform_core_styled__WEBPACK_IMPORTED_MODULE_0__.I4)(_intellij_platform_core_Tabs_StyledDefaultTabs__WEBPACK_IMPORTED_MODULE_1__.b)`
  ${({theme})=>(0,_intellij_platform_core_Tabs_TabTheme__WEBPACK_IMPORTED_MODULE_2__.a)((0,_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_3__.V)({theme}))};
`},"./src/Tabs/ToolWindowTabs/ToolWindowTabContent.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>ToolWindowTabContent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Tabs_TabContentLayout__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/TabContentLayout.tsx");const ToolWindowTabContent=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((({icon,title,closeButton,containerProps},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Tabs_TabContentLayout__WEBPACK_IMPORTED_MODULE_1__.r,{containerProps,ref,startIcon:icon,title,endIcon:closeButton})));ToolWindowTabContent.__docgenInfo={description:"",methods:[],displayName:"ToolWindowTabContent",props:{icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeButton:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Close button for the tab. Use {@link TabCloseButton} to render the close button\nfor the tab.\n\n@example\n```tsx\n<ToolWindowTabContent\n  closeButton={\n    <TooltipTrigger\n      tooltip={<ActionTooltip actionName="Close Tab" shortcut="^⇧F4" />}\n    >\n      <TabCloseButton onPress={}></TabCloseButton>\n    </TooltipTrigger>\n  }\n/>\n```'},containerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"union",raw:'"ref" | "as"',elements:[{name:"literal",value:'"ref"'},{name:"literal",value:'"as"'}]}],raw:'Omit<HTMLProps<HTMLDivElement>, "ref" | "as">'},description:""}}}},"./src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>ToolWindowTabs});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_Tabs_Tabs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/Tabs/Tabs.tsx"),_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts"),_StyledToolWindowTabs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/ToolWindowTabs/StyledToolWindowTabs.ts");const ToolWindowTabs=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_intellij_platform_core_Tabs_Tabs__WEBPACK_IMPORTED_MODULE_1__.t,{...props,TabComponent:_StyledToolWindowTab__WEBPACK_IMPORTED_MODULE_2__.J,TabsComponent:_StyledToolWindowTabs__WEBPACK_IMPORTED_MODULE_3__.Q,focusable:!1,shouldSelectOnPressUp:!0});ToolWindowTabs.__docgenInfo={description:"",methods:[],displayName:"ToolWindowTabs"}},"./src/ThreeViewSplitter/ThreeViewSplitter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v:()=>ThreeViewSplitter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_Resizer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Resizer/RightResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Resizer/BottomResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/Resizer/LeftResizer.tsx"),_Resizer__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/Resizer/TopResizer.tsx");const StyledSplitterContainer=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  flex-direction: ${({orientation})=>"vertical"===orientation?"column":"row"};
`,StyledView=styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay.div`
  // The default overflow visible should be changed obviously. Not sure if there is any layout implication
  // in using 'auto' instead of hidden, to provide scroll behaviour by default, but even if we realize later
  // that we need to set overflow to hidden here, we can have scrollable content inside the inner view via an
  // intermediate element inside the inner view, with overflow set to auto and width set to 100%.
  overflow: auto;
`,StyledSplitterInnerView=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.Ay)(StyledView)`
  flex: 1;
`,ThreeViewSplitter=({orientation="horizontal",firstView,firstSize,lastView,lastSize,onFirstResize,onLastResize,resizerProps:resizerPropsOverrides={},innerView,firstViewMinSize,lastViewMinSize,innerViewMinSize,...containerProps})=>{const containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),firstViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),lastViewRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),resizeFromRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({firstView:null,lastView:null}),[firstSizeState,setFirstSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[lastSizeState,setLastSizeState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),theme=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.DP)(),value=(horizontalValue,verticalValue)=>"horizontal"===orientation?horizontalValue:verticalValue,FirstResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_2__.R,_Resizer__WEBPACK_IMPORTED_MODULE_3__.I),SecondResizer=value(_Resizer__WEBPACK_IMPORTED_MODULE_4__.o,_Resizer__WEBPACK_IMPORTED_MODULE_5__.M),sizeStyleProp=value("width","height"),minSizeStyleProp=value("minWidth","minHeight"),resizerProps={background:theme.commonColors.contrastBorder,size:1,...resizerPropsOverrides},isFractionSize=size=>size<1,normalizeSize=size=>null!=size?isFractionSize(size)?100*size+"%":Math.round(size):void 0,getSize=elem=>value(elem.offsetWidth,elem.offsetHeight),getNewSize=(fromSize,resize)=>{if(null!=fromSize&&isFractionSize(fromSize)){if(!containerRef.current)throw new Error("ThreeViewSplitter: Could not locate container to calculate fraction size");const newFractionSize=resize/value(containerRef.current.offsetWidth,containerRef.current.offsetHeight);return newFractionSize<1?newFractionSize:fromSize}return Math.max(resize,1)},getActualSize=viewElem=>{if(!containerRef.current||!viewElem)return null;const actualSize=getSize(viewElem);return viewElem.style[sizeStyleProp]?.includes("%")?actualSize/getSize(containerRef.current):actualSize},currentLastSize=normalizeSize(lastSizeState??lastSize),currentFirstSize=normalizeSize(firstSizeState??firstSize);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSplitterContainer,{ref:containerRef,orientation,...containerProps},firstView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledView,{ref:firstViewRef,style:{[sizeStyleProp]:currentFirstSize,[minSizeStyleProp]:(null!==lastSizeState?currentFirstSize:void 0)??firstViewMinSize}},firstView),react__WEBPACK_IMPORTED_MODULE_0__.createElement(FirstResizer,{onResizeStarted:()=>{const size=firstViewRef.current?getSize(firstViewRef.current):0;return setFirstSizeState(firstSize??size),resizeFromRef.current.firstView=firstSize??size,size},onResize:newSize=>{null!=resizeFromRef.current.firstView&&setFirstSizeState(getNewSize(resizeFromRef.current.firstView,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(firstViewRef.current);null!==actualSize&&onFirstResize?.(actualSize),setFirstSizeState(null)},...resizerProps})),innerView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSplitterInnerView,{style:{[minSizeStyleProp]:innerViewMinSize}},innerView),lastView&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(SecondResizer,{onResizeStarted:()=>{const size=getSize(lastViewRef.current);return setLastSizeState(lastSize??size),resizeFromRef.current.lastView=lastSize??size,size},onResize:newSize=>{null!=resizeFromRef.current.lastView&&setLastSizeState(getNewSize(resizeFromRef.current.lastView,newSize))},onResizeEnd:()=>{const actualSize=getActualSize(lastViewRef.current);null!==actualSize&&onLastResize?.(actualSize),setLastSizeState(null)},...resizerProps}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledView,{ref:lastViewRef,style:{[sizeStyleProp]:currentLastSize,[minSizeStyleProp]:(null!==firstSizeState?currentLastSize:void 0)??lastViewMinSize}},lastView)))};ThreeViewSplitter.__docgenInfo={description:"Corresponding to\n[ThreeComponentsSplitter](https://github.com/JetBrains/intellij-community/blob/58dbd93e9ea527987466072fa0bfbf70864cd35f/platform/platform-api/src/com/intellij/openapi/ui/ThreeComponentsSplitter.java#L40-L40)\n`firstView` and `lastView` are optional, and if not provided, the corresponding resizer is not rendered.\ninnerView is supposed to fill the remaining space, while firstView and lastView have specific sizes.\nsize changes in a resize interaction is not reported and is handled by local state in the component. That's\nto prevent frequent state updates in a higher level which can be expensive. It's also based on this assumption\nthat in the usage side there is no need for any control over resizing or even knowing the intermediate state.\nMaybe a minSize and maxSize would be the extent of the required control over resizing. But anyway, this model\nof keeping the size as a local state during a resize session is something that can be changed if needed.\n\nFeatures:\n- Relative sizing (fraction of the container)\n- Default size by content\n- Change handling only when resize is done.\n\nTODO: max and min size not implemented\nTODO: add support for uncontrolled version",methods:[],displayName:"ThreeViewSplitter",props:{orientation:{required:!1,tsType:{name:"union",raw:'"horizontal" | "vertical"',elements:[{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'}]},description:"",defaultValue:{value:'"horizontal"',computed:!1}},resizerProps:{required:!1,tsType:{name:"Partial",elements:[{name:"Omit",elements:[{name:"ResizerProps"},{name:"union",raw:'"onResize" | "onResizeStarted" | "onResizeEnd"',elements:[{name:"literal",value:'"onResize"'},{name:"literal",value:'"onResizeStarted"'},{name:"literal",value:'"onResizeEnd"'}]}],raw:'Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">'}],raw:'Partial<\n  Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">\n>'},description:"",defaultValue:{value:"{}",computed:!1}},innerView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},innerViewMinSize:{required:!1,tsType:{name:"number"},description:""},firstView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},firstSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},firstViewMinSize:{required:!1,tsType:{name:"number"},description:""},lastView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},lastSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},lastViewMinSize:{required:!1,tsType:{name:"number"},description:""},onFirstResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:""},onLastResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/ToolWindows/StyledToolWindowOuterLayout.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>StyledToolWindowOuterLayout});var _styled__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/styled.ts"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const TopStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: ts;
`,BottomStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: bs;
`,LeftStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  grid-area: ls;
`,RightStripe=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  grid-area: rs;
`,InnerView=_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  grid-area: main;
  min-height: 0; // necessary to prevent overflow;
  position: relative; // necessary for undock views which are absolute positioned
  background: inherit;
  min-width: 0; // very important for layout. If not set, resizing tool windows can cause weird scrollbar inside tool windows pane.
`,StyledToolWindowOuterLayout={Shell:_styled__WEBPACK_IMPORTED_MODULE_0__.I4.div`
  display: grid;
  grid-template-columns: min-content auto min-content;
  grid-template-rows: min-content auto min-content;
  grid-template-areas:
    ".   ts   ."
    "ls main rs"
    ".   bs   .";

  background: ${({theme})=>theme.commonColors.panelBackground};
  color: ${({theme})=>theme.color("*.foreground")};
  ${({hideStripes})=>hideStripes&&styled_components__WEBPACK_IMPORTED_MODULE_1__.AH`
      ${TopStripe},
      ${BottomStripe}, 
      ${LeftStripe}, 
      ${RightStripe} {
        display: none;
      }
    `}
`,TopStripe,BottomStripe,LeftStripe,RightStripe,InnerView}},"./src/ToolWindows/ToolWindows.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ToolWindows});var indexBy=__webpack_require__("./node_modules/ramda/es/indexBy.js"),react=__webpack_require__("../../node_modules/react/index.js"),useLatest=__webpack_require__("./src/utils/useLatest.ts"),ThreeViewSplitter=__webpack_require__("./src/ThreeViewSplitter/ThreeViewSplitter.tsx"),FocusScope=__webpack_require__("./src/utils/FocusScope.tsx"),move=__webpack_require__("./node_modules/ramda/es/move.js"),platform=__webpack_require__("../../node_modules/@react-aria/utils/dist/platform.mjs"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),style_constants=__webpack_require__("./src/style-constants.ts"),styled=__webpack_require__("./src/styled.ts"),useResizableMovableOverlay=__webpack_require__("./src/Overlay/useResizableMovableOverlay.tsx"),OverlayInteractionHandler=__webpack_require__("./src/Overlay/OverlayInteractionHandler.tsx"),OverlayResizeHandles=__webpack_require__("./src/Overlay/OverlayResizeHandles.tsx"),Overlay=__webpack_require__("../../node_modules/@react-aria/overlays/dist/Overlay.mjs");const StyledFloatView=styled.I4.div`
  box-sizing: border-box;
  position: fixed;
  background: ${({theme})=>theme.commonColors.panelBackground};
  color: ${({theme})=>theme.color("*.foreground")};
  // border color doesn't seem to be correct and needs more investigation. might be even os-specific and outside
  // theme colors.
  border: ${({theme})=>`1px solid ${theme.color("Component.borderColor")}`};
  ${style_constants.E};
  ${(0,platform.cX)()&&styled_components_browser_esm.AH`
    border-radius: 8px;
  `}
  z-index: 2;
`,FloatView=({children,state:{bounds},onBoundsChange,...otherProps})=>{const ref=(0,react.useRef)(null),{bounds:boundsStyle,overlayInteractionHandlerProps}=(0,useResizableMovableOverlay.b)(ref,{bounds,onBoundsChange});return react.createElement(Overlay.hJ,null,react.createElement(StyledFloatView,{...otherProps,ref,style:{...otherProps.style,...boundsStyle}},react.createElement(OverlayInteractionHandler.D,overlayInteractionHandlerProps,react.createElement(OverlayResizeHandles.e,{minWidth:100,minHeight:40}),children)))};function FloatToolWindows({floatWindows=[],onBoundsChange,renderToolWindow}){const stackedFloatWindows=function useStackedLayersState(items,getKey){const[sortedKeys,setSortedKeys]=(0,react.useState)([]),sorted=items.sort(((a,b)=>sortedKeys.indexOf(getKey(a))-sortedKeys.indexOf(getKey(b))));return{sorted,bringToFront:index=>{setSortedKeys((0,move.A)(index,-1,sorted).map(getKey))}}}(floatWindows,(({key})=>key)),{layersProps}=function useStackedLayers(state){return{layersProps:state.sorted.map(((_,index)=>({onFocus:()=>{state.bringToFront(index)}})))}}(stackedFloatWindows);return react.createElement(react.Fragment,null,stackedFloatWindows.sorted.map(((toolWindow,index)=>react.createElement(FloatView,{key:toolWindow.key,state:toolWindow,...layersProps[index],onBoundsChange:bounds=>onBoundsChange(toolWindow.key,bounds)},renderToolWindow(toolWindow.key)))))}FloatView.__docgenInfo={description:"Container for tool windows in float view mode. It handles some visual aspects like the border and shadow, as well as\nUI interactions for changing the floatingBound of the tool window.",methods:[],displayName:"FloatView",props:{state:{required:!0,tsType:{name:"FloatWindowState"},description:""},onBoundsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(bounds: WindowBounds) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n}",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}},name:"bounds"}],return:{name:"void"}}},description:""}}},FloatToolWindows.__docgenInfo={description:"Renders float tool windows.\n- handles resize and move actions for float windows.\n- handles layering of float tool windows.",methods:[],displayName:"FloatToolWindows",props:{floatWindows:{required:!1,tsType:{name:"union",raw:"FloatWindowState[] | undefined",elements:[{name:"Array",elements:[{name:"FloatWindowState"}],raw:"FloatWindowState[]"},{name:"undefined"}]},description:"",defaultValue:{value:"[]",computed:!1}},onBoundsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key, bounds: WindowBounds) => void",signature:{arguments:[{type:{name:"Key"},name:"key"},{type:{name:"signature",type:"object",raw:"{\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n}",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}},name:"bounds"}],return:{name:"void"}}},description:""},renderToolWindow:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => React.ReactNode",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}};var MovableToolWindowStripeProvider=__webpack_require__("./src/ToolWindows/MovableToolWindowStripeProvider.tsx"),StyledToolWindowOuterLayout=__webpack_require__("./src/ToolWindows/StyledToolWindowOuterLayout.tsx"),map=__webpack_require__("./node_modules/ramda/es/map.js"),prop=__webpack_require__("./node_modules/ramda/es/prop.js"),compose=__webpack_require__("./node_modules/ramda/es/compose.js"),sortBy=__webpack_require__("./node_modules/ramda/es/sortBy.js"),filter=__webpack_require__("./node_modules/ramda/es/filter.js"),pipe=__webpack_require__("./node_modules/ramda/es/pipe.js"),groupBy=__webpack_require__("./node_modules/ramda/es/groupBy.js"),utils=__webpack_require__("./src/ToolWindows/utils.ts");const getSizeInAnchor=(containerSize,anchor)=>containerSize[(0,utils.zq)(anchor)?"height":"width"],mapToKey=(0,map.A)((0,prop.A)("key")),sortAndMapToKey=(0,compose.A)(mapToKey,(0,sortBy.A)((({order})=>order))),filterMains=(0,filter.A)((({isSplit})=>!isSplit)),getMains=(0,compose.A)(sortAndMapToKey,filterMains),filterSplits=(0,filter.A)((({isSplit})=>isSplit)),filterVisible=(expectedViewMode=[])=>(0,filter.A)((({viewMode,isVisible})=>isVisible&&[].concat(expectedViewMode).includes(viewMode))),getSplits=(0,compose.A)(sortAndMapToKey,filterSplits),filterVisibleDocked=filterVisible(["docked_unpinned","docked_pinned"]),filterVisibleUnDocked=filterVisible("undock"),getDocked=(anchor,containerSize,toolWindows)=>{const docks=filterVisibleDocked(toolWindows),mains=filterMains(docks),splits=filterSplits(docks);if(mains.length>1||splits.length>1)throw new Error("More than one visible docked window in a side is not possible");if(mains[0]||splits[0]){const weight=mains[0]?.weight||splits[0]?.weight;return{mainKey:mains[0]?.key||splits[0]?.key,split:mains[0]?.key&&splits[0]?.key?{key:splits[0].key,sizeFraction:mains[0].weight?1-mains[0].sideWeight:splits[0].sideWeight}:null,size:weight*getSizeInAnchor(containerSize,anchor)}}return null},getUnDocked=(anchor,containerSize,toolWindows)=>{const windows=filterVisibleUnDocked(toolWindows);if(1===windows.length)return{key:windows[0].key,size:windows[0].weight*getSizeInAnchor(containerSize,anchor)};if(0===windows.length)return null;throw new Error("More than one visible undocked window in a side is not possible")},getSideState=(anchor,containerSize,toolWindows)=>({stripes:{main:getMains(toolWindows),split:getSplits(toolWindows),activeKeys:mapToKey(toolWindows.filter((({isVisible})=>isVisible)))},undocked:getUnDocked(anchor,containerSize,toolWindows),docked:getDocked(anchor,containerSize,toolWindows)}),getFloatWindowsState=(viewMode,containerSize,toolWindows)=>(0,pipe.A)(filterVisible(viewMode),(0,map.A)((containerSize=>({floatingBounds:bounds={top:containerSize.height/2-150,left:containerSize.width/2-200,height:300,width:400},key})=>({bounds,key}))(containerSize)))(toolWindows);var ToolWindowStateProvider=__webpack_require__("./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx"),ToolWindowStripe=__webpack_require__("./src/ToolWindows/ToolWindowStripe.tsx");const ResizableView=({children,size,onResize,resizerPlacement="after",...props})=>react.createElement(ThreeViewSplitter.v,{..."after"===resizerPlacement?{firstView:children,firstSize:size,onFirstResize:onResize}:{lastView:children,lastSize:size,onLastResize:onResize},...props});ResizableView.__docgenInfo={description:'A single resizable view, built on top of {@link ThreeViewSplitter}, just to provide better prop interface.\nLike `ThreeViewSplitter` it supports "horizontal" or "vertical orientations. There is an extra `resizerPlacement`\nprop which determines where the resizer should be placed in relation with the view. When set to "before" the view\nwill be resizable from the start ("left" or "top"). When set to "after" the view will be resizable from end ("right"\nor "bottom"). Default is "after"',methods:[],displayName:"ResizableView",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onResize:{required:!0,tsType:{name:'ThreeViewSplitterProps["onFirstResize"]',raw:'ThreeViewSplitterProps["onFirstResize"]'},description:""},size:{required:!0,tsType:{name:'ThreeViewSplitterProps["firstSize"]',raw:'ThreeViewSplitterProps["firstSize"]'},description:""},resizerPlacement:{required:!1,tsType:{name:"union",raw:'"before" | "after"',elements:[{name:"literal",value:'"before"'},{name:"literal",value:'"after"'}]},description:"Whether the resizer should be placed at before or after the resizable view.",defaultValue:{value:'"after"',computed:!1}}}};const StyledUndockSide=styled.I4.div`
  position: absolute;
  background: inherit;
  z-index: 1;
  ${({anchor})=>(0,utils.zq)(anchor)?styled_components_browser_esm.AH`
          left: 0;
          right: 0;
        `:styled_components_browser_esm.AH`
          top: 0;
          bottom: 0;
        `};
  ${({anchor})=>styled_components_browser_esm.AH`
      ${anchor}: 0;
    `};
`;function UndockSide({state,anchor,children,onResize}){return state&&react.createElement(StyledUndockSide,{anchor},react.createElement(ResizableView,{orientation:(0,utils.zq)(anchor)?"vertical":"horizontal",resizerPlacement:"left"===anchor||"top"===anchor?"after":"before",size:state.size,onResize},children))}UndockSide.__docgenInfo={description:"",methods:[],displayName:"UndockSide",props:{state:{required:!0,tsType:{name:"Exclude",elements:[{name:"union",raw:"null | {\n  size: number;\n  key: Key;\n}",elements:[{name:"null"},{name:"signature",type:"object",raw:"{\n  size: number;\n  key: Key;\n}",signature:{properties:[{key:"size",value:{name:"number",required:!0}},{key:"key",value:{name:"Key",required:!0}}]}}]},{name:"null"}],raw:"Exclude<SideUnDockedState, null>"},description:""},anchor:{required:!0,tsType:{name:"union",raw:'"left" | "right" | "top" | "bottom"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top"'},{name:"literal",value:'"bottom"'}]},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onResize:{required:!0,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{type:{name:"number"},name:"size"}],return:{name:"void"}}},description:""}}};var useInteractOutside=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useInteractOutside.mjs");const ToolWindows=react.forwardRef((function ToolWindows({hideToolWindowBars=!1,useWidescreenLayout=!1,height="100%",minHeight="0",toolWindowsState,onToolWindowStateChange,windows,children,mainContentMinWidth=50,containerProps={}},ref){const windowsById=(0,indexBy.A)((({id})=>id),windows),containerRef=(0,react.useRef)(null),mainContentFocusScopeRef=(0,react.useRef)(null),[layoutState,setLayoutState]=(0,react.useState)(),windowFocusableRefs=(0,react.useRef)({}),latestRef=(0,useLatest.F)({toolWindowsState,onToolWindowStateChange});(0,react.useLayoutEffect)((()=>{const container=containerRef.current,_setLayoutState=()=>setLayoutState(function getToolWindowsLayoutState(state,containerSize,windowIds=Object.keys(state.windows)){const toolWindows=Object.keys(state.windows).filter((key=>windowIds.includes(key)&&!state.removedFromSideBarIds.has(key))).map((key=>({...state.windows[key],key}))),{top=[],bottom=[],left=[],right=[]}=(0,groupBy.A)((({anchor})=>anchor),toolWindows);return{left:getSideState("left",containerSize,left),top:getSideState("top",containerSize,top),right:getSideState("right",containerSize,right),bottom:getSideState("bottom",containerSize,bottom),windows:getFloatWindowsState("window",containerSize,toolWindows),floatWindows:getFloatWindowsState("float",containerSize,toolWindows)}}(toolWindowsState,container.getBoundingClientRect(),windows.map((({id})=>id))));if(0===container?.offsetWidth||0===container?.offsetHeight){const observer=new ResizeObserver((([resize])=>{resize.contentRect.width>0&&resize.contentRect.height>0&&(_setLayoutState(),observer.unobserve(container))}));observer.observe(container)}_setLayoutState()}),[toolWindowsState]),(0,react.useImperativeHandle)(ref,(()=>({focus:key=>{windowFocusableRefs.current[key]?.current?.focus()},hasFocus:key=>null!==document.activeElement?.closest(`[data-tool-window-id="${key}"]`),focusLastActiveWindow:()=>{const{lastFocusedKey}=latestRef.current.toolWindowsState;null!=lastFocusedKey&&(latestRef.current.toolWindowsState.windows[lastFocusedKey].isVisible||latestRef.current.onToolWindowStateChange(toolWindowsState.show(lastFocusedKey)),windowFocusableRefs.current[lastFocusedKey].current?.focus(!0))},focusMainContent:()=>{mainContentFocusScopeRef.current?.focus()},changeState:updater=>{onToolWindowStateChange(updater(latestRef.current.toolWindowsState))}})),[]);const interactionOutsideRef=(0,react.useRef)(!1);(0,useInteractOutside.$)({ref:containerRef,onInteractOutsideStart:()=>{interactionOutsideRef.current=!0},onInteractOutside:()=>{interactionOutsideRef.current=!1}}),function useOnFocusLost(onFocusLost,containerRef){(0,react.useEffect)((()=>{const handleBodyFocus=e=>{e.target instanceof HTMLElement&&containerRef.current?.contains(e.target)&&(!e.relatedTarget||e.relatedTarget instanceof HTMLElement)&&!containerRef.current?.contains(e.relatedTarget)&&onFocusLost({focusLosingElement:e.target,focusReceivingElement:e.relatedTarget})};return containerRef.current?.addEventListener("focusout",handleBodyFocus),()=>{containerRef.current?.removeEventListener("focusout",handleBodyFocus)}}),[])}((({focusReceivingElement})=>{focusReceivingElement||interactionOutsideRef.current||mainContentFocusScopeRef.current?.focus()}),containerRef);const renderStripe=({anchor,state})=>react.createElement(ToolWindowStripe.c,{anchor,items:state.main,splitItems:state.split,getKey:item=>item,renderItem:item=>windowsById[item]?.toolbarButton,onItemPress:key=>onToolWindowStateChange(toolWindowsState.toggle(key)),selectedKeys:state.activeKeys}),renderToolWindow=key=>(windowFocusableRefs.current[key]||(windowFocusableRefs.current[key]=react.createRef()),react.createElement("div",{style:{all:"unset"},"data-tool-window-id":key,onFocus:()=>{onToolWindowStateChange(toolWindowsState.lastFocused(key))}},react.createElement(FocusScope.n,{ref:windowFocusableRefs.current[key]},react.createElement(ToolWindowStateProvider.n,{id:key,containerRef,mainContentFocusableRef:mainContentFocusScopeRef,toolWindowsState,onToolWindowStateChange},windowsById[key]?.content)))),renderSideDockedView=({anchor,state})=>state?react.createElement(ThreeViewSplitter.v,{innerView:renderToolWindow(state.mainKey),innerViewMinSize:50,lastView:state.split&&renderToolWindow(state.split.key),lastSize:state.split?.sizeFraction,onLastResize:newSize=>{onToolWindowStateChange(toolWindowsState.resizeDockSplitView(anchor,newSize))},orientation:(0,utils.zq)(anchor)?"horizontal":"vertical"}):null,onDockResize=anchor=>size=>{const containerBounds=containerRef.current?.getBoundingClientRect();containerBounds&&onToolWindowStateChange(toolWindowsState.resizeDock(anchor,size,containerBounds))},getSplitViewProps=(layoutState,orientation)=>{const firstAnchor="horizontal"===orientation?"left":"top",secondAnchor="horizontal"===orientation?"right":"bottom";return{orientation,firstView:renderSideDockedView({anchor:firstAnchor,state:layoutState[firstAnchor].docked}),firstSize:layoutState[firstAnchor].docked?.size,onFirstResize:onDockResize(firstAnchor),lastView:renderSideDockedView({anchor:secondAnchor,state:layoutState[secondAnchor].docked}),lastSize:layoutState[secondAnchor].docked?.size,onLastResize:onDockResize(secondAnchor)}};return react.createElement(StyledToolWindowOuterLayout.r.Shell,{...containerProps,ref:containerRef,hideStripes:hideToolWindowBars,style:{height,minHeight,...containerProps?.style}},layoutState&&(layoutState=>{const horizontalSplitterProps=getSplitViewProps(layoutState,"horizontal"),verticalSplitterProps=getSplitViewProps(layoutState,"vertical"),[outerSplitterProps,innerSplitterProps]=useWidescreenLayout?[horizontalSplitterProps,verticalSplitterProps]:[verticalSplitterProps,horizontalSplitterProps],undockLayers=["left","top","right","bottom"].map((anchor=>{const state=layoutState[anchor].undocked;return state&&react.createElement(UndockSide,{key:anchor,anchor,state,onResize:size=>{containerRef.current&&onToolWindowStateChange(toolWindowsState.resizeUndock(anchor,size,containerRef.current.getBoundingClientRect()))}},renderToolWindow(state.key))}));return react.createElement(react.Fragment,null,react.createElement(MovableToolWindowStripeProvider.t,{onMove:({to,from})=>{onToolWindowStateChange(toolWindowsState.move(layoutState[from.anchor].stripes[from.isSplit?"split":"main"][from.index],{anchor:to.anchor,isSplit:to.isSplit},to.index))}},react.createElement(StyledToolWindowOuterLayout.r.LeftStripe,null,renderStripe({anchor:"left",state:layoutState.left.stripes})),react.createElement(StyledToolWindowOuterLayout.r.TopStripe,null,renderStripe({anchor:"top",state:layoutState.top.stripes})),react.createElement(StyledToolWindowOuterLayout.r.RightStripe,null,renderStripe({anchor:"right",state:layoutState.right.stripes})),react.createElement(StyledToolWindowOuterLayout.r.BottomStripe,null,renderStripe({anchor:"bottom",state:layoutState.bottom.stripes}))),react.createElement(StyledToolWindowOuterLayout.r.InnerView,null,react.createElement(ThreeViewSplitter.v,{...outerSplitterProps,innerView:react.createElement(ThreeViewSplitter.v,{innerViewMinSize:mainContentMinWidth,innerView:react.createElement(FocusScope.n,{ref:mainContentFocusScopeRef},children),...innerSplitterProps})}),undockLayers,react.createElement(FloatToolWindows,{floatWindows:layoutState?.floatWindows,renderToolWindow,onBoundsChange:(key,bounds)=>onToolWindowStateChange(toolWindowsState.setFloatingBound(key,bounds))})))})(layoutState))}));ToolWindows.__docgenInfo={description:"@constructor\n\nCorresponding to ToolWindowPane in Intellij Platform\n\nKnown issues:\n- in Firefox and Safari, left and right toolbars are not properly shown. Seems like a nasty bug, since adding and\nthen removing some min-width: fit-content style fixes it.\n- in the dock view of a side, open only a window from the split ones. then open a window from main ones.\n  focus is not moved to the just opened window. The reason is we rely on autofocusing and because the React tree\n  changes for both windows, even the split one which was open will be unmounted and mounted again, and since it's\n  placed after the main one, and hence mounted later, it will get the focus again. This becomes a bigger issue\n  if the main one is unpinned, because it immediately gets closed after opening.\n  Possible solutions:\n  - make sure the split one won't unmount and mount again in such scenario.\n  - decouple focusing logic from mounting logic, and only focus windows somehow, when the `isVisible` is changed\n    from false to true, not when mounted.\n- related to previous issue: open a tool window in split section of a side. set view mode for a tool window in main\n  section of the same side to docked_unpinned. try to open the unpinned one while the split one is open. it doesn't\n  work.",methods:[{name:"focus",docblock:null,modifiers:[],params:[{name:"key",optional:!1,type:{name:"Key",alias:"Key"}}],returns:null},{name:"hasFocus",docblock:null,modifiers:[],params:[{name:"key",optional:!1,type:{name:"Key",alias:"Key"}}],returns:null},{name:"focusLastActiveWindow",docblock:null,modifiers:[],params:[],returns:null},{name:"focusMainContent",docblock:null,modifiers:[],params:[],returns:null},{name:"changeState",docblock:null,modifiers:[],params:[{name:"updater",optional:!1,type:null}],returns:null}],displayName:"ToolWindows",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},windows:{required:!0,tsType:{name:"Array",elements:[{name:"ToolWindow"}],raw:"ToolWindow[]"},description:""},toolWindowsState:{required:!0,tsType:{name:"Readonly",elements:[{name:"ToolWindowsState"}],raw:"Readonly<ToolWindowsState>"},description:""},onToolWindowStateChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newState: ToolWindowsState) => void",signature:{arguments:[{type:{name:"ToolWindowsState"},name:"newState"}],return:{name:"void"}}},description:""},hideToolWindowBars:{required:!1,tsType:{name:"boolean"},description:"Whether stripe buttons should be hidden or not.\n`hideToolStripes` UISettings in Intellij Platform",defaultValue:{value:"false",computed:!1}},useWidescreenLayout:{required:!1,tsType:{name:"boolean"},description:"`wideScreenSupport` in UISettings in Intellij Platform",defaultValue:{value:"false",computed:!1}},mainContentMinWidth:{required:!1,tsType:{name:"number"},description:"min width applied to the main content (children).\n@default 50",defaultValue:{value:"50",computed:!1}},height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:"",defaultValue:{value:'"100%"',computed:!1}},minHeight:{required:!1,tsType:{name:'CSSProperties["minHeight"]',raw:'CSSProperties["minHeight"]'},description:"",defaultValue:{value:'"0"',computed:!1}},margin:{required:!1,tsType:{name:'CSSProperties["margin"]',raw:'CSSProperties["margin"]'},description:""},containerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"literal",value:'"as"'}],raw:'Omit<HTMLProps<HTMLDivElement>, "as">'},description:"props to be passed to the container element.",defaultValue:{value:"{}",computed:!1}}}}},"./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>useToolWindowState,n:()=>ToolWindowStateProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/useEventCallback.ts");const ToolWindowStateContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),useToolWindowState=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ToolWindowStateContext);if(!context)throw new Error("useToolWindowContext is meant to be used inside a tool window.");return context},ToolWindowStateProvider=({toolWindowsState,containerRef,mainContentFocusableRef,onToolWindowStateChange,id,children})=>{const blur=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((()=>{onToolWindowStateChange(toolWindowsState.blur(id))})),hide=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((()=>{onToolWindowStateChange(toolWindowsState.hide(id))})),remove=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((()=>{onToolWindowStateChange(toolWindowsState.removeFromSidebar(id))})),focusMainContent=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((()=>{mainContentFocusableRef.current?.focus()})),moveToSide=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((side=>{onToolWindowStateChange(toolWindowsState.move(id,side))})),changeViewMode=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((viewMode=>{onToolWindowStateChange(toolWindowsState.changeViewMode(id,viewMode))})),stretchWidth=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((value=>{const container=containerRef.current;if(!container)throw new Error("Couldn't resize since the container is not present");onToolWindowStateChange(toolWindowsState.stretchWidth(id,value,container.getBoundingClientRect()))})),stretchHeight=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((value=>{const container=containerRef.current;if(!container)throw new Error("Couldn't resize since the container is not present");onToolWindowStateChange(toolWindowsState.stretchHeight(id,value,container.getBoundingClientRect()))})),setFloatingBounds=(0,_intellij_platform_core_utils_useEventCallback__WEBPACK_IMPORTED_MODULE_1__.D)((bounds=>{onToolWindowStateChange(toolWindowsState.setFloatingBound(id,bounds))})),contextValue=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({state:toolWindowsState.windows[id],hide,blur,remove,focusMainContent,moveToSide,changeViewMode,stretchWidth,stretchHeight,setFloatingBounds})),[toolWindowsState,id]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ToolWindowStateContext.Provider,{value:contextValue},children)};ToolWindowStateProvider.__docgenInfo={description:"Used in ToolWindows to provide tool window state and necessary actions as a context, which will be accessible\nwithin the tool window content tree, via {@link useToolWindowState}",methods:[],displayName:"ToolWindowStateProvider",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},id:{required:!0,tsType:{name:"Key"},description:""},containerRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>"},description:""},mainContentFocusableRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"signature",type:"object",raw:"{ focus: () => void }",signature:{properties:[{key:"focus",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}],raw:"RefObject<{ focus: () => void }>"},description:""}}}},"./src/ToolWindows/ToolWindowsState/ToolWindowsState.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$T:()=>getViewModeType,hI:()=>ToolWindowsState,o$:()=>toolWindowState});var ramda__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/ramda/es/curry.js"),ramda__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/ramda/es/insert.js"),ramda__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/ramda/es/move.js"),ramda__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ramda/es/fromPairs.js"),ramda__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ramda/es/mapObjIndexed.js"),ramda__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/ramda/es/clamp.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/ToolWindows/utils.ts");const isDocked=toolWindow=>"docked_unpinned"===toolWindow.viewMode||"docked_pinned"===toolWindow.viewMode,areInSameSection=(0,ramda__WEBPACK_IMPORTED_MODULE_0__.A)(((window1,window2)=>window1.anchor===window2.anchor&&window1.isSplit===window2.isSplit)),getViewModeType=viewMode=>"docked_pinned"===viewMode||"docked_unpinned"===viewMode?"docked":"window"===viewMode||"float"===viewMode?"float":viewMode;class ToolWindowsState{windows;lastFocusedKey;removedFromSideBarIds;layoutToRestore;constructor(windows,{lastFocusedKey=null,layoutToRestore={},removedFromSideBarIds=[]}={}){this.windows=windows,this.lastFocusedKey=lastFocusedKey,this.layoutToRestore=layoutToRestore,this.removedFromSideBarIds=new Set(removedFromSideBarIds);const invalidWindows=Object.keys(this.windows).filter((key=>this.removedFromSideBarIds.has(key)&&this.windows[key].isVisible));if(invalidWindows.length>0)throw new Error(`Invalid ToolWindowsState. The following windows are set as visible but are removed from the sidebar: ${invalidWindows}`)}hide(targetKey){return this.mapWindows(((toolWindow,key)=>key===targetKey?{...toolWindow,isVisible:!1}:toolWindow))}hideAll(){return this.mapWindows(((toolWindow,key)=>"float"===getViewModeType(toolWindow.viewMode)?toolWindow:{...toolWindow,isVisible:!1}),{layoutToRestore:this.windows})}restoreWindows(){return this.mapWindows(((toolWindow,key)=>this.layoutToRestore[key]||toolWindow))}lastFocused(key){return this.mapWindows((toolWindow=>toolWindow),{lastFocusedKey:key})}show(targetKey){const target=this.windows[targetKey];if(!target)return this;const closableViewModes=[];return"undock"===target.viewMode?closableViewModes.push("undock"):isDocked(target)&&closableViewModes.push("docked_unpinned","docked_pinned","undock"),this.mapWindows(((toolWindow,key)=>key===targetKey?{...toolWindow,isVisible:!0}:toolWindow.isVisible&&areInSameSection(target,toolWindow)&&closableViewModes.includes(toolWindow.viewMode)?{...toolWindow,isVisible:!1}:toolWindow),{removedFromSideBarIds:[...this.removedFromSideBarIds].filter((key=>key!==targetKey))})}toggle(targetKey){return this.windows[targetKey]?.isVisible?this.hide(targetKey):this.show(targetKey)}blur(targetKey){const target=this.windows[targetKey];return target&&("docked_unpinned"===(toolWindow=target).viewMode||"undock"===toolWindow.viewMode)?this.mapWindows((toolWindow=>toolWindow===target?{...toolWindow,isVisible:!1}:toolWindow)):this;var toolWindow}changeViewMode(targetKey,viewMode){const target=this.windows[targetKey];return target?this.mapWindows((toolWindow=>{if(toolWindow===target)return{...toolWindow,viewMode};const viewModeType=getViewModeType(toolWindow.viewMode);return toolWindow.isVisible&&"float"!==viewModeType&&areInSameSection(toolWindow,target)&&viewModeType===getViewModeType(viewMode)?{...toolWindow,isVisible:!1}:toolWindow})):this}move(targetKey,sideOrIndex,index){const target=this.windows[targetKey];if(!target)return this;const targetSide="object"==typeof sideOrIndex?sideOrIndex:target,targetIndex="number"==typeof sideOrIndex?sideOrIndex:index,targetSideWindows=Object.entries(this.windows).filter((([,value])=>areInSameSection(targetSide,value))),indexInTargetSide=targetSideWindows.findIndex((([,window])=>window===target)),sortedTargetWindows=indexInTargetSide<0?(0,ramda__WEBPACK_IMPORTED_MODULE_1__.A)(targetIndex??-1,[targetKey,{...target,...targetSide}],targetSideWindows):(0,ramda__WEBPACK_IMPORTED_MODULE_2__.A)(indexInTargetSide,targetIndex??indexInTargetSide,targetSideWindows),newTargetSideWindows=(0,ramda__WEBPACK_IMPORTED_MODULE_3__.A)(sortedTargetWindows.map((([key,value],index)=>{let newValue=value;value.order!==index&&(newValue={...value,order:index});const targetViewMode=getViewModeType(target.viewMode);return key!==targetKey&&target.isVisible&&value.isVisible&&"float"!==targetViewMode&&getViewModeType(value.viewMode)===targetViewMode&&(newValue={...value,isVisible:!1}),[`${key}`,newValue]})));return this.mapWindows(((value,key)=>newTargetSideWindows[key]||value))}stretchWidth(targetKey,value,containerBounds){return this.stretch(targetKey,value,containerBounds,"width")}stretchHeight(targetKey,value,containerBounds){return this.stretch(targetKey,value,containerBounds,"height")}setFloatingBound(targetKey,floatingBounds){return this.update(targetKey,"floatingBounds",floatingBounds)}removeFromSidebar(targetKey){return this.mapWindows(((state,key)=>key===targetKey?{...state,isVisible:!1}:state),{removedFromSideBarIds:[...this.removedFromSideBarIds,targetKey]})}mapWindows(mapFn,options={}){return new ToolWindowsState((0,ramda__WEBPACK_IMPORTED_MODULE_4__.A)(mapFn,this.windows),{lastFocusedKey:this.lastFocusedKey,layoutToRestore:this.layoutToRestore,removedFromSideBarIds:this.removedFromSideBarIds,...options})}update(targetKey,key,value){const target=this.windows[targetKey];return target?this.mapWindows((window=>window===target?{...window,[key]:value}:window)):this}stretch(targetKey,value,containerBounds,property){const target=this.windows[targetKey];if(!target)return this;const viewModeType=getViewModeType(target.viewMode);if("float"===viewModeType)return this.mapWindows((window=>{if(window===target){const currentFloatingBound=window.floatingBounds;return{...window,floatingBounds:{...currentFloatingBound,[property]:currentFloatingBound[property]+value}}}return window}));if(((0,_utils__WEBPACK_IMPORTED_MODULE_5__.zq)(target.anchor)?"height":"width")!==property)return this;const containerSize=containerBounds[property],newValue=containerSize*target.weight+value;return(0,ramda__WEBPACK_IMPORTED_MODULE_6__.A)(0,containerSize,newValue)===newValue?"docked"===viewModeType?this.resizeDock(target.anchor,newValue,containerBounds):this.resizeUndock(target.anchor,newValue,containerBounds):this}resizeDock(anchor,size,containerBounds){return this.resizeSide(!0,anchor,size,containerBounds)}resizeUndock(anchor,size,containerBounds){return this.resizeSide(!1,anchor,size,containerBounds)}resizeDockSplitView(anchor,weight){return this.mapWindows((window=>window.anchor===anchor&&window.isVisible&&isDocked(window)?{...window,sideWeight:window.isSplit?weight:1-weight}:window))}resizeSide(dock,anchor,size,containerBounds){return this.mapWindows((window=>{const isInResizingView=dock?isDocked(window):"undock"===window.viewMode;if(window.anchor===anchor&&isInResizingView&&window.isVisible){const containerSize=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.zq)(anchor)?containerBounds.height:containerBounds.width;return{...window,weight:size/containerSize}}return window}))}}const toolWindowState=({viewMode="docked_pinned",...inputs}={})=>({anchor:"left",isSplit:!1,viewMode,order:1,weight:.2,sideWeight:.5,isVisible:!1,floatingBounds:"float"===getViewModeType(viewMode)?{left:300,top:300,width:600,height:300}:void 0,...inputs})},"./src/ToolWindowsImpl/DefaultToolWindow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>DefaultToolWindow,S:()=>useDefaultToolWindowContext});var react=__webpack_require__("../../node_modules/react/index.js"),mergeProps=__webpack_require__("../../node_modules/@react-aria/utils/dist/mergeProps.mjs"),filterDOMProps=__webpack_require__("../../node_modules/@react-aria/utils/dist/filterDOMProps.mjs"),styled=__webpack_require__("./src/styled.ts"),FocusScope=__webpack_require__("./src/utils/FocusScope.tsx"),ActionsProvider=__webpack_require__("./src/ActionSystem/ActionsProvider.tsx"),useFocusWithin=__webpack_require__("../../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs"),ToolWindowStateProvider=__webpack_require__("./src/ToolWindows/ToolWindowsState/ToolWindowStateProvider.tsx"),OverlayMoveHandle=__webpack_require__("./src/Overlay/OverlayMoveHandle.tsx"),useFocusForwarder=__webpack_require__("./src/utils/useFocusForwarder.ts");function useToolWindow({containerRef,contentRef,focusableContentRef},{onFocusChange}={}){const[contentHasFocus,setContentHasFocus]=(0,react.useState)(!1),{focusWithinProps:contentFocusWithinProps}=(0,useFocusWithin.R)({onFocusWithinChange:setContentHasFocus}),{focusWithinProps}=(0,useFocusWithin.R)({onFocusWithinChange:onFocusChange}),{toolWindowProps:autoHideProps}=function useAutoHide(){const{blur}=(0,ToolWindowStateProvider.G)(),hideTimeoutId=(0,react.useRef)(null),{focusWithinProps:windowFocusWithinProps}=(0,useFocusWithin.R)({onBlurWithin:e=>{hideTimeoutId.current=window.setTimeout((()=>{e.relatedTarget&&blur()}))},onFocusWithin:()=>{null!==hideTimeoutId.current&&(clearTimeout(hideTimeoutId.current),hideTimeoutId.current=null)}});return{toolWindowProps:windowFocusWithinProps}}(),{focusForwarderProps}=(0,useFocusForwarder._)({forwardFocus:focusableContentRef.current?.focus,ignoreFocusedDescendant:!0});(0,react.useEffect)((()=>{document.activeElement&&containerRef.current?.contains(document.activeElement)||containerRef.current?.focus()}),[]);const{moveHandleProps}=(0,OverlayMoveHandle.h)();return{contentHasFocus,toolWindowProps:(0,mergeProps.v)(focusForwarderProps,focusWithinProps,autoHideProps,{tabIndex:-1}),toolWindowContentProps:contentFocusWithinProps,toolWindowHeaderProps:moveHandleProps}}var IconButton=__webpack_require__("./src/IconButton/IconButton.tsx"),Toolbar=__webpack_require__("./src/Toolbar/Toolbar.tsx"),PlatformIcon=__webpack_require__("./src/Icon/PlatformIcon.tsx"),MenuTrigger=__webpack_require__("./src/Menu/MenuTrigger.tsx"),TooltipTrigger=__webpack_require__("./src/Tooltip/TooltipTrigger.tsx"),ActionTooltip=__webpack_require__("./src/Tooltip/ActionTooltip.tsx"),StyledSeparator=__webpack_require__("./src/StyledSeparator.tsx"),Divider=__webpack_require__("./src/Collections/Divider.ts"),useActionGroup=__webpack_require__("./src/ActionSystem/useActionGroup.tsx"),ActionsMenu=__webpack_require__("./src/ActionSystem/components/ActionsMenu.tsx"),utils=__webpack_require__("./src/ToolWindows/utils.ts"),ToolWindowActionIds=__webpack_require__("./src/ToolWindowsImpl/ToolWindowActionIds.ts"),useCreateDefaultActionGroup=__webpack_require__("./src/ActionSystem/components/useCreateDefaultActionGroup.tsx");const useToolWindowActions_anchors=[{id:"moveToLeftTop",anchor:"left",isSplit:!1},{id:"moveToLeftBottom",anchor:"left",isSplit:!0},{id:"moveToBottomLeft",anchor:"bottom",isSplit:!1},{id:"moveToBottomRight",anchor:"bottom",isSplit:!0},{id:"moveToRightTop",anchor:"right",isSplit:!0},{id:"moveToRightBottom",anchor:"right",isSplit:!1},{id:"moveToTopRight",anchor:"top",isSplit:!0},{id:"moveToTopLeft",anchor:"top",isSplit:!1}],getAnchorName=({anchor,isSplit})=>`${anchor[0].toUpperCase()}${anchor.slice(1)} ${(0,utils.zq)(anchor)?isSplit?"Right":"Left":isSplit?"Bottom":"Top"}`,ViewModeToActionId={docked_pinned:ToolWindowActionIds.kD,docked_unpinned:ToolWindowActionIds.B_,undock:ToolWindowActionIds.eW,float:ToolWindowActionIds.Gk,window:ToolWindowActionIds.Y7};function ToolWindowSettingsIconMenu({menuProps}){const{state}=(0,ToolWindowStateProvider.G)(),viewModeActionGroup=(0,useActionGroup.n)("TW.ViewModeGroup"),moveToActionGroup=(0,useActionGroup.n)("TW.MoveToGroup"),resizeActions=(0,useActionGroup.n)("ResizeToolWindowGroup"),maximizeAction=(0,ActionsProvider.y3)(ToolWindowActionIds.Ee),removeFromSideBarAction=(0,ActionsProvider.y3)(ToolWindowActionIds.m_);if(!(viewModeActionGroup&&moveToActionGroup&&resizeActions&&maximizeAction&&removeFromSideBarAction))throw new Error("[ToolWindowSettingsIconMenu]: can't find tool window actions.");const gearIconActions=[viewModeActionGroup,moveToActionGroup,{id:"resize",title:"Resize",menuPresentation:"submenu",children:[...resizeActions.children,maximizeAction]},new Divider.V,removeFromSideBarAction];return react.createElement(ActionsMenu.$,{actions:gearIconActions,selectedKeys:[ViewModeToActionId[state.viewMode]],...menuProps})}ToolWindowSettingsIconMenu.__docgenInfo={description:"Tool window gear icon menu, with a set of default actions and some extra ones.\nTODO: add support for extra actions when action system is progressed a little.",methods:[],displayName:"ToolWindowSettingsIconMenu",props:{menuProps:{required:!0,tsType:{name:'Parameters[0]["menuProps"]',raw:'Parameters<MenuTriggerProps["renderMenu"]>[0]["menuProps"]'},description:""}}};var ActionButton=__webpack_require__("./src/ActionSystem/components/ActionButton.tsx");const StyledToolWindowHeader=styled.I4.div`
  display: flex;
  align-items: center;
  justify-content: end; // to have the content overflow from right, as the toolwindow shrinks. That will keep the left-most buttons in the view
  padding: 0 2px 0 4px;
  overflow: hidden; // for the negative margin applied on StyledToolWindowHeaderActions
  border-bottom: 1px solid
    ${({theme})=>theme.color("ToolWindow.Header.borderColor")||theme.color("DefaultTabs.borderColor")||theme.commonColors.contrastBorder};
  background: ${({theme,active})=>active?theme.color("ToolWindow.Header.background")||theme.color("ToolWindow.header.active.background")||"#E2E6EC":theme.color("ToolWindow.Header.inactiveBackground")||theme.color("ToolWindow.Header.background")||"#ECECEC"};
`,StyledToolWindowHeaderActions=styled.I4.div`
  margin-right: -4px;
`,StyledToolWindowHeaderContent=styled.I4.div`
  flex: 1;
  display: flex;
  align-items: center;
  overflow: hidden;
`,DefaultToolWindowHeader=({children,additionalActions,contentHasFocus=!1,...otherProps})=>react.createElement(StyledToolWindowHeader,{active:contentHasFocus,...otherProps},react.createElement(StyledToolWindowHeaderContent,null,children),react.createElement(StyledToolWindowHeaderActions,null,react.createElement(Toolbar.M,null,additionalActions&&react.createElement(react.Fragment,null,additionalActions,react.createElement(StyledSeparator.j9,null)),react.createElement(ActionButton.r,{actionId:ToolWindowActionIds.Fz}),react.createElement(MenuTrigger.c,{renderMenu:({menuProps})=>react.createElement(ToolWindowSettingsIconMenu,{menuProps})},((props,ref)=>react.createElement(TooltipTrigger.k,{tooltip:react.createElement(ActionTooltip.m,{actionName:"Options"})},react.createElement(IconButton.K0,{...props,ref},react.createElement(PlatformIcon.jE,{icon:"general/gearPlain"}))))),react.createElement(ActionButton.r,{actionId:ToolWindowActionIds.y2}))));DefaultToolWindowHeader.__docgenInfo={description:"",methods:[],displayName:"DefaultToolWindowHeader",props:{contentHasFocus:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},additionalActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]};const StyledToolWindowContainer=styled.I4.div`
  outline: none;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  flex: 1;
`,StyledToolWindowContent=styled.I4.div`
  flex: 1;
  overflow: auto;
`,DefaultToolWindowContext=react.createContext({hasFocus:!1}),useDefaultToolWindowContext=()=>(0,react.useContext)(DefaultToolWindowContext),DefaultToolWindow=({headerContent,children,additionalActions,onFocusChange,actions,mainContentTitle="Editor",...otherProps})=>{const containerRef=(0,react.useRef)(null),contentRef=(0,react.useRef)(null),focusableContentRef=(0,react.useRef)(null),{contentHasFocus,toolWindowProps,toolWindowContentProps,toolWindowHeaderProps}=useToolWindow({containerRef,contentRef,focusableContentRef},{onFocusChange}),defaultToolWindowContext=(0,react.useMemo)((()=>({hasFocus:contentHasFocus})),[contentHasFocus]),activeToolWindowActionGroup=function useToolWindowActions({mainContentTitle}){const{stretchWidth,stretchHeight,changeViewMode,moveToSide,focusMainContent,hide,remove,state}=(0,ToolWindowStateProvider.G)(),createDefaultActionGroup=(0,useCreateDefaultActionGroup.Q)(),actions=[];if(!state)return createDefaultActionGroup({id:"ActiveToolwindowGroup",title:"Active Tool Window",children:[]});const viewModeActionGroup=createDefaultActionGroup({id:"TW.ViewModeGroup",title:"View Mode",children:[{id:ToolWindowActionIds.kD,title:"Dock Pinned",actionPerformed:()=>{changeViewMode("docked_pinned")}},{id:ToolWindowActionIds.B_,title:"Dock Unpinned",actionPerformed:()=>{changeViewMode("docked_unpinned")}},{id:ToolWindowActionIds.eW,title:"Undock",actionPerformed:()=>{changeViewMode("undock")}},{id:ToolWindowActionIds.Gk,title:"Float",actionPerformed:()=>{changeViewMode("float")}},{id:ToolWindowActionIds.Y7,title:"Window",actionPerformed:()=>{changeViewMode("window")}}]}),moveToActionGroup=createDefaultActionGroup({id:"TW.MoveToGroup",title:"Move to",children:useToolWindowActions_anchors.map((anchor=>({id:`TW.MoveTo.${anchor.id}`,title:getAnchorName(anchor),icon:react.createElement(PlatformIcon.jE,{icon:`actions/${anchor.id}`}),isDisabled:state.anchor===anchor.anchor&&state.isSplit===anchor.isSplit,actionPerformed:()=>{moveToSide(anchor)}})))});if(actions.push({id:ToolWindowActionIds.Ww,title:`Focus ${mainContentTitle}`,actionPerformed:()=>{focusMainContent()}},{id:ToolWindowActionIds.y2,title:"Hide",icon:react.createElement(PlatformIcon.jE,{icon:"general/hideToolWindow"}),actionPerformed:()=>{hide()}},{id:ToolWindowActionIds.Ee,title:"Maximize Tool Window",actionPerformed:()=>{alert("Not implemented")}},{id:ToolWindowActionIds.m_,title:"Remove from Sidebar",actionPerformed:()=>{remove()}},viewModeActionGroup,moveToActionGroup),"float"===state.viewMode&&actions.push({id:ToolWindowActionIds.Fz,title:"Dock",icon:react.createElement(PlatformIcon.jE,{icon:`actions/${useToolWindowActions_anchors.find((({anchor,isSplit})=>anchor===state.anchor&&isSplit===state.isSplit))?.id}`}),actionPerformed:()=>{changeViewMode("docked_pinned")}}),"float"!==state.viewMode&&"window"!==state.viewMode){const resizeGroup=createDefaultActionGroup({id:"ResizeToolWindowGroup",title:"Resize",children:[]});(0,utils.zq)(state.anchor)?(resizeGroup.children.push({id:ToolWindowActionIds.Ep,title:"Stretch to bottom",actionPerformed:()=>{stretchHeight("bottom"===state.anchor?-80:80)}}),resizeGroup.children.push({id:ToolWindowActionIds.SK,title:"Stretch to top",actionPerformed:()=>{stretchHeight("top"===state.anchor?-80:80)}})):(resizeGroup.children.push({id:ToolWindowActionIds.S7,title:"Stretch to left",actionPerformed:()=>{stretchWidth("left"===state.anchor?-65:65)}}),resizeGroup.children.push({id:ToolWindowActionIds.t2,title:"Stretch to right",actionPerformed:()=>{stretchWidth("right"===state.anchor?-65:65)}})),actions.push(resizeGroup)}return createDefaultActionGroup({id:"ActiveToolwindowGroup",title:"Active Tool Window",children:actions})}({mainContentTitle}),allActions=[activeToolWindowActionGroup,...actions||[]];return react.createElement(ActionsProvider.Be,{actions:allActions},(({shortcutHandlerProps})=>react.createElement(StyledToolWindowContainer,{...(0,mergeProps.v)(toolWindowProps,shortcutHandlerProps,(0,filterDOMProps.$)(otherProps)),ref:containerRef},react.createElement(DefaultToolWindowContext.Provider,{value:defaultToolWindowContext},react.createElement(DefaultToolWindowHeader,{additionalActions,contentHasFocus,...toolWindowHeaderProps},headerContent),react.createElement(StyledToolWindowContent,{ref:contentRef,...toolWindowContentProps},react.createElement(FocusScope.n,{ref:focusableContentRef,autoFocus:!0},children))))))};DefaultToolWindow.__docgenInfo={description:"Default component for rendering the content of a tool window. It supports a header and a scrollable area.\nThe header supports showing a content, and some default+custom actions on the right.\n\n@see MultiContentToolWindow\n\nRemaining features:\n- Additional gear menu actions.",methods:[],displayName:"DefaultToolWindow",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},headerContent:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"title to be shown on the left side of the tool window header."},additionalActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"additional action buttons to be rendered before the default gear and hide buttons."},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ActionDefinition"}],raw:"ActionDefinition[]"},description:"Actions to be provided in the tool window, in addition to the default tool window actions."},mainContentTitle:{required:!1,tsType:{name:"string"},description:'The title of main part of the tool windows component. Used in tool window actions.\n@default "Editor"',defaultValue:{value:'"Editor"',computed:!1}},onFocusChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(focused: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"focused"}],return:{name:"void"}}},description:""}},composes:["DOMProps"]}},"./src/ToolWindowsImpl/MultiViewToolWindow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>MultiViewToolWindow});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_react_stately_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@react-stately/utils/dist/useControlledState.mjs"),_DefaultToolWindow__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/ToolWindowsImpl/DefaultToolWindow.tsx"),_Tabs_TabItem__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/Tabs/TabItem.tsx"),_utils_usePrevious__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/usePrevious.ts"),_Tabs_ToolWindowTabs_ToolWindowTabs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx");const MultiViewToolWindow=({groupTabs,children,headerContent,...props})=>{const[isToolWindowFocused,setToolWindowFocused]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[activeKey,setActiveKey]=(0,_react_stately_utils__WEBPACK_IMPORTED_MODULE_1__.P)(props.activeKey,props.defaultActiveKey,props.onActiveKeyChange),contents=react__WEBPACK_IMPORTED_MODULE_0__.Children.toArray(children).filter((child=>{const validChild=react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child)&&child.type===MultiContentToolWindowContent;return validChild||console.warn("You are not supposed to render anything but MultiContentToolWindowContent inside MultiViewToolWindow. Rendered: ",child),validChild})).map((content=>({...content,key:`${content.key}`.slice(2)}))),renderedViewSwitcher=(groupTabs&&console.error("groupTab is not supported yet in MultiViewToolWindow. Will fallback to ungrouped tabs"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tabs_ToolWindowTabs_ToolWindowTabs__WEBPACK_IMPORTED_MODULE_2__.P,{noBorders:!0,items:contents,active:isToolWindowFocused,selectedKey:activeKey,onSelectionChange:setActiveKey},(item=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Tabs_TabItem__WEBPACK_IMPORTED_MODULE_3__.V,{key:item.key},item.props.tabContent)))),keys=contents.map((({key})=>key)),previousKeys=(0,_utils_usePrevious__WEBPACK_IMPORTED_MODULE_4__.Z)(keys);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!keys.includes(activeKey)){const newActiveKey=keys[previousKeys.indexOf(activeKey)-1]??keys[0];null!=newActiveKey&&setActiveKey(newActiveKey)}}));const activeContent=contents.find((content=>null==activeKey||activeKey===content.key));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_DefaultToolWindow__WEBPACK_IMPORTED_MODULE_5__.s,{onFocusChange:setToolWindowFocused,headerContent:"function"==typeof headerContent?headerContent({renderedViewSwitcher}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,headerContent,renderedViewSwitcher),additionalActions:props.additionalActions},activeContent?.props.children)},MultiContentToolWindowContent=({})=>{throw new Error("MultiContentToolWindowContent is not meant to be rendered directly. You should only use it in MultiViewToolWindow")};MultiViewToolWindow.View=MultiContentToolWindowContent,MultiViewToolWindow.__docgenInfo={description:"Implemented on top of DefaultToolWindow, allows for multiple tabbed content within a tool window.\nRemaining features:\n- Although trivial, group tabs action in tool window header gear icon is intentionally left unimplemented for now,\n  until an increment on action system is done.\n- Grouped mode is not implemented currently, as we don't have a dropdown component. Though it seems it's just a\n  MenuTrigger and some trigger with a arrow icon.",methods:[{name:"View",docblock:null,modifiers:["static"],params:[{name:"{}: MultiContentToolWindowContentProps",optional:!1,type:{name:"MultiContentToolWindowContentProps",alias:"MultiContentToolWindowContentProps"}}],returns:null}],displayName:"MultiViewToolWindow",props:{children:{required:!0,tsType:{name:"union",raw:"| React.ReactElement<MultiContentToolWindowContentProps>[]\n| React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"Array",elements:[{name:"ReactReactElement",raw:"React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"MultiContentToolWindowContentProps"}]}],raw:"React.ReactElement<MultiContentToolWindowContentProps>[]"},{name:"ReactReactElement",raw:"React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"MultiContentToolWindowContentProps"}]}]},description:"List of contents that will be accessible with a list of grouped or ungrouped tabs in the tool window header."},activeKey:{required:!1,tsType:{name:"Key"},description:"Key of currently active content"},defaultActiveKey:{required:!1,tsType:{name:"Key"},description:""},onActiveKeyChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{type:{name:"Key"},name:"key"}],return:{name:"void"}}},description:""},groupTabs:{required:!1,tsType:{name:"boolean"},description:"If true, it groups tabs in a dropdown instead.\n\n@default false"},headerContent:{required:!1,tsType:{name:"union",raw:"| React.ReactNode\n| ((props: { renderedViewSwitcher: React.ReactNode }) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:'The content shown as the title of the tool window, before content switcher (tabs or dropdown).\nFor more control over header content, you can pass a function which accepts rendered content switcher,\nand then you can compose it with other content as you wish. Use case examples of function variant:\n- You want to render a title before the content switcher, and something after the tabs. Like a "+" button in\n  terminal.\n- You want to conditionally move inner-content header up to the tool window header, if there is only one tab. In\n  that case you don\'t need to render the content switcher at all. An example is the new design in the "Run"\n  tool window.'}},composes:["Pick"]}}}]);
//# sourceMappingURL=4922.a016e613.iframe.bundle.js.map