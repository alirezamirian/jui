(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2892],{22423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{App:()=>qu,default:()=>zu});var r=n(21023),o=n.n(r),a=n(2784),i=n(50921),l=n(56576),c=n(35713),s=n(55003),m=n(78104),d=n(75545),u=n(7896),p=n(55816);const h=e=>a.createElement(p.E,(0,u.Z)({},e,{src:"data:image/gif;base64,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",darkSrc:"data:image/gif;base64,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"}));h.__docgenInfo={description:"",methods:[],displayName:"LoadingGif"};const f=(0,d.ZP)(h).withConfig({displayName:"DefaultSuspense__Loading",componentId:"sc-1n9vzm7-0"})(["width:fit-content;margin:auto;"]),g=e=>{let{fallback:t=a.createElement(f,null),children:n}=e;return a.createElement(a.Suspense,{fallback:t},n)};g.__docgenInfo={description:"",methods:[],displayName:"DefaultSuspense",props:{fallback:{defaultValue:{value:"<Loading />",computed:!1},required:!1}}};var A=n(752),E=n(14855),y=n(40327),v=n(33008),C=n(1962),b=n(56058),w=n(95220),S=n(4558),D=n(91673),I=n(50668),k=n(40152),P=n(59257),R=n(75270),T=n(73207),B=n(76418),N=n(96866),x=n(79003),F=n(53700),L=n(99198),O=n(30455),_=n(74990),M=n(38827),G=n(44427),K=n(11909),H=n(65058);const V="fileTypes/text",U="nodes/folder",j={editorconfig:"nodes/editorconfig",js:"fileTypes/javaScript",gitignore:"vcs/ignore_file",archive:"fileTypes/archive",as:"fileTypes/as",config:"fileTypes/config",css:"fileTypes/css",dtd:"fileTypes/dtd",hpr:"fileTypes/hprof",htaccess:"fileTypes/htaccess",html:"fileTypes/html",idl:"fileTypes/idl",java:"fileTypes/java",jfr:"fileTypes/jfr",json:"fileTypes/json",jsp:"fileTypes/jsp",jspx:"fileTypes/jspx",manifest:"fileTypes/manifest",properties:"fileTypes/properties",txt:"fileTypes/text",wsdl:"fileTypes/wsdlFile",xhtml:"fileTypes/xhtml",xml:"fileTypes/xml",xsd:"fileTypes/xsdFile",yaml:"fileTypes/yaml"},$=e=>{const t=Q(e);return j[t]||V},Q=e=>e.split(".").pop()||"";function q(e,t){return void 0===t&&(t=o().sep),z(e,t)}function z(e,t,n){void 0===n&&(n=[]);const r=o().dirname(e);return r!==t?[r].concat(z(r,t,n)):n}var W=n(87809);const Y=new WeakMap,Z=new WeakSet;function J(e,t){const n=(0,H.cn)(0),r=(0,H.cn)(((t,r)=>{t(n);const o=new Set,a=e((function(){const e=arguments.length<=0?void 0:arguments[0];return Z.has(e)&&o.add(e),t(...arguments)}),r);return Y.set(a,o),a}),(function(e,o){for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];if(0===i.length){const t=e(r);for(const e of Y.get(t)??[])o(e);o(n,(e=>e+1))}else if(t)return t(e,o,...i)}));return Z.add(r),r}var X=n(22633),ee=n(42378),te=n.n(ee);async function ne(e){void 0===e&&(e="bfs-local-fs");const t=await ae((t=>{X.FileSystem.IndexedDB.Create({storeName:e},t)}));return await new Promise((e=>t.init(t.store,e))),t}function re(e){X.initialize(e);const t=X.BFSRequire("fs");return t.promises=te()({...t,exists:(e,n)=>t.exists(e,(e=>n(null,e)))}),t}const oe=e=>{const t=new(X.BFSRequire("fs").FS);return t.initialize(e),t};function ae(e){return new Promise(((t,n)=>{e(((e,r)=>{if(e||!r)return n(e);t(r)}))}))}var ie=n(15048);const le=(0,ie.qf)((function*(e,t){const{source:n,target:r,rootDir:a,onCopy:i,force:l}=t,c=yield n.readdir(a);for(const s of c){const c=o().join(a,s),m=yield n.stat(c);if(m.isFile()||m.isSymbolicLink()){if(!l&&(yield ce(r,c)))return;i?.(c);const e=yield n.readFile(c);yield se(r,o().dirname(c)),yield r.writeFile(c,e)}else m.isDirectory()?yield le(e,{...t,rootDir:o().join(a,s)}):console.warn("unsupported file system item skipped, when copying:",m)}})),ce=async(e,t)=>await e.exists(t)&&!(await e.stat(t)).isDirectory();async function se(e,t){const n=await e.stat(t).catch((e=>"ENOENT"!==e.code&&Promise.reject(e)));if(!1===n){const n=o().dirname(t);n!==o().dirname(n)&&await se(e,n),await e.mkdir(t).catch((e=>"EEXIST"===e.code?Promise.resolve():Promise.reject(e)))}else if(!n.isDirectory())throw new Error(`path is not a directory, but already exists: ${t}`)}const me=e=>de.promises.stat(e).catch((()=>null));let de;const ue=(pe="demo_app_use_persistent_fs",{get:()=>localStorage.getItem(pe),set:e=>localStorage.setItem(pe,e)});var pe;async function he(e){let{onCopy:t=console.log,cancelSignal:n}=void 0===e?{}:e;if(!(de.getRootFS()instanceof X.FileSystem.InMemory))return void console.log("Already on persistent fs. Nothing to do.");console.log("Creating IndexedDB FS"),console.time("creating db");const r=await ne();await async function(e){let{source:t,target:n,cancelSignal:r,...o}=e;await le(r,{...o,source:te()(t),target:te()(n),rootDir:"/"})}({source:de,target:await oe(r),cancelSignal:n,force:!0,onCopy:t}),console.timeEnd("creating db"),re(r),console.log("FS switched to IndexedDB backend",r)}const fe=function(e){let t,n="pending";const r=e.then((e=>{n="success",t=e}),(e=>{n="error",t=e}));return{read:()=>{switch(n){case"pending":throw r;case"error":throw t;default:return t}}}}(("yes"===ue.get()?ne():async function(){return await ae((e=>{X.FileSystem.InMemory.Create({},e)}))}()).then(re).then((e=>(window.fs=e,de=e))).catch((e=>{throw console.log("could not initialize FS:",e),e}))),ge=e=>{let{children:t}=e;return fe.read(),t};const Ae=(0,W.xu)((e=>{const t=J((()=>(async e=>{let t;try{t=await de.promises.readdir(e)}catch(o){return null}const n=await Promise.all(t.map((t=>{const n=`${e}/${t}`;return de.promises.stat(n).then((e=>({...e,type:e.isDirectory()?"dir":"file",filePath:n})))})));return n.map((e=>({type:e.type,name:(0,r.basename)(e.filePath),path:e.filePath,lastModification:e.mtimeMs,size:e.size})))})(e)));return t.debugLabel=`DirContent(${e})`,t})),Ee=(e,t)=>async e=>{await t(ye(e))},ye=(0,W.xu)((e=>{const t=async()=>{if(!e)return"";return await de.promises.exists(e)?de.promises.readFile(e,{encoding:"utf8"}):null},n=(0,W.wm)(t);return(0,H.cn)((async e=>e(n)),(async function(r,o){const a=(arguments.length<=2?void 0:arguments[2])??"";if(0==(arguments.length<=2?0:arguments.length-2))return o(n,t());o(n,Promise.resolve(a)),e&&await de.promises.writeFile(e,a??"","utf8").catch((e=>{console.error("failed to sync the file back to the fs",e)}))}))}));var ve=n(58420),Ce=n(23949),be=n(30195);function we(e){return Array.isArray(e)?1===e[1]?["DELETED","NOT_CHANGED","MODIFIED"][e[2]]:0===e[1]?0===e[3]?"UNKNOWN":"ADDED":"UNKNOWN":"modified"===e||"*modified"===e?"MODIFIED":"deleted"===e||"*deleted"===e?"DELETED":"added"===e?"ADDED":"unmodified"===e?"NOT_CHANGED":"UNKNOWN"}var Se=n(4594),De=n(22215),Ie=n(44065),ke=n(55892),Pe=n(25757);const Re=e=>{let{path:t}=e;return!t.split("/").includes(".git")},Te="/workspace/jui",Be="https://github.com/alirezamirian/jui.git",Ne={name:"Workspace",path:"/workspace"},xe=(0,H.cn)(Ne),Fe=(0,W.xu)((e=>(0,H.cn)((t=>o().join(t(xe).path,e))))),Le=(0,H.cn)((async e=>{const t=e(xe);return e(Oe(t.path))})),Oe=(0,W.xu)((e=>(0,H.cn)((async t=>{const n=await t(Ae(e)),r=[],a=async n=>{if("dir"===n.type){if(Re(n)){const e=await t(Ae(n.path));e&&e.forEach(a)}}else r.push({...n,relativePath:o().relative(e,n.path)})};return await Promise.all((n||[]).map((e=>a(e)))),r})))),_e=(0,H.cn)([]),Me=(0,H.cn)((e=>e(_e).length>0)),Ge=((e,t)=>{let n=null;return function(r,o){void 0===o&&(o="unknown");const i=function(e,t){const n=(0,A.oR)(t),r=(0,A.b9)(e);return(0,a.useCallback)((t=>{const o=n.get(e),a="function"==typeof t?t(o):t;return a!==o&&r(a),a}),[A.b9,n])}(e),l=(0,a.useRef)();return(0,a.useEffect)((()=>{n===l.current&&i((e=>(0,ke.Z)(r,e)?e:r))}),[r]),(0,Pe.L)({onFocusWithin:e=>{l.current=e.currentTarget,n=e.currentTarget,i(r)},onBlurWithin:e=>{e.relatedTarget instanceof Element&&e.relatedTarget?.closest("[data-overlay-container], [role=menu]")||i(t)}}).focusWithinProps}})(_e,[]),Ke=(0,H.cn)((0,a.createRef)()),He=(0,H.cn)((0,a.createRef)()),Ve=(0,H.cn)((0,a.createRef)());let Ue=function(e){return e.WORKSPACE_FILE="$WORKSPACE_FILE$",e}({});const je=(0,W.xu)((e=>(0,H.cn)((t=>{const n=o().join(t(xe).path,".idea");return o().join(n,Ye[e]||e)})))),$e=(0,W.xu)((e=>{const t=(0,H.cn)(null),n=(0,H.cn)((t=>async function(e){const t=new De.XMLParser(qe),n=await de.promises.exists(e);if(!n)return We;const r=await de.promises.readFile(e,{encoding:"utf8"}),o=Object.assign({...We},t.parse(r));return o.project.component=o.project.component??[],o}(t(je(e)))));let r=null;return(0,H.cn)((e=>e(t)??e(n)),(async(o,a,i)=>{const l=o(je(e)),c=o(t)??await o(n);a(t,(e=>i(e??c))),null!==r&&clearTimeout(r),r=setTimeout((()=>{a(ye(l),function(e){return new De.XMLBuilder(ze).build(e)}(o(t)))}),1e3)}))}));function Qe(e,t){const n=(0,H.cn)(e),r=function(e){let{storageFile:t=Ue.WORKSPACE_FILE,componentName:n,schema:r,...o}=e;const a="write"in o?o.write:e=>e,i="read"in o?o.read:Ie.Z;return(0,H.cn)((async e=>{const o=await e($e(t)),a=o?.project.component.find((e=>e["@name"]===n)),l=r.safeParse(a);return l.error&&console.error(`Error parsing persisted state for component ${n} in file ${t}:`,l.error),await i(l.data)??void 0}),(async(e,r,o)=>{if("update"===o.type)return r($e(t),(e=>{const{value:t}=o,r=[...e.project.component],i=r.findIndex((e=>e["@name"]===n));return r.splice(i,i>=0?1:0,{"@name":n,...a(t,r[i])}),{...e,project:{...e.project,component:r}}}))}))}(t),o=(0,Ce.v)(((e,t)=>{e.peek(r).then((e=>{void 0!==e&&t(n,e)}))}));return(0,H.cn)((e=>(e(o),e(n))),(async(e,t,o)=>{const a="function"==typeof o?o(await e(n)):o;t(n,a),await t(r,{type:"update",value:a})}))}Qe({x:2},{componentName:"test",storageFile:"test.xml",schema:be.z.object({whatever:be.z.number()}).optional(),read:e=>({x:e?.whatever??2}),write:(e,t)=>({...t,whatever:e.x})}),Qe({y:3},{componentName:"test2",storageFile:"test.xml",schema:be.z.object({y:be.z.number()}).optional()});const qe={attributeNamePrefix:"@",ignoreAttributes:!1,isArray:(e,t)=>"project.component"===t},ze={format:!0,attributeNamePrefix:"@",ignoreAttributes:!1},We={"?xml":{"@version":"1.0","@encoding":"UTF-8"},project:{"@version":"4",component:[]}};const Ye={[Ue.WORKSPACE_FILE]:"workspace.xml"},Ze=e=>be.z.union([e,e.array()]).transform((e=>Array.isArray(e)?e:[e])),Je=(e,t)=>{const n=Ze(e);return be.z.object({[t]:n})},Xe=Qe([],{componentName:"VcsDirectoryMappings",schema:be.z.object({mapping:Ze(be.z.object({"@directory":be.z.string(),"@vcs":be.z.enum(["Git"])})).optional()}).optional(),storageFile:"vcs.xml",read:e=>e?.mapping?.map((e=>({dir:e["@directory"],vcs:e["@vcs"]})))??Promise.all(["/workspace/jui","/workspace"].map((async e=>{if(await de.promises.exists(e))return i.ZP.findRoot({fs:de,filepath:e}).catch((()=>null))}))).then((e=>[...new Set(e.filter(Se.N))].map((e=>({dir:e,vcs:"Git"}))))),write:(e,t)=>({...t||{},mapping:e?.map((e=>{let{vcs:t,dir:n}=e;return{"@directory":n,"@vcs":t}}))??[]})}),et=(0,W.xu)((e=>(0,H.cn)((()=>(0,i.AY)({fs:de,filepath:e}).catch((()=>null)))))),tt=async e=>{console.time(`statusMatrix ${e}`);const t=await(0,i.ks)({fs:de,dir:e});console.timeEnd(`statusMatrix ${e}`);const n={};return t.forEach((e=>{n[e[0]]=we(e)})),n},nt=(0,W.xu)((e=>{const t=(0,H.cn)({});return(0,Ce.j)(t,((n,r)=>{tt(e).then((e=>{r(t,e)}))}))})),rt=(0,W.xu)((e=>(0,H.cn)(!1))),ot=(0,H.cn)((e=>e(Xe).some((t=>{let{dir:n}=t;return e(rt(n))})))),at=(0,W.xu)((e=>J((async t=>{const n=await t(et(e));if(n){const o=r.relative(n,e),a=t(nt(n));return a[o]||console.log("file status missing in repo status state, fetching individually",e),a[o]??we(await(async e=>{let{filepath:t,...n}=e;return i.ZP.statusMatrix({...n,filepaths:[t]}).then((e=>e[0]))})({fs:de,dir:n,filepath:o}))}return"NOT_CHANGED"})))),it=async(e,t,n)=>{const o=await e(et(n));if(o){const e=r.relative(o,n),a=await i.ZP.statusMatrix({fs:de,dir:o,filepaths:[e]});t(nt(o),(t=>{const n={...t};return 0===a.length&&delete n[e],a.forEach((e=>{n[e[0]]=we(e)})),n}))}},lt=async(e,t)=>{e(Xe)?.forEach((e=>{let{dir:n}=e;t(rt(n),!0),tt(n).then((e=>{console.log("setting repo status for git dirs:",n,e),t(nt(n),e)})).finally((()=>{t(rt(n),!1)}))}))},ct=()=>(0,ve.lV)(lt),st=e=>{const t=(0,d.Fg)();switch(e){case"MODIFIED":return t.dark?"#6897bb":"#0032a0";case"ADDED":return t.dark?"#629755":"#0a7700";case"DELETED":return t.dark?"#6c6c6c":"#616161";case"UNKNOWN":return t.dark?"#d1675a":"#993300"}},mt=e=>{let{children:t,filepath:n}=e;const r=(e=>{const t=(0,A.Dv)((0,W.Wg)(at(e)));return st(t??"NOT_CHANGED")})(n);return a.createElement("span",{style:{color:r}},t)},dt=e=>{let{children:t,status:n}=e;const r=(0,d.Fg)().currentForegroundAware(st(n));return a.createElement("span",{style:{color:r}},t)};mt.__docgenInfo={description:"",methods:[],displayName:"FileStatusColor"},dt.__docgenInfo={description:"",methods:[],displayName:"StatusColor"};var ut=n(20288);const pt={value:null};function ht(){pt.value?.show({icon:"Warning",title:"Unimplemented action",body:"This action is not implemented yet.",actions:a.createElement(a.Fragment,null,a.createElement(ut.r,{onPress:ht},"Read more..."))})}var ft=n(58867),gt=n(15237);const At=E.zo.div.attrs({tabIndex:-1})`
  display: flex;
  flex-direction: column;
  height: inherit;
  justify-content: center;
  padding: 0 25%;
  font-size: 1rem;
  outline: none;
`,Et=E.zo.div`
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
`,yt=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.linkForegroundEnabled}};
`;function vt(){return a.createElement(At,null,a.createElement(Ct,{actionId:ft.$.GO_TO_FILE}),a.createElement(Ct,{actionId:ft.$.GO_TO_ACTION}))}function Ct(e){let{actionId:t}=e;const n=(0,gt.k)(),r=(0,b.BH)(t);return a.createElement(Et,null,r?.title,a.createElement(yt,null,n(t)))}vt.__docgenInfo={description:"",methods:[],displayName:"EditorZeroState"};var bt=n(34273),wt=n.n(bt),St=n(86688);const Dt="PasteMultiple",It="Generate",kt={EXPAND_REGION:"ExpandRegion",EXPAND_REGION_RECURSIVELY:"ExpandRegionRecursively",EXPAND_ALL_REGIONS:"ExpandAllRegions",EXPAND_ALL_TO_LEVEL:"ExpandToLevel",EXPAND_ALL_TO_LEVEL1:"ExpandToLevel1",EXPAND_ALL_TO_LEVEL2:"ExpandToLevel2",EXPAND_ALL_TO_LEVEL3:"ExpandToLevel3",EXPAND_ALL_TO_LEVEL4:"ExpandToLevel4",EXPAND_ALL_TO_LEVEL5:"ExpandToLevel5",COLLAPSE_REGION:"CollapseRegion",COLLAPSE_REGION_RECURSIVELY:"CollapseRegionRecursively",COLLAPSE_ALL_REGIONS:"CollapseAllRegions",COLLAPSE_DOC_COMMENTS:"CollapseDocComments",TOGGLE_FOLDING:"ToggleFolding",EDITOR_LANG_POPUP_MENU:"EditorLangPopupMenu",CompareClipboardWithSelection:"CompareClipboardWithSelection"};function Pt(e){return e.event?e.event?.type?.includes("key")?"keyboard":"mouse":""}var Rt=n(35848),Tt=n(28627);const Bt=(0,H.cn)(((e,t)=>{let{setSelf:n}=t;return e=>function(){const{get:t,set:r}=n();for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e(t,r,...a)}}),((e,t)=>({get:e,set:t}))),Nt=(0,Ce.j)((0,H.cn)([]),((e,t)=>{e.peek(Le).then((n=>{t(Nt,(0,Rt.Z)([(0,Tt.Z)((t=>t.path===e(Fe("README.md")))),(0,Tt.Z)((e=>e.path.endsWith(".ts"))),(0,Tt.Z)((e=>e.path.endsWith(".js")))],n.filter((e=>"file"===e.type))).filter((e=>!e.path.includes(".idea"))).slice(0,12).map((e=>({filePath:e.path,editorState:{cursorPos:{lineNumber:0,column:0}}}))))}))})),xt=(0,H.cn)(0),Ft=(0,H.cn)((e=>{const t=e(Nt);return t[e(xt)]||t[0]||null})),Lt=(0,H.cn)(new K.Ly(0,0)),Ot=(0,H.cn)(null),_t=function(e,t,n,r){void 0===r&&(r=!0);const o=e(Nt),a=o.findIndex((e=>e.filePath===n)),i=e=>{t(xt,e)},l=()=>{e(Ot)?.focus()};if(a>-1)i(a);else{const e=o.length;t(Nt,(e=>[...e,{filePath:n,editorState:{cursorPos:{lineNumber:0,column:0}}}])),i(e)}r&&setTimeout(l)},Mt=(e,t,n)=>t(Nt,(e=>e.filter(((e,t)=>t!==n)))),Gt=(e,t,n)=>{const r=e(Nt).findIndex((e=>e.filePath===n));r>-1&&(Mt(0,t,r),t(xt,Math.max(r-1,0)))},Kt=(e,t,n)=>{t(Nt,(e=>e.filter(((e,t)=>t===n))))},Ht=(e,t,n)=>{const r=e(Nt).length;n>=0&&n<r&&t(xt,n)},Vt=(e,t)=>{e(Ot)?.focus()},Ut=(jt=(e,t)=>{let{getCallback:n}=t;return{openPath:n(_t),closeTab:n(Mt),select:n(Ht),focus:n(Vt),closeOtherTabs:n(Kt),closePath:n(Gt)}},(0,H.cn)(((e,t)=>{const n=e(Bt);return jt(e,Object.assign(t,{getCallback:n}))})));var jt;const $t=()=>(0,A.Dv)(Ut);var Qt=n(79534);const qt=JSON.parse('{"nG":[{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#808080"}},{"scope":"constant.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["constant.numeric"],"settings":{"foreground":"#6897BB"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#FFC66D"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#BABABA"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.heading","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#A9B7C6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#FFC66D"}},{"scope":"meta.preprocessor","settings":{"foreground":"#CC7832"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9876AA"}},{"scope":"meta.diff.header","settings":{"foreground":"#CC7832"}},{"scope":"storage","settings":{"foreground":"#ff0000"}},{"scope":"storage.type","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["keyword.other.phpdoc.php","keyword.other.type.php","storage.type.class.jsdoc","entity.name.type.instance.jsdoc","variable.other.jsdoc"],"settings":{"foreground":"#808080"}},{"scope":"storage.modifier","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"string","settings":{"foreground":"#6A8759"}},{"scope":"string.tag","settings":{"foreground":"#6A8759"}},{"scope":"string.value","settings":{"foreground":"#6A8759"}},{"scope":"string.regexp","settings":{"foreground":"#6A8759"}},{"name":"JavaScript string interpolation ${}","scope":["punctuation.definition.template-expression.begin.js","punctuation.definition.template-expression.begin.ts","punctuation.definition.template-expression.end.ts","punctuation.definition.template-expression.end.js"],"settings":{"foreground":"#A9B7C6"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.property","support.variable.property.dom","entity.other.inherited-class"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.object","variable.other.object.property","support.class.dom","meta.function-call","entity.name.type.module"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable.other.readwrite","variable.other.constant.ts","variable.parameter","variable.other.readwrite.alias"],"settings":{"foreground":"#A9B7C6"}},{"scope":"keyword","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.operator","settings":{"foreground":"#A9B7C6"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],"settings":{"foreground":"#CC7832"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.metatag.php","punctuation.section.embedded.end.metatag.php"],"settings":{"foreground":"#CC7832"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9876AA"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Source Python","scope":["source.python"],"settings":{"foreground":"#A9B7C6"}},{"name":"Magic function python","scope":["support.function.magic.python"],"settings":{"foreground":"#9876AA"}},{"name":"Self keyword python","scope":["variable.language.special.self.python","variable.parameter.function.language.special.self.python"],"settings":{"foreground":"#9876AA","fontStyle":""}},{"name":"Function declarations Python","scope":["entity.name.function.python","meta.function-call.generic.python"],"settings":{"foreground":"#FFC66D"}},{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#FFC66D"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references","scope":["support.class","entity.name.class","support.type","entity.name.type"],"settings":{"foreground":"#FFC66D"}},{"name":"Arrow Function","scope":["storage.type.function.arrow"],"settings":{"foreground":"#A9B7C6"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Variable and parameter name","scope":["meta.definition.variable.name","support.variable"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable"],"settings":{"foreground":"#9876AA"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key","meta.object-literal.key entity.name.function"],"settings":{"foreground":"#9876AA"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}}]}').nG.flatMap((e=>{let{scope:t,settings:n}=e;return[].concat(t).flatMap((e=>e.split(" "))).map((e=>{const t={token:e};return Object.keys(n).forEach((e=>{const r=n[e];r&&(t[e]=r)})),t}))})),zt=(0,E.zo)(Qt.default)`
  .monaco-editor {
    .margin-view-overlays .line-numbers {
      text-align: left;
      padding-left: 7px;
    }

    .scrollbar .slider {
      border-radius: 0.25rem;
    }
  }
`,Wt=e=>{const t=(()=>{const e=(0,Qt.useMonaco)(),t=(0,d.Fg)(),[n,r]=(0,a.useState)(t.dark?"vs-dark":"light");return(0,a.useLayoutEffect)((()=>{if(e){const n=`jui-theme-${t.name.replace(" ","")}`,o=t.dark?"#dcdcdc":"#000";e.editor.defineTheme(n,{base:t.dark?"vs-dark":"vs",inherit:!0,colors:t.dark?{"editor.background":"#2B2B2B","editor.lineHighlightBackground":"#323232","editorLineNumber.foreground":"#606366","editorActiveLineNumber.foreground":"#a4a3a3","editorIndentGuide.background":"#373737","editorIndentGuide.activeBackground":"#505050","editorGutter.background":t.dark?"#313335":"#f0f0f0","editorBracketHighlight.foreground1":o,"editorBracketHighlight.foreground2":o,"editorBracketHighlight.foreground3":o,"editorBracketHighlight.foreground4":o,"editorBracketMatch.background":"#43454b","editorBracketMatch.border":"#00000000"}:{},rules:qt}),r(n)}}),[e,t]),n})();return a.createElement(zt,(0,u.Z)({},e,{options:{minimap:{enabled:!1},lineHeight:22,showFoldingControls:"always",guides:{indentation:!0},overviewRulerBorder:!1,fontFamily:"JetBrains Mono",fontSize:13,scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:8,verticalSliderSize:8,horizontalSliderSize:8,horizontal:"auto",vertical:"visible",alwaysConsumeMouseWheel:!1},...e.options},theme:t}))};function Yt(e,t,n){return(t.has(n)?t:t.set(n,e())).get(n)}Wt.__docgenInfo={description:"Monaco Editor styled to look like Intellij Platform's editor.\nTODO:\n - folding controls appearance is different and should be changed\n - highlighting pairs of parens, brackets, etc. is different.\n - context menu look different.\n - selection look different.\n - BUG: height is more than necessary. Needs investigation first.",methods:[],displayName:"Editor"};const Zt=new WeakMap,Jt=(e,t,n)=>{const r=Yt((()=>"object"==typeof n?new WeakMap:new Map),Zt,t);return Yt(e,r,n)},Xt={};function en(e,t){return Jt((()=>{const n=(0,H.cn)((async t=>({value:await t(e),isLoading:!1}))),r=(0,W.Wg)(n,(e=>{const n=void 0===e?t:e.value;return void 0!==n?{value:n,isLoading:!0}:void 0}));return(0,H.cn)((e=>e(r)??e(n)))}),e,t??Xt)}const tn=en((0,H.cn)((async e=>{const t=e(Ft);return{...t,content:await e(ye(t?.filePath??null))}}))),nn=()=>{const[e,t]=[(0,A.Dv)(Nt),(0,A.Dv)(Ut)],n=(0,a.useRef)(),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),s=(0,b.BH)(w.xm),m=(0,A.b9)(Lt),{value:{content:d,filePath:u},isLoading:p}=(0,A.Dv)(tn),h=(0,S.d)({closePath:t.closePath,closeOthersTabs:t.closeOtherTabs}),f=(0,A.b9)(Ot),g=(0,A.b9)(ye(u??null)),E=(0,ve.lV)(it),y=function(e){const t=(0,St.w)(),n=e.current,r=n?.getSelection(),o=r?n?.getModel()?.getValueInRange(r):"";return t({id:"EditorPopupMenu",title:"Editor Popup Menu",description:"Editor Popup Menu",children:[t({id:"ShowIntentionsGroup",title:"Show Intentions Group",isSearchable:!1,menuPresentation:"section",children:[{id:"ShowIntentionActions",title:"Show Context Actions",icon:a.createElement(R.vq,{icon:"actions/intentionBulbGrey.svg"}),actionPerformed:()=>{ht()}}]}),o?{id:ft.$.COPY,title:"Copy",icon:a.createElement(R.vq,{icon:"actions/copy"}),actionPerformed:()=>{const e=n?.getSelection(),t=e?n?.getModel()?.getValueInRange(e):"";t&&wt()(t)}}:null,{id:ft.$.PASTE,title:"Paste",icon:a.createElement(R.vq,{icon:"actions/menu-paste"}),actionPerformed:()=>{n?.focus(),n?.trigger("keyboard","editor.action.clipboardPasteAction",{})}},t({id:"Copy.Paste.Special",title:"Copy / Paste Special",description:"Copy / Paste Special Editor Actions",menuPresentation:"submenu",children:[{id:ft.$.COPY_REFERENCE,title:"Copy Reference",description:"Copy reference to selected class, method or function, or a relative path to selected file",actionPerformed:()=>{ht()}},{id:Dt,title:"Paste from history",description:"Paste from recent clipboards",actionPerformed:()=>{ht()}}]}),"divider",t({id:"FoldingGroup",title:"Folding",menuPresentation:"submenu",children:[{id:kt.EXPAND_REGION,title:"Expand",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.unfold",{})}},{id:kt.EXPAND_REGION_RECURSIVELY,title:"Expand Recursively",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.unfoldRecursively",{})}},{id:kt.EXPAND_ALL_REGIONS,title:"Expand All",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.unfoldAll",{})}},"divider",{id:kt.COLLAPSE_REGION,title:"Collapse",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.fold",{})}},{id:kt.COLLAPSE_REGION_RECURSIVELY,title:"Collapse Recursively",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.foldRecursively",{})}},{id:kt.COLLAPSE_ALL_REGIONS,title:"Collapse All",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.foldAll",{})}},"divider",t({id:kt.EXPAND_ALL_TO_LEVEL,title:"Expand all to level",menuPresentation:"submenu",children:[1,2,3,4,5].map((t=>({id:kt[`EXPAND_ALL_TO_LEVEL${t}`],title:`${t}`,actionPerformed:n=>{e.current?.trigger(Pt(n),`editor.foldLevel${t}`,{})}})))}),"divider",{id:kt.COLLAPSE_DOC_COMMENTS,title:"Collapse Doc Comments",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.foldAllBlockComments",{})}},"divider",{id:kt.TOGGLE_FOLDING,title:"Toggle Folding",actionPerformed:t=>{e.current?.trigger(Pt(t),"editor.toggleFold",{})}}]}),t({id:"EditorLangPopupMenu",title:"EditorLangPopupMenu",menuPresentation:"section",children:[{id:It,title:"Generate...",actionPerformed:()=>{ht()}}]}),"divider",{id:kt.CompareClipboardWithSelection,title:"Compare with Clipboard",description:"Compare current selection with clipboard",icon:a.createElement(R.vq,{icon:"actions/diffWithClipboard.svg"}),actionPerformed:()=>{ht()}}].filter(Se.N)})}(n),v=function(e){void 0===e&&(e=""),i(!1),g(e),u&&E(u).catch((e=>{console.error("Could not update file status",e)}))},C=Ge(u?[u]:[]);return a.createElement(b.DG,{actions:[y]},(g=>{let{shortcutHandlerProps:A}=g;return a.createElement(on,(0,G.d)(C,A,{onFocus:()=>{i(!0),f({focus:()=>n.current?.focus()})}}),e.length>0?a.createElement(a.Fragment,null,a.createElement(D.X,{renderMenu:()=>a.createElement(I.v2,{onAction:ht},a.createElement(k.c,{key:"close"},"Close"),a.createElement(k.c,{key:"closeOthers"},"Close Other tabs"),a.createElement(k.c,{key:"closeAll"},"Close all tabs"),a.createElement(k.c,{key:"closeLeft"},"Close tabs to the left"),a.createElement(k.c,{key:"closeRight"},"Close tabs to the right"))},a.createElement(P.s,{items:e,active:o,selectedKey:u,onSelectionChange:n=>{t.select(e.findIndex((e=>e.filePath===n)))},noBorders:!0},(t=>{const n=r.basename(t.filePath),o=a.createElement(R.vq,{icon:$(t.filePath)});return a.createElement(T.E,{key:t.filePath,textValue:n,inOverflowMenu:a.createElement(B._,{content:n,icon:o})},a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:t.filePath})},a.createElement(F.X,{icon:o,title:a.createElement(mt,{filepath:t.filePath},n),closeButton:a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Close. Alt-Click to Close Others"})},a.createElement(L.W,{onPress:n=>{n.altKey?h.current.closeOthersTabs(e.indexOf(t)):h.current.closePath(t.filePath)}})),containerProps:{onDoubleClick:()=>{s?.perform()}}})))}))),"string"==typeof d?a.createElement(Wt,{height:"100%",path:u,options:{contextmenu:!1},onMount:(e,t)=>{e.focus(),e.onContextMenu((e=>{e.event.preventDefault(),Promise.resolve().then((()=>{c(e)}))})),e.onDidScrollChange((()=>{c(null)})),function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:K.Mj.typescript.JsxEmit.React}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})}(t),n.current=e,e.onDidChangeCursorPosition((e=>{m(e.position)})),e.onDidChangeModel((()=>{}))},onChange:v,value:d??""}):d&&"UNSUPPORTED CONTENT"):a.createElement(vt,null),p&&a.createElement(an,null),l&&a.createElement(O.Z,{origin:l.event.browserEvent,onClose:()=>c(null)},a.createElement(rn,null)))}))};function rn(){const e=(0,_.y)("EditorPopupMenu");return e?a.createElement(M.d,{actionGroup:e},(e=>a.createElement(I.v2,(0,u.Z)({autoFocus:!0},e)))):null}const on=E.zo.div`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.color("Editor.background",t.isUnderDarcula()?"rgb(40,40,40)":t.commonColors.panelBackground)}};
`,an=(0,E.zo)(h)`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`;nn.__docgenInfo={description:"Used as main content in the main ToolWindows. Shows currently opened files tabs and the editor.\n\nTODO: preserve editor state when switching between tabs\nTODO: support multiple editors in split view.",methods:[],displayName:"FileEditor"};var ln=n(76906),cn=n(2446),sn=n(29902);const mn=(0,d.ZP)(sn.O).withConfig({displayName:"Terminal__StyledXterm",componentId:"sc-19jke66-0"})(["height:100%;background:rgb(43,43,43);"]),dn=()=>{const[e,t]=(0,a.useState)(""),n=(0,a.useRef)(null),r=(0,a.useMemo)((()=>({theme:{background:"rgb(43,43,43)",selection:"#214283"},fontFamily:"sans-serif",letterSpacing:-8,fontSize:12,lineHeight:1.3,cursorStyle:"block",cursorBlink:!0,cursorWidth:8,rendererType:"dom"})),[]);return(0,a.useEffect)((()=>{setTimeout((()=>{n.current?.terminal.resize(80,10),n.current?.terminal.write("$ ")}),3e3)}),[]),a.createElement(mn,{ref:n,options:r,onData:r=>{const o=r.charCodeAt(0);if(13===o)e.length>0&&n.current?.terminal.write("\r\nYou typed: '"+e+"'"),n.current?.terminal.write("\r\n$ "),t("");else{if(o<32||127===o)return;n.current?.terminal.write(r),t(e+r)}}})};dn.__docgenInfo={description:"",methods:[],displayName:"Terminal"};var un=n(35200),pn=n(41050);const hn=(0,H.cn)(!0),fn=(0,W.qs)((e=>new Set(e(Xe).flatMap((e=>{let{dir:t}=e;return q(t).concat(t)})).concat(e(xe).path)))),gn=(0,H.cn)(new Set([])),An=(0,H.cn)((async e=>{const t=e(gn),n=(await e(yn)).byKey;return[..."all"===t?n.keys():t].map((e=>n.get(`${e}`))).filter(Se.N)})),En=(0,H.cn)(a.createRef()),yn=(0,H.cn)((e=>async function(e,t){const n=await t(Ae(e.path)),r=new Map,o=e=>async n=>{const a={...n,parent:e};if("dir"===n.type){if(Re(n)){const e={...a,children:[]};return e.children=(await Promise.all((await t(Ae(n.path))??[]).map(o(e)))).filter(Se.N),vn(e.children),r.set(e.path,e),e}return null}return r.set(a.path,a),a},a=(await Promise.all((n||[]).map(o(null)))).filter(Se.N);vn(a);const i={type:"project",path:e.path,name:e.name,parent:null,children:a};return r.set(i.path,i),{root:i,byKey:r}}(e(xe),e)));(0,H.cn)("name");function vn(e){e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))}const Cn=(e,t,n)=>{const r=e(fn),o=[e(xe).path].concat(q(n));t(fn,new Set([...r,...o]))},bn=(e,t,n)=>{const r=e(En)?.current;r?.replaceSelection(n),r?.focus(n)},wn=()=>{const e=(0,ve.lV)(Cn),t=(0,ve.lV)(bn);return n=>{e(n),t(n)}};var Sn=n(46162),Dn=n(21692),In=n(43815),kn=n(61090),Pn=n(10463),Rn=n(55998),Tn=n(25897);const Bn={NewElement:"NewElement",NewFile:"NewFile",NewDir:"NewDir",CopyReferencePopupGroup:"CopyReferencePopupGroup",CopyPaths:"CopyPaths",CopyFileReference:"CopyFileReference",CopyAbsolutePath:"CopyAbsolutePath",CopySourceRootPath:"CopySourceRootPath",CopyFileName:"CopyFileName"};function Nn(e){let{getActionContext:t}=e;return a.createElement(Rn.C,{"aria-label":"Project Tree actions",actionContext:t,actions:[{...(0,b.BH)(Bn.NewElement),title:"New",shortcut:void 0},new Tn.P,(0,b.BH)(ft.$.CUT),(0,b.BH)(ft.$.COPY),(0,b.BH)(Bn.CopyReferencePopupGroup),(0,b.BH)(ft.$.PASTE),new Tn.P,(0,b.BH)(ft.$.DELETE),new Tn.P].filter(Se.N)})}Nn.__docgenInfo={description:"",methods:[],displayName:"ProjectViewContextMenu",props:{getActionContext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => ActionContext",signature:{arguments:[],return:{name:"ActionContext"}}},description:""}}};const xn=e=>{const t=new WeakMap;return n=>{let r=t.get(n);return void 0===r&&(r=e(n),t.set(n,r)),r}},Fn=xn((e=>{const t=(0,W.Wg)(e,(e=>e));return(0,H.cn)((n=>n(t)??n(e)))})),Ln=xn((e=>(0,W.Wg)(e,(e=>e??null)))),On=()=>{const e=(0,A.Dv)(xe),t=$t(),n=(0,a.useRef)(null),r=(0,A.b9)(En);(0,a.useLayoutEffect)((()=>{r(n)}),[n]);const o=(0,A.Dv)(Fn(yn)),[i,l]=(0,A.KO)(fn),[c,s]=(0,A.KO)(gn),m=(0,A.KO)(hn)?(0,Pn.Z)((e=>"dir"===e.type?1:2)):Ie.Z,d="all"===c?[]:[...c].filter((e=>"string"==typeof e)),p=Ge(d),h=(0,a.useRef)(null),f=(0,a.useRef)(),E=()=>({element:h.current?.querySelector(`[data-key="${f.current}"]`)??null,event:null});return a.createElement(g,null,o.root&&a.createElement(D.X,{ref:h,style:{height:"100%"},onOpen:e=>{let{target:t}=e;return f.current=t?.closest("[data-key]")?.dataset.key},renderMenu:()=>a.createElement(Nn,{getActionContext:E})},a.createElement(Sn.b,(0,u.Z)({"aria-label":"Project structure tree",treeRef:n},p,{items:[o.root],onAction:e=>{t.openPath(`${e}`)},fillAvailableSpace:!0,autoFocus:!0,selectionMode:"multiple",selectedKeys:c,onSelectionChange:s,expandedKeys:i,onExpandedChange:l}),(t=>a.createElement(k.c,{key:t.path,textValue:t.name,childItems:"children"in t?m(t.children):void 0},a.createElement(Dn.e,null,a.createElement(Hn,{node:t}),"project"===t.type?a.createElement(a.Fragment,null,a.createElement("b",null,a.createElement(In.J,null)),a.createElement(Dn.e.Hint,null,e.path)):a.createElement(_n,{node:t})))))))},_n=e=>{let{node:t}=e;return"dir"===t.type?a.createElement(Mn,{node:t}):a.createElement(Gn,{node:t})},Mn=e=>{let{}=e;return a.createElement(In.J,null)},Gn=e=>{let{node:t}=e;const n=(0,a.useContext)(kn.k);return n?.isSelected&&n?.isContainerFocused?a.createElement(In.J,null):a.createElement(mt,{filepath:t.path},a.createElement(In.J,null))},Kn={project:"nodes/folder",dir:U,file:V};function Hn(e){let{node:t}=e;const n="file"===(r=t).type?$(r.name):Kn[r.type]??null;var r;return a.createElement(a.Fragment,null,n&&a.createElement(R.vq,{icon:n}))}On.__docgenInfo={description:"",methods:[],displayName:"ProjectViewPane"};var Vn=n(37163),Un=n(17377),jn=n(91593),$n=n(62389),Qn=n(83936);function qn(e){let{tooltip:t="Show help contents",...n}=e;return a.createElement(N.a,{tooltip:a.createElement(Qn.k,{helpText:t})},a.createElement($n.z,(0,u.Z)({variant:"icon","aria-label":"Help","aria-description":"Show help contents"},n),a.createElement("span",{style:{fontSize:18}},"?")))}function zn(e,t){return void 0===t&&(t=Ie.Z),e.filter((n=>{const r=t(n);return!e.find((e=>{return e!==n&&(a=t(e),r.startsWith(a+o().sep));var a}))}))}qn.__docgenInfo={description:"",methods:[],displayName:"HelpButton",props:{tooltip:{defaultValue:{value:'"Show help contents"',computed:!1},required:!1,tsType:{name:"string"},description:""}}};const Wn=async(e,t,n)=>{try{await de.promises.unlink(n);const r=await e(et(n));r&&(await i.ZP.remove({fs:de,dir:r,filepath:o().relative(r,n)}),await it(e,t,n))}catch(r){console.error(`error in deleting file ${n}`,r)}finally{e(Ut).closePath(n),t(Ae(o().dirname(n))),t(ye(n))}},Yn=async(e,t,n)=>Promise.all(n.map((n=>Wn(e,t,n)))),Zn=async(e,t,n,r)=>{const a=o().join(n,r);if(await de.promises.exists(a))throw new Error(`File ${a} already exists`);await se(de.promises,a),t(Ae(n))};var Jn=n(83483);const Xn=e=>"object"==typeof e&&null!==e&&"read"in e,er=e=>{let{isSearchable:t,isDisabled:n,actionPerformed:r,...o}=e;const a=Xn(n)?(0,W.Wg)(n,(()=>!0)):n,i=Xn(t)?(0,W.Wg)(t,(()=>!1)):t;return(0,H.cn)(((e,t)=>{let{setSelf:n}=t;const r=t=>Xn(t)?e(t):t;return{...o,isDisabled:r(a),isSearchable:r(i),actionPerformed:n}}),(async function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return r({get:e,set:t},...o)}))},tr=new Jn.C("{count, plural,\n    =1 {1 file}\n    other {# files}\n  }","en-US"),nr=new Jn.C("{count, plural,\n    =1 {1 directory}\n    other {# directories}\n  }","en-US"),rr=er({id:ft.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async e=>{let{get:t,set:n}=e;const r=await t(An),i=t(He).current,l=t(Ve).current;if(0===r.length)return;const c=zn(r,(e=>e.path)),s=c.filter((e=>"file"===e.type)).map((e=>e.path)),m=c.filter((e=>"project"===e.type||"dir"===e.type)).map((e=>e.path));if(m.length>0){const e=1===m.length&&0===s.length?o().basename(m[0]):null;await(l?.confirm({title:"Delete",okText:"Delete",message:a.createElement("div",{style:{width:354}},"Delete"," ",e?`"${e}"`:[{count:m.length,message:nr},{count:s.length,message:tr}].filter((e=>{let{count:t}=e;return t>0})).map((e=>{let{message:t,count:n}=e;return t.format({count:n})})).join(" and "),"?",a.createElement("br",null),"All files and subdirectories in",e?` "${e}" `:" the selected directories ","will be deleted. ",a.createElement("br",null),"You might not be able to fully undo this operation!")}))&&await Promise.all([...m.map((e=>(async(e,t,n)=>{const r=async a=>{const i=await de.promises.readdir(a);await Promise.all(i.map((async n=>{const i=o().resolve(a,n),l=await de.promises.stat(i);l.isFile()?await Wn(e,t,i):l.isDirectory()&&await r(i)}))),await de.promises.rmdir(a),t(Ae(n))};try{await r(n)}catch(a){console.error(`error in deleting directory ${n}`,a)}finally{t(Ae(o().dirname(n)))}})(t,n,e))),Yn(t,n,s)])}else i?.open((e=>{let{close:t}=e;return a.createElement(or,{filePaths:s,close:t})})).then((e=>{e&&requestAnimationFrame((()=>{Yn(t,n,s)}))}))}});function or(e){let{close:t,filePaths:n}=e;return a.createElement(Vn.Du,{minWidth:"content",minHeight:"content"},a.createElement(Un.b,{header:"Delete",content:a.createElement("form",{id:"delete_dialog_form",onSubmit:e=>{e.preventDefault()},style:{padding:"0.75rem 1rem"}},a.createElement("div",{style:{marginBottom:".5rem"}},1===n.length?`Delete file "${o().basename(n[0])}"`:`Delete ${n.length} files`,"?"),a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"}},a.createElement(jn.X,{isDisabled:!0},"Safe delete (with usage search)"),a.createElement("div",{style:{display:"flex",gap:"1rem"}},a.createElement(jn.X,{isDisabled:!0},"Search in comments and strings"),a.createElement(jn.X,{isDisabled:!0},"Search for text occurrences")))),footer:a.createElement(Un.b.Footer,{left:a.createElement(qn,{onPress:()=>ht()}),right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:()=>t()},"Cancel"),a.createElement($n.z,{autoFocus:!0,type:"submit",form:"delete_dialog_form",variant:"default",onPress:()=>{t(!0)}},"Ok"))})}))}const ar=er({id:ft.$.COPY,title:"Copy",description:"Copy to clipboard",icon:a.createElement(R.vq,{icon:"actions/copy"}),isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async()=>{ht()}}),ir=er({id:ft.$.CUT,title:"Cut",description:"Cut to clipboard",icon:a.createElement(R.vq,{icon:"actions/menu-cut"}),isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async()=>{ht()}}),lr=er({id:ft.$.PASTE,title:"Paste",description:"Paste from clipboard",icon:a.createElement(R.vq,{icon:"actions/menu-paste"}),isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async()=>{ht()}}),{SELECT_IN_PROJECT_VIEW:cr}={SELECT_IN_PROJECT_VIEW:"SelectInProjectView"};function sr(){const e=(0,A.Dv)(En),t=(0,un.x)({treeRef:e}),n=function(){const e=(0,A.Dv)(Ft),t=wn(),n=()=>{e&&t(e.filePath)};return[{id:cr,title:"Select Opened File",icon:a.createElement(R.vq,{icon:"general/locate"}),actionPerformed:n,isDisabled:!e,description:"Selects a context file in the Project View"},(0,A.Dv)(rr),(0,A.Dv)(ir),(0,A.Dv)(ar),(0,A.Dv)(lr)].filter(Se.N)}();return a.createElement(cn.n,{headerContent:"Project",actions:[...t,...n],additionalActions:a.createElement(a.Fragment,null,a.createElement(pn.K,{actionId:cr}),a.createElement(pn.K,{actionId:ft.$.EXPAND_ALL}),a.createElement(pn.K,{actionId:ft.$.COLLAPSE_ALL}))},a.createElement(On,null))}sr.__docgenInfo={description:"",methods:[],displayName:"ProjectToolWindow"};var mr=n(78450),dr=n(9773),ur=n(80500),pr=n(8723);const hr=500;function fr(e){let{children:t}=e;const[n,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{r(!0)}),hr);return()=>clearTimeout(e)}),[]),n?a.createElement(a.Fragment,null,t):null}fr.__docgenInfo={description:"",methods:[],displayName:"Delayed",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var gr=n(33468);const Ar=e=>e;function Er(e,t){return t?e?e.path!==t.path?(0,r.dirname)(e.path)===(0,r.dirname)(t.path)?Ar({type:"RENAMED",before:e,after:t}):Ar({type:"MOVED",before:e,after:t}):Ar({type:"MODIFIED",before:e,after:t}):Ar({type:"ADDED",after:t}):Ar({type:"DELETED",before:e})}Er.Unversioned=e=>Ar({type:"UNVERSIONED",after:e});const yr={ADDED:"ADDED",DELETED:"DELETED",MOVED:"MODIFIED",RENAMED:"MODIFIED",MODIFIED:"MODIFIED",UNVERSIONED:"UNKNOWN"};function vr(e,t){return e?.path===t?.path&&e.isDir===t.isDir}Er.fileStatus=function(e){return yr[e.type]??"NOT_CHANGED"},Er.path=function(e){return Er.revision(e).path},Er.content=function(e){return"after"in e?e.after.content():"before"in e?e.before.content():Promise.resolve("")},Er.isAddition=function(e){return"ADDED"===e.type},Er.isDeletion=function(e){return"DELETED"===e.type},Er.isRename=function(e){return"RENAMED"===e.type},Er.isMove=function(e){return"MOVED"===e.type},Er.isModified=function(e){return"MODIFIED"===e.type},Er.isUnversioned=function(e){return"UNVERSIONED"===e.type},Er.revision=function(e){return"after"in e?e.after:e.before},Er.equals=function(e,t){const n="before"in e&&"before"in t?vr(e.before,t.before):"before"in e=="before"in t,r="after"in e&&"after"in t?vr(e.after,t.after):"after"in e=="after"in t;return n&&r};const Cr=(0,W.xu)((e=>(0,H.cn)((t=>Object.entries(t(nt(e))).map((t=>{let[n,r]=t;const a={path:o().join(e,n),isDir:!1,content(){throw new Error("Not implemented")}};return"ADDED"===r?Er(null,a):"MODIFIED"===r?Er(a,a):"DELETED"===r?Er(a,null):"UNKNOWN"===r?Er.Unversioned(a):null})).filter(Se.N))))),br=(0,H.cn)((e=>e(Xe).map((t=>{let{dir:n}=t;return e(Cr(n))})).flat())),wr=async(e,t,n,r)=>{const a=Ee(e,t),l=(await Promise.all(n.filter((e=>!Er.revision(e).isDir)).map((async t=>{const n=await e(et(Er.path(t)));if(n)return{repoRoot:n,change:t,relativePath:o().relative(n,Er.path(t))}})))).filter(Se.N),c=(0,gr.Z)((e=>{let{repoRoot:t}=e;return t}),l);await Promise.all(Object.entries(c).map((async l=>{let[c,s]=l;const{toReset:m=[],toCheckout:d=[]}=(0,gr.Z)((e=>{let{change:{type:t}}=e;return"ADDED"!==t||r?"toCheckout":"toReset"}),s);if(await Promise.allSettled(m.map((e=>{let{relativePath:t}=e;return(0,i.us)({fs:de,dir:c,filepath:t})}))),d.length>0){await i.ZP.resolveRef({fs:de,dir:c,ref:"HEAD"}).catch((()=>null))?await(0,i.JE)({fs:de,dir:c,force:!0,filepaths:d.map((e=>{let{relativePath:t,change:{type:n}}=e;return t}))}):await Promise.all(d.filter((e=>{let{change:t}=e;return"ADDED"===t.type})).map((e=>{let{change:t}=e;const n=Er.path(t);return de.promises.unlink(n)})))}if(r){const t=e(Ut);n.filter(Er.isAddition).forEach((e=>{t.closePath(Er.path(e))}))}zn(s.flatMap((e=>{let{change:t}=e;return"MODIFIED"===t.type?[]:"MOVED"===t.type?[t.before.path,t.after.path]:Er.path(t)}))).map(o().dirname).forEach((e=>t(Ae(e)))),await Promise.allSettled(s.map((async n=>{let{relativePath:r,change:o}=n;const l=Er.path(o);await a(l),await(0,i.us)({fs:de,dir:c,filepath:r}),await it(e,t,l)})))})))},Sr=(0,H.cn)([{id:"some-UUID",name:"Changes",comment:"last modified commit message",changes:[],active:!0},{id:"some-other-UUID",name:"Some other changelist",comment:"Some empty changelist for testing",changes:[],active:!1}]),Dr=(0,H.cn)((e=>e(Sr).find((e=>e.active))??null)),Ir=(0,H.cn)((e=>e(br).filter(Er.isUnversioned)));function kr(){const e=(0,A.Dv)(br),t=(0,A.b9)(Sr);return(0,a.useEffect)((()=>{t((t=>{const n=e.filter((e=>!Er.isUnversioned(e))),r=t.map((e=>({...e,changes:e.changes.map((e=>n.find((t=>Er.equals(t,e))))).filter(Se.N)}))),o=r.flatMap((e=>{let{changes:t}=e;return t})),a=n.filter((e=>!o.find((t=>Er.equals(e,t)))));return(r.find((e=>{let{active:t}=e;return t}))??r[0]).changes.push(...a),r}))}),[e]),null}var Pr=n(42677);const Rr=e=>{let{getPath:t,mapNode:n=Ie.Z,createDirectoryNode:r=(e=>e),shouldCollapseDirectories:o=!1}=e;return e=>{const a={},i=e.map(n).map((e=>{const n=t(e);return q(n.startsWith("/")?n:`/${n}`).reduce(((e,t)=>{a[t]||(a[t]=r({type:"directory",dirPath:t,parentNodePath:"",children:[]})),Tr(e)&&(e.parentNodePath=t);const n=a[t];return n.children=n.children.includes(e)?n.children:[e,...n.children],n}),e)})),l=(0,Pr.Z)(i);return o?l.map((e=>Br(r,e))):l}};function Tr(e){return"type"in e&&"directory"===e.type}function Br(e,t){let{children:n,dirPath:r,parentNodePath:o}=t;return 1===t.children.length&&Tr(t.children[0])?(r=t.children[0].dirPath,n=t.children[0].children.map((t=>Tr(t)?Br(e,{...t,parentNodePath:r}):t)),Br(e,e({type:"directory",dirPath:r,parentNodePath:o,children:n}))):{...t,children:n.map((t=>Tr(t)?Br(e,t):t))}}const Nr={ROLLBACK:"ChangesView.Revert",REFRESH:"ChangesView.Refresh",SHELVE_SILENTLY:"ChangesView.ShelveSilently",SHELVE:"ChangesView.Shelve",UNSHELVE_SILENTLY:"ChangesView.UnshelveSilently",NEW_CHANGELIST:"ChangesView.NewChangeList",ADD_UNVERSIONED:"ChangesView.AddUnversioned",RENAME_CHANGELIST:"ChangesView.Rename",REMOVE_CHANGELIST:"ChangesView.RemoveChangeList",SET_DEFAULT_CHANGELIST:"ChangesView.SetDefault",MOVE_TO_ANOTHER_CHANGELIST:"ChangesView.Move",SHOW_DIFF:"Diff.ShowDiff",CHECKIN_FILES:"CheckinFiles",CHECKIN_PROJECT:"CheckinProject",JUMP_TO_SOURCE:ft.$.EDIT_SOURCE,GROUP_CHANGES_VIEW_POPUP_MENU:"ChangesViewPopupMenu",GROUP_BY_DIRECTORY:"ChangesView.GroupBy.Directory",GIT_ADD:"Git.Add",GIT_INIT:"Git.Init",GIT_CLONE:"Git.Clone",GIT_CREATE_NEW_BRANCH:"Git.CreateNewBranch",GIT_BRANCHES:"Git.Branches",GIT_LOG_HIDE_BRANCHES:"Git.Log.Hide.Branches",GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH:"Git.Log.Branches.Navigate.Log.To.Selected.Branch",GIT_UPDATE_SELECTED:"Git.Update.Selected",FOCUS_TEXT_FILTER:"Vcs.Log.FocusTextFilter",MATCH_CASE:"Vcs.Log.MatchCaseAction",REG_EXP:"Vcs.Log.EnableFilterByRegexAction",COPY_REVISION_NUMBER:"Vcs.CopyRevisionNumberAction",LOG_REFRESH:"Vcs.Log.Refresh",SHOW_DETAILS:"Vcs.Log.ShowDetailsAction",SHOW_DIFF_PREVIEW:"Vcs.Log.ShowDiffPreview",PRESENTATION_SETTINGS:"Vcs.PresentationSettings",FILE_HISTORY_PRESENTATION_SETTINGS:"Vcs.FileHistory.PresentationSettings",CopyPathFromRepositoryRootProvider:"CopyPathFromRepositoryRootProvider"},xr=(e,t)=>`${e}_${t}`,Fr=e=>xr("change",Er.path(e)),Lr=function(e,t){return void 0===t&&(t=!0),{type:"change",key:Fr(e),change:e,showPath:t}},Or=e=>"children"in e,_r=e=>"change"===e.type,Mr=e=>Or(e)?e.children:null,Gr={id:"repository",title:"Repository",isAvailable:(0,H.cn)((e=>e(Xe).length>1)),groupFn:(0,H.cn)((e=>t=>e(Xe).map((e=>function(e,t){return void 0===t&&(t=[]),{type:"repo",key:xr("repo",e.dir),repository:e,children:t}}(e,t.filter((t=>Er.path(t.change)?.startsWith(e.dir))))))))},Kr={id:"directory",title:"Directory",isAvailable:!0,useShortcutOf:Nr.GROUP_BY_DIRECTORY,groupFn:Rr({shouldCollapseDirectories:!0,createDirectoryNode:e=>{let{dirPath:t,parentNodePath:n,children:r}=e;return function(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=""),{type:"directory",key:r+xr("directory",e),dirPath:e,parentNodePath:t,children:n}}(t,n,r)},mapNode:e=>Lr(e.change,!1),getPath:e=>Er.path(e.change)})},Hr=[Gr,Kr],Vr=(0,H.cn)((e=>Hr.filter((t=>Xn(t.isAvailable)?e(t.isAvailable):t.isAvailable)))),Ur=(e,t)=>{if(0===e.length||0===t.length)return t;const n=e.slice(1),r=t.filter(_r),o=t.filter(Or),a=e[0](r);return[...o,...a].forEach((e=>{e.children=Ur(n,e.children)})),a.filter((e=>e.children.length>0))},jr=e=>{let{get:t,isActive:n,groupings:r}=e;return e=>{const o=e=>Xn(e)?t(e):e,a=r.filter((e=>{let{id:t,isAvailable:r}=e;return o(r)&&o(n(t))})).map((e=>{let{groupFn:t}=e;return o(t)})).map((t=>e?function(){return t(...arguments).map((t=>({...t,key:`${e}:${t.key}`})))}:t));return e=>Ur(a,e)}};var $r=n(27780),Qr=n(22991),qr=n(2256);const zr=(0,H.cn)(!1),Wr=(0,H.cn)({height:500}),Yr=(0,H.cn)([]),Zr=(0,H.cn)((e=>{const t=e(Yr),{rootNodes:n}=e(go),r=n.filter((e=>"changelist"===e.type&&t.some((t=>e.changeList.changes.includes(t)))));return 0===r.length?n.filter((e=>"changelist"===e.type&&e.changeList.active)):r})),Jr={isOpenAtom:zr,windowBoundsAtom:Wr,initiallyExpandedKeysAtom:(0,H.cn)((e=>{const t=e(Yr),n=e(Zr),r=(0,$r.Bp)((e=>Or(e)?e.children:null),(e=>e.key),n,t.map(Fr));return new Set(r.length?r:(0,$r.Om)((e=>Or(e)?e.children:null),(e=>e.key),n))})),initiallyIncludedChangesAtom:Yr,rootNodesAtom:Zr};function Xr(e){const t=new Map,n=new Map,r=new Set;return(0,$r.Ck)(Mr,((e,o)=>{if(n.set(e.key,e),"children"in e&&r.add(e.key),!o)return 1;const a=o.reduce(((e,t)=>e+t),0);return t.set(e.key,a),a}),e),{rootNodes:e,fileCountsMap:t,byKey:n,expandAllKeys:r}}const eo=e=>({type:"changelist",key:xr("changelist",e.id),changeList:e,children:e.changes.map((e=>Lr(e)))}),to=(0,H.cn)(!1),no=(0,H.cn)(!1),ro=(0,W.xu)((e=>(0,H.cn)(!0))),oo=(0,H.cn)(new Set([])),ao=(0,H.cn)((e=>{const t=e(oo);if("all"===t){const{rootNodes:t}=e(go);return new Set((0,$r.eA)((e=>"children"in e?e.children:[]),((e,t)=>{const n=t??[];return n.push(e),n}),t).flat().map((e=>e.key)))}return t})),io=(0,H.cn)((e=>{const t=e(ao),{byKey:n}=e(go);return new Set([...t].map((e=>n.get(e))).filter(Se.N))})),lo=(0,H.cn)((e=>{const t=e(io),n=new Set,r=e=>{e&&("change"===e.type&&n.add(e.change),Or(e)&&e.children.forEach(r))};return t.forEach(r),n})),co=(0,H.cn)((e=>{const t=e(io),n=e(Sr),r=new Set,o=e=>{if(e){if("changelist"===e.type&&r.add(e.changeList),"change"===e.type){const t=n.find((t=>t.changes.includes(e.change)));t&&r.add(t)}Or(e)&&e.children.forEach(o)}};return t.forEach(o),r})),so=(0,H.cn)(new Set([])),mo=(0,H.cn)((e=>{const t=e(so);return e(br).filter((e=>t.has(Fr(e))))})),uo=(0,H.cn)(((e,t)=>{let{setSelf:n}=t;const{rootNodes:r}=e(go),o=e(so);return new Qr.f({items:o,...(0,qr.y)(n)},{rootNodes:r,getChildren:e=>Or(e)?e.children:null,getKey:e=>e.key})}),((e,t,n)=>{t(so,n)})),po=(0,W.qs)((e=>new Set(e(go).rootNodes.map((e=>[e.key,...e.children.map((e=>e.key))])).flat()))),ho=(0,H.cn)((e=>e(Vr).map((t=>({...t,isActive:e(ro(t.id))}))))),fo=(e,t)=>({...e,children:t(e.children)}),go=(0,H.cn)((e=>{const t=(0,Pn.Z)((e=>{let{active:t}=e;return!t}),e(Sr)).map(eo),n=jr({get:e,groupings:Hr,isActive:ro}),r=e(Ir),o=t.map((e=>fo(e,n(e.key))));if(r.length>0){const e={key:"unversioned",type:"unversioned",children:r.map((e=>Lr(e)))};o.push(fo(e,n("unversioned")))}return Xr(o)})),Ao=(0,W.xu)((e=>(0,H.cn)("horizontal"===e?.4:.3))),Eo=(0,H.cn)(!1),yo=(0,H.cn)(""),vo=(0,H.cn)(""),Co=(0,H.cn)(null),bo=(0,H.cn)((e=>{const t=e(_e);return e(br).filter((e=>t.some((t=>Er.path(e).startsWith(t)))))})),wo=(e,t,n)=>{const r=(n?e(br).filter((e=>n.some((t=>Er.path(e).startsWith(t))))):e(bo)).map(Fr);if(t(so,new Set(r)),r.length>0){const n=(0,$r.Bp)((e=>Or(e)?e.children:null),(e=>e.key),e(go).rootNodes,r);t(po,(e=>new Set([...e??new Set,...n]))),t(oo,new Set([r[0]]))}},So=function(e,t,n){void 0===n&&(n=!0);const r=e(_e),o=e(lo),a=n&&r.length>0?e(bo):null;t(Jr.initiallyIncludedChangesAtom,a??[...o]),t(Jr.isOpenAtom,!0)};var Do=n(33659),Io=n(97747);const ko=()=>0===[...(0,A.Dv)(oo)].length?null:a.createElement(Rn.C,{"aria-label":"Changes actions",actions:[(0,b.BH)(Nr.CHECKIN_FILES),(0,b.BH)(Nr.ROLLBACK),(0,b.BH)(Nr.JUMP_TO_SOURCE),new Tn.P,(0,b.BH)(Nr.SHELVE),new Tn.P,(0,b.BH)(Nr.NEW_CHANGELIST),(0,b.BH)(Nr.RENAME_CHANGELIST),(0,b.BH)(Nr.REMOVE_CHANGELIST),(0,b.BH)(Nr.SET_DEFAULT_CHANGELIST),(0,b.BH)(Nr.MOVE_TO_ANOTHER_CHANGELIST),new Tn.P,(0,b.BH)(ft.$.REFRESH)].filter(Se.N)});ko.__docgenInfo={description:"",methods:[],displayName:"ChangesViewTreeContextMenu"};var Po=n(13170);async function Ro(e,t){const n=await Promise.all(t.map((t=>e(t).catch((()=>!1)))));return t.filter(((e,t)=>n[t]))}async function To(e){let{fs:t,dir:n,localBranchName:r}=e;const o=await i.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.merge`}),a=await i.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.remote`});return o&&a?`${a}/${o.replace(/^refs\/heads\//,"")}`:null}const Bo=(0,W.xu)((e=>J((async t=>{let{}=t;const n=await i.ZP.listBranches({fs:de,dir:e});return Promise.all(n.map((async t=>({name:t,trackingBranch:await To({fs:de,dir:e,localBranchName:t})}))))})))),No=(0,W.xu)((e=>J((async()=>{const t=await i.ZP.listRemotes({fs:de,dir:e});return(await Promise.all(t.map((t=>{let{remote:n}=t;return i.ZP.listBranches({fs:de,dir:e,remote:n}).then((e=>e.filter((e=>"HEAD"!==e)).map((e=>({name:e,remote:n})))))})))).flat()})))),xo=(0,W.xu)((e=>J((async t=>{const n=await t(Fo(e));let r=await t(Bo(e));return 0===r.length&&n&&(r=r.concat({name:n,trackingBranch:null})),{repoRoot:e,currentBranch:r.find((e=>e.name===n))||null,localBranches:r,remoteBranches:await t(No(e))}})))),Fo=(0,W.xu)((e=>J((()=>i.ZP.currentBranch({fs:de,dir:e,fullname:!1}))))),Lo=(0,H.cn)((async e=>{const t=e(Xe);return Promise.all(t.map((t=>{let{dir:n}=t;return e(xo(n))})))})),Oo=(0,W.xu)((e=>(0,H.cn)((async t=>{const n=await t(et(e)),r=n?await t(xo(n)):null;return console.log(`repo root for ${e}`,n,n&&r),n&&r?.currentBranch?.name||null})))),_o=[{branchType:"LOCAL",branchName:"master"},{branchType:"REMOTE",branchName:"origin/master"}];function Mo(e){return e?.map.entry.flatMap((e=>e?.value.list["branch-info"].map((t=>{let{"@source":n,"@repo":r}=t;return{branchType:e["@type"],branchName:n,repoRoot:r}}))))||[]}function Go(e){const t=(0,gr.Z)((e=>{let{branchType:t}=e;return t}),e);return{map:{entry:Object.entries(t).map((e=>{let[t,n]=e;return{"@type":t,value:{list:{"branch-info":n.map((e=>({"@repo":e.repoRoot,"@source":e.branchName})))}}}}))}}}const Ko=be.z.object({"branch-storage":be.z.object({map:(Ho=be.z.enum(["LOCAL","REMOTE"]),Vo=be.z.object({list:Je(be.z.object({"@repo":be.z.string(),"@source":be.z.string()}),"branch-info")}),be.z.object({entry:Ze(be.z.object({"@type":Ho,value:Vo}))}))})});var Ho,Vo;const Uo=Qe({branches:[],excludedBranches:[]},{schema:be.z.object({"favorite-branches":Ko.optional(),"exclude-from-favorite":Ko.optional()}).optional(),componentName:"Git.Settings",read:e=>({branches:Mo(e?.["favorite-branches"]?.["branch-storage"]),excludedBranches:Mo(e?.["exclude-from-favorite"]?.["branch-storage"])}),write:(e,t)=>{const n={...t};return e.branches.length>0?n["favorite-branches"]={"branch-storage":Go(e.branches)}:delete n["favorite-branches"],e.excludedBranches.length>0?n["exclude-from-favorite"]={"branch-storage":Go(e.excludedBranches)}:delete n["exclude-from-favorite"],n}}),jo=(0,Po.R)(Uo,(e=>e.prop("branches"))),$o=(0,Po.R)(Uo,(e=>e.prop("excludedBranches"))),Qo=(0,W.xu)((e=>(0,H.cn)((t=>zo(t(jo),t($o),e)))),ke.Z);function qo(e){return _o.some((t=>{let{branchType:n,branchName:r}=t;return r===e.branchName&&n===e.branchType}))}const zo=(e,t,n)=>!!e.find((0,ke.Z)(n))||!t.find((0,ke.Z)(n))&&qo(n);function Wo(){return(0,ve.lV)((0,a.useCallback)((function(e,t,n,r){void 0===r&&(r=!zo(e(jo),e($o),n));const o=e=>e.filter((e=>!(0,ke.Z)(e,n))),a=e=>e.some((0,ke.Z)(n))?e:e.concat(n);r?(t($o,o),qo(n)||t(jo,a)):(t(jo,o),qo(n)&&t($o,a))}),[]))}function Yo(){const e=(0,A.Dv)(jo),t=(0,A.Dv)($o);return{isFavorite:n=>zo(e,t,n),toggleFavorite:Wo()}}const Zo=e=>{let{repo:t}=e;const n=(0,A.Dv)(Oo(t.dir));return a.createElement(a.Fragment,null,n)};Zo.__docgenInfo={description:"",methods:[],displayName:"RepoCurrentBranchName",props:{repo:{required:!0,tsType:{name:"VcsDirectoryMapping"},description:""}}};const Jo=E.zo.span`
  width: 14px;
  height: 14px;
  align-self: center;
  margin-right: 0.2rem;
  position: relative;

  //  after pseudo element is used to create the color mixing implemented here:
  //  https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/VcsLogColorManagerImpl.java#L60
  &&:after {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.75;
    background: ${e=>{let{theme:t}=e;return t.color("Table.background")||(t.dark?"#3C3F41":"#fff")}};
  }
`,Xo=e=>{const t=(0,A.Dv)(Xe).findIndex((t=>t.dir===e)),n=(0,d.Fg)(),r=[n.commonColors.red,n.commonColors.blue];return r[t%r.length]??r[0]},ea=a.forwardRef(((e,t)=>{let{rootPath:n,...r}=e;return a.createElement(Jo,(0,u.Z)({ref:t},r,{style:{...r.style,backgroundColor:Xo(n)}}))}));ea.__docgenInfo={description:"",methods:[],displayName:"RepoColorIcon",props:{rootPath:{required:!0,tsType:{name:"string"},description:""}}};const ta=E.zo.span`
  display: inline-flex;
  align-self: center;
  height: 1.1rem;
  line-height: 1.1rem;
  padding: 0 0.25rem;

  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(`color-mix(in srgb, ${t.color("VersionControl.Log.Commit.currentBranchBackground",t.dark?"rgb(63, 71, 73)":"rgb(228, 250, 255)")}, ${t.color("VersionControl.RefLabel.backgroundBase",t.dark?"#fff":"#000")} ${100*(t.value("VersionControl.RefLabel.backgroundBrightness")??.08)}%)`)}};
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("VersionControl.RefLabel.foreground",t.dark?"#909090":"#7a7a7a"))}};
`,na=new Jn.C("{fileCount, plural,\n    =0 {No files}\n    =1 {1 file}\n    other {# files}\n  }","en-US");function ra(e){return na.format({fileCount:e})}const oa=e=>{let{node:t}=e;return a.createElement(Dn.e.Hint,null,t.showPath&&o().dirname(Er.path(t.change)))},aa={repo:(e,t)=>{let{fileCount:n}=t;return{textValue:o().basename(e.repository.dir),rendered:a.createElement(Dn.e,null,a.createElement(ea,{rootPath:e.repository.dir}),a.createElement(In.J,null),a.createElement(Dn.e.Hint,null,ra(n)),a.createElement(ta,null,a.createElement(Zo,{repo:e.repository})))}},directory:(e,t)=>{let{fileCount:n}=t;return{textValue:e.parentNodePath?o().relative(e.parentNodePath,e.dirPath):e.dirPath,rendered:a.createElement(Dn.e,null,a.createElement(R.vq,{icon:U}),a.createElement(In.J,null),a.createElement(Dn.e.Hint,null,ra(n)))}},change:e=>({textValue:o().basename(Er.path(e.change)),rendered:a.createElement(Dn.e,null,a.createElement(R.vq,{icon:$(Er.path(e.change))}),a.createElement(dt,{status:Er.fileStatus(e.change)},a.createElement(In.J,null)),Er.isRename(e.change)?` - renamed from ${o().basename(e.change.before.path)}`:Er.isMove(e.change)&&` - moved from ${o().relative(o().dirname(e.change.after.path),o().dirname(e.change.before.path)).replace(/(\.\.\/){2,}[!.]/g,"..")}/`,a.createElement(oa,{node:e}))})},ia=(e,t)=>{const n={...aa,...t,...e},r=e=>{let{node:t,fileCountsMap:r}=e;const o=n[t.type],{textValue:a,rendered:i}=o(t,{fileCount:r.get(t.key)||0,dirCount:0});return{key:t.key,childItems:Or(t)?t.children:[],hasChildItems:Or(t)&&t.children?.length>0,textValue:a,children:i}};return{getItemProps:r,getTextValue:(e,t)=>{let{fileCountsMap:r}=t;return(0,n[e.type])(e,{fileCount:r.get(e.key)||0,dirCount:0}).textValue},itemRenderer:e=>{let{fileCountsMap:t}=e;return e=>a.createElement(k.c,r({node:e,fileCountsMap:t}))}}};function la(){const e=(0,A.Dv)(ot);return a.createElement(a.Fragment,null,e&&a.createElement(fr,null,", updating..."))}const ca=ia({changelist:(e,t)=>{let{fileCount:n}=t;return{textValue:e.changeList.name,rendered:a.createElement(Dn.e,null,a.createElement("span",{style:{fontWeight:e.changeList.active?"bold":void 0}},a.createElement(In.J,null)),a.createElement(Dn.e.Hint,null,ra(n),a.createElement(la,null)))}},unversioned:(e,t)=>{let{fileCount:n}=t;return{textValue:"Unversioned Files",rendered:a.createElement(Dn.e,null,a.createElement(In.J,null),a.createElement(Dn.e.Hint,null,ra(n),a.createElement(la,null)))}}});function sa(e){return"directory"===e?.type?[e.dirPath]:"change"===e?.type?[Er.path(e.change)]:Or(e)?e.children.flatMap(sa):[]}const ma=e=>{let{treeRef:t}=e;const{rootNodes:n,fileCountsMap:r,byKey:o}=(0,A.Dv)(go),[i,l]=(0,A.KO)(oo),[c,s]=(0,A.KO)(po),m=(0,A.Dv)(uo),{openPath:d}=$t(),p=(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{const r=e(go).byKey.get(n);return"change"===r?.type&&d(Er.path(r.change)),r}),[])),h=Ge("all"===i?[]:[...i].flatMap((e=>{const t=o.get(e);return t?sa(t):[]})));return a.createElement(D.X,{renderMenu:()=>a.createElement(ko,null),style:{height:"100%"}},a.createElement(Do.G,(0,u.Z)({"aria-label":"Commit changes tree",treeRef:t,items:n,selectionMode:"multiple",selectedKeys:i,expandedKeys:c,onExpandedChange:s,onSelectionChange:l,onAction:p,nestedSelection:m,fillAvailableSpace:!0,autoFocus:"first"},h),(e=>{const t=ca.getItemProps({fileCountsMap:r,node:e});return a.createElement(k.c,t,0!==e.children?.length&&a.createElement(Io.x,{selectionState:m.getSelectionState(e),onToggle:()=>m.toggle(e)}),t.children)})))};ma.__docgenInfo={description:"TODO: unversioned files\nTODO: show diff/source on double click (on action to be more precise)",methods:[],displayName:"ChangeViewTree",props:{treeRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"TreeRefValue"}],raw:"RefObject<TreeRefValue>"},description:""}}};var da=n(99559),ua=n(71818),pa=n(10888);const ha=()=>{const e=[(0,b.BH)(Nr.NEW_CHANGELIST),(0,b.BH)(Nr.RENAME_CHANGELIST),(0,b.BH)(Nr.REMOVE_CHANGELIST),(0,b.BH)(Nr.SET_DEFAULT_CHANGELIST),(0,b.BH)(Nr.MOVE_TO_ANOTHER_CHANGELIST)].filter(Se.N);return a.createElement(ua.p,{renderMenu:t=>{let{menuProps:n}=t;return a.createElement(Rn.C,{actions:e},(e=>a.createElement(pa.w,(0,u.Z)({},n,e))))}},a.createElement(R.vq,{icon:"vcs/changelist.svg"}))};ha.__docgenInfo={description:"",methods:[],displayName:"ChangeListsActionButton"};var fa=n(14421),ga=n(47878);function Aa(e){let{groupings:t,onToggle:n}=e;return 1===t.length&&t[0].icon?a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:`Group By ${t[0].title}`})},a.createElement(fa.hU,{isPressed:t[0].isActive,onPress:()=>n(t[0].id)},t[0].icon)):a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Group By"})},a.createElement(ua.p,{renderMenu:e=>{let{menuProps:r}=e;return a.createElement(I.v2,(0,u.Z)({},r,{selectedKeys:t.filter((e=>{let{isActive:t}=e;return t})).map((e=>{let{id:t}=e;return t})),onAction:e=>{const r=t.find((t=>{let{id:n}=t;return n===e}))?.id;r&&n(r)}}),a.createElement(ga.$,{title:"Group By"},t.map((e=>{let{id:t,title:n}=e;return a.createElement(k.c,{key:t},n)}))))}},a.createElement(R.vq,{icon:"actions/groupBy.svg"})))}Aa.__docgenInfo={description:"",methods:[],displayName:"GroupByActionButton",props:{groupings:{required:!0,tsType:{name:"Array",elements:[{name:"Grouping",elements:[{name:"K"}],raw:"Grouping<K>"}],raw:"Array<Grouping<K>>"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: K) => void",signature:{arguments:[{name:"id",type:{name:"K"}}],return:{name:"void"}}},description:""}}};const Ea=()=>{const e=(0,A.Dv)(ho),t=(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{t(ro(n),(e=>!e))}),[]));return a.createElement(Aa,{groupings:e,onToggle:t})};Ea.__docgenInfo={description:"",methods:[],displayName:"ChangesGroupByActionButton"};const ya=()=>{const[e,t]=(0,A.KO)(no),[n,r]=(0,A.KO)(to),o={showRelatedFiles:e,showIgnoredFiles:n};return a.createElement(ua.p,{renderMenu:e=>{let{menuProps:n}=e;return a.createElement(I.v2,(0,u.Z)({},n,{selectedKeys:Object.keys(o).filter((e=>o[e])),onAction:e=>{switch(e){case"showIgnoredFiles":return r((e=>!e));case"showRelatedFiles":return t((e=>!e))}}}),a.createElement(k.c,{key:"showIgnoredFiles"},"Show Ignored Files"),a.createElement(k.c,{key:"showRelatedFiles"},"Show Files Related to Active Changelist"))}},a.createElement(R.vq,{icon:"actions/show.svg"}))};function va(){return a.createElement(da.o,{border:"bottom"},a.createElement(pn.K,{actionId:ft.$.REFRESH}),a.createElement(pn.K,{actionId:Nr.ROLLBACK}),a.createElement(pn.K,{actionId:Nr.SHOW_DIFF}),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Changelists"})},a.createElement(ha,null)),a.createElement(pn.K,{actionId:Nr.SHELVE_SILENTLY}),a.createElement(da.J,null),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Group By"})},a.createElement(Ea,null)),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"View Options"})},a.createElement(ya,null)),a.createElement(pn.K,{actionId:ft.$.EXPAND_ALL}),a.createElement(pn.K,{actionId:ft.$.COLLAPSE_ALL}))}ya.__docgenInfo={description:"",methods:[],displayName:"ViewOptionsActionButton"},va.__docgenInfo={description:"",methods:[],displayName:"ChangesViewToolbar"};var Ca=n(64162);const ba=(0,H.cn)([]),wa=(0,H.cn)((e=>e(ba)[0])),Sa=(0,H.cn)((e=>e(ba).length));let Da=0;const Ia=()=>{const e=(0,A.b9)(ba);return(0,Ca.$)(((t,n)=>{let{title:r,isCancelable:o=!1}=t;const a=new ie.qf.cancelToken,i=++Da;e((e=>[...e,{id:Da++,title:r,abortController:a,isCancelable:o,progress:{fraction:0,text:"",secondaryText:"",isIndeterminate:!1}}]));const l=t=>{e((e=>e.map((e=>e.id===i?{...e,progress:{...e.progress,...t}}:e))))},c="function"==typeof n?{run:n}:n;return Promise.resolve(c.run({setFraction(e){l({fraction:e})},setText(e){l({text:e})},setSecondaryText(e){l({secondaryText:e})},setIndeterminate(e){l({isIndeterminate:e})}},a.signal)).finally((()=>{e((e=>e.filter((e=>e.id!==i)))),c.onFinished?.()})),i}))},ka=()=>(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{const r=e(ba).find((e=>e.id===n));r&&r.abortController.abort()}),[])),Pa=(0,W.xu)((e=>{let{repoRoot:t,ref:n}=e;return J((()=>i.ZP.resolveRef({fs:de,dir:t,ref:n,depth:3})))}),ke.Z);var Ra=n(53783),Ta=n(13302);const Ba=e=>`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear().toString().slice(-2)}`,Na=e=>e.from&&e.to?`Between ${Ba(e.from)} and ${Ba(e.to)}`:e.from?`since ${Ba(e.from)}`:e.to?`until ${Ba(e.to)}`:"",xa=(0,H.cn)(["MAIN"]),Fa=(0,H.cn)("MAIN"),La=(0,W.xu)((e=>(0,H.cn)((t=>{const n=t(Va.searchQuery(e)),r=t(Va.user(e)),o=t(Va.date(e)),a=t(Va.branch(e)),i=[];return a?.length>0&&i.push({short:a.join(", "),long:`on ${a.join(", ")}`}),o&&i.push({short:Na(o),long:`made ${Na(o)}`}),n&&i.push({short:`'${n}'`,long:`containing '${n}'`}),r&&i.push({short:r,long:`by ${r}`}),`Log${i.length>0?": ":""}${1===i.length?i[0].short:i.map((e=>e.long)).join(" ")}`})))),Oa=[],_a=e=>{const t=(0,W.xu)((t=>(0,W.rw)(e)));return Oa.push(t),t},Ma=_a(!1),Ga=_a(!0),Ka=(0,H.cn)((e=>e(Ga(e(Fa))))),Ha="*",Va={searchQuery:_a(""),matchCase:_a(!1),regExp:_a(!1),user:_a(null),date:_a(null),branch:_a([])},Ua=(0,Ta.Z)(((e,t)=>(0,H.cn)((t=>t(e(t(Fa)))),((t,n,r)=>{n(e(t(Fa)),r)}))),Va),ja=()=>(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{Object.values(Va).map((e=>e(n))).forEach((e=>t(e,W.td)))}),[])),$a=(e,t,n)=>{const r=e(xa);e(Fa)===n&&t(Fa,r[r.findIndex((e=>e===n))-1]||r[0]),t(xa,(e=>e.filter((e=>e!==n)))),Oa.forEach((e=>e.remove(n)))};var Qa=n(89921);const qa={},za=(e,t)=>t.commit.committer.timestamp-e.commit.committer.timestamp;function Wa(e,t,n){return void 0===n&&(n={}),n.regExp?new RegExp(t,n.matchCase?"":"i").test(e):n.matchCase?e.includes(t):e.toLowerCase().includes(t.toLowerCase())}const Ya=J((async e=>async function(e){const t=[],n={};let r=[];r.forEach((e=>{n[e.readCommitResult.oid]=e}));for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=await Promise.all(a.flatMap((e=>{let{refs:t,repoPath:n,isBare:r}=e;return t.map((async e=>{const t=await i.ZP.resolveRef({...m({repoPath:n,isBare:r}),ref:e,depth:3}).then((e=>i.ZP.readCommit({...m({repoPath:n,isBare:r}),oid:e})));return{repoPath:n,isBare:r,commit:t,refs:new Set([e])}}))})));for((0,Qa.Z)(((e,t)=>{let{commit:n}=e,{commit:r}=t;return za(n,r)}),c).forEach((e=>{let{commit:t,refs:n,repoPath:r,isBare:o}=e;return s({repoPath:r,isBare:o},t,-1,n)}));r.length>0;){const{readCommitResult:e,repoPath:n,isBare:o,containingRefs:a}=r.shift();t.push({repoPath:n,readCommitResult:e,containingRefs:a}),(await Promise.all(e.commit.parent.map((e=>i.ZP.readCommit({...m({repoPath:n,isBare:o}),oid:e}))))).forEach((e=>{const t=r.findIndex((t=>{let{readCommitResult:n}=t;return za(n,e)>0}));s({repoPath:n,isBare:o},e,t,a)}))}return t;function s(e,t,o,a){let{repoPath:i,isBare:l}=e;if(n[t.oid])n[t.oid].containingRefs=new Set([...n[t.oid].containingRefs,...a]);else{const e={readCommitResult:t,containingRefs:n[t.oid]?new Set([...n[t.oid].containingRefs,...a]):a,repoPath:i,isBare:l};n[t.oid]=e,r.splice(o>=0?o:r.length,0,e)}}function m(t){let{repoPath:n,isBare:r}=t;return{fs:e,cache:qa,[r?"gitdir":"dir"]:n}}}(de,...(await e(Lo)).map((e=>{let{repoRoot:t,localBranches:n,remoteBranches:r}=e;return{repoPath:t,refs:["HEAD"].concat(n.map((e=>e.name))).concat(r.map((e=>`${e.remote}/${e.name}`)))}}))))),Za=(0,H.cn)((async e=>{const t=e(Ua.searchQuery),n=e(Ua.branch),r={matchCase:e(Ua.matchCase),regExp:e(Ua.regExp)},o=e(Ua.date),a=(await e(Ya)).filter((e=>{let{containingRefs:t}=e;return!n?.length||n.some((e=>t.has(e)))})).filter((e=>{let{readCommitResult:{commit:t}}=e;return(!o?.from||1e3*t.author.timestamp>o.from.getTime())&&(!o?.to||1e3*t.author.timestamp<o.to.getTime())})).filter((e=>{let{readCommitResult:{commit:n}}=e;return!t||Wa(n.message,t,r)||Wa(n.tree,t,{matchCase:!1})}));return{rows:a,byOid:(0,Ra.Z)((e=>{let{readCommitResult:t}=e;return t.oid}),a)}})),Ja=(0,H.cn)((async e=>{const t=await e(Lo),n={},r=(e,t)=>{n[e]=n[e]||[],n[e].push(t)};(await Promise.all(t.map((t=>{let{repoRoot:n}=t;return e(Pa({repoRoot:n,ref:"HEAD"}))})))).forEach((e=>{r(e,{type:"head",name:"HEAD"})}));for(const{repoRoot:o,localBranches:a,currentBranch:i}of t)for(const t of a)r(await e(Pa({repoRoot:o,ref:t.name})),{type:"localBranch",name:t.name,isCurrent:i?.name===t.name,trackingBranch:t.trackingBranch});for(const{repoRoot:o,remoteBranches:a}of t)for(const t of a){const n=`${t.remote}/${t.name}`;r(await e(Pa({repoRoot:o,ref:n})),{type:"remoteBranch",name:n})}return n})),Xa=(0,H.cn)(new Set([])),ei=(0,H.cn)((async e=>{const t=e(Xa);return"all"===t?(await e(Za)).rows.map((e=>{let{readCommitResult:{oid:t}}=e;return t})):[...t].map((e=>`${e}`))})),ti=(0,H.cn)((async e=>Promise.all((await e(ei)).map((async t=>(await e(Za)).byOid[t]))))),ni=(0,H.cn)((async e=>{const t=(await e(ei))[0];return t&&(await e(Za)).byOid[t]||null})),ri=(0,H.cn)(!1),oi=(0,H.cn)(!1),ai=(0,H.cn)(!1),ii={id:"Default.Author",name:"Author"},li={id:"Default.Hash",name:"Hash"},ci={id:"Date.Date",name:"Date"},si=[ii.id,ci.id],mi=(0,W.xu)((e=>(0,H.cn)(si.includes(e)))),di=new Jn.C("{count, plural,\n    =1 {1 file committed}\n    other {# files committed}\n  }","en-US");function ui(){const e=ct(),t=(0,v.L)(),n=Ia();return(0,ve.lV)((0,a.useCallback)(((r,l,c,s)=>{const m=n({title:"Committing...",isCancelable:!1},{run:async n=>{let{setIndeterminate:m}=n;m(!0);const d=(0,gr.Z)((e=>{let{repoRoot:t}=e;return t}),(await Promise.all(c.map((async e=>{const t=Er.path(e),n=await r(et(t)),a=await de.promises.exists(t)?await de.promises.readFile(t):null;return n?{repoRoot:n,filePath:o().relative(n,t),content:a}:null})))).filter(Se.N));await Promise.all(Object.entries(d).map((async e=>{let[t,n]=e;const o=n.reduce(((e,t)=>{let{filePath:n,content:r}=t;return{...e,[n]:"string"==typeof r?(new TextEncoder).encode(r):r}}),{});await async function(e){let{updates:t,fs:n,dir:r,gitdir:o,...a}=e;const l=await i.ZP.resolveRef({fs:n,dir:r,gitdir:o,ref:"HEAD"}),c=(await i.ZP.readTree({fs:n,dir:r,gitdir:o,oid:l})).tree;let s=!1;if(await Promise.all(Object.entries(t).map((async e=>{let[t,a]=e;const l=c.findIndex((e=>{let{path:n}=e;return n===t}));if(null==a)return void(l>-1&&(s=!0,c.splice(l,1)));const m=c[l],d=await i.ZP.writeBlob({fs:n,dir:r,gitdir:o,blob:a});m?m.oid=d:c.push({type:"blob",mode:"100644",oid:d,path:t}),s=!0}))),!s)throw new Error("Nothing to commit!");const m=await i.ZP.writeTree({fs:n,dir:r,gitdir:o,tree:c}),d=await i.ZP.commit({...a,fs:n,dir:r,gitdir:o,tree:m});await Promise.all(Object.keys(t).map((e=>i.ZP.resetIndex({fs:n,dir:r,gitdir:o,filepath:e,ref:d}))))}({fs:de,dir:t,updates:o,message:s,author:{name:"Alireza",email:"alireza.mirian@gmail.com"}});const a=await r(Fo(t));a&&l(Pa({repoRoot:t,ref:a})),l(Pa({repoRoot:t,ref:"HEAD"}))}))).then((()=>{l(Ya),e().catch(console.error),t.show({icon:"Info",body:a.createElement(a.Fragment,null,`${di.format({count:c.length})}: `,s.split("\n").flatMap(((e,t)=>[a.createElement("br",{key:t}),e])).slice(1))})}),(e=>{t.show({icon:"Error",title:"Commit failed!",body:"Could not commit files."}),console.error("Commit error",e)}))},onFinished:()=>{l(Co,null)}});l(Co,m)}),[]))}const pi=E.zo.div`
  background: ${e=>{let{theme:t}=e;return t.dark?"#2b2b2b":"#fff"}};
  height: 100%;
  display: flex;
  flex-direction: column;
`,hi=E.zo.textarea`
  flex: 1;
  background: none;
  padding: 0.25rem 0.375rem;
  color: ${e=>{let{theme:t}=e;return t.dark?"#a9b7c6":"#000"}};
  font-family: inherit;
  border: none;
  resize: none;
  outline: none;
`,fi=E.zo.div`
  display: flex;
  gap: 0.3rem;
  padding: 0.4rem;
`,gi=E.zo.div`
  display: flex;
  align-items: center;
  padding: 0.125rem 0.5rem;
  gap: 0.25rem;
  position: sticky; // prevents commit message scroll jump when message is toggled on and off
  color: ${e=>{let{theme:t}=e;return t.commonColors.red}};
`;function Ai(e){let{editorRef:t}=e;const n=(0,a.useRef)(null),[r,o]=(0,A.KO)(yo),i=ui(),l=(0,A.Dv)(Eo),c=(0,v.L)(),[s,m]=(0,A.KO)(vo),d=(0,A.Dv)(Co);(0,a.useEffect)((()=>{r&&m("")}),[r]);const u=(0,ve.lV)((0,a.useCallback)((e=>{const t=e(mo),n=e(yo);0!==t.length?n?e(Eo)?c.show({icon:"Error",title:"Unsupported action",body:"Amending commits is not yet supported."}):i(t,n):m("Specify commit message"):m("Select files to commit")}),[])),{hasFocus:p}=(0,cn.e)();return(0,a.useImperativeHandle)(t,(()=>({focus:()=>{n.current?.focus()}})),[]),a.createElement(pi,null,a.createElement(hi,{ref:n,value:r,onChange:e=>{o(e.target.value)},placeholder:"Commit Message","data-gramm":"false"}),s&&a.createElement(gi,null,a.createElement(R.vq,{icon:"general/error.svg"})," ",s),a.createElement(fi,null,a.createElement($n.z,{preventFocusOnPress:!0,variant:p?"default":void 0,onPress:u,isDisabled:null!=d,mnemonic:"i"},l?"Amend Commit":"Commit"),a.createElement($n.z,{preventFocusOnPress:!0,onPress:ht,mnemonic:"P"},l?"Amend Commit and Push...":"Commit and Push...")))}Ai.__docgenInfo={description:"Commit message and commit buttons shown in the bottom/right split view of the commit toolwindow",methods:[],displayName:"CommitView",props:{editorRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<{ focus: () => void }>",elements:[{name:"signature",type:"object",raw:"{ focus: () => void }",signature:{properties:[{key:"focus",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}]},description:""}}};var Ei=n(93193);const yi=e=>{let{changes:t}=e;const n=t.filter((e=>"MODIFIED"===Er.fileStatus(e))).length,r=t.filter(Er.isAddition).length,o=t.filter(Er.isDeletion).length;return a.createElement(a.Fragment,null,r>0&&a.createElement(dt,{status:"ADDED"},r," added"),n>0&&a.createElement(dt,{status:"MODIFIED"},n," modified"),o>0&&a.createElement(dt,{status:"DELETED"},o," deleted"))};yi.__docgenInfo={description:"",methods:[],displayName:"ChangesSummary",props:{changes:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"AnyChange"}],raw:"ReadonlyArray<AnyChange>"},description:""}}};const vi=E.zo.div`
  display: flex;
  padding: 0.125rem;
  position: relative;
`,Ci=(0,E.zo)(jn.X)`
  padding-right: 0.625rem;
`,bi=E.zo.span`
  position: absolute;
  right: 0.5rem;
  top: 0.25rem;
  background: ${e=>{let{theme:t}=e;return t.color("Panel.background")}};
  z-index: 1;
`,wi=()=>{const e=(0,A.Dv)(mo);return a.createElement(yi,{changes:e})};function Si(){const[e,t]=(0,A.KO)(Eo);return a.createElement(vi,null,a.createElement(N.a,{tooltip:a.createElement(Ei.h,{actionName:"Amend Commit",helpText:"Modify the latest commit of the current branch"})},(n=>a.createElement("span",n,a.createElement(Ci,{isSelected:e,onChange:e=>{t(e),Fi()},preventFocus:!0,mnemonic:"m"},"Amend")))),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Show Commit Options"})},a.createElement(fa.hU,{onPress:ht},a.createElement(R.vq,{icon:"general/gear.svg"}))),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Commit Message History"})},a.createElement(fa.hU,{isDisabled:!0,onPress:ht},a.createElement(R.vq,{icon:"vcs/historyInline.svg"}))),a.createElement(bi,null,a.createElement(wi,null)))}Si.__docgenInfo={description:"Amend checkbox, commit message history button, and summary of included changes, shown as a row\nbellow changes tree, in commit tool window.",methods:[],displayName:"CommitActionsRow"};const Di=new Jn.C("Delete {count, plural,\n    =1 {Changelist}\n    other {Changelists}\n  }","en-US"),Ii=new Jn.C("{count, plural,\n    =1 {1 selected file}\n    other {# selected files}\n  }","en-US"),ki=(0,H.cn)((e=>[...e(lo).values()].filter((e=>"DELETED"!==e.type)).map(Er.path))),Pi=er({id:ft.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,H.cn)((e=>0===e(ki).length)),actionPerformed:async e=>{let{get:t,set:n}=e;const r=t(ki),o=t(Ve).current;if(0===r.length)return;await(o?.confirm({title:"Delete",okText:"Delete",message:a.createElement("div",{style:{width:354}},`Are you sure you want to delete ${Ii.format({count:r.length})}?`)}))&&(console.log(`deleting ${r}`),await Yn(t,n,r))}});function Ri(){const e=(0,A.Dv)(co),t=(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{const r=e(Sr),o=r.find((e=>{let{id:t}=e;return t===n}));o&&t(Sr,r.map((e=>({...e,active:e===o}))))}),[])),n=[...e].filter((e=>!e.active)),r=ct(),o=[{id:ft.$.REFRESH,title:"Refresh",icon:a.createElement(R.vq,{icon:"actions/refresh.svg"}),actionPerformed:r},{id:Nr.SHELVE_SILENTLY,title:"Shelve Silently",icon:a.createElement(R.vq,{icon:"vcs/shelveSilent.svg"}),actionPerformed:ht},(0,A.Dv)(Pi)];return 1===e.size&&o.push({id:Nr.RENAME_CHANGELIST,title:"Edit Changelist...",description:"Edit name and description of selected changelist",icon:a.createElement(R.vq,{icon:"actions/edit.svg"}),actionPerformed:ht}),n.length>0&&o.push({id:Nr.REMOVE_CHANGELIST,title:Di.format({count:n.length}),description:"Remove changelist and move all changes to another",icon:a.createElement(R.vq,{icon:"general/remove.svg"}),actionPerformed:ht}),1===n.length&&o.push({title:"Set Active Changelist",description:"Set changelist to which new changes are placed by default",id:Nr.SET_DEFAULT_CHANGELIST,icon:a.createElement(R.vq,{icon:"actions/selectall.svg"}),actionPerformed:()=>{t(n[0].id)}}),o}const Ti=E.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,Bi=E.zo.div`
  flex: 1;
  overflow: auto;
  position: relative;
`,Ni=E.zo.div`
  position: absolute;
  right: 0.125rem;
  top: 0.125rem;
  z-index: 1;
`;let xi=null,Fi=()=>{setTimeout((()=>{xi?.focus()}))};const Li=()=>{const{state:{anchor:e}}=(0,dr.j)(),t=(0,a.useRef)(null),n=(0,a.useRef)(null),r=(0,ur.Ss)(e),o=(0,A.Dv)(ot),[i,l]=(0,A.KO)(Ao(r)),c=Ri(),s=(0,un.x)({treeRef:t});return xi=n.current,a.createElement(pr.D,{orientation:r,innerView:a.createElement(b.DG,{actions:[...s,...c]},(e=>{let{shortcutHandlerProps:n}=e;return a.createElement(Ti,n,a.createElement(va,null),a.createElement(Bi,null,o&&a.createElement(fr,null,a.createElement(Ni,null,a.createElement(h,null))),a.createElement(ma,{treeRef:t})),a.createElement(Si,null))})),innerViewMinSize:50,lastView:a.createElement(Ai,{editorRef:n}),lastSize:i,onLastResize:l})};Li.__docgenInfo={description:"",methods:[],displayName:"ChangesViewSplitter"};const Oi=E.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function _i(){const e=(0,b.DI)();return a.createElement(Oi,null,a.createElement("div",{style:{textAlign:"center"}},"To commit changes,"," ",a.createElement(ut.r,{onPress:()=>e(Nr.GIT_INIT)},"Create Git repository..."),a.createElement("br",null),"For recent changes, see"," ",a.createElement(ut.r,{onPress:ht},"Local History..."),a.createElement("br",null),a.createElement("br",null),a.createElement(R.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",a.createElement(ut.r,{onPress:ht},"Version Control integration")," "))}_i.__docgenInfo={description:"",methods:[],displayName:"ChangesViewZeroState"};const Mi=d.ZP.div.withConfig({displayName:"ChangesViewPane__StyledContainer",componentId:"sc-1pqba05-0"})(["display:flex;flex-direction:column;height:100%;"]),Gi=()=>{const e=(0,A.Dv)(Xe);return a.createElement(Mi,null,e.length>0?a.createElement(Li,null):a.createElement(_i,null))};function Ki(e){let{branches:t}=e;return a.createElement("table",{style:{borderSpacing:0}},t.map((e=>{let{branch:n,repoRoot:r}=e;const i=n.trackingBranch?`${n.name} \u2192 ${n.trackingBranch}`:t.length>1?`${n.name} (no tracking branch)`:"No tracking branch";return t.length>1?a.createElement("tr",{key:r},a.createElement("td",null,o().basename(r),": \xa0"),a.createElement("td",null,i)):a.createElement("tr",{key:r},a.createElement("td",null,i))})))}Gi.__docgenInfo={description:"",methods:[],displayName:"ChangesViewPane"},Ki.__docgenInfo={description:"",methods:[],displayName:"TrackingBranchInfo",props:{branches:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ repoRoot: string; branch: LocalBranch }",signature:{properties:[{key:"repoRoot",value:{name:"string",required:!0}},{key:"branch",value:{name:"LocalBranch",required:!0}}]}}],raw:"Array<{ repoRoot: string; branch: LocalBranch }>"},description:""}}};const Hi="Commit",Vi=(0,H.cn)((async e=>{const t=(await Promise.all(e(br).map((t=>e(et(Er.path(t))))))).filter(Se.N);return(await Promise.all(t.map((async t=>{const n=(await e(xo(t))).currentBranch;return n?{repoRoot:t,branch:n}:null})))).filter(Se.N)})),Ui=()=>{const e=(0,A.Dv)(ro("repository")),t=(0,A.Dv)(Vi),n=!e&&t[0]?`Commit to ${t[0]?.branch?.name||"!"}`:"Commit";return a.createElement(mr.y,null,a.createElement(mr.y.View,{tabContent:a.createElement(N.a,{isDisabled:e||0===t.length,tooltip:a.createElement(x.M,{actionName:a.createElement(Ki,{branches:t})})},a.createElement("span",null,n)),key:"commit"},a.createElement(Gi,null)))};function ji(e){let{children:t=null}=e;return(0,a.useEffect)((()=>{const e=document.activeElement;return()=>{e instanceof HTMLElement&&e!==document.activeElement&&document.activeElement===document.body&&e.isConnected&&e.focus()}}),[]),a.createElement(a.Fragment,null,t)}Ui.__docgenInfo={description:"",methods:[],displayName:"CommitToolWindow"},ji.__docgenInfo={description:"Works around an issue where the focus is lost after a component rendering the focused element is suspended and\nunsuspended. Haven't tracked down the issue, but it can be the same react 17 issue we worked around in\n{@link UNSAFE_React17SuspenseFix}.",methods:[],displayName:"UNSAFE_FocusRestoringSuspense",props:{children:{defaultValue:{value:"null",computed:!1},required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var $i=n(94769);const Qi=E.zo.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 2.0625rem;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
  flex-shrink: 0;
`,qi=E.zo.div`
  flex-grow: 1;
`,zi=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  display: flex;
  flex-direction: column;
  justify-content: end;
  align-items: center;
  gap: 0.25rem;
  min-height: 37%;
  overflow: hidden;
`;var Wi=n(13516);const Yi=e=>{const t=e.split("\n"),n=t.slice(1);return{subject:t[0],bodyAsString:n.join("\n"),body:a.createElement(a.Fragment,null,n.map(((e,t)=>a.createElement(a.Fragment,{key:t},t>0&&a.createElement("br",null),e))))}};function Zi(e){return e.slice(0,8)}const Ji=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}),Xi=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",hour12:!0}),el=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit"});var tl;const nl=ia({commitParent:(tl=e=>`Changes to ${Zi(o().basename(e.oid))} ${e.subject.slice(0,50)}`,(e,t)=>{let{fileCount:n}=t;return{textValue:tl(e),rendered:a.createElement(Dn.e,null,a.createElement(In.J,null),a.createElement(Dn.e.Hint,null,ra(n)))}})},{repo:(e,t)=>{let{fileCount:n}=t;return{textValue:o().basename(e.repository.dir),rendered:a.createElement(Dn.e,null,a.createElement(ea,{rootPath:e.repository.dir}),a.createElement(In.J,null),a.createElement(Dn.e.Hint,null,ra(n)))}}}),rl={};var ol=n(37698);const al=50;async function il(e){return async function(e){const t=e.filter(Er.isDeletion),n=e.filter(Er.isAddition),r=new Map,o=async e=>(r.get(e)||r.set(e,await Er.content(e)),r.get(e)??""),a=new Map;return await Promise.all(t.map((async e=>Promise.all(n.map((async t=>{const n=await async function(e,t){return new Promise(((n,r)=>{(0,ol.Mp)(e,t,(function(e,t){if(void 0===t&&(t=[]),e)return r(e);const{unchanged:o,total:a}=t.reduce(((e,t)=>{let{total:n,unchanged:r}=e;const o=t.count??0;return{total:n+o,unchanged:r+(t.added||t.removed?0:o)}}),{total:0,unchanged:0});n(o/a*100)}))}))}(await o(e),await o(t)),r=a.get(e);n>=al&&(!r||n>r.similarity)&&a.set(e,{similarity:n,to:t})})))))),ll(a,e)}(function(e){const t=e.filter(Er.isDeletion),n=e.filter(Er.isAddition);return ll(new Map(t.map((e=>{const t=n.find((t=>{let{after:{hash:n}}=t;return n===e.before.hash}));return t?[e,{to:t}]:null})).filter(Se.N)),e)}(e))}function ll(e,t){const n=[...e.values()].map((e=>e.to));return t.map((t=>{if(Er.isDeletion(t)){const n=e.get(t);if(n)return Er(t.before,n?.to.after)}return t})).filter((e=>!n.includes(e)))}const cl=(0,W.xu)((e=>(0,H.cn)(e===Kr.id))),sl=(0,H.cn)(a.createRef()),ml=(0,H.cn)(new Set),dl=(0,H.cn)(new Set),ul="commitParent",pl=(0,W.xu)((e=>(0,H.cn)((()=>async function(e){let{fromRef:t,toRef:n,...r}=e;return(await i.ZP.walk({...r,cache:rl,trees:[i.ZP.TREE({ref:t}),i.ZP.TREE({ref:n})],map:async function(e,t){let[n,a]=t;const i=await(a?.oid()),l=await(n?.oid()),c=await(a?.type()),s=await(n?.type());if(i===l)return null;const m=i?{hash:i,path:o().join(r.dir||"",e),isDir:"tree"===c,content:async()=>(new TextDecoder).decode(await(a?.content())??new Uint8Array)}:null,d=l?{hash:l,path:o().join(r.dir||"",e),isDir:"tree"===s,content:async()=>(new TextDecoder).decode(await(n?.content())??new Uint8Array)}:null,u=m||d?Er(d,m):null;return!(!u||Er.revision(u).isDir)&&u}})||[]).filter((e=>e))}({fs:de,...e})))),ke.Z),hl=(0,W.xu)((e=>(0,H.cn)((async t=>il(await t(pl(e)))))),ke.Z),fl=e=>async t=>{const n=(await t(ti))[0],{byOid:r}=await t(Za),o=n?.readCommitResult?.oid,a=n?.readCommitResult.commit.parent;if(o&&a){const i=function(){return jr(...arguments)("")}({get:t,groupings:Hr,isActive:cl}),l=await Promise.all(a?.map((async a=>({type:ul,key:xr(ul,a),oid:a,subject:r[a]?.readCommitResult.commit.message||"",children:i([...await t(e({toRef:o,fromRef:a,dir:n.repoPath}))].map((e=>Lr(e))))})))),{expandAllKeys:c,fileCountsMap:s,...m}=Xr(1===l.length?l[0].children:l.filter((e=>{let{children:t}=e;return t.length>0})));return(0,$r.kD)((e=>("directory"===e.type?"a_":"b_")+nl.getTextValue(e,{fileCountsMap:s}).toLowerCase()),{roots:m.rootNodes,getChildren:e=>"children"in e?e.children:null}),{...m,fileCountsMap:s,expandAllKeys:new Set([...c].filter((e=>!`${e}`.startsWith(ul))))}}return null},gl=(0,H.cn)(fl(pl)),Al=(0,H.cn)(fl(hl)),El=E.zo.div`
  position: absolute;
  inset: 0;
  gap: 0.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,yl=[Al,gl].map(W.n7),vl=(0,H.cn)((e=>e(yl.find((t=>"hasData"===e(t).state))??yl.slice(-1)[0])));function Cl(e){let{treeShortcutHandlerProps:t}=e;const n=(0,A.Dv)(Ln(ti)),r=(0,A.Dv)(sl),o=!n?.length,i=(0,A.Dv)(vl),l="hasData"===i.state?i.data:null,[c,s]=(0,A.KO)(ml),[m,d]=(0,A.KO)(dl);return(0,a.useEffect)((()=>{s(l?.expandAllKeys??new Set),d(new Set)}),[i.state]),o?a.createElement(zi,null,"Select commits to to view changes"):a.createElement("div",(0,u.Z)({},t,{style:{height:"-webkit-fill-available",position:"relative"}}),"loading"===i.state&&a.createElement(fr,null,a.createElement(El,null,a.createElement(h,{style:{width:"1.5rem"}}),"Loading...")),l&&a.createElement(Sn.b,{"aria-label":"Commit changes",treeRef:r,items:l.rootNodes,selectionMode:"multiple",expandedKeys:c,onExpandedChange:s,selectedKeys:m,onSelectionChange:d,style:{paddingBottom:"1rem"},fillAvailableSpace:!0},nl.itemRenderer({fileCountsMap:l.fileCountsMap})),n.length>1&&a.createElement(Wi.S,{placement:"top",tooltip:a.createElement(Qn.k,{helpText:a.createElement(a.Fragment,null,"Showing diff for more than one commit is not currently supported. Only the first selected commit is taken into account.")})},(e=>a.createElement("span",(0,u.Z)({},e,{style:{position:"absolute",right:"0.5rem",bottom:"0.5rem"}}),a.createElement(R.vq,{icon:"general/warning"})))))}Cl.__docgenInfo={description:"TODO: handle multiple selected commits (check Changes.ShowChangesFromParents https://github.com/JetBrains/intellij-community/blob/ac57611a0612bd65ba2a19c841a4f95b40591134/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/frame/VcsLogChangesBrowser.java#L255-L254)",methods:[],displayName:"CommitChangedFiles",props:{treeShortcutHandlerProps:{required:!0,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""}}};var bl=n(90795);const wl=a.createElement("path",{fill:"currentColor",d:"M4.2 4.8 C4.8627 4.8 5.4 5.3373 5.4 6 C5.4 6.6627 4.8627 7.2 4.2 7.2 C3.5373 7.2 3 6.6627 3 6 C3 5.3373 3.5373 4.8 4.2 4.8 ZM0.6 2.4 L0.6 7.2 L7.8 14.4 L12.6 9.6 L5.4 2.4 Z"}),Sl={light:"#ffd100",dark:"#e1c731"},Dl={light:"#3cb45c",dark:"#3cb45c"},Il={light:"#9f79b5",dark:"#9f79b5"},kl={light:"#7a7a7a",dark:"#999999"},Pl={head:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.headIconColor",Sl)},localBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.localBranchIconColor",Dl)},remoteBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.remoteBranchIconColor",Il)},tag:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.tagIconColor",kl)}},Rl=(0,E.zo)(ta)`
  border-radius: 3px;
  align-items: stretch;
  font-size: 0.75rem;
`,Tl=E.zo.svg.attrs({viewBox:"0 0 14.5 14.5"})`
  width: 1rem;
  height: 1rem;
  stroke: rgba(0, 0, 0, 0.25);
  stroke-width: 0.5px;
  color: ${e=>{let{type:t,theme:n}=e;return Pl[t]({theme:n})}};
  z-index: 1; // for the right vertical order of grouped labels
  &:not(:first-child) {
    margin-right: -11px;
  }
`,Bl=E.zo.span`
  display: inline-flex;
  flex-direction: row-reverse;
`,Nl=E.zo.span`
  text-overflow: ellipsis;
  overflow: hidden;
`;function xl(e){let{type:t}=e;return a.createElement(Tl,{type:t},wl)}function Fl(e){let{types:t}=e;return a.createElement(Bl,null,t.map(((e,t)=>a.createElement(Tl,{key:t,type:e},wl))))}function Ll(e){let{types:t,children:n}=e;return a.createElement(Rl,null,a.createElement(Fl,{types:t}),a.createElement(Nl,null,n))}xl.__docgenInfo={description:"",methods:[],displayName:"RefIcon",props:{type:{required:!0,tsType:{name:'GitRef["type"]',raw:'GitRef["type"]'},description:""}}},Fl.__docgenInfo={description:"",methods:[],displayName:"RefIconGroup",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""}}},Ll.__docgenInfo={description:"",methods:[],displayName:"RefLabel",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Ol=E.zo.div`
  padding: 0.875rem;
  cursor: default;
`,_l=E.zo.div`
  font-family: "JetBrains Mono", monospace;
  line-height: 1.125rem;
  margin-bottom: 1.25rem;
  margin-right: 1.1875rem;
`,Ml=E.zo.div`
  font-weight: bold;
`,Gl=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};
`,Kl=E.zo.div`
  line-height: 1.2;
  display: flex;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`,Hl=(0,E.zo)(ea)`
  align-self: start;
`,Vl=E.zo.span`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`;function Ul(){const e=(0,A.Dv)(Ln(ni)),t=(0,A.Dv)(Ln(Ja)),n=(0,A.Dv)(Xe).length>0;if(!e)return a.createElement(zi,null,"No commits selected");const{readCommitResult:{commit:r,oid:o},containingRefs:i,repoPath:l}=e,{subject:c,body:s}=Yi(r.message),m=[];r.committer.name!==r.author.name&&m.push(a.createElement(a.Fragment,{key:r.committer.email},"by ",r.committer.name," ",a.createElement(Ql,{email:r.committer.email}))),r.committer.timestamp!==r.author.timestamp&&m.push(ql(1e3*r.committer.timestamp));const d=t?.[o]||[],p=(0,gr.Z)((e=>e.type),d);return a.createElement(Ol,null,a.createElement(_l,null,a.createElement(Ml,null,c),s),a.createElement(Kl,null,n&&a.createElement(N.a,{tooltip:a.createElement(bl.u,null,l)},(e=>a.createElement(Hl,(0,u.Z)({},e,{rootPath:l})))),a.createElement("div",null,`${Zi(o)} ${r.author.name} `,a.createElement(Ql,{email:r.author.email})," ",`${ql(new Date(1e3*r.author.timestamp))}`,m.length>0&&a.createElement(Gl,null,"committed ",m))),d.length>0&&a.createElement(Vl,null,a.createElement($l,{refs:p.head}),a.createElement($l,{refs:p.localBranch}),a.createElement($l,{refs:p.remoteBranch}),a.createElement($l,{refs:p.tag})),a.createElement("div",null,"In ",i.size," branches: ",[...i].join(", ")))}const jl=E.zo.span`
  display: inline-flex;
  align-items: center;
`;function $l(e){let{refs:t}=e;return t?.length?a.createElement(a.Fragment,null,t.map(((e,n)=>{const r=`${e.name}${n===t.length-1?"":","}`;return 0===n?a.createElement(jl,null,a.createElement(Fl,{types:t.map((e=>{let{type:t}=e;return t})).slice(0,2)}),r):a.createElement("span",null,r)}))):null}function Ql(e){let{email:t}=e;return a.createElement("a",{href:`mailto:${t}`,style:{all:"unset"}},a.createElement(ut.r,null,`<${t}>`))}function ql(e){return`on ${function(e){return el.format(e)}(e)} at ${function(e){return Xi.format(e).replace(" ","\u202f")}(e)}`}function zl(e,t){const n=(0,b.ol)().find((t=>{let{id:n}=t;return n===e}));return(0,a.useMemo)((()=>{if(!n)return null;const{perform:e,id:r,...o}=n;return{...o,id:t,useShortcutsOf:r,isSearchable:!1,actionPerformed:t=>{e(t)}}}),[n])}Ul.__docgenInfo={description:"",methods:[],displayName:"CommitDetails"};const Wl=(0,H.cn)(.5),Yl=E.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,Zl=(0,H.cn)((e=>Hr.filter((t=>Xn(t.isAvailable)?e(t.isAvailable):t.isAvailable)).map((t=>({...t,key:`groupBy:${t.id}`,isActive:e(cl(t.id))}))))),Jl="Vcs.log.detailsView.groupBy",Xl="Vcs.log.detailsView.layout",ec="Vcs.log.detailsView.viewOptions",tc=`${Xl}.${Nr.SHOW_DETAILS}`,nc=`${Xl}.${Nr.SHOW_DIFF_PREVIEW}`,rc=e=>`Vcs.log.detailsView.groupBy.${e.id}`;function oc(e){let{tabKey:t}=e;const[n,r]=(0,A.KO)(Wl),o=(0,A.Dv)(Ga(t)),i=(0,ve.lV)((0,a.useCallback)(((e,t,n)=>{t(cl(n),(e=>!e))}),[])),l=(0,St.w)(),c=(0,A.Dv)(Zl),s=(0,A.Dv)(sl),m=[l({id:ec,title:"View Options",icon:a.createElement(R.vq,{icon:"actions/groupBy.svg"}),children:[l({id:Jl,title:"Group By",menuPresentation:"titledSection",icon:a.createElement(R.vq,{icon:"actions/groupBy.svg"}),children:c.map((e=>({id:rc(e),useShortcutsOf:e.useShortcutOf,title:e.title,actionPerformed:()=>{i(e.id)}})))}),l({id:Xl,menuPresentation:"titledSection",title:"Layout",children:[zl(Nr.SHOW_DETAILS,tc),zl(Nr.SHOW_DIFF_PREVIEW,nc)].filter(Se.N)})]}),...(0,un.x)({treeRef:s})];return a.createElement(b.DG,{actions:m},(e=>{let{shortcutHandlerProps:t}=e;return a.createElement(Yl,null,a.createElement(Qi,null,a.createElement(da.o,null,a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Show Diff",shortcut:"\u2318D"})},a.createElement(fa.hU,{isDisabled:!0},a.createElement(R.vq,{icon:"actions/diff.svg"}))),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Revert Selected Changes"})},a.createElement(fa.hU,{isDisabled:!0},a.createElement(R.vq,{icon:"actions/rollback.svg"}))),a.createElement(ua.p,{renderMenu:e=>{let{menuProps:t}=e;return a.createElement(lc,{menuProps:t})}},a.createElement(R.vq,{icon:"actions/groupBy.svg"}))),a.createElement(qi,null),a.createElement(da.o,{style:{flexShrink:0}},a.createElement(pn.K,{actionId:ft.$.EXPAND_ALL}),a.createElement(pn.K,{actionId:ft.$.COLLAPSE_ALL}))),a.createElement("div",{style:{flex:1,minHeight:0}},o?a.createElement(pr.D,{orientation:"vertical",firstSize:n,onFirstResize:r,firstViewMinSize:10,firstView:a.createElement(Cl,{treeShortcutHandlerProps:t}),innerView:a.createElement(Ul,null)}):a.createElement(Cl,{treeShortcutHandlerProps:t})))}))}const ac={[tc]:Ka,...Object.fromEntries(Hr.map((e=>[rc(e),cl(e.id)])))},ic=(0,H.cn)((e=>Object.entries(ac).filter((t=>{let[,n]=t;return e(n)})).map((e=>{let[t]=e;return t}))));function lc(e){let{menuProps:t}=e;const n=(0,_.y)(ec),r=(0,A.Dv)(ic);return n&&a.createElement(M.d,{actionGroup:n},(e=>a.createElement(pa.w,(0,u.Z)({},t,e,{selectedKeys:r}))))}oc.__docgenInfo={description:"",methods:[],displayName:"VcsLogDetailsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var cc=n(6364),sc=n(70428),mc=n(96776),dc=n(35444),uc=n(72011);const pc=E.zo.button`
  all: unset;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding-left: 0.25rem;
  cursor: pointer;
  background: transparent;
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};

  line-height: 1.5;
  border-radius: 0.25rem;
  white-space: nowrap;
  border: 2px solid transparent;
  &:hover {
    color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  }
  &:focus-visible {
    border-color: ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
  }
`,hc=E.zo.span`
  margin-left: -1px;
  line-height: 1.2;
`,fc=E.zo.span`
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  max-width: 8.25rem;
  overflow: hidden;
  text-overflow: ellipsis;
`,gc=(0,E.zo)(mc.v)`
  &:focus-visible {
    outline: 2px solid
      ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
    outline-offset: -2px;
  }
`;function Ac(e){let{label:t,value:n,onClear:r,...o}=e;return a.createElement(dc.b,o,((e,o)=>a.createElement(pc,(0,u.Z)({},e,{ref:o}),t,n?a.createElement(a.Fragment,null,": ",a.createElement(fc,null,n),a.createElement(uc.V,{onPress:r},a.createElement(gc,{icon:"actions/close",hoverIcon:"actions/closeHovered"}))):a.createElement(hc,null,a.createElement(R.vq,{icon:"general/arrowDownSmall.svg"})))))}Ac.__docgenInfo={description:"",methods:[],displayName:"VcsFilterDropdown",props:{label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ec=E.zo.span.attrs({role:"button"})`
  display: inline-flex;
`;function yc(e){let{onClick:t,isFavorite:n,isCurrent:r}=e;return a.createElement(Ec,{onPointerUp:e=>{e.stopPropagation()},onClick:t},r?a.createElement(mc.v,{icon:n?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg",hoverIcon:n?"nodes/favorite.svg":"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}):n?a.createElement(R.vq,{icon:"nodes/favorite.svg"}):a.createElement(mc.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}))}function vc(e){let{tabKey:t}=e;const[n,r]=(0,A.KO)(Va.branch(t)),o=(0,ve.oC)(Va.branch(t));return a.createElement(Ac,{value:n.length>0?n.join("|"):null,onClear:o,renderMenu:e=>{let{menuProps:t}=e;return a.createElement(wc,{menuProps:t,onBranchesSelected:r})},label:"Branch"})}yc.__docgenInfo={description:"",methods:[],displayName:"BranchFavoriteButton",props:{isCurrent:{required:!1,tsType:{name:"boolean"},description:""},isFavorite:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Cc=e=>Object.entries((0,gr.Z)((e=>{let{branchName:t}=e;return t}),e)).map((e=>{let[t,n]=e;return{branchName:t,repoRoots:n.map((e=>e.repoRoot))}})),bc=(0,H.cn)((async e=>{const t=await e(Lo),n=t.flatMap((e=>{let{remoteBranches:t,repoRoot:n}=e;return t.map((e=>({repoRoot:n,branchName:`${e.remote}/${e.name}`})))})),r=t.flatMap((e=>{let{localBranches:t,repoRoot:n}=e;return t.map((e=>({repoRoot:n,branchName:e.name})))}));return{localBranches:Cc(r),remoteBranches:Cc(n)}}));function wc(e){let{menuProps:t,onBranchesSelected:n}=e;const[r,o]=(0,a.useState)([]),{toggleFavorite:i,isFavorite:l}=Yo(),c=(0,A.Dv)(Ln(bc)),{localBranches:s=[],remoteBranches:m=[]}=c||{},d=(0,gr.Z)((e=>{let{branchName:t}=e;return t.split("/")[0]}),m);(0,a.useEffect)((()=>{const e=(e,t)=>t.filter((t=>{let{branchName:n,repoRoots:r}=t;return r.some((t=>l({branchType:e,branchName:n,repoRoot:t})))})).map((t=>{let{branchName:n,repoRoots:r}=t;return{branchType:e,branchName:n,repoRoots:r}}));o([{branchType:"LOCAL",branchName:"HEAD",repoRoots:[]}].concat(e("LOCAL",s)).concat(e("REMOTE",m)))}),[]);const p=e=>{let{branchName:t,branchType:n,repoRoots:r}=e;return a.createElement(k.c,{key:`branch:${t}`,textValue:t},a.createElement(B._,{content:t,icon:a.createElement(yc,{isFavorite:"HEAD"===t||r.some((e=>l({branchType:n,repoRoot:e,branchName:t}))),onClick:()=>{"HEAD"!==t&&r.forEach((e=>{i({branchType:n,repoRoot:e,branchName:t})}))}})}))};return a.createElement(pa.w,(0,u.Z)({},t,{submenuBehavior:"toggleOnPress",autoFocus:"first",minWidth:250,onAction:e=>{const[t,o]=`${e}`.split(":");"branch"===t&&o?n([o]):"favorites"===t?n(r.map((e=>{let{branchName:t}=e;return t}))):"select"===t&&ht()}}),[a.createElement(k.c,{key:"select"},"Select..."),a.createElement(k.c,{key:"favorites"},"Favorites"),...r.map(p),a.createElement(Tn.i,null),a.createElement(k.c,{key:"local",title:"Local"},s.map((e=>{let{branchName:t,repoRoots:n}=e;return p({branchType:"LOCAL",branchName:t,repoRoots:n})}))),...Object.entries(d).map((e=>{let[t,n]=e;return a.createElement(k.c,{key:`remote:${t}`,title:`${t}/...`},n.map((e=>{let{branchName:t,repoRoots:n}=e;return p({branchType:"REMOTE",branchName:t,repoRoots:n})})))}))])}vc.__docgenInfo={description:"",methods:[],displayName:"BranchesFilterDropdown",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var Sc=n(27499),Dc=n(61158),Ic=n(37988);const kc="(\\w+)[\\p{Punct}\\s](\\w+)";function Pc(e){const t=function(e){const t=e.match(kc);if(t)return[t[1],t[2]];return null}(e);if(null!=t){const[e,n]=t;return e.toLowerCase()+" "+n.toLowerCase()}return function(e){return e.match(Rc)?e.toLowerCase():e}(e)}const Rc="[ -~]*";const Tc=(0,W.xu)((e=>(0,H.cn)((async()=>({name:await i.ZP.getConfig({fs:de,dir:e,path:"user.name"})??"",email:await i.ZP.getConfig({fs:de,dir:e,path:"user.email"})??""}))))),Bc=E.zo.div`
  display: flex;
  height: 1.5rem;
  align-items: center;
  width: 100%;
  --column-width-1: 130px;
  --column-width-2: 130px;
  --column-width-3: 70px;
`,Nc=E.zo.div`
  overflow: hidden;
  padding-left: 0.25rem;
`,xc=E.zo.div`
  ${e=>{let{asOverlay:t}=e;return t?E.iv`
          flex-shrink: 0;
        `:E.iv`
          position: absolute;
          right: 0;
          top: 1px;
          max-width: calc(100% - 100px);
        `}};

  display: flex;
  gap: 0.25rem;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(t.color("List.background"))}};
`,Fc=E.zo.div`
  position: relative;
  display: flex;
  gap: 0.25rem;
`,Lc=E.zo.div`
  display: flex;
  align-items: center;
  margin: 0 0.25rem;
  font-size: 0.75rem;
`,Oc=e=>{let{repoRoot:t,author:n}=e;const r=(0,A.Dv)(Tc(t)),o=(0,A.Dv)(ai),a=(0,A.Dv)(Ua.user);var i;return{fontWeight:o&&a!==Ha&&(i=n,Pc(r.name)===Pc(i.name))?"bold":void 0}};function _c(e){let{refs:t,readCommitResult:{oid:n,commit:{author:r,committer:o,message:i}},repoRoot:l}=e;const c=(0,A.Dv)(ri),s=(0,A.Dv)(oi),m=(0,A.Dv)(mi(ii.id)),d=(0,A.Dv)(mi(ci.id)),u=(0,A.Dv)(mi(li.id)),p=Oc({author:r,repoRoot:l});return a.createElement(Bc,null,a.createElement(Nc,{style:{flexBasis:"0%",flexGrow:1,flexShrink:1}},a.createElement(Fc,null,t&&a.createElement(Gc,{onLeft:s,refs:t}),a.createElement("span",{style:p},Yi(i).subject))),m&&a.createElement(Nc,{style:{flexBasis:"auto",width:"var(--column-width-1)",flexShrink:1,...p}},r.name,o.name!==r.name&&"*"),d&&a.createElement(Nc,{style:{flexBasis:"auto",width:"var(--column-width-2)",flexShrink:1,...p}},(h=1e3*(c?o:r).timestamp,Ji.format(h).replace(" ","\u202f"))),u&&a.createElement(Nc,{style:{flexBasis:"auto",width:"var(--column-width-3)",flexShrink:1,...p}},Zi(n)));var h}function Mc(e){return`${e.type}${e.name}`}function Gc(e){let{refs:t,onLeft:n}=e;const{filteredRefs:r}=(0,a.useMemo)((()=>{const e=t.some((e=>"localBranch"===e.type&&e.isCurrent));return{filteredRefs:t.filter((n=>!("head"===n.type&&e||"remoteBranch"===n.type&&t.find((e=>"localBranch"===e.type&&e.trackingBranch===n.name)))))}}),[t]);return a.createElement(N.a,{placement:"bottom",delay:800,isDisabled:t.length<2,tooltip:a.createElement(bl.u,{withPointer:!0},t.map((e=>a.createElement(Lc,{key:Mc(e)},a.createElement(xl,{type:e.type}),e.name))))},(e=>{let{ref:o,...i}=e;return a.createElement(xc,(0,u.Z)({ref:o,asOverlay:n},i),r.filter((e=>"remoteBranch"!==e.type||!t.find((t=>"localBranch"===t.type&&t.trackingBranch===e.name)))).map((e=>{let t=e.name;const n=[e.type];return"localBranch"===e.type&&e.trackingBranch&&(n.unshift("remoteBranch"),t=`${e.trackingBranch.split("/")[0]} & ${e.name}`),"localBranch"===e.type&&e.isCurrent&&n.push("head"),a.createElement(Ll,{key:Mc(e),types:n},t)})))}))}_c.__docgenInfo={description:"",methods:[],displayName:"CommitsTableRow",props:{repoRoot:{required:!0,tsType:{name:"string"},description:""},readCommitResult:{required:!0,tsType:{name:"ReadCommitResult"},description:""},refs:{required:!0,tsType:{name:"union",raw:"GitRef[] | undefined",elements:[{name:"Array",elements:[{name:"GitRef"}],raw:"GitRef[]"},{name:"undefined"}]},description:""}}};const Kc=(0,E.zo)(Sc.ko)`
  position: absolute;
  width: 100%;
  z-index: 1;
`,Hc=E.zo.div`
  position: relative;
  min-height: 0;
  flex: 1;
  ${Ic.o} {
    // the default "min-width: min-content", which is necessary for sizing overlays (e.g. Popup) containing list/tree,
    // results in horizontally scrollable table. Probably not an issue when a proper Table component is implemented.
    min-width: unset;
  }
`,Vc=a.createContext({});function Uc(){const e=(0,A.Dv)(Fa),t=ja(),{value:n,isLoading:r}=(0,A.Dv)(en(Za,null)),o=n?.rows,i=(0,A.Dv)(Ln(Ja)),[l,c]=(0,A.KO)(Xa);return a.createElement(Vc.Provider,{value:i??{}},a.createElement(Hc,null,r&&a.createElement(Kc,{"aria-label":"Loading commits",isIndeterminate:!0}),o&&o.length>0&&a.createElement(Dc.a,{"aria-label":"Commits list",items:o,fillAvailableSpace:!0,selectionMode:"multiple",selectedKeys:l,onSelectionChange:c,estimatedItemHeight:24},(e=>{let{readCommitResult:t,repoPath:n}=e;return a.createElement(k.c,{key:t.oid,textValue:t.commit.message},a.createElement(Vc.Consumer,null,(e=>a.createElement(_c,{readCommitResult:t,repoRoot:n,refs:e[t.oid]}))))})),o&&0===o.length&&a.createElement(zi,null,"No commits matching filters",a.createElement(ut.r,{onPress:()=>t(e)},"Reset filters"))))}Uc.__docgenInfo={description:"",methods:[],displayName:"CommitsTable"};const jc=[{key:"commitTimestamp",name:"Commit Timestamp",atom:ri},{key:"referencesOnLeft",name:"References on the Left",atom:oi}],$c=[{key:"myCommits",name:"My Commits",atom:ai}],Qc=[ii,li,ci].map((e=>{let{name:t,id:n}=e;return{name:t,key:n,atom:mi(n)}})),qc=e=>{const[t,n]=(0,A.KO)(e.atom);return{...e,value:t,set:n}};function zc(){const e=jc.map(qc),t=$c.map(qc),n=Qc.map(qc),r=e.concat(t).concat(n);return a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"View Options"})},a.createElement(ua.p,{renderMenu:o=>{let{menuProps:i}=o;return a.createElement(pa.w,(0,u.Z)({},i,{selectedKeys:r.filter((e=>{let{value:t}=e;return t})).map((e=>{let{name:t}=e;return t})),onAction:e=>{const t=r.find((t=>{let{name:n}=t;return n===e}));t?t.set((e=>!e)):ht()}}),a.createElement(ga.$,{title:"Show"},a.createElement(k.c,null,"Compact References View"),a.createElement(k.c,null,"Tag Names"),a.createElement(k.c,null,"Long Edges"),e.map((e=>{let{name:t,key:n}=e;return a.createElement(k.c,{key:n},t)})),a.createElement(k.c,{title:"Columns"},n.map((e=>{let{name:t,key:n}=e;return a.createElement(k.c,{key:n},t)})))),a.createElement(ga.$,{title:"Highlight"},t.map((e=>{let{name:t,key:n}=e;return a.createElement(k.c,{key:n},t)})),a.createElement(k.c,null,"Merge Commits"),a.createElement(k.c,null,"Current Branch"),a.createElement(k.c,null,"Not Cherry-Picked Commits")))}},a.createElement(R.vq,{icon:"actions/groupBy.svg"})))}zc.__docgenInfo={description:"",methods:[],displayName:"CommitsTableViewOptionsMenuIconButton"};const Wc=(0,E.zo)(sc.M)`
  border-radius: 2px;
  width: 219px;
  margin-right: 0.0625rem;
  margin-left: 0.2rem;
`,Yc=E.zo.div`
  height: 100%;
  display: flex;
  flex-direction: column;
`,Zc=(0,H.cn)([]);function Jc(e){let{tabKey:t}=e;const n=(0,A.Dv)(_s),[r,o]=(0,A.KO)(Va.searchQuery(t)),[i,l]=(0,A.KO)(Va.user(t)),c=(0,ve.oC)(Va.user(t)),[s,m]=(0,A.KO)(Va.date(t)),d=(0,ve.oC)(Va.date(t)),[p,h]=(0,A.KO)(Zc),[f,g]=(0,a.useState)(r),E=(0,gt.k)(),y=(0,A.Dv)(Va.regExp(t)),v=(0,A.Dv)(Va.matchCase(t)),C=function(e){void 0===e&&(e=f),o(e),e&&!p.includes(e)&&h((t=>[e,...t.filter((t=>t!==e))]))};(0,a.useEffect)((()=>{g(r)}),[r]);const b=(0,ve.lV)((0,a.useCallback)(((e,t)=>{const n=(0,cc.Z)();t(xa,(e=>[...e,n])),Object.values(Va).forEach((r=>{t(r(n),e(r(e(Fa))))})),t(Fa,n)}),[])),w=new Date,S=new Date;S.setDate(w.getDate()-7);const D=new Date;D.setDate(w.getDate()-1);const P=[{name:"Last 24 hours",value:{from:D}},{name:"Last 7 days",value:{from:S}}];return a.createElement(Yc,null,a.createElement(Qi,null,a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Text or Hash Filter",shortcut:E(Nr.FOCUS_TEXT_FILTER)})},a.createElement(Wc,{inputRef:n,value:f,onChange:g,onSubmit:C,onBlur:()=>C(),onClear:()=>C(""),searchHistory:p,addonAfter:a.createElement(a.Fragment,null,a.createElement(mc.R,{as:pn.K,excludeFromTabOrder:!1,actionId:Nr.REG_EXP},a.createElement(mc.v,{icon:y?"actions/regexSelected":"actions/regex",hoverIcon:y?"actions/regexSelected":"actions/regexHovered"})),a.createElement(mc.R,{as:pn.K,excludeFromTabOrder:!1,actionId:Nr.MATCH_CASE},v?a.createElement(R.vq,{icon:"actions/matchCaseSelected"}):a.createElement(mc.v,{icon:"actions/matchCase",hoverIcon:"actions/matchCaseHovered"})))})),a.createElement(da.o,null,a.createElement(vc,{tabKey:t}),a.createElement(Ac,{value:i===Ha?"me":i,onClear:c,renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{onAction:e=>{if("select"===e)return ht();l(`${e}`)}}),a.createElement(k.c,{key:"select"},"Select..."),a.createElement(k.c,{key:Ha},"me"))},label:"User"}),a.createElement(Ac,{value:s&&Xc(s),onClear:d,renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{onAction:e=>{const t=P.find((t=>{let{name:n}=t;return n===e}));t?m(t.value):ht()}}),[a.createElement(k.c,{key:"select"},"Select..."),...P.map((e=>{let{name:t}=e;return a.createElement(k.c,{key:t},t)}))])},label:"Date"}),a.createElement(Ac,{renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{onAction:ht}),a.createElement(k.c,null,"Select in..."),a.createElement(k.c,null,"Select in Tree..."))},label:"Paths"}),a.createElement(da.J,null),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Open New Git Log Tab"})},a.createElement(fa.hU,{"aria-label":"Checkout",onPress:b},a.createElement(R.vq,{icon:"actions/openNewTab.svg"})))),a.createElement(qi,null),a.createElement(da.o,{style:{flexShrink:0}},a.createElement(pn.K,{actionId:Nr.LOG_REFRESH}),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Cherry-Pick"})},a.createElement(fa.hU,{isDisabled:!0},a.createElement(R.vq,{icon:"/platform/dvcs-impl/resources/icons/cherryPick.svg"}))),a.createElement(zc,null),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Go To Hash/Branch/Tag",shortcut:"\u2318F"})},a.createElement(fa.hU,null,a.createElement(R.vq,{icon:"actions/find"}))))),a.createElement(Uc,null))}function Xc(e){return e.from&&e.to?`Between ${Ba(e.from)} and ${Ba(e.to)}`:e.from?`since ${Ba(e.from)}`:e.to?`until ${Ba(e.to)}`:""}function es(e,t){const n=e.flatMap((e=>{let{repoRoot:t,localBranches:n,currentBranch:r}=e;return n.map((e=>({repoRoot:t,isCurrent:r?.name===e.name,branch:e})))})),o=Object.entries((0,gr.Z)((e=>{let{branch:t}=e;return t.name}),n)).map((t=>{let[n,o]=t;const a=o.map((e=>{let{repoRoot:t}=e;return(0,r.basename)(t)}));return{type:"localBranch",key:`localBranch:${a.join("|")}:${n}`,name:n,branches:o,isFavorite:o.some((e=>{let{repoRoot:t,branch:n}=e;return Qo({repoRoot:t,branchType:"LOCAL",branchName:n.name})})),isCurrent:o.some((e=>{let{isCurrent:t}=e;return t})),repos:a.length===e.length?null:a}}));return t?rs(o):o}function ts(e,t){const n=e.flatMap((e=>{let{repoRoot:t,remoteBranches:n}=e;return n.map((e=>({repoRoot:t,branch:e})))})),o=Object.entries((0,gr.Z)((e=>{let{branch:t}=e;return`${t.remote}/${t.name}`}),n)).map((t=>{let[n,o]=t;const a=o.map((e=>{let{repoRoot:t}=e;return(0,r.basename)(t)}));return{type:"remoteBranch",key:`remoteBranch:${a.join("|")}:${n}`,name:n,branches:o,isFavorite:o.some((e=>{let{repoRoot:t,branch:n}=e;return Qo({repoRoot:t,branchType:"REMOTE",branchName:n.name})})),repos:a.length===e.length?null:a}}));return t?rs(o):o}Jc.__docgenInfo={description:"",methods:[],displayName:"VcsLogCommitsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};const ns=(0,H.cn)((async e=>{const t=await e(Lo),n=e(os("directory")),r=e(as)&&e(os("repository"));return[{type:"head"},{type:"branchType",branchType:"LOCAL",children:r?t.map((e=>({type:"repository",key:`LOCAL:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:es([e],n)}))):es(t,n)},{type:"branchType",branchType:"REMOTE",children:r?t.map((e=>({type:"repository",key:`REMOTE:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:ts([e],n)}))):ts(t,n)}]})),rs=Rr({shouldCollapseDirectories:!1,getPath:e=>e.name}),os=(0,W.xu)((e=>(0,H.cn)(!1))),as=(0,H.cn)((e=>e(Xe).length>1)),is=_a(a.createRef()),ls=_a(new Set),cs=_a(new Set),ss=_a(""),ms=[{id:"directory",title:"Directory",icon:a.createElement(R.vq,{icon:"actions/GroupByPackage.svg"}),isActive:os("directory"),isAvailable:!0},{id:"repository",title:"Repository",isActive:os("repository"),isAvailable:as}],ds=(0,H.cn)((e=>ms.filter((t=>"boolean"!=typeof t.isAvailable?e(t.isAvailable):t.isAvailable)).map((t=>({...t,isActive:e(os(t.id))})))));function us(){const e=(0,ve.lV)((0,a.useCallback)(((e,t)=>e=>{t(os(e),(e=>!e))}),[])),t=(0,A.Dv)(ds);return a.createElement(Aa,{groupings:t,onToggle:e})}us.__docgenInfo={description:"",methods:[],displayName:"BranchesGroupByActionButton"};const ps={branchType:e=>{return a.createElement(k.c,{key:`${e.type}:${e.branchType}`,textValue:(t=e.branchType,t[0].toUpperCase()+t.slice(1).toLowerCase()),childItems:e.children},a.createElement(In.J,null));var t},localBranch:e=>a.createElement(k.c,{key:`${e.key}`,textValue:(0,r.basename)(e.name)},a.createElement(Dn.e,null,a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:a.createElement(Ki,{branches:e.branches})})},(t=>a.createElement(Dn.e.Group,t,e.isCurrent?a.createElement(N.a,{tooltip:a.createElement(bl.u,null,"Current ",e.isFavorite&&"favorite ","branch")},(t=>a.createElement(Dn.e.Group,t,a.createElement(R.vq,{icon:e.isFavorite?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg"})))):a.createElement(R.vq,{icon:"vcs/branchNode"}),a.createElement(In.J,null),e.repos&&a.createElement(Dn.e.Hint,null,"(",e.repos.join(", "),")")))))),remoteBranch:e=>a.createElement(k.c,{key:`${e.key}`,textValue:(0,r.basename)(e.name)},a.createElement(Dn.e,null,a.createElement(R.vq,{icon:e.isFavorite?"nodes/favorite.svg":"vcs/branchNode"}),a.createElement(In.J,null),e.repos&&a.createElement(Dn.e.Hint,null,"(",e.repos.join(", "),")"))),repository:e=>a.createElement(k.c,{key:`${e.key}`,textValue:(0,r.basename)(e.repoRoot),childItems:e.children},a.createElement(Dn.e,null,a.createElement(ea,{rootPath:e.repoRoot}),a.createElement(In.J,null))),directory:e=>a.createElement(k.c,{key:`${e.type}_${e.parentNodePath}${e.dirPath}`,textValue:(0,r.basename)(e.dirPath),childItems:e.children},a.createElement(Dn.e,null,a.createElement(R.vq,{icon:"nodes/folder.svg"}),a.createElement(In.J,null))),head:e=>a.createElement(k.c,{key:`${e.type}`,textValue:"HEAD (Current Branch)"},a.createElement(In.J,null))};const hs=e=>{const[t,n,r]=e.split(":");return"head"===t?"HEAD":"localBranch"===t||"remoteBranch"===t?r??null:null},fs=E.zo.input`
  all: unset;
  flex: 1;
  align-self: stretch;
`,gs=E.zo.div`
  min-width: 0; // don't outgrow the container
  flex-grow: 1; // fill the available space
  display: flex;
  flex-direction: column;
`,As=E.zo.span`
  display: inline-flex;
  margin-top: -0.0625rem;
  margin-left: 0.7rem;
  margin-right: 0.25rem;
  cursor: text;
`;function Es(e){let{tabKey:t}=e;const n=(0,A.Dv)(Ln(ns)),[r,o]=(0,A.KO)(ls(t)),[i,l]=(0,A.KO)(cs(t)),[c,s]=(0,A.KO)(ss(t)),m=(0,A.Dv)(is(t)),d=(0,a.useRef)(null),u=(0,a.useRef)(null),[p,h]=(0,a.useState)(!1),f=(0,A.b9)(Ua.branch);return a.createElement(gs,null,a.createElement(Qi,null,a.createElement(As,null,a.createElement(R.vq,{icon:"actions/search"})),a.createElement(fs,{ref:u,tabIndex:-1,value:c,onChange:e=>s(e.target.value),onFocus:()=>{h(!0)},onBlur:()=>{h(!1)}})),a.createElement(Sn.b,{ref:d,treeRef:m,focusProxyRef:u,items:n??[],selectionMode:"multiple",selectedKeys:r,onSelectionChange:o,expandedKeys:i,onExpandedChange:l,onAction:e=>{const t=hs(`${e}`);t&&f([t])},fillAvailableSpace:!0,showAsFocused:p,searchTerm:c,onSearchTermChange:s,keepSearchActiveOnBlur:!0,hideSpeedSearchPopup:!0,isSearchActive:!0},(e=>ps[e.type](e))))}Es.__docgenInfo={description:"",methods:[],displayName:"BranchesTree",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};const ys="Git.DeleteBranch",vs="Git.Compare.With.Current",Cs="Git.Show.My.Branches",bs="Git.Fetch",ws="Git.Toggle.Favorite",Ss=d.ZP.div.withConfig({displayName:"VcsBranchesView__StyledContainer",componentId:"sc-vamle4-0"})(["display:flex;height:100%;"]);function Ds(e){let{tabKey:t}=e;const n=(0,A.Dv)(is(t)),r=[{id:Nr.GIT_UPDATE_SELECTED,title:"Update Selected",icon:a.createElement(R.vq,{icon:"actions/checkOut"}),actionPerformed:()=>{ht()}},{id:ys,title:"Delete branch",icon:a.createElement(R.vq,{icon:"actions/gc"}),useShortcutsOf:"SafeDelete",actionPerformed:()=>{ht()}},{id:vs,title:"Compare with current",icon:a.createElement(R.vq,{icon:"actions/diff"}),useShortcutsOf:Nr.SHOW_DIFF,actionPerformed:()=>{ht()}},{id:Cs,title:"Show My Branches",icon:a.createElement(R.vq,{icon:"actions/find"}),actionPerformed:()=>{ht()}},{id:bs,title:"Fetch All Remotes",icon:a.createElement(R.vq,{icon:"vcs/fetch"}),actionPerformed:()=>{ht()}},{id:ws,title:"Mark/Unmark as Favorite",icon:a.createElement(R.vq,{icon:"nodes/favorite"}),actionPerformed:()=>{ht()}},...(0,un.x)({treeRef:n})];return a.createElement(b.DG,{actions:r},(e=>{let{shortcutHandlerProps:n}=e;return a.createElement(Ss,n,a.createElement(ks,null),a.createElement(Es,{tabKey:t}))}))}const Is=(0,d.ZP)(da.o).withConfig({displayName:"VcsBranchesView__StyledToolbar",componentId:"sc-vamle4-1"})(["height:100%;flex-shrink:0;"]);function ks(){return a.createElement(Is,{border:"right",orientation:"vertical"},a.createElement(pn.K,{actionId:Nr.GIT_LOG_HIDE_BRANCHES}),a.createElement(da.J,null),a.createElement(pn.K,{actionId:Nr.GIT_CREATE_NEW_BRANCH}),a.createElement(pn.K,{actionId:Nr.GIT_UPDATE_SELECTED}),a.createElement(pn.K,{actionId:ys}),a.createElement(pn.K,{actionId:vs}),a.createElement(pn.K,{actionId:Cs}),a.createElement(pn.K,{actionId:bs}),a.createElement(pn.K,{actionId:ws}),a.createElement(pn.K,{actionId:Nr.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH}),a.createElement(da.J,null),a.createElement(us,null),a.createElement(pn.K,{actionId:ft.$.EXPAND_ALL}),a.createElement(pn.K,{actionId:ft.$.COLLAPSE_ALL}))}Ds.__docgenInfo={description:"",methods:[],displayName:"VcsBranchesView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};const Ps=er({id:Nr.LOG_REFRESH,title:"Refresh",icon:a.createElement(R.vq,{icon:"actions/refresh.svg"}),useShortcutsOf:ft.$.REFRESH,actionPerformed:e=>{let{set:t}=e;t(Ya)}}),Rs=er({id:Nr.COPY_REVISION_NUMBER,title:"Copy Revision Number",icon:a.createElement(R.vq,{icon:"actions/copy.svg"}),useShortcutsOf:ft.$.COPY_REFERENCE,actionPerformed:async e=>{let{get:t}=e;const n=await t(ei);wt()(n.join(" ")).catch(console.error)}}),Ts=()=>[(0,A.Dv)(Rs),(0,A.Dv)(Ps)],Bs=E.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function Ns(){const e=(0,b.DI)();return a.createElement(Bs,null,a.createElement("div",{style:{textAlign:"center"}},"To track changes to code:",a.createElement("br",null),a.createElement(ut.r,{onPress:()=>e(Nr.GIT_INIT)},"Create Git repository..."),a.createElement("br",null),a.createElement(ut.r,{onPress:ht},"Use Local History..."),a.createElement("br",null),a.createElement("br",null),a.createElement(R.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",a.createElement(ut.r,{onPress:ht},"Version Control integration")," "))}Ns.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindowZeroState"};const xs=(0,H.cn)(.25),Fs=(0,H.cn)(.35),Ls=E.zo.span`
  margin: 0 0.5rem 0 0.125rem;
`,Os=E.zo.div`
  height: 100%;
  display: flex;
  :focus-visible {
    outline: none;
  }
`,_s=(0,H.cn)(a.createRef()),Ms=()=>{const e=(0,A.Dv)(xa),[t,n]=(0,A.KO)(Fa);return(0,A.Dv)(Xe).length>0?a.createElement(mr.y,{headerContent:a.createElement(Ls,null,"Git:"),activeKey:t,onActiveKeyChange:e=>n(`${e}`)},e.map((e=>a.createElement(mr.y.View,{tabContent:a.createElement(Ys,{tabKey:e}),key:e},a.createElement(Us,{tabKey:e}))))):a.createElement(cn.n,{headerContent:"Version Control"},a.createElement(Ns,null))},Gs=E.zo.button.attrs({tabIndex:-1})`
  box-sizing: border-box;
  all: unset;
  width: 1.71875rem;
  align-items: center;
  display: flex;
  flex-direction: column;
  padding: 0.5rem 0;
  gap: 0.625rem;
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  :disabled {
    color: ${e=>{let{theme:t}=e;return t.color("Button.disabledText")}};
  }
  &:hover {
    background: ${e=>{let{theme:t}=e;return t.color("ToolWindow.Button.hoverBackground",t.dark?"#0f0f0f28":"#55555528")}};
  }
`,Ks=(0,E.zo)(Gs)`
  border-right: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
`,Hs=E.zo.span`
  writing-mode: vertical-lr;
  transform: rotateZ(180deg);
  font-size: 0.6875rem;
`;function Vs(e){let{onPress:t}=e;return a.createElement(Ks,{onClick:t},a.createElement(R.vq,{icon:"actions/arrowExpand"}),a.createElement(Hs,null,"Branches"))}function Us(e){let{tabKey:t}=e;const[n,r]=(0,A.KO)(xs),[o,i]=(0,A.KO)(Fs),l=function(){const e=[...Ts(),(0,A.Dv)(zs),(0,A.Dv)($s),(0,A.Dv)(js),(0,A.Dv)(Qs),(0,A.Dv)(qs),Ws];return e}(),[c,s]=(0,A.KO)(Ma(t)),m=c?{firstView:a.createElement(Ds,{tabKey:t}),firstSize:n,onFirstResize:r,firstViewMinSize:85}:{};return a.createElement(b.DG,{actions:l},(e=>{let{shortcutHandlerProps:n}=e;return a.createElement(Os,(0,u.Z)({},n,{tabIndex:c?-1:0}),!c&&a.createElement(Vs,{onPress:()=>s(!0)}),a.createElement(pr.D,(0,u.Z)({},m,{innerView:a.createElement(Jc,{tabKey:t}),innerViewMinSize:200,lastView:a.createElement(oc,{tabKey:t}),lastSize:o,onLastResize:i,lastViewMinSize:40})))}))}const js=er({id:Nr.MATCH_CASE,title:"Match Case",icon:a.createElement(R.vq,{icon:"actions/matchCase.svg"}),actionPerformed:e=>{let{get:t,set:n}=e;n(Va.matchCase(t(Fa)),(e=>!e))}}),$s=er({id:Nr.GIT_LOG_HIDE_BRANCHES,title:"Hide Git Branches",icon:a.createElement(R.vq,{icon:"actions/arrowCollapse"}),actionPerformed:e=>{let{get:t,set:n}=e;n(Ma(t(Fa)),!1)}}),Qs=er({id:Nr.REG_EXP,title:"Regex",icon:a.createElement(R.vq,{icon:"actions/regex"}),actionPerformed:e=>{let{get:t,set:n}=e;n(Va.regExp(t(Fa)),(e=>!e))}}),qs=er({id:Nr.SHOW_DETAILS,title:"Show Details",description:"Display details panel",actionPerformed:e=>{let{get:t,set:n}=e;n(Ga(t(Fa)),(e=>!e))}}),zs=er({id:Nr.FOCUS_TEXT_FILTER,title:"Focus Text Filter",actionPerformed:e=>{let{get:t}=e;t(_s).current?.focus()}}),Ws={id:Nr.SHOW_DIFF_PREVIEW,title:"Show Diff Preview",description:"Show Diff Preview Panel",actionPerformed:()=>ht()};function Ys(e){let{tabKey:t}=e;const n=(0,ve.lV)($a);return a.createElement($i.v,{title:(0,A.Dv)(La(t)),closeButton:"MAIN"!==t&&a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Close Tab"})},a.createElement(L.W,{onPress:()=>n(t)}))})}Ms.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindow"};const Zs=[{id:"Project",title:"Project",icon:a.createElement(R.vq,{icon:"toolwindows/toolWindowProject"}),content:a.createElement(sr,null),initialState:(0,ln.x5)({isVisible:!0,weight:.23})},{id:"Terminal",title:"Terminal",icon:a.createElement(R.vq,{icon:"toolwindows/toolWindowProject"}),content:a.createElement(cn.n,{headerContent:"Terminal"},a.createElement(dn,null)),initialState:(0,ln.x5)({anchor:"bottom"})},{id:Hi,title:"Commit",icon:a.createElement(R.vq,{icon:"toolwindows/toolWindowCommit"}),content:a.createElement(a.Suspense,{fallback:a.createElement(ji,null)},a.createElement(Ui,null)),initialState:(0,ln.x5)({anchor:"left",isSplit:!0,isVisible:!1})},{id:"Version Control",title:"Version Control",icon:a.createElement(R.vq,{icon:"toolwindows/toolWindowChanges"}),content:a.createElement(a.Suspense,{fallback:a.createElement(ji,null)},a.createElement(Ms,null)),initialState:(0,ln.x5)({anchor:"bottom",weight:.35})}];var Js=n(14242),Xs=n(20898),em=n(68316);const tm=(0,H.cn)(!1),nm=(0,H.cn)(null);var rm=n(43557),om=n(92338);const am=d.ZP.div.withConfig({displayName:"TasksPopup__StyledPopupTitle",componentId:"sc-rjwznj-0"})(["flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;margin:0 0.625rem;"]);function im(){const e=(0,A.b9)(tm),t=(0,A.Dv)(ba),n=ka(),[r,o]=(0,A.KO)(nm);return a.createElement(om.GI,{bounds:r||{width:300,left:window.innerWidth-300-150,top:window.innerHeight-80*t.length-30-100},onBoundsChange:e=>{o(e)},minHeight:100,minWidth:300,nonDismissable:!0,interactions:"all"},a.createElement(om.GI.Layout,{header:a.createElement(om.GI.Header,{hasControls:!0},a.createElement(am,null,"Background Tasks"),a.createElement(N.a,{tooltip:a.createElement(bl.u,null,"Hide")},a.createElement(fa.hU,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>e(!1)},a.createElement(R.vq,{icon:"general/hideToolWindow"})))),content:a.createElement(a.Fragment,null,t.map(((e,r)=>a.createElement(a.Fragment,{key:e.id},a.createElement(Sc.ko,{style:{margin:".5rem 0.75rem"},name:e.title,isIndeterminate:e.progress.isIndeterminate,"aria-label":`Progress of ${e.title}`,details:e.progress.text||(e.progress.secondaryText?a.createElement(a.Fragment,null,"\xa0"):void 0),secondaryDetails:e.progress.secondaryText,value:e.progress.fraction,maxValue:1,button:e.isCancelable&&a.createElement(em.b,{onPress:()=>n(e.id)})}),t[r+1]&&a.createElement(rm.lX,null)))))}))}function lm(e){return a.createElement(Sc.ko,(0,u.Z)({dense:!0,namePosition:"side",width:146},e))}im.__docgenInfo={description:"",methods:[],displayName:"TasksPopup"};const cm=d.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__Spacer",componentId:"sc-vrkr3d-0"})(["width:0.5rem;"]),sm=d.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__StyledProgressBarButton",componentId:"sc-vrkr3d-1"})(["cursor:pointer;","{cursor:unset;}"],Sc.ko.Container),mm=()=>{const e=(0,A.Dv)(wa),t=(0,A.Dv)(Sa),n=ka(),[r,o]=(0,A.KO)(tm);return(0,a.useEffect)((()=>{0===t&&o(!1)}),[t]),a.createElement(a.Fragment,null,e&&!r&&a.createElement(N.a,{tooltip:a.createElement(bl.u,null,`${e.title}. Click to see all running background tasks.`)},a.createElement(uc.V,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>{o(!0)}},a.createElement(sm,null,a.createElement(lm,{name:e.progress.text||e.title,isIndeterminate:e.progress.isIndeterminate,value:e.progress.fraction,maxValue:1,button:a.createElement(a.Fragment,null,e.isCancelable&&a.createElement(N.a,{tooltip:a.createElement(bl.u,null,"Cancel")},a.createElement(em.b,{small:!0,onPress:()=>n(e.id)})))})))),(t>1||r)&&a.createElement(a.Fragment,null,a.createElement(cm,null),a.createElement(ut.r,{onPress:()=>o((e=>!e))},r?"Hide processes":"Show all"," (",t,")")),r&&t>0&&a.createElement(im,null))};mm.__docgenInfo={description:'Intentionally, "processes" haven\'t been abstracted as an extension point for different features, since the focus\nhere is not to create an IDE, but to demo UI components.',methods:[],displayName:"StatusBarTaskProgressBar"};var dm=n(30906);const um=(0,H.cn)((e=>{const t=e(Ft)?.filePath;return(t&&e(et(t)))??e(Xe)[0]?.dir})),pm=(0,H.cn)((async e=>{const t=await e(um);return t?e(xo(t)):null})),hm=(fm=(0,H.cn)((async e=>{const t=e(Ft)?.filePath;return t?e(Oo(t)):null})),(0,W.kv)(fm,((e,t)=>e instanceof Promise?Promise.all([e,t]).then((e=>{let[t,n]=e;return t??n??t})):e??t??e)));var fm;const gm=(0,H.cn)((async e=>{const t=await e(hm);if(t)return{detached:!1,head:t};const n=await e(um);return n?{detached:!0,head:await(0,i.qq)({fs:de,dir:n,ref:"HEAD"})}:null}));var Am=n(31132),Em=n(78766),ym=n(33104);function vm(e,t){return e?.remoteBranches.some((e=>`${e.remote}/${e.name}`===t))?"CLASHING_WITH_REMOTE":e?.localBranches.some((e=>{let{name:n}=e;return n===t}))?"EXISTING":null}const Cm=new RegExp(`(^\\.)|(^-)|(^/)|(\\.\\.)+|[ ~:^?*\\[\\\\]+|(@\\{)+|[${Array(32).fill(null).map(((e,t)=>String.fromCharCode(t))).join("")}u007F]`);function bm(e){return e.replace(Cm,"_")}const wm=E.zo.div`
  padding: 0.5rem 1rem;
`,Sm=(0,E.zo)(ym.U)`
  width: 100%;
`,Dm={EXISTING:e=>a.createElement(a.Fragment,null,"Branch name ",e," already exists ",a.createElement("br",null)),CLASHING_WITH_REMOTE:e=>a.createElement(a.Fragment,null,"Branch name ",e," clashes with remote branch ",a.createElement("br",null),"with the same name")};function Im(e){let{branchName:t,repoRoot:n,close:r}=e;const[o,l]=(0,a.useState)(t),[c,s]=(0,a.useState)(!1),m=(0,v.L)(),d=(0,A.Dv)(xo(n)),u=function(){const e=Wo();return(0,ve.lV)((0,a.useCallback)((async(t,n,r,o,a)=>{await(0,i.R_)({fs:de,dir:r,oldref:o,ref:a}),n(xo(r));const l={branchType:"LOCAL",branchName:o,repoRoot:r};zo(t(jo),t($o),l)&&(e(l,!1),e({...l,branchName:a},!0))}),[]))}(),p=vm(d,o),h=p&&c?"error":"valid";return a.createElement(Vn.Du,{minWidth:"content",minHeight:"content"},a.createElement(Un.b,{header:`Rename branch ${t}`,content:a.createElement(wm,null,a.createElement("form",{id:"branch_rename_form",onSubmit:e=>{e.preventDefault(),p?s(!0):u(d.repoRoot,t,o).catch((e=>{m.show({icon:"Error",title:"Unexpected error",body:`Could not rename branch ${t} to ${o}.`}),console.error("Branch rename error: ",e)})).then((()=>{r()}))}},a.createElement(Sm,{labelPlacement:"above",label:"New branch name:",value:o,onChange:e=>{l(bm(e)),s(!0)},validationState:h,validationMessage:p&&"error"===h?Dm[p]?.(t):void 0}))),footer:a.createElement(Un.b.Footer,{right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:r},"Cancel"),a.createElement($n.z,{variant:"default",type:"submit",form:"branch_rename_form",isDisabled:Boolean(p)&&c},"Rename"))})}))}Im.__docgenInfo={description:"",methods:[],displayName:"RenameBranchWindow",props:{branchName:{required:!0,tsType:{name:"string"},description:""},repoRoot:{required:!0,tsType:{name:"string"},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const km=E.zo.div`
  box-sizing: border-box;
  padding: 0 0.375rem;
  display: flex;
  align-items: center;
  width: 100%;
`,Pm=E.zo.div`
  flex: 1;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0 0.625rem;
`,Rm=(0,H.cn)(void 0);function Tm(e){let{close:t}=e;const n=(0,A.Dv)(Ln(Lo)),[r,l]=(0,A.KO)(Rm),[c,m]=(0,a.useState)(r??{}),d=(0,b.BH)(Nr.GIT_CREATE_NEW_BRANCH),u=(0,ve.lV)((0,a.useCallback)(((e,t,n,r)=>(0,i.NA)({fs:de,dir:n,ref:r}).then((()=>{t(xo(n))}))),[])),p=(0,v.L)(),h=(0,s.S)(),f=(0,ve.lV)((0,a.useCallback)((async(e,t,n,r,o)=>{const a=Ee(e,t);await(0,i.JE)({fs:de,dir:n,remote:o,ref:r}),console.log(`checked out branch ${r}`),t(xo(n)),t(Ae(n));const l=e(Nt),c=await Ro((async e=>{let{filePath:t}=e;const n=await de.promises.exists(t);return console.log(`updating the content of the file ${t}`,n),n&&await a(t),n}),l);t(Nt,c)}),[])),{isFavorite:g,toggleFavorite:E}=Yo();if(!n)return null;const y=1===n.length?`Git Branches in ${o().basename(n[0].repoRoot)}`:"Git Branches";return a.createElement(om.GI,{interactions:"all",minHeight:55,minWidth:300,bounds:c,onBoundsChange:(e,t)=>{"resize"===t&&l({width:e.width,height:e.height}),m(e)}},a.createElement(Am.F,{header:a.createElement(om.GI.Header,{hasControls:!0},a.createElement(km,null,a.createElement(Pm,null,y),a.createElement(da.o,null,a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Fetch"})},a.createElement(fa.hU,{onPress:()=>{ht(),t()}},a.createElement(R.vq,{icon:"vcs/fetch.svg"}))),a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Restore Popup Size"})},a.createElement(fa.hU,{isDisabled:void 0===r,onPress:()=>{l(void 0),m((e=>{let{width:t,height:n,...r}=e;return{...r}}))}},a.createElement(R.vq,{icon:"general/fitContent.svg"})))))),content:a.createElement(pa.w,{"aria-label":y,submenuBehavior:"toggleOnPress",fillAvailableSpace:!0,autoFocus:"first",disabledKeys:n.flatMap((e=>{let{localBranches:t,repoRoot:n}=e;return t.filter((e=>{let{trackingBranch:t}=e;return!t})).map((e=>{let{name:t}=e;return`${n}/pull-${t}`}))})),onAction:e=>{const[t,r,o]=`${e}`.split("//");async function l(e){try{await e()}catch(t){t instanceof i.D1.CheckoutConflictError?p.show({icon:"Error",title:"Git Checkout Problem",body:t.message}):p.show({icon:"Error",title:"Checkout failed",body:`Could not checkout branch ${r}`})}}if(e===d?.id)return d?.perform();switch(o){case"delete":return u(t,r).then((()=>{p.show({title:`Deleted branch: ${r}`,icon:"Info",actions:a.createElement(Em.g,{onPress:ht},"Restore")})}),(()=>{p.show({title:`Could not deleted branch: ${r}`,icon:"Error"})}));case"rename":return h.open((e=>{let{close:n}=e;return a.createElement(Im,{repoRoot:t,branchName:r,close:n})}));case"checkout":return l((()=>f(t,r)));case"remote-checkout":return function(){const e=n?.find((e=>{let{repoRoot:n}=e;return n===t}))?.remoteBranches.find((e=>{let{name:t,remote:n}=e;return`${n}/${t}`===r}));if(e)return l((()=>f(t,e.name,e.remote)))}();default:return ht()}},onClose:t},d&&a.createElement(k.c,{key:d.id,textValue:d.title},a.createElement(B._,{icon:d.icon,content:d.title})),a.createElement(k.c,{key:"checkout_revision"},"Checkout Tag or Revision..."),n.flatMap((e=>{let{remoteBranches:t,localBranches:r,repoRoot:i,currentBranch:l}=e;const c=(e,t)=>n.length>1?`${e} in ${o().basename(t)}`:e,s=(e,t)=>[!t&&a.createElement(k.c,{key:`${i}//${e}//compare-with-branch`},`Compare with '${e}'`),a.createElement(k.c,{key:`${i}//${e}//show-diff-with-working-tree`},"Show Diff with Working Tree"),a.createElement(Tn.i,{key:"compare-actions-divider"})],m=(e,t)=>t&&e!==t&&[a.createElement(k.c,{key:`${i}//${e}//rebase-current-onto`},`Rebase '${t}' onto '${e}'`),a.createElement(k.c,{key:`${i}//${e}//merge-into-current`},`Merge '${e}' onto '${t}'`),a.createElement(Tn.i,{key:"merge-actions-divider"})];return[a.createElement(ga.$,{key:`${i}//local_branches`,title:c("Local Branches",i)},r.map((e=>{let{name:t,trackingBranch:n}=e;const r=t===l?.name,o={branchName:t,branchType:"LOCAL",repoRoot:i};return a.createElement(k.c,{key:`${i}//${t}`,textValue:t,title:a.createElement(B._,{content:t,icon:a.createElement(yc,{isFavorite:g(o),isCurrent:r,onClick:()=>{E(o)}}),shortcut:n&&a.createElement(Dn.e.Hint,{small:!0},n)})},!r&&a.createElement(k.c,{key:`${i}//${t}//checkout`},"Checkout"),a.createElement(k.c,{key:`${i}//${t}//new-branch-from`},`New Branch from '${t}'...`),!r&&a.createElement(k.c,{key:`${i}//${t}//checkout-and-rebase-onto`},`Checkout and rebase onto '${t}'`),a.createElement(Tn.i,{key:"new-branch-actions-divider"}),s(t,r),m(t,l?.name),a.createElement(k.c,{key:`${i}//${t}//pull`},"Update"),a.createElement(k.c,{key:`${i}//${t}//push`},"Push..."),a.createElement(Tn.i,{key:"push-divider"}),a.createElement(k.c,{key:`${i}//${t}//rename`},"Rename..."),!r&&a.createElement(k.c,{key:`${i}//${t}//delete`},"Delete"))}))),a.createElement(ga.$,{key:`${i}//remote_branches`,title:c("Remote Branches",i)},t.map((e=>{const t=`${e.remote}/${e.name}`,n={branchName:t,branchType:"REMOTE",repoRoot:i};return a.createElement(k.c,{key:`${i}//${t}`,textValue:t,title:a.createElement(B._,{content:t,icon:a.createElement(yc,{isFavorite:g(n),onClick:()=>{E(n)}})})},a.createElement(k.c,{key:`${i}//${t}//remote-checkout`},"Checkout"),a.createElement(k.c,{key:`${i}//${t}//new-branch-from`},`New Branch from '${t}'...`),a.createElement(k.c,{key:`${i}//${t}//checkout-and-rebase-onto`},`Checkout and rebase onto '${t}'`),a.createElement(Tn.i,{key:"new-branch-actions-divider"}),s(t,!1),m(t,l?.name),a.createElement(k.c,{key:`${i}//${t}//pull-into-using-merge`},`Pull into '${t}' Using Merge`),a.createElement(k.c,{key:`${i}//${t}//pull-into-using-rebase`},`Pull into '${t}' Using Rebase`),a.createElement(Tn.i,null),a.createElement(k.c,{key:`${i}//${t}//delete`},"Delete"))})))]})))}))}Tm.__docgenInfo={description:"",methods:[],displayName:"BranchesPopup",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let Bm=!1;function Nm(){const e=(0,A.Dv)(Ln(gm)),t=(()=>{const e=(0,v.L)(),t=(0,A.Dv)(Xe),n=(0,b.DI)();return async()=>{t.length<2&&!Bm&&(Bm=!0,e.showSticky({title:"Clone another repository",icon:a.createElement(R.vq,{icon:"actions/quickfixOffBulb.svg"}),body:"Git integration in the example app supports multiple repos within the same project. See it in action by cloning another repo",actions:a.createElement(a.Fragment,null,a.createElement(Em.g,{onPress:()=>{n("ExampleApp.cloneExampleRepo")}},"Clone another repo"))}))}})();return e&&a.createElement(dm.q,{placement:"top",onOpenChange:e=>{e||setTimeout(t,500)},popup:e=>{let{close:t}=e;return a.createElement(Tm,{close:t})}},a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:e.detached?"Git: Detached HEAD doesn't point to any branch":`Git Branch: ${e.head}`})},a.createElement(Xs.V,{icon:a.createElement(R.vq,{icon:e.detached?"general/warning.svg":"vcs/branch.svg"}),label:e.head.slice(0,e.detached?8:void 0)})))}Nm.__docgenInfo={description:"",methods:[],displayName:"BranchPopupTrigger"};const xm=d.ZP.div.withConfig({displayName:"IdeStatusBar__StyledLastMessage",componentId:"sc-1hz1fp-0"})(["margin-left:0.75rem;cursor:pointer;"]),Fm=()=>{const e=(0,A.Dv)(Lt);return a.createElement(Js.A,{left:a.createElement(a.Fragment,null,a.createElement(R.vq,{icon:"general/tbHidden.svg",role:"button",onClick:ht}),a.createElement(xm,null,"Tooltip content or last message will show up here.")),right:a.createElement(a.Fragment,null,a.createElement(mm,null),a.createElement(Xs.V,{onPress:ht,label:"LF"}),a.createElement(Xs.V,{onPress:ht,label:`${e.lineNumber},${e.column}`}),a.createElement(Xs.V,{label:"UTF-8"}),a.createElement(dc.b,{renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{onAction:ht}),a.createElement(k.c,null,"Configure Indents for Typescript"),a.createElement(k.c,null,"Disable Indents Detection for Project"))}},((e,t)=>a.createElement(Xs.V,(0,u.Z)({},e,{ref:t,label:"2 spaces"})))),a.createElement(dc.b,{renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{onAction:ht}),a.createElement(k.c,{title:"Compile"},a.createElement(k.c,null,"packages/jui/tsconfig.json"),a.createElement(k.c,null,"packages/jui/src/StatusBar/StatusBar.stories.tsx"),a.createElement(k.c,null,"Compile All")),a.createElement(Tn.i,null),a.createElement(k.c,null,a.createElement(B._,{icon:a.createElement(R.vq,{icon:"javaee/updateRunningApplication.svg"}),content:"Restart Typescript Service"})),a.createElement(k.c,null,a.createElement(B._,{icon:a.createElement(R.vq,{icon:"general/settings.svg"}),content:"Configure Typescript..."})))}},((e,t)=>a.createElement(Xs.V,(0,u.Z)({},e,{ref:t,label:"TypeScript 4.4.3"})))),a.createElement(Nm,null),a.createElement(Xs.V,{icon:a.createElement(R.vq,{icon:"ide/readwrite.svg"})}),a.createElement(Xs.V,{icon:a.createElement(R.vq,{icon:"ide/fatalError.svg"})}))})};Fm.__docgenInfo={description:"",methods:[],displayName:"IdeStatusBar"};var Lm=n(6468);const Om=()=>a.createElement(I.v2,{disabledKeys:["showDiff"],"aria-label":"Context menu",onAction:ht},a.createElement(k.c,{key:"showDiff",textValue:"Show Diff"},a.createElement(B._,{icon:a.createElement(R.vq,{icon:"actions/diff.svg"}),content:"Show Diff"})));Om.__docgenInfo={description:"",methods:[],displayName:"RollbackTreeContextMenu"};const _m=E.zo.div`
  box-sizing: border-box;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 0;
`,Mm=E.zo.div`
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  flex: 1;
  overflow: auto;
`,Gm=E.zo.div`
  &:not(:empty) {
    line-height: 1.5;
    padding-left: 0.375rem;
    margin-bottom: 0.75rem;
  }
`;function Km(){const e=(0,A.Dv)(Jr.initiallyExpandedKeysAtom),t=(0,A.Dv)(Jr.initiallyIncludedChangesAtom).map(Fr),{fileCountsMap:n}=(0,A.Dv)(go),[r,o]=(0,A.KO)(Jr.windowBoundsAtom),i=(0,A.Dv)(Jr.rootNodesAtom),[l,c]=(0,a.useState)(new Set(t.slice(0,1))),[s,m]=(0,a.useState)(e),[d,p]=(0,a.useState)(new Set(t)),h=(0,Lm.T)({rootNodes:i,getKey:e=>e.key,getChildren:e=>Or(e)?e.children:null},{selectedKeys:d,onSelectedKeysChange:p}),f=(0,A.Dv)(br).filter((e=>d.has(Fr(e)))),g=(0,ve.lV)(wr),E=(0,v.L)(),y=(0,A.b9)(Jr.isOpenAtom),C=()=>y(!1),w=(0,a.useRef)(null),S=(0,un.x)({treeRef:w}),[P,T]=(0,a.useState)(!1),B=f.some((e=>"ADDED"===e.type));return a.createElement(Vn.Du,{onClose:C,bounds:r,onBoundsChange:o,minHeight:200,minWidth:275},a.createElement(Un.b,{header:"Rollback changes",content:a.createElement(b.DG,{actions:S},(e=>{let{shortcutHandlerProps:t}=e;return a.createElement(_m,t,a.createElement("div",{style:{display:"flex"}},a.createElement(da.o,null,a.createElement(fa.hU,{isDisabled:!0},a.createElement(R.vq,{icon:"actions/diff"})),a.createElement(ua.p,{renderMenu:e=>{let{menuProps:t}=e;return a.createElement(I.v2,(0,u.Z)({},t,{selectedKeys:[],onAction:ht}),a.createElement(ga.$,{title:"Group By"},Hr.map((e=>a.createElement(k.c,{key:e.id},e.title)))))}},a.createElement(R.vq,{icon:"actions/groupBy.svg"}))),a.createElement("span",{style:{flex:1}}),a.createElement(da.o,null,a.createElement(pn.K,{actionId:ft.$.EXPAND_ALL}),a.createElement(pn.K,{actionId:ft.$.COLLAPSE_ALL}))),a.createElement(Mm,null,a.createElement(D.X,{renderMenu:()=>a.createElement(Om,null),style:{height:"100%"}},a.createElement(Do.G,{treeRef:w,items:i,selectionMode:"multiple",selectedKeys:l,onSelectionChange:c,expandedKeys:s,onExpandedChange:m,nestedSelection:h,fillAvailableSpace:!0},(e=>{const t=ca.getItemProps({node:e,fileCountsMap:n});return a.createElement(k.c,t,0!==e.children?.length&&a.createElement(Io.x,{selectionState:h.getSelectionState(e),onToggle:()=>h.toggle(e)}),t.children)})))))})),footer:a.createElement(a.Fragment,null,a.createElement("div",{style:{padding:".5rem 0.75rem 0",display:"flex",flexDirection:"column"}},a.createElement(Gm,null,a.createElement(yi,{changes:f})),a.createElement(jn.X,{isDisabled:!B,isSelected:P,onChange:T,mnemonic:"D"},"Delete local copies of the added files")),a.createElement(Un.b.Footer,{right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:C,mnemonic:"C"},"Close"),a.createElement($n.z,{variant:"default",mnemonic:"R",isDisabled:0===f.length,onPress:()=>{g(f,P).catch((e=>{E.show({title:"Reverting changes failed",icon:"Error",body:"Could not revert selected changes. See console for more info"}),console.error("Git revert error:",e)})).finally(C)}},"Rollback"))}))}))}Km.__docgenInfo={description:"",methods:[],displayName:"RollbackWindow"};const Hm=(0,H.cn)(new ln.iC(Object.fromEntries(Zs.map((e=>{let{id:t,initialState:n}=e;return[t,n]}))),{removedFromSideBarIds:Zs.filter((e=>{let{showStripeButton:t}=e;return!1===t})).map((e=>{let{id:t}=e;return t}))}));var Vm=n(24242),Um=n(34631),jm=n(86094);const $m=[{actionId:ft.$.EXPAND_SELECTION,title:"Press $shortcut to expand selection"},{actionId:ft.$.SHRINK_SELECTION,title:"Press $shortcut to shrink selection"}],Qm=()=>{const e=(0,c.og)(),t=(0,a.useMemo)((()=>$m.map((t=>{let{actionId:n,title:r}=t;return{keyboardShortcut:e?.[n]?.find((e=>"keyboard"===e.type)),title:r}})).filter((e=>{let{keyboardShortcut:t}=e;return t})).map((e=>{let{keyboardShortcut:t,title:n}=e;return n.replace("$shortcut",(0,jm.W)(t))}))),[e]),[n,r]=(0,a.useState)(Math.floor(Math.random()*t.length));return{current:t[n],next:()=>{const e=Math.floor(Math.random()*(t.length-1)),o=e<n?e:e+1;console.log("changing index to",o,"tmpIndex",e),r(o)}}};var qm=n(40566),zm=n(29412);const Wm=a.forwardRef((function(e,t){const n=(0,qm.B)(t),{focusableProps:r}=(0,zm.k)({autoFocus:e.autoFocus},n);return a.createElement("input",(0,u.Z)({},(0,G.d)(r,e),{ref:n}))}));Wm.__docgenInfo={description:"",methods:[],displayName:"Input"};const Ym={isOpen:(0,H.cn)(!1),tab:(0,H.cn)("All"),contextElement:(0,H.cn)(null),initialSearchQuery:(0,W.xu)((e=>(0,H.cn)(""))),bounds:(0,H.cn)(null)};function Zm(e){let{hasContent:t,persistedBoundsAtom:n,noContentHeight:r,minHeight:o,...i}=e;const l=(0,A.b9)(n),[c,s]=(0,a.useState)((0,A.Dv)(n)??{top:150,height:Math.max(200,window.innerHeight-300)}),m=(0,a.useRef)(c.height);return(0,a.useEffect)((()=>{s((e=>({...e,height:t?m.current:r})))}),[t]),a.createElement(om.GI,(0,u.Z)({},i,{bounds:c,onBoundsChange:e=>{t&&(m.current=e.height,l(e)),s(e)},minHeight:t?o:r}))}Zm.__docgenInfo={description:"A special type of popup, where the content can be toggled on and off. Needed only for SearchEveryWhere at the moment,\nbut extracted as a component, to collocate related pieces, rather than leave them with the rest of the code in the\ncomponent.\n- Updates persisted {@param boundsState}, when the bounds are changed, only if the content is shown when the bounds\n  is changed.\n- Minimizes the popup into {@param noContentHeight}, when {@param hasContent} is `false`.\n- Restores the popup height to it's latest value, or based on content, when {@param hasContent} changes to `true`.\n- Returns the right to be applied based on the input {@param minHeight} and {@param hasContent}.",methods:[],displayName:"ContentAwarePopup",props:{hasContent:{required:!0,tsType:{name:"boolean"},description:"Whether the popup has content. If `false`, the popup is minimized to `noContentHeight`."},noContentHeight:{required:!0,tsType:{name:"number"},description:"The minimized height of the popup, when there is no content."},persistedBoundsAtom:{required:!0,tsType:{name:"WritableAtom",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]},{name:"tuple",raw:"[Partial<Bounds> | null]",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]}]},{name:"void"}],raw:"WritableAtom<\n  Partial<Bounds> | null,\n  [Partial<Bounds> | null],\n  void\n>"},description:"Persisted state of the popup bounds, in form of an atom."}}};var Jm=n(77629),Xm=n(35256),ed=n(85392);const td=E.zo.span`
  width: 0.9375rem;
  margin-right: 0.25rem;
  display: inline-flex;
  justify-content: center;
`,nd=(0,E.zo)(Dn.e)`
  min-height: 1.375rem;
  width: 100%;
  padding: 0;
`,rd=E.zo.span`
  color: ${e=>{let{theme:t,isDisabled:n}=e;return n&&t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
`,od=E.zo.div`
  flex: 1;
`;function ad(e){let{action:t,highlights:n}=e;const{isSelected:r}=(0,a.useContext)(kn.k)||{};return a.createElement(nd,null,a.createElement(td,null,t.icon),a.createElement(rd,{isDisabled:t.isDisabled},r?a.createElement(Xm.x,{highlights:n},t.title):t.title),a.createElement(Dn.e.Hint,{style:{fontSize:".85em",fontWeight:"bold"}},t.shortcut),a.createElement(od,null),a.createElement(Dn.e.Hint,{style:{marginRight:"-0.375rem"}},function(e,t){let n=(0,ed.nf)(e)?e.parent:null;const r=[];for(;n;)r.unshift(t?n[t]:n),n=n.parent;return r}(t,"title").join(" | ")))}ad.__docgenInfo={description:"UI of actions in SearchEverywhere list",methods:[],displayName:"ActionItem",props:{action:{required:!0,tsType:{name:"Action"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:""}}};const id={id:"Actions",title:"Actions",actionId:ft.$.GO_TO_ACTION,use:e=>{let{everyWhereAutoSet:t}=e;const n=(0,A.Dv)(Ym.contextElement),[r,o]=(0,a.useState)(null),i=(0,a.useMemo)((()=>n?(0,b.C9)(n):[]),[n]),l=r??t,c=[{id:ft.$.SHOW_INTENTION_ACTIONS,title:"Assign a shortcut",actionPerformed:ht}];return{search:e=>{const t=i.map((t=>({highlights:(0,Jm.M)(t.title,e),action:t}))).filter((t=>{let{action:n,highlights:r}=t;return r||(0,Jm.M)(n.description||"",e)}));return l?t:t.filter((e=>{let{action:t}=e;return!t.isDisabled}))},searchDeps:[l],isEverywhere:l,toggleEverywhere:()=>{o((e=>!e))},searchAdvertiser:a.createElement(gt.i,{actionId:ft.$.SHOW_INTENTION_ACTIONS},(e=>`Press ${e} to assign a shortcut`)),headerFilters:a.createElement(jn.X,{preventFocus:!0,isSelected:l,onChange:e=>{o(e)}},"Include disabled actions"),actions:c,processSelectedItem(e){let{action:t}=e;t?.perform({event:null,element:n})},getKey:e=>{let{action:t}=e;return t.id},getItemText(e){let{action:{title:t}}=e;return t},renderItem(e){let{action:t,highlights:n}=e;return a.createElement(ad,{action:t,highlights:n})}}}};var ld=n(65617);function cd(e){let{file:t,matches:n}=e;const{isSelected:r}=(0,a.useContext)(kn.k)||{},i=t.name,l=o().dirname(t.relativePath),[c,s]=(0,ld.Z)((e=>e.from>=l.length),n||[]),m=s.map((e=>{let{from:t,to:n}=e;return{from:t-l.length,to:n-l.length}}));return a.createElement(nd,null,a.createElement(td,null,a.createElement(R.vq,{icon:$(t.path)})),a.createElement(rd,null,r?a.createElement(Xm.x,{highlights:m},i):i),a.createElement(Dn.e.Hint,null,r?a.createElement(Xm.x,{highlights:c},l):l))}cd.__docgenInfo={description:"UI of paths in SearchEverywhere list.",methods:[],displayName:"FileItem",props:{file:{required:!0,tsType:{name:"ProjectFsItem"},description:""},matches:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:"matches on file.relativePath"}}};const sd={id:"Files",title:"Files",actionId:ft.$.GO_TO_FILE,use:()=>{const e=(0,A.Dv)(Ln(Le))??[],{openPath:t}=$t(),n=wn();return{search:t=>e.map((e=>({matches:(0,Jm.M)(e.relativePath,t),file:e}))).filter((e=>{let{matches:t}=e;return t?.length})),searchDeps:[],isEverywhere:!0,processSelectedItem(e){let{file:r}=e;"file"===r?.type&&t(r.path,!0),"dir"===r?.type&&n(r.path)},getKey(e){let{file:t}=e;return t.path},renderItem(e){let{file:t,matches:n}=e;return a.createElement(cd,{file:t,matches:n})},getItemText(e){let{file:{relativePath:t}}=e;return t}}}},md="SearchEverywhere.PrevTab",dd="SearchEverywhere.NextTab",ud=E.zo.div`
  display: flex;
  width: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Header.background")}};
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,pd=E.zo.button`
  all: unset;
  background: ${e=>{let{theme:t,selected:n}=e;return n&&t.color("SearchEverywhere.Tab.selectedBackground")}};
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Tab.selectedForeground")}};
  opacity: ${e=>{let{disabled:t}=e;return t&&".5"}};
`,hd=E.zo.span`
  display: flex;
  padding: 0 0.75rem;
  height: 1.8rem;
  align-items: center;
`,fd=E.zo.div`
  line-height: normal;
  border-bottom: none;
`,gd=E.zo.div`
  display: flex;
  flex-shrink: 0;
  height: 1.85rem;
  align-items: center;
  padding: 0 0.75rem 0;
  gap: 0.75rem;

  input {
    all: unset;
    flex: 1;
    line-height: 1.25;

    &::selection {
      color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}};
      background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
    }
  }
`,Ad=E.zo.div`
  height: 24rem;
  flex: 1;
  min-height: 0; // for it to properly fill the remaining height and not to exceed that
`,Ed=E.zo.hr`
  all: unset;
  height: 1px;
  width: 100%;
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,yd=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.infoForeground")}};
  white-space: nowrap;
`,vd=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("SearchEverywhere.SearchField.infoForeground"))}};
  font-size: 0.7rem;
  min-height: 1.375rem;
`,Cd=E.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  position: absolute;
  text-align: center;
  width: 100%;
  top: 50%;
`,bd=[id,sd],wd={},Sd="LOAD_MORE_ITEM_KEY";function Dd(){const e=(0,A.b9)(Ym.isOpen),[t,n]=(0,A.KO)(Ym.tab),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)((0,A.Dv)(Ym.initialSearchQuery(t))),c=(0,A.b9)(Ym.initialSearchQuery(t)),s=(0,gt.k)(),[m,d]=(0,a.useState)(new Set),p={};bd.forEach((e=>{p[e.id]={...e,...e.use({everyWhereAutoSet:r})}}));const h=bd.filter((e=>""===t||e.id===t)).map((e=>{let{id:t}=e;return p[t]})),[f,g]=(0,a.useState)(30),{searchResult:E}=(0,a.useMemo)((()=>({searchResult:h.flatMap((e=>e.search(i).map((t=>({key:`${e.id}_${e.getKey(t)}`,contributor:e,item:t})))))})),[i,t,...h.flatMap((e=>{let{searchDeps:t}=e;return t}))]),y=p[t],v=(0,a.useMemo)((()=>{const e=E.slice(0,f);return E.length>e.length&&e.push({key:Sd,item:wd,contributor:null}),e}),[f,E]),C=(0,a.useRef)(null);(0,a.useEffect)((()=>{i&&c(i)}),[i,t]),(0,a.useEffect)((()=>{if(E[0]){const{key:e}=E[0];d(new Set([e])),P.current?.setFocusedKey(e),requestAnimationFrame((()=>{P.current?.setFocusedKey(e)}))}g(30)}),[E]);const w=[{id:md,title:"Prev tab",description:"Switch to previous tab in Search Everywhere dialog",actionPerformed:()=>{const e=bd.findIndex((e=>{let{id:n}=e;return t===n}));n(""===t?bd.slice(-1)[0].id:bd[e-1]?.id||"")}},{id:dd,title:"Next tab",description:"Switch to next tab in Search Everywhere dialog",actionPerformed:()=>{const e=bd.findIndex((e=>{let{id:n}=e;return t===n}));n(bd[e+1]?.id||"")}}],S=bd.flatMap((e=>{let{id:r,actionId:o,title:a}=e;return o?[{id:o,title:`Find ${a}`,description:`Quickly go to ${a} by name`,actionPerformed:()=>{t!==r?n(r):y?.toggleEverywhere?.()}}]:[]})),D=()=>e(!1),I=(0,a.useRef)(null),P=(0,a.useRef)(null),T=e=>{if(e===Sd){g((e=>e+30));const e=E[v.length+1];e&&setTimeout((()=>{d(new Set([e.key])),P.current?.setFocusedKey(e.key)}))}else D(),setTimeout((()=>{const t=E.find((t=>t.key===e));t?.contributor.processSelectedItem(t.item)}),50)},B=Qm();return a.createElement(Zm,{persistedBoundsAtom:Ym.bounds,hasContent:Boolean(i),noContentHeight:59,minWidth:670,minHeight:160,interactions:"all",onClose:D},a.createElement(b.DG,{actions:[...y?.actions||[],...S,...w]},(e=>{let{shortcutHandlerProps:r}=e;return a.createElement("div",(0,u.Z)({},r,{style:{height:"inherit"}}),a.createElement(om.GI.Layout,{header:a.createElement(a.Fragment,null,a.createElement(om.GI.Header,{hasControls:!0},a.createElement(ud,null,a.createElement("div",{style:{flex:1}},a.createElement(Vm.m,{TabComponent:pd,TabsComponent:fd,selectedKey:t,onSelectionChange:e=>n(e)},a.createElement(k.c,{key:""},a.createElement(hd,null,"All")),bd.map((e=>{const t=s(e.actionId),n=a.createElement(hd,null,e.title);return a.createElement(k.c,{key:e.id},t?a.createElement(N.a,{tooltip:a.createElement(bl.u,null,t)},a.createElement("span",null,n)):n)})))),y?.headerFilters,a.createElement(fa.hU,{style:{margin:"0 0.5rem"},isDisabled:!0},a.createElement(R.vq,{icon:"actions/moveToLeftBottom"})))),a.createElement(gd,null,a.createElement(R.vq,{icon:"actions/search"}),a.createElement(Um.MT,{contain:!0},a.createElement(Wm,{ref:I,autoFocus:!0,onFocus:e=>{e.target.select()},value:i,onChange:e=>(e=>{const t=C.current&&e.includes(C.current);y?.isEverywhere&&!t&&o(!1),l(e)})(e.currentTarget.value)})),a.createElement(yd,null,y?.searchAdvertiser))),content:a.createElement(a.Fragment,null,a.createElement(Ed,null),i&&a.createElement(Ad,null,a.createElement(Dc.a,{focusProxyRef:I,selectionManagerRef:P,items:v,selectionMode:"single",showAsFocused:!0,shouldFocusWrap:!0,fillAvailableSpace:!0,selectedKeys:m,onSelectionChange:d,onAction:T},(e=>{let{key:t,item:n,contributor:r}=e;if(t===Sd)return a.createElement(k.c,{key:Sd},a.createElement(vd,null,"...more"));const o=r.getItemText(n);return a.createElement(k.c,{key:t,textValue:o,"aria-label":o},r.renderItem(n))})),0===E.length&&a.createElement(Cd,null,"No actions with such name found"))),footer:a.createElement(om.GI.Hint,null,B.current," ",a.createElement(ut.r,{onPress:B.next},"Next Tip"))}))})))}Dd.__docgenInfo={description:"TODO: implement history navigation",methods:[],displayName:"SearchEverywherePopup"};const Id=async(e,t,n)=>{const r=await i.ZP.findRoot({fs:de,filepath:n});await i.ZP.add({fs:de,dir:r,filepath:o().relative(r,n)}),await it(e,t,n)};var kd=n(92012),Pd=n(6507);const Rd=(0,E.zo)(kd.I)`
  width: 20.5rem;
  /**
     * To have the validation box shadow not clipped by the popup.
     * Maybe it should be an option on input to make sure margin is always in sync with the box-shadow thickness
     */
  margin: 3px;

  input {
    padding-top: 1px;
    padding-bottom: 1px;
  }
`,Td=(0,E.zo)(om.GI.Header)`
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.border()}};
`;function Bd(e){let{title:t,inputName:n="Name",onSubmit:r,validationMessage:o,validationType:i="error",value:l,onChange:c}=e;const[s,m]=(0,a.useState)(!1);return a.createElement(om.GI,null,a.createElement(Am.F,{header:a.createElement(Td,null,t),content:a.createElement("form",{onSubmit:e=>{e.preventDefault(),r()},onMouseDown:()=>{m(!0)}},a.createElement(Wi.S,{isOpen:Boolean(o)&&!s,placement:"top start",offset:6,crossOffset:-6,tooltip:a.createElement(Pd.p,{type:i},o)},a.createElement(Rd,{appearance:"embedded",validationState:o?i:void 0,placeholder:n,value:l,onChange:e=>{m(!1),c(e.target.value)}})))}))}Bd.__docgenInfo={description:"A simple Popup with an input, used in actions such as create file, or create directory",methods:[],displayName:"NewItemPopup",props:{inputName:{defaultValue:{value:'"Name"',computed:!1},required:!1,tsType:{name:"string"},description:""},validationType:{defaultValue:{value:'"error"',computed:!1},required:!1,tsType:{name:"union",raw:'"error" | "warning"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{name:"newValue",type:{name:"string"}}],return:{name:"void"}}},description:""},validationMessage:{required:!1,tsType:{name:"string"},description:""}}};const Nd=er({id:Bn.NewFile,icon:a.createElement(R.vq,{icon:"fileTypes/text"}),title:"File",description:"Create new file",isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async e=>{let{get:t}=e;const n=t(_e);if(0===n.length)return;const r=t(Ke).current,i=(await de.promises.stat(n[0])).isDirectory()?n[0]:o().dirname(n[0]);if(!r)throw new Error("Could not find popup manager");r.show((e=>{let{close:t}=e;return a.createElement(xd,{close:t,destinationDir:i})}))}});function xd(e){let{destinationDir:t,close:n}=e;const r=(0,ve.lV)((0,a.useCallback)((async(e,t,r,i)=>{const l=o().join(r,i),c=e(Ut),s=e(He).current,m=await e(et(l));await(async(e,t,n,r)=>{const a=o().join(n,r);if(await se(de.promises,o().dirname(a)),await de.promises.exists(a))throw new Error(`File ${a} already exists`);await de.promises.writeFile(a,"","utf-8"),t(ye(a)),e(Ut).openPath(a),await it(e,t,a),t(Ae(n))})(e,t,r,i),n(),c.focus(),await Ld((()=>document.activeElement instanceof HTMLTextAreaElement)),m&&s?.open((e=>{let{close:t}=e;return a.createElement(Fd,{filepath:l,close:t})}))}),[n])),[i,l]=(0,a.useState)(""),[c,s]=(0,a.useState)("");return a.createElement(Bd,{title:"New File",onSubmit:()=>{i&&(async()=>{const e=o().join(t,i),n=await me(e);n?.isFile()?s(`A file with the name '${o().basename(i)}' already exists`):n?.isDirectory()?s(`A directory with the name '${o().basename(i)}' already exists`):await r(t,i)})()},value:i,onChange:e=>{s(""),l(e)},validationMessage:c})}function Fd(e){let{close:t,filepath:n}=e;const r=(0,ve.lV)(Id);return a.createElement(Vn.Du,{minWidth:"content",minHeight:"content"},a.createElement(Un.b,{header:"Add File to Git",content:a.createElement(a.Fragment,null,a.createElement("div",{style:{display:"flex",gap:"1rem",padding:"0.75rem 0.75rem 0rem"}},a.createElement(R.vq,{icon:"general/questionDialog.svg",size:32}),a.createElement("div",null,"Do you want to add the following file to Git?",a.createElement("br",null),n,a.createElement("br",null),a.createElement("br",null),"If you choose Cancel, you can still add it later manually."))),footer:a.createElement(Un.b.Footer,{left:a.createElement(jn.X,{isDisabled:!0},"Don't ask again"),right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:t},"Cancel"),a.createElement($n.z,{autoFocus:!0,variant:"default",onPress:()=>{r(n).then(t)}},"Add"))})}))}async function Ld(e,t){void 0===t&&(t=2e3),e()||t<0||(await new Promise((e=>setTimeout(e,50))),await Ld(e,t-50))}const Od=er({id:Bn.NewDir,icon:a.createElement(R.vq,{icon:U}),title:"Directory",description:"Create new directory",isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async e=>{let{get:t}=e;const n=t(_e);if(0===n.length)return;const r=t(Ke).current,i=(await de.promises.stat(n[0])).isDirectory()?n[0]:o().dirname(n[0]);if(!r)throw new Error("Could not find popup manager");r.show((e=>{let{close:t}=e;return a.createElement(_d,{close:t,destinationDir:i})}))}});function _d(e){let{destinationDir:t,close:n}=e;const r=(0,ve.lV)(Zn),[o,i]=(0,a.useState)(""),[l,c]=(0,a.useState)(null),s=(e=>{const t=(0,a.useRef)(null),n=(0,a.useRef)(e);return n.current=e,function(){t.current?.abort(),t.current=new ie.qf.cancelToken;for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];(0,ie.qf)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n.current(...r)}))(t.current,...r)}})((function*(e,t){c(yield Md(e,t))}));(0,a.useEffect)((()=>{s(t,o)}),[t,o]);return a.createElement(Bd,{title:"New Directory",onSubmit:()=>{o&&(async()=>{null==await Md(t,o)&&(await r(t,o),n())})()},value:o,onChange:i,validationMessage:l?.message,validationType:l?.type})}const Md=async function(e,t){const n=o().join(e,t);if(!t)return null;if(t.includes("."))return{type:"warning",message:'Note: "." in the name is treated as a regular character. Use "/" instead if you mean to create nested directories'};let r=await me(n);return r?.isFile()?{type:"error",message:`A file with the name '${t}' already exists`}:r?.isDirectory()?{type:"error",message:`A directory with the name '${t}' already exists`}:null},Gd=er({id:Bn.CopyFileName,title:"File Name",isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async e=>{let{get:t}=e;ht();t(_e).length}}),Kd=er({id:Bn.CopyAbsolutePath,title:"Absolute Path",isDisabled:(0,H.cn)((e=>!e(Me))),useShortcutsOf:"CopyPaths",actionPerformed:async e=>{let{get:t}=e;ht();t(_e).length}}),Hd=er({id:Nr.CopyPathFromRepositoryRootProvider,title:"Path From Repository Root",isDisabled:(0,H.cn)((e=>!e(Me))),actionPerformed:async e=>{let{get:t}=e;ht();t(_e).length}}),Vd=(e,t,n,r)=>{let{element:o}=n;o&&(t(Ym.isOpen,!0),t(Ym.tab,r),t(Ym.contextElement,o))};function Ud(){const e=(0,ve.lV)(Vd),t=(0,St.w)(),n=(0,A.Dv)(Nd),r=(0,A.Dv)(Od),o=t({id:Bn.NewElement,title:"New...",description:"Create new class, interface, file or directory",isSearchable:!0,children:[n,r]}),a=t({id:Bn.CopyReferencePopupGroup,title:"Copy Path/Reference...",menuPresentation:"none",children:[t({id:Bn.CopyFileReference,title:"Copy File Reference",isSearchable:!1,menuPresentation:"section",children:[(0,A.Dv)(Kd),(0,A.Dv)(Gd),(0,A.Dv)(Hd)]})]});return[{id:ft.$.GO_TO_ACTION,title:"Find Action",description:"Quickly navigate to action by name",actionPerformed:t=>{e(t,"Actions")}},{id:ft.$.GO_TO_FILE,title:"Go to file",description:"Quickly navigate to file by name",actionPerformed:t=>{e(t,"Files")}},o,a]}const jd=a.createContext(null),$d=()=>{const e=(0,a.useContext)(jd);return{open:t=>{e?.current?.changeState((e=>e.show(t))),e?.current?.focus(t)}}},Qd=()=>{const e=(0,ve.lV)(So),t=ct();return[Wd(),Yd(),Zd(),{id:Nr.ROLLBACK,title:"Rollback...",icon:a.createElement(R.vq,{icon:"actions/rollback.svg"}),actionPerformed:t=>{e(Boolean(t))}},{id:Nr.REFRESH,title:"Refresh VCS Changes",description:"Refresh VCS Changes",icon:a.createElement(R.vq,{icon:"actions/refresh.svg"}),actionPerformed:t},{id:Nr.SHOW_DIFF,title:"Show Diff",icon:a.createElement(R.vq,{icon:"actions/diff.svg"}),actionPerformed:ht},{id:Nr.SHELVE,title:"Shelve Changes...",description:"Save changes to an external patch file and remove them from the code",icon:a.createElement(R.vq,{icon:"vcs/shelve.svg"}),actionPerformed:ht},...Jd()]},qd=new Jn.C("{count, plural,\n    =1 {Commit File...}\n    other {Commit Files...}\n  }","en-US"),zd=new Jn.C("{count, plural,\n    =1 {Commit Directory...}\n    other {Commit Directories...}\n  }","en-US");function Wd(){const e=(0,ve.lV)(wo),t=$d(),n=(0,A.Dv)(_e),r=(0,A.Dv)(Ln(Le)),a=zn(n),i=(0,A.Dv)(br),l=a.some((e=>i.find((t=>function(e,t){const n=o().relative(e,t);return!n||!n.startsWith("..")&&!o().isAbsolute(n)}(e,Er.path(t)))))),c=a.every((e=>r?.some((t=>"dir"===t.type&&t.path===e))));return{id:Nr.CHECKIN_FILES,title:c?zd.format({count:a.length}):qd.format({count:a.length}),isDisabled:!l,actionPerformed:()=>{e(),t.open(Hi),Fi()}}}function Yd(){const e=$d(),t=(0,ve.lV)((0,a.useCallback)(((e,t)=>{const n=e(so);let r=n.values().next().value;if(0===n.size){const n=e(Dr)?.changes.map(Fr);t(so,new Set(n)),r=n?.[0]}if(r){const{rootNodes:n}=e(go);t(po,new Set([...e(po),...(0,$r.Bp)((e=>Or(e)?e.children:null),(e=>e.key),n,[r])])),t(oo,new Set([r]))}}),[]));return{id:Nr.CHECKIN_PROJECT,title:"Commit",actionPerformed:()=>{t(),e.open(Hi),Fi()}}}function Zd(){const e=$t(),t=(0,A.Dv)(lo);return{id:Nr.JUMP_TO_SOURCE,title:"Jump to source",icon:a.createElement(R.vq,{icon:"actions/editSource.svg"}),actionPerformed:()=>{[...t].forEach(((t,n,r)=>{const o=Er.path(t);o||e.openPath(o,n===r.length-1)}))}}}function Jd(){const e=(0,A.Dv)(lo),t=[{id:Nr.NEW_CHANGELIST,title:"New Changelist...",description:"Create new changelist",icon:a.createElement(R.vq,{icon:"general/add.svg"}),actionPerformed:ht}];return e.size>0&&t.push({title:"Move to Another Changelist...",description:"Move selected changes to another changelist",id:Nr.MOVE_TO_ANOTHER_CHANGELIST,actionPerformed:ht}),t}const Xd=E.zo.div`
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 1rem 0.875rem 0.25rem;
  gap: 0.6rem;
`,eu=E.zo.div`
  margin-left: -0.25rem; // to align with the field. Maybe something to look into in checkbox.
  display: flex;
  gap: 0.75rem;
`,tu={EXISTING:e=>a.createElement(a.Fragment,null,"Branch name ",e," already exists. ",a.createElement("br",null),"Change the name or overwrite existing branch"),CLASHING_WITH_REMOTE:e=>a.createElement(a.Fragment,null,"Branch name ",e," clashes with remote branch ",a.createElement("br",null),"with the same name")};function nu(e){let{close:t}=e;const[n,r]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1),c=(0,A.Dv)(pm),[s,m]=(0,a.useState)(!1),d=(0,v.L)(),u=(0,ve.lV)((0,a.useCallback)((function(e,t,n,r,o){return void 0===o&&(o=!0),(0,i.WY)({fs:de,dir:n,checkout:o,ref:r}).then((()=>{t(xo(n))}))}),[])),p=c?.currentBranch?.name,[h,f]=(0,a.useState)(p||""),g=vm(c,h),E=!g||"EXISTING"===g&&o,y=!E&&s?"error":"valid";return a.createElement(Vn.Du,{minWidth:"content",minHeight:"content"},a.createElement(Un.b,{header:"Create New Branch",content:a.createElement(Xd,{id:"create_branch_form",as:"form",onSubmit:e=>{e.preventDefault(),E&&c?.repoRoot?u(c.repoRoot,h,n).catch((e=>{e instanceof i.D1.AlreadyExistsError?d.show({icon:"Error",title:"Unimplemented action",body:"Overwrite option is currently not supported."}):d.show({icon:"Error",title:"Unexpected error",body:`Could not create branch ${h}.`}),console.error("Branch creation error: ",e)})).then((()=>{t()})):m(!0)}},a.createElement(ym.U,{autoFocus:!0,autoSelect:!0,value:h,onChange:e=>{f(bm(e)),m(!0)},validationState:y,validationMessage:"error"===y&&g&&tu[g](h),label:"New branch name:",labelPlacement:"above"}),a.createElement(eu,null,a.createElement(jn.X,{isSelected:n,onChange:r},"Checkout branch"),a.createElement(jn.X,{isSelected:o,isDisabled:!s||"EXISTING"!==g,onChange:l},"Overwrite existing branch"))),footer:a.createElement(Un.b.Footer,{right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:t},"Cancel"),a.createElement($n.z,{variant:"default",type:"submit",form:"create_branch_form",isDisabled:"error"===y},"Create"))})}))}nu.__docgenInfo={description:"",methods:[],displayName:"CreateNewBranchWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ru=(0,H.cn)((async e=>Ro((async t=>{const n=await e(et(t));if(n){const r=await i.ZP.isIgnored({fs:de,dir:n,filepath:o().relative(n,t)}),a=await de.promises.stat(t).then((e=>e.isFile())).catch((()=>!1)),l=a&&"NOT_CHANGED"===await e(at(t));return!r&&!l}return!1}),e(_e)))),ou=(0,H.cn)((async e=>0===(await e(ru)).length)),au=er({id:Nr.GIT_ADD,title:"Add",icon:a.createElement(R.vq,{icon:"general/add.svg"}),useShortcutsOf:Nr.ADD_UNVERSIONED,isDisabled:ou,actionPerformed:async e=>{let{get:t,set:n}=e;const r=await t(ru);await Promise.all(r.map((e=>Id(t,n,e))))}}),iu=er({id:Nr.GIT_INIT,title:"Create Git Repository...",actionPerformed:async e=>{let{get:t,set:n}=e;const r=t(xe),o=t(_e)[0],a=await me(o),l=a?.isDirectory()?o:r.path;await i.ZP.init({fs:de,dir:l}),n(Xe,(e=>e.filter((e=>e.dir!==l)).concat({vcs:"Git",dir:l}))),await lt(t,n)}});var lu=n(2483),cu=n(73397);const su=be.z.object({"@name":be.z.enum(["visitedUrls"]),list:Je(be.z.object({option:Ze(be.z.union([be.z.object({"@name":be.z.enum(["url"]),"@value":be.z.string()}),be.z.object({"@name":be.z.enum(["userName"]),"@value":be.z.string()})]))}),"UrlAndUserName")}),mu=be.z.object({"@name":be.z.enum(["cloneParentDir"]),"@value":be.z.string()}),du=Qe({visitedUrls:[],cloneParentDir:""},{storageFile:"vcs.xml",componentName:"GitRememberedInputs",schema:be.z.object({option:Ze(be.z.union([su,mu]))}),read:function(e){let{option:t}=void 0===e?{option:[]}:e;return{visitedUrls:t?.find((e=>"visitedUrls"===e["@name"]))?.list.UrlAndUserName.map((e=>{let{option:t}=e;return{url:t.find((e=>"url"===e["@name"]))?.["@value"],username:t.find((e=>"userName"===e["@name"]))?.["@value"]}})).filter((e=>e.url))??[],cloneParentDir:t?.find((e=>"cloneParentDir"===e["@name"]))?.["@value"]??""}},write:(e,t)=>({...t,option:t.option?.map((t=>"cloneParentDir"===t["@name"]&&e.cloneParentDir?{"@name":"cloneParentDir","@value":e.cloneParentDir}:"visitedUrls"===t["@name"]&&e.visitedUrls?{"@name":"visitedUrls",list:{UrlAndUserName:e.visitedUrls.map((e=>{let{url:t,username:n}=e;return{option:[{"@name":"url","@value":t},{"@name":"userName","@value":n??""}]}}))}}:t))??[]})}),uu=(0,Po.R)(du,(e=>e.path("visitedUrls"))),pu=(0,Po.R)(du,(e=>e.path("cloneParentDir")));var hu=n(80692),fu=n(51439);const gu={".idea/vcs.xml":'<?xml version="1.0" encoding="UTF-8"?>\n<project version="4">\n  <component name="GitRememberedInputs">\n    <option name="visitedUrls">\n      <list>\n        <UrlAndUserName>\n          <option name="url" value="https://github.com/alirezamirian/jui.git"></option>\n          <option name="userName" value=""></option>\n        </UrlAndUserName>\n        <UrlAndUserName>\n          <option name="url" value="https://github.com/thurwitz/example-branches.git"></option>\n          <option name="userName" value=""></option>\n        </UrlAndUserName>\n      </list>\n    </option>\n    <option name="cloneParentDir" value="/workspace"></option>\n  </component>\n  <component name="VcsDirectoryMappings"></component>\n</project>\n\n'};const Au=async()=>{await se(de.promises,Ne.path),await Promise.all(Object.entries(gu).map((async e=>{let[t,n]=e;const r=o().join(Ne.path,t);await de.promises.exists(r)||(await se(de.promises,o().dirname(r)),await de.promises.writeFile(r,n,"utf-8"))})))},Eu=(0,E.zo)(fu.e)`
  min-width: ${e=>{let{minWidth:t}=e;return t?`${t}px`:""}};
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`,yu=e=>{let{children:t,autoCloneSampleRepo:n=!1}=e;const[r,l]=(0,a.useState)(null),[c,s]=(0,a.useState)("uninitialized");(0,a.useEffect)((()=>{async function e(e,t){await async function(e){try{if(!(await de.promises.stat(e)).isDirectory())return console.info(`Already cloned repo was not found. "${e}" is not a directory.`),!1;const t=await de.promises.readdir(e);if(1===t.length&&".git"===t[0])return console.info(`Already cloned repo was not found at "${e}". ".git" folder exists, but it's not successfully unpacked.`),!1}catch(t){return console.info(`Already cloned repo was not found at "${e}".`),!1}return!0}(e)||(s("cloning"),await vu({dir:e,url:t,onProgress:l}))}!async function(){const t=window.INITIALIZE_APP??Au;try{await t({fs:de,git:i.ZP,path:o(),projectDir:Ne.path}),n&&await e(Te,Be),console.log("demo repo initialized"),s("initialized")}catch(r){console.error("could not initialize the demo repo",r),s("error")}}()}),[]);const m=r?.total?r.loaded/r.total:0;switch(c){case"uninitialized":return null;case"initialized":return a.createElement(a.Fragment,null,t);case"cloning":return a.createElement(Eu,{minWidth:450},a.createElement(om.GI.Layout,{header:"Cloning sample git repository",content:a.createElement("div",{style:{padding:"1rem"}},a.createElement(Sc.ko,{name:`Cloning repository ${Be}`,isIndeterminate:!r,details:m?`${r?.phase}: ${Math.round(100*m)}% ${r?.loaded}/${r?.total}`:r?.phase,"aria-label":"Progress of cloning sample repo",value:r?r.loaded/r.total:0,maxValue:1}))}));case"error":return a.createElement(hu.a,{type:"error",heading:"Something went wrong!",body:"Could not initialize example app",buttons:a.createElement($n.z,{variant:"default",onPress:()=>{window.location.reload()}},"Reload")})}};async function vu(e){let{dir:t,url:n,onProgress:r}=e;console.log("cloning repo: "),await(0,i.d9)({fs:de,url:n,http:l.Z,corsProxy:"https://cors.isomorphic-git.org",dir:t,onProgress:r,singleBranch:!0})}yu.__docgenInfo={description:"",methods:[],displayName:"ProjectInitializer",props:{autoCloneSampleRepo:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var Cu=n(82733),bu=n(23717),wu=n(35471),Su=n(14452),Du=n(47930),Iu=n(89395);function ku(e){const t=e.selectionStart??e.value.length,n=window.getComputedStyle(e),r=document.createElement("span");r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.style.font=n.font,r.style.fontSize=n.fontSize,r.style.fontWeight=n.fontWeight,r.style.fontFamily=n.fontFamily,r.style.letterSpacing=n.letterSpacing,r.style.border=n.border,r.style.paddingLeft=n.paddingLeft,r.textContent=e.value.substring(0,t),document.body.appendChild(r);const o=r.offsetWidth;return document.body.removeChild(r),o}const Pu=E.zo.div`
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${wu.s}; // FIXME: OS-dependant style?
`,Ru=(0,E.zo)(Su.w)`
  min-width: 120px;
  margin: ${Du.TU}px 0;
`;function Tu(e){let{value:t,onChange:n,defaultValue:r,...i}=e;const[l,c]=(0,bu.z)(t,r??"",n),[s,m]=(0,a.useState)(!1),d=(0,a.useRef)(null),p=(0,a.useRef)(null),[h,f]=(0,a.useState)(""),[g,A]=(0,a.useState)([]),E=()=>{C({clientX:(w?.x??0)+ku(d.current),clientY:(w?.y??0)+(w?.height??0)+2}),f(l.slice(0,d.current?.selectionStart??void 0))};(0,a.useEffect)((()=>{s&&E()}),[s,l]);const y=(0,Iu.D)(s);(0,a.useEffect)((()=>{const e=h.split(o().sep),t=e.slice(0,-1).join(o().sep)||"/",n=e.length>1?e.slice(-1)[0]:"";let r=!1;return async function(e){return de.promises.readdir(e).then((async t=>(await Promise.all(t.map((async t=>{const n=o().join(e,t);return{fullPath:n,stat:await de.promises.stat(n)}})))).filter((e=>{let{stat:t}=e;return t.isDirectory()})).map((e=>{let{fullPath:t}=e;return t}))))}(t).then((e=>{if(r)return;const t=e.map((e=>({fullPath:e,textValue:o().basename(e)}))).filter((e=>{let{textValue:t}=e;return!n||t.toLowerCase().includes(n.toLowerCase())}));A(t),t.length>0&&!y&&0===d.current?.value.indexOf(h)&&d.current.setSelectionRange(h.length,d.current.value.length,"backward")})),()=>{r=!0}}),[h]);const[v,C]=(0,a.useState)({clientX:0,clientY:0}),w=d.current?.getBoundingClientRect();return a.createElement(a.Fragment,null,a.createElement(b.DG,{actions:[{id:ft.$.CODE_COMPLETION,title:"Autocomplete path",actionPerformed:()=>{E(),m(!0)}}]},(e=>{let{shortcutHandlerProps:t}=e;return a.createElement(ym.U,(0,u.Z)({},i,{value:l,onChange:c,inputRef:(0,Cu.l)(d,i.inputRef),inputProps:(0,G.d)(i.inputProps??{},t,{onKeyDown:e=>{"Escape"===e.key&&m(!1)},onBlur:()=>{m(!1)}}),addonAfter:a.createElement(a.Fragment,null,i.addonAfter,a.createElement(N.a,{tooltip:a.createElement(x.M,{actionName:"Browse... (\u21e7\u23ce)"})},(e=>a.createElement(mc.v,(0,u.Z)({},e,{style:{marginRight:".2rem"},role:"button",onClick:ht,icon:"general/openDisk.svg"})))))}))})),s&&a.createElement(O.Z,{onClose:()=>{m(!1)},origin:v},a.createElement(Pu,null,a.createElement(Ru,{ref:p,focusProxyRef:d,"aria-label":"Directories",shouldFocusOnHover:!0,shouldUseVirtualFocus:!0,autoFocus:"first",onAction:e=>{c(o().join(`${e}`,o().sep))},items:g},(e=>{let{fullPath:t}=e;return a.createElement(k.c,{key:t,textValue:t},a.createElement(Dn.e,null,a.createElement(R.vq,{icon:U}),o().basename(t)))})))))}Tu.__docgenInfo={description:"",methods:[],displayName:"PathInputField",props:{value:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"string"},description:""}}};const Bu=er({id:Nr.GIT_CLONE,title:"Clone...",actionPerformed:async e=>{let{get:t}=e;const n=t(He);n.current?.open((e=>{let{close:t}=e;return a.createElement(Fu,{close:t})}))}}),Nu=er({id:"ExampleApp.cloneExampleRepo",title:"Clone another repository...",isSearchable:!1,actionPerformed:e=>{let{get:t}=e;const n=t(He);n.current?.open((e=>{let{close:t}=e;return a.createElement(Fu,{close:t,url:"https://github.com/thurwitz/example-branches.git"})}))}}),xu=E.zo.div`
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.75rem;
`;function Fu(e){let{close:t,url:n}=e;const[r,i]=(0,a.useState)(n??""),[l,c]=(0,A.KO)(pu),[s,m]=(0,A.KO)(uu),[d,u]=(0,a.useState)(""),[p,h]=(0,a.useState)(!0),[f,g]=(0,a.useState)(!1),E=(0,a.useRef)(null),y=(0,a.useRef)(null),v=function(e){e=function(e){return Ou(Ou(e.trim(),"git clone"),"hg clone")}(e);try{return new URL(e),null}catch(t){if(Lu.test(e))return null}return"Repository URL is a malformed URL"}(r),[C,b]=(0,a.useState)(""),w=function(){const e=Ia(),t=(0,A.b9)(Xe);return(0,ve.lV)((0,a.useCallback)(((n,r,a)=>{let{url:i,dir:l,onSuccess:c}=a;e({title:`Cloning source repository ${i}`},{onFinished:c,run:async e=>{let{setIndeterminate:n,setFraction:a,setSecondaryText:c}=e;await vu({dir:l,url:i,onProgress:e=>{if(e.total){const t=e.loaded/e.total;a(t),c(`${e.phase}: ${Math.round(100*t)}% ${e.loaded}/${e.total}`)}else c(e.phase),n(!0)}}).then((()=>{t((e=>e.find((e=>e.dir===l))?e:e.concat({vcs:"Git",dir:l}))),r(Ae(o().resolve(l,"..")))}),(e=>{console.log("e",e),pt.value?.show({icon:"Error",title:"Clone failed",body:`Failed to clone git repo "${i} into ${l}: ${e}"`})}))}})}),[]))}();(0,a.useEffect)((()=>{if(p){const e=r.split(/\/{1,2}/).pop()?.replace(/\.git$/,"")??"";u(e?o().join(l,e):l)}}),[l,r,p]);return a.createElement(Vn.Du,{minWidth:600,minHeight:"content"},a.createElement(Un.b,{header:"Get from Version Control",content:a.createElement(lu.O,null,a.createElement("form",{id:"clone_form",onSubmit:async e=>{e.preventDefault(),g(!0);const n=await async function(e){const t=await me(e);if(!t)return null;if(!t.isDirectory())return"Destination is not a directory";const n=await de.promises.readdir(e);return n.length>0?"The directory already exists and is not empty":null}(d);if(n)return b(n),void y.current?.focus();v?E.current?.focus():(c(o().dirname(d)),m((e=>e.find((e=>e.url===r))?e:e.concat({url:r}))),w({url:r,dir:d,onSuccess:()=>{m((e=>e.map((e=>{let{url:t}=e;return t})).includes(r)?e:[...e,{url:r,username:""}]))}}),t())}},a.createElement(xu,null,a.createElement(cu.C,{inputRef:E,autoFocus:!0,label:"URL:",value:r,validationState:v&&f?"error":"valid",validationMessage:f&&v,onValueChange:e=>{i(e)},items:s},(e=>{let{url:t}=e;return a.createElement(k.c,{key:t},t)})),a.createElement(Tu,{inputRef:y,label:"Directory:",value:d,validationState:C&&f?"error":"valid",validationMessage:f&&C,onChange:e=>{u(e),h(!1),b("")}})))),footer:a.createElement(Un.b.Footer,{right:a.createElement(a.Fragment,null,a.createElement($n.z,{onPress:t},"Cancel"),a.createElement($n.z,{variant:"default",isDisabled:!d||!r,type:"submit",form:"clone_form"},"Clone"))})}))}const Lu=new RegExp("^git@[\\w.-]+:[\\w./-]+\\.git$");function Ou(e,t){return e.startsWith(t)?e.slice(t.length):e}function _u(){const e=(0,m.U)(),t=(0,s.S)(),n=(0,A.Dv)(au),r=(0,A.Dv)(iu),o=(0,A.Dv)(Bu),i=(0,A.Dv)(Nu);return[...Qd(),n,o,i,...0===(0,A.Dv)(Xe).length?[r]:[],{id:Nr.GIT_CREATE_NEW_BRANCH,title:"New Branch\u2026",description:"Create new branch starting from the selected commit",icon:a.createElement(R.vq,{icon:"general/add.svg"}),actionPerformed:()=>{t.open((e=>{let{close:t}=e;return a.createElement(nu,{close:t})}))}},{id:Nr.GIT_BRANCHES,title:"Branches\u2026",icon:a.createElement(R.vq,{icon:"vcs/branch.svg"}),actionPerformed:()=>{e.show((e=>{let{close:t}=e;return a.createElement(Tm,{close:t})}))}},{id:Nr.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH,title:"Navigate Log to Selected Branch Head",useShortcutsOf:"SelectIn",icon:a.createElement(R.vq,{icon:"general/locate.svg"}),actionPerformed:()=>{ht()}}]}function Mu(){const e=Ia();return[{id:"AddTestProcessAction",title:"Add Test Process",actionPerformed:()=>{e({title:"Test process",isCancelable:!0},(async(e,t)=>{let{setText:n,setSecondaryText:r,setFraction:o}=e;n("Welcome!"),await(0,ie.qf)((function*(){for(let e=0;e<1e3;e++)n(Ku(e)),o(e/1e3),yield Gu(100),r("Bla bla bla")}))(t)}))}}]}async function Gu(e){return new Promise((t=>setTimeout(t,e)))}function Ku(e){return e/10==Math.round(e/10)?"":"Found: "+Math.round(e/20)+1}const Hu=E.zo.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
`,Vu=e=>{let{height:t}=e;const n=(0,a.useRef)(null),[r,o]=(0,A.KO)(Hm),i=(0,A.Dv)(Jr.isOpenAtom),l=(0,A.Dv)(Ym.isOpen);return(0,A.Dv)(Ke).current=(0,m.U)(),(0,A.Dv)(He).current=(0,s.S)(),(0,A.Dv)(Ve).current=(0,y.i)(),a.createElement(a.Fragment,null,a.createElement(kr,null),a.createElement(v.a,{disablePortal:!0},a.createElement(ju,null),a.createElement($u,null),a.createElement(jd.Provider,{value:n},a.createElement(Hu,{style:{height:t}},a.createElement(Uu,null,(e=>{let{shortcutHandlerProps:t}=e;return a.createElement(a.Fragment,null,a.createElement(C.u,{ref:n,toolWindowsState:r,onToolWindowStateChange:e=>{o(e)},windows:Zs,containerProps:t},a.createElement(nn,null)),a.createElement(Fm,null))})),l&&a.createElement(Dd,null),i&&a.createElement(Km,null)))))};function Uu(e){const t=[...Ud(),..._u(),...Mu()];return a.createElement(b.DG,(0,u.Z)({},e,{actions:t,useCapture:!0}))}function ju(){return pt.value=(0,v.L)(),null}function $u(){return function(){const e=(0,v.L)(),t=Ia();(0,a.useEffect)((()=>{const n=setTimeout((()=>{null==ue.get()&&e.showSticky({title:"Switch to IndexedDB filesystem",body:"By default an in-memory filesystem is used to have a faster git clone. But it means all changes will be lost upon refresh. You can switch in the background to a persistence fs implementation which uses IndexedDB to store files.",actions:a.createElement(a.Fragment,null,a.createElement(Em.g,{onPress:()=>{t({title:"Switching to IndexedDB FS",isCancelable:!0},(async(e,t)=>{let{setIndeterminate:n,setText:r}=e;r("Copying ..."),n(!0),await he({cancelSignal:t,onCopy:e=>{r(`Copying ${o().dirname(e)}`)}}).then((()=>{ue.set("yes")})).catch((()=>{}))}))}},"Switch to IndexedDB FS"),a.createElement(Em.g,{onPress:()=>ue.set("no")},"Don't ask again"))})}),3e3);return()=>clearTimeout(n)}),[])}(),null}Vu.__docgenInfo={description:"",methods:[],displayName:"Project",props:{height:{required:!0,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""}}};const Qu={ActivateProjectWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit1",modifiers:["Meta"]}}],ActivateCommitWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit0",modifiers:["Meta"]}}],ActivateVersionControlWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit9",modifiers:["Meta"]}}],ActivateTerminalWindow:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Alt"]}}],[Nr.ROLLBACK]:[{type:"keyboard",firstKeyStroke:{code:"KeyZ",modifiers:["Alt","Meta"]}}],[Nr.SHOW_DIFF]:[{type:"keyboard",firstKeyStroke:{code:"KeyD",modifiers:["Meta"]}}],[Nr.SHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyH",modifiers:["Meta","Shift"]}}],[Nr.UNSHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyU",modifiers:["Meta","Alt"]}}],[md]:[{type:"keyboard",firstKeyStroke:{code:"Tab",modifiers:["Shift"]}}],[dd]:[{type:"keyboard",firstKeyStroke:{code:"Tab"}}],[Nr.RENAME_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"F2"}}],[Nr.MOVE_TO_ANOTHER_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyM"}}],[Nr.SET_DEFAULT_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}],[Nr.REMOVE_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}],[Nr.CHECKIN_PROJECT]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyK"}}],[Nr.ADD_UNVERSIONED]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"KeyA"}}],[Nr.FOCUS_TEXT_FILTER]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyL"}}],[Nr.GROUP_BY_DIRECTORY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"KeyP"}}],SafeDelete:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Backspace"}}],CopyPaths:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyC"}}],[Dt]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyV"}}],[Bn.NewElement]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[It]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[kt.EXPAND_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Equal"}}],[kt.EXPAND_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Equal"}}],[kt.EXPAND_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Equal"}}],...[1,2,3,4,5].reduce(((e,t)=>(e[kt[`EXPAND_ALL_TO_LEVEL${t}`]]=[{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Digit${t}`}},{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Numpad${t}`}}],e)),{}),[kt.COLLAPSE_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadSubtract"}}],[kt.COLLAPSE_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadSubtract"}}],[kt.COLLAPSE_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadSubtract"}}]};window.git=i.ZP,window.fs=de,window.path=r,window.http=l.Z;const qu=e=>{let{height:t,autoCloneSampleRepo:n}=e;return a.createElement(g,null,a.createElement(ge,null,a.createElement(yu,{autoCloneSampleRepo:n},a.createElement(c.ur,{keymap:Qu},a.createElement(s.f,null,a.createElement(m.q,null,a.createElement(Vu,{height:t})))))))};qu.__docgenInfo={description:"Example app root component. It expects ThemeProvider to be provided based on where it's rendered.",methods:[],displayName:"App",props:{height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},autoCloneSampleRepo:{required:!1,tsType:{name:"boolean"},description:""}}};const zu=qu},96300:(e,t,n)=>{var r={"./simpleWorker":87223,"./simpleWorker.js":87223};function o(e){return Promise.resolve().then((()=>{if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])}))}o.keys=()=>Object.keys(r),o.id=96300,e.exports=o},34428:(e,t,n)=>{var r={"./editorBaseApi":[79375],"./editorBaseApi.js":[79375],"./editorSimpleWorker":[42789],"./editorSimpleWorker.js":[42789],"./editorWorker":[30363],"./editorWorker.js":[30363],"./editorWorkerHost":[76679],"./editorWorkerHost.js":[76679],"./findSectionHeaders":[43631],"./findSectionHeaders.js":[43631],"./getIconClasses":[75154],"./getIconClasses.js":[75154],"./languageFeatureDebounce":[69060],"./languageFeatureDebounce.js":[69060],"./languageFeatures":[35921],"./languageFeatures.js":[35921],"./languageFeaturesService":[33293],"./languageFeaturesService.js":[33293],"./languageService":[44718],"./languageService.js":[44718],"./languagesAssociations":[41356],"./languagesAssociations.js":[41356],"./languagesRegistry":[33550],"./languagesRegistry.js":[33550],"./markerDecorations":[52919],"./markerDecorations.js":[52919],"./markerDecorationsService":[1022],"./markerDecorationsService.js":[1022],"./model":[65041],"./model.js":[65041],"./modelService":[94657],"./modelService.js":[94657],"./resolverService":[91223],"./resolverService.js":[91223],"./semanticTokensDto":[21982],"./semanticTokensDto.js":[21982],"./semanticTokensProviderStyling":[76263],"./semanticTokensProviderStyling.js":[76263],"./semanticTokensStyling":[76567],"./semanticTokensStyling.js":[76567],"./semanticTokensStylingService":[29922],"./semanticTokensStylingService.js":[29922],"./textModelSync/textModelSync.impl":[54632],"./textModelSync/textModelSync.impl.js":[54632],"./textModelSync/textModelSync.protocol":[66828,6828],"./textModelSync/textModelSync.protocol.js":[66828,6828],"./textResourceConfiguration":[16576],"./textResourceConfiguration.js":[16576],"./treeSitterParserService":[40143],"./treeSitterParserService.js":[40143],"./treeViewsDnd":[55247],"./treeViewsDnd.js":[55247],"./treeViewsDndService":[61860],"./treeViewsDndService.js":[61860],"./unicodeTextModelHighlighter":[83969],"./unicodeTextModelHighlighter.js":[83969]};function o(e){if(!n.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(o)))}o.keys=()=>Object.keys(r),o.id=34428,e.exports=o}}]);
//# sourceMappingURL=2892.57d9c84d.js.map