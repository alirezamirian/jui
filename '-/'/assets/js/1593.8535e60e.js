"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1593],{4817:(t,e,i)=>{i.d(e,{dM:()=>S});var s=i(87211),n=i(92154),o=i(2784),l=i(28316),a=i(37468);function r(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}var h={};r(h,"useVirtualizer",(()=>x)),r(h,"Virtualizer",(()=>S));r({},"ScrollView",(()=>m));var u={};r(u,"getRTLOffsetType",(()=>d)),r(u,"getScrollLeft",(()=>y)),r(u,"setScrollLeft",(()=>f));let c=null;function d(t=!1){if(null===c||t){const t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";const i=document.createElement("div"),s=i.style;return s.width="100px",s.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?c="positive-descending":(t.scrollLeft=1,c=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),c}return c}function y(t,e){let{scrollLeft:i}=t;if("rtl"===e){let{scrollWidth:e,clientWidth:s}=t;switch(d()){case"negative":i=-i;break;case"positive-descending":i=e-s-i}}return i}function f(t,e,i){if("rtl"===e)switch(d()){case"negative":i=-i;break;case"positive-ascending":break;default:{const{clientWidth:e,scrollWidth:s}=t;i=s-e-i;break}}t.scrollLeft=i}function g(t,e){let{contentSize:i,onVisibleRectChange:r,children:h,innerStyle:u,sizeToFit:c,onScrollStart:d,onScrollEnd:f,scrollDirection:g="both",...m}=t,p=(0,o.useRef)();e=e||p;let w=(0,o.useRef)({scrollTop:0,scrollLeft:0,scrollEndTime:0,scrollTimeout:null,width:0,height:0,isScrolling:!1}).current,{direction:v}=(0,a.bU)(),[I,b]=(0,o.useState)(!1),_=(0,o.useCallback)((e=>{e.target===e.currentTarget&&(t.onScroll&&t.onScroll(e),(0,l.flushSync)((()=>{let t=e.currentTarget.scrollTop,s=y(e.currentTarget,v);w.scrollTop=Math.max(0,Math.min(t,i.height-w.height)),w.scrollLeft=Math.max(0,Math.min(s,i.width-w.width)),r(new n.UL(w.scrollLeft,w.scrollTop,w.width,w.height)),w.isScrolling||(w.isScrolling=!0,b(!0),d&&d());let o=Date.now();w.scrollEndTime<=o+50&&(w.scrollEndTime=o+300,clearTimeout(w.scrollTimeout),w.scrollTimeout=setTimeout((()=>{w.isScrolling=!1,b(!1),w.scrollTimeout=null,f&&f()}),300))})))}),[t,v,w,i,r,d,f]);(0,o.useEffect)((()=>()=>{clearTimeout(w.scrollTimeout)}),[]);let x=(0,o.useCallback)((()=>{let t=e.current;if(!t)return;let s=t.clientWidth,o=t.clientHeight;c&&i.width>0&&i.height>0&&("width"===c?s=Math.min(s,i.width):"height"===c&&(o=Math.min(o,i.height))),w.width===s&&w.height===o||(w.width=s,w.height=o,r(new n.UL(w.scrollLeft,w.scrollTop,s,o)))}),[r,e,w,c,i]);(0,s.bt)((()=>{x()}),[x]),(0,s.yU)({ref:e,onResize:x});let S={padding:0,...m.style};return"horizontal"===g?(S.overflowX="auto",S.overflowY="hidden"):"vertical"===g?(S.overflowY="auto",S.overflowX="hidden"):S.overflow="auto",o.createElement("div",{...m,style:S,ref:e,onScroll:_},o.createElement("div",{role:"presentation",style:{width:i.width,height:i.height,pointerEvents:I?"none":"auto",position:"relative",...u}},h))}const m=o.forwardRef(g);var p={};r(p,"VirtualizerItem",(()=>v)),r(p,"layoutInfoToStyle",(()=>b));function w(t){let{reusableView:{layoutInfo:e,virtualizer:i},ref:l}=t,a=(0,o.useCallback)((()=>{let t=function(t){let e=t.style.height;t.style.height="";let i=new n.$u(t.scrollWidth,t.scrollHeight);return t.style.height=e,i}(l.current);i.updateItemSize(e.key,t)}),[i,e.key,l]);return(0,s.bt)((()=>{e.estimatedSize&&a()})),{updateSize:a}}function v(t){let{className:e,reusableView:i,parent:s}=t,{direction:n}=(0,a.bU)(),l=(0,o.useRef)();return w({reusableView:i,ref:l}),o.createElement("div",{role:"presentation",ref:l,className:e,style:b(i.layoutInfo,n,s&&s.layoutInfo)},i.rendered)}r({},"useVirtualizerItem",(()=>w));let I=new WeakMap;function b(t,e,i){let s="rtl"===e?"right":"left",n=I.get(t);if(n&&null!=n[s]){if(!i)return n;let e=t.rect.y-i.rect.y,o=t.rect.x-i.rect.x;if(n.top===e&&n[s]===o)return n}let o={position:t.isSticky?"sticky":"absolute",overflow:t.allowOverflow?"visible":"hidden",top:t.rect.y-(i?i.rect.y:0),[s]:t.rect.x-(i?i.rect.x:0),transition:"all",WebkitTransition:"all",WebkitTransitionDuration:"inherit",transitionDuration:"inherit",width:t.rect.width,height:t.rect.height,opacity:t.opacity,zIndex:t.zIndex,transform:t.transform,contain:t.allowOverflow?"size layout style":"size layout style paint"};return I.set(t,o),o}function _(t,e){let{children:i,renderWrapper:l,layout:a,collection:r,sizeToFit:h,scrollDirection:u,transitionDuration:c,isLoading:d,onLoadMore:y,focusedKey:f,shouldUseVirtualFocus:g,scrollToItem:p,...w}=t,v=(0,o.useRef)();e=e||v;let I=(0,n.FC)({transitionDuration:c,layout:a,collection:r,renderView:i,renderWrapper:l||R,onVisibleRectChange(t){e.current.scrollLeft=t.x,e.current.scrollTop=t.y}}),{virtualizerProps:b}=x(t,I,e),_=(0,o.useCallback)((t=>{if(I.setVisibleRect(t),!d&&y){let e=I.virtualizer.contentSize.height-2*t.height;t.y>e&&y()}}),[d,y,I]);return(0,s.bt)((()=>{d||!y||I.isAnimating||I.contentSize.height>0&&I.contentSize.height<=I.virtualizer.visibleRect.height&&y()}),[I.contentSize,I.isAnimating,I.virtualizer,y,d]),o.createElement(m,{...(0,s.dG)(w,b),ref:e,innerStyle:I.isAnimating?{transition:`none ${I.virtualizer.transitionDuration}ms`}:void 0,contentSize:I.contentSize,onVisibleRectChange:_,onScrollStart:I.startScrolling,onScrollEnd:I.endScrolling,sizeToFit:h,scrollDirection:u},I.visibleViews)}function x(t,e,i){let{focusedKey:n,scrollToItem:l,shouldUseVirtualFocus:a}=t,{virtualizer:r}=e,h=(0,o.useRef)(null);(0,o.useEffect)((()=>{0!==r.visibleRect.height&&(n!==h.current&&(l?l(n):r.scrollToItem(n,{duration:0})),h.current=n)}),[n,r.visibleRect.height,r,h,l]);let u,c=(0,o.useRef)(!1),d=(0,o.useCallback)((t=>{!c.current&&i.current.contains(t.target)&&(l?l(n):r.scrollToItem(n,{duration:0})),c.current=t.target!==i.current}),[i,r,n,l]),y=(0,o.useCallback)((t=>{c.current=i.current.contains(t.relatedTarget)}),[i]),f=r.getView(n);return(0,o.useEffect)((()=>{n&&!f&&c.current&&document.activeElement!==i.current&&(0,s.Ao)(i.current)})),a||(u=f?-1:0),{virtualizerProps:{tabIndex:u,onFocus:d,onBlur:y}}}const S=o.forwardRef(_);function R(t,e){return o.createElement(v,{key:e.key,reusableView:e,parent:t})}},36463:(t,e,i)=>{i.d(e,{P:()=>o});var s=i(92154);function n(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}n({},"ListLayout",(()=>o));class o extends s.Ar{getLayoutInfo(t){return this.layoutInfos.get(t)}getVisibleLayoutInfos(t){let e=[],i=s=>{for(let n of s)this.isVisible(n,t)&&(e.push(n.layoutInfo),n.header&&e.push(n.header),n.children&&i(n.children))};return i(this.rootNodes),e}isVisible(t,e){return t.layoutInfo.rect.intersects(e)||t.layoutInfo.isSticky}validate(t){if(this.invalidateEverything=t.sizeChanged,this.collection=this.virtualizer.collection,this.rootNodes=this.buildCollection(),this.lastCollection)for(let i of this.lastCollection.getKeys())if(!this.collection.getItem(i)){let t=this.layoutNodes.get(i);var e;if(t)this.layoutInfos.delete(t.layoutInfo.key),this.layoutInfos.delete(null===(e=t.header)||void 0===e?void 0:e.key),this.layoutNodes.delete(i)}this.lastWidth=this.virtualizer.visibleRect.width,this.lastCollection=this.collection}buildCollection(){let t=this.padding,e=[];const i=[...this.collection.getKeys()].map((t=>this.collection.getItem(t)));for(let s of i){let i=this.buildChild(s,0,t);t=i.layoutInfo.rect.maxY,e.push(i)}if(this.isLoading){var n;let i=new s.UL(0,t,this.virtualizer.visibleRect.width,null!==(n=this.loaderHeight)&&void 0!==n?n:this.virtualizer.visibleRect.height),o=new s.h6("loader","loader",i);this.layoutInfos.set("loader",o),e.push({layoutInfo:o}),t=o.rect.maxY}if(0===e.length){var o;let i=new s.UL(0,t,this.virtualizer.visibleRect.width,null!==(o=this.placeholderHeight)&&void 0!==o?o:this.virtualizer.visibleRect.height),n=new s.h6("placeholder","placeholder",i);this.layoutInfos.set("placeholder",n),e.push({layoutInfo:n}),t=n.rect.maxY}return this.contentSize=new s.$u(this.virtualizer.visibleRect.width,t+this.padding),e}buildChild(t,e,i){let s=this.layoutNodes.get(t.key);if(!this.invalidateEverything&&s&&s.node===t&&i===(s.header||s.layoutInfo).rect.y)return s;let n=this.buildNode(t,e,i);return n.node=t,n.layoutInfo.parentKey=t.parentKey||null,this.layoutInfos.set(n.layoutInfo.key,n.layoutInfo),n.header&&this.layoutInfos.set(n.header.key,n.header),this.layoutNodes.set(t.key,n),n}buildNode(t,e,i){switch(t.type){case"section":return this.buildSection(t,e,i);case"item":return this.buildItem(t,e,i)}}buildSection(t,e,i){let n=this.virtualizer.visibleRect.width,o=this.headingHeight,l=!1;if(null==o){let e=this.layoutNodes.get(t.key);if(e&&e.header){let i=this.collection.getItem(t.key),s=this.lastCollection?this.lastCollection.getItem(t.key):null;o=e.header.rect.height,l=n!==this.lastWidth||i!==s||e.header.estimatedSize}else o=t.rendered?this.estimatedHeadingHeight:0,l=!0}null==o&&(o=48);let a=new s.UL(0,i,n,o),r=new s.h6("header",t.key+":header",a);r.estimatedSize=l,r.parentKey=t.key,i+=r.rect.height;let h=new s.UL(0,i,n,0),u=new s.h6(t.type,t.key,h),c=i,d=[];for(let s of t.childNodes){let t=this.buildChild(s,e,i);i=t.layoutInfo.rect.maxY,d.push(t)}return h.height=i-c,{header:r,layoutInfo:u,children:d}}buildItem(t,e,i){let n=this.virtualizer.visibleRect.width,o=this.rowHeight,l=!1;if(null==o){let e=this.layoutNodes.get(t.key);if(e){let i=this.collection.getItem(t.key),s=this.lastCollection?this.lastCollection.getItem(t.key):null;o=e.layoutInfo.rect.height,l=n!==this.lastWidth||i!==s||e.layoutInfo.estimatedSize}else o=this.estimatedRowHeight,l=!0}null==o&&(o=48),"function"==typeof this.indentationForItem&&(e+=this.indentationForItem(this.collection,t.key)||0);let a=new s.UL(e,i,n-e,o),r=new s.h6(t.type,t.key,a);return r.estimatedSize=l,{layoutInfo:r}}updateItemSize(t,e){let i=this.layoutInfos.get(t);if(!i)return!1;if(i.estimatedSize=!1,i.rect.height!==e.height){let s=i.copy();s.rect.height=e.height,this.layoutInfos.set(t,s),this.updateLayoutNode(t,i,s);let n=this.collection.getItem(i.parentKey);for(;n;)this.updateLayoutNode(n.key,i,s),n=this.collection.getItem(n.parentKey);return!0}return!1}updateLayoutNode(t,e,i){let s=this.layoutNodes.get(t);s&&(s.node=null,s.header===e?s.header=i:s.layoutInfo===e&&(s.layoutInfo=i))}getContentSize(){return this.contentSize}getKeyAbove(t){let e=this.collection;for(t=e.getKeyBefore(t);null!=t;){let i=e.getItem(t);if("item"===i.type&&!this.disabledKeys.has(i.key))return t;t=e.getKeyBefore(t)}}getKeyBelow(t){let e=this.collection;for(t=e.getKeyAfter(t);null!=t;){let i=e.getItem(t);if("item"===i.type&&!this.disabledKeys.has(i.key))return t;t=e.getKeyAfter(t)}}getKeyPageAbove(t){let e=this.getLayoutInfo(t);if(e){let t=Math.max(0,e.rect.y+e.rect.height-this.virtualizer.visibleRect.height);for(;e&&e.rect.y>t;){let t=this.getKeyAbove(e.key);e=this.getLayoutInfo(t)}if(e)return e.key}return this.getFirstKey()}getKeyPageBelow(t){let e=this.getLayoutInfo(null!=t?t:this.getFirstKey());if(e){let t=Math.min(this.virtualizer.contentSize.height,e.rect.y-e.rect.height+this.virtualizer.visibleRect.height);for(;e&&e.rect.y<t;){let t=this.getKeyBelow(e.key);e=this.getLayoutInfo(t)}if(e)return e.key}return this.getLastKey()}getFirstKey(){let t=this.collection,e=t.getFirstKey();for(;null!=e;){let i=t.getItem(e);if("item"===i.type&&!this.disabledKeys.has(i.key))return e;e=t.getKeyAfter(e)}}getLastKey(){let t=this.collection,e=t.getLastKey();for(;null!=e;){let i=t.getItem(e);if("item"===i.type&&!this.disabledKeys.has(i.key))return e;e=t.getKeyBefore(e)}}getKeyForSearch(t,e){if(!this.collator)return null;let i=this.collection,s=e||this.getFirstKey();for(;null!=s;){let e=i.getItem(s),n=e.textValue.slice(0,t.length);if(e.textValue&&0===this.collator.compare(n,t))return s;s=this.getKeyBelow(s)}return null}getInitialLayoutInfo(t){return t.opacity=0,t.transform="scale3d(0.8, 0.8, 0.8)",t}getFinalLayoutInfo(t){return t.opacity=0,t.transform="scale3d(0.8, 0.8, 0.8)",t}constructor(t={}){super(),this.disabledKeys=new Set,this.rowHeight=t.rowHeight,this.estimatedRowHeight=t.estimatedRowHeight,this.headingHeight=t.headingHeight,this.estimatedHeadingHeight=t.estimatedHeadingHeight,this.padding=t.padding||0,this.indentationForItem=t.indentationForItem,this.collator=t.collator,this.loaderHeight=t.loaderHeight,this.placeholderHeight=t.placeholderHeight,this.layoutInfos=new Map,this.layoutNodes=new Map,this.rootNodes=[],this.lastWidth=0,this.lastCollection=null}}n({},"TableLayout",(()=>l));class l extends o{buildCollection(){this.lastCollection&&this.collection.columns.length===this.lastCollection.columns.length&&!this.collection.columns.some(((t,e)=>t.key!==this.lastCollection.columns[e].key))||(this.invalidateEverything=!0);let t=this.collection.body.props.loadingState;this.wasLoading=this.isLoading,this.isLoading="loading"===t||"loadingMore"===t,this.buildColumnWidths();let e=this.buildHeader(),i=this.buildBody(0);return i.layoutInfo.rect.width=Math.max(e.layoutInfo.rect.width,i.layoutInfo.rect.width),this.contentSize=new s.$u(i.layoutInfo.rect.width,i.layoutInfo.rect.maxY),[e,i]}buildColumnWidths(){this.columnWidths=new Map,this.stickyColumnIndices=[];let t=new Set,e=this.virtualizer.visibleRect.width;for(let s of this.collection.columns){let n=s.props;var i;let o=null!==(i=n.width)&&void 0!==i?i:this.getDefaultWidth(n);if(null!=o){let t=this.parseWidth(o);this.columnWidths.set(s.key,t),e-=t}else t.add(s);(s.props.isSelectionCell||this.collection.rowHeaderColumnKeys.has(s.key))&&this.stickyColumnIndices.push(s.index)}if(t.size>0){let i=e/(this.collection.columns.length-this.columnWidths.size);for(let s of t){let t=s.props,n=null!=t.minWidth?this.parseWidth(t.minWidth):75,o=null!=t.maxWidth?this.parseWidth(t.maxWidth):1/0,l=Math.max(n,Math.min(o,i));this.columnWidths.set(s.key,l),e-=l,l!==i&&(i=e/(this.collection.columns.length-this.columnWidths.size))}}}parseWidth(t){if("string"==typeof t){let e=t.match(/^(\d+)%$/);if(!e)throw new Error("Only percentages are supported as column widths");return this.virtualizer.visibleRect.width*(parseInt(e[1],10)/100)}return t}buildHeader(){let t=new s.UL(0,0,0,0),e=new s.h6("header","header",t),i=0,n=0,o=[];for(let s of this.collection.headerRows){let t=this.buildChild(s,0,i);t.layoutInfo.parentKey="header",i=t.layoutInfo.rect.maxY,n=Math.max(n,t.layoutInfo.rect.width),o.push(t)}return t.width=n,t.height=i,this.layoutInfos.set("header",e),{layoutInfo:e,children:o}}buildHeaderRow(t,e,i){let n=new s.UL(0,i,0,0),o=new s.h6("headerrow",t.key,n),l=0,a=[];for(let s of t.childNodes){let t=this.buildChild(s,e,i);t.layoutInfo.parentKey=o.key,e=t.layoutInfo.rect.maxX,l=Math.max(l,t.layoutInfo.rect.height),a.push(t)}return this.setChildHeights(a,l),n.height=l,n.width=e,{layoutInfo:o,children:a}}setChildHeights(t,e){for(let i of t)i.layoutInfo.rect.height!==e&&(i.layoutInfo=i.layoutInfo.copy(),this.layoutInfos.set(i.layoutInfo.key,i.layoutInfo),i.layoutInfo.rect.height=e)}getColumnWidth(t){var e;let i=null!==(e=t.colspan)&&void 0!==e?e:1,s=0;for(let n=0;n<i;n++){let e=this.collection.columns[t.index+n];s+=this.columnWidths.get(e.key)}return s}getEstimatedHeight(t,e,i,s){let n=!1;if(null==i){let o=this.layoutNodes.get(t.key);if(o){let s=this.collection.getItem(t.key),l=this.lastCollection?this.lastCollection.getItem(t.key):null;i=o.layoutInfo.rect.height,n=s!==l||e!==o.layoutInfo.rect.width||o.layoutInfo.estimatedSize}else i=s,n=!0}return{height:i,isEstimated:n}}buildColumn(t,e,i){var n;let o=this.getColumnWidth(t),{height:l,isEstimated:a}=this.getEstimatedHeight(t,o,this.headingHeight,this.estimatedHeadingHeight),r=new s.UL(e,i,o,l),h=new s.h6(t.type,t.key,r);return h.isSticky=null===(n=t.props)||void 0===n?void 0:n.isSelectionCell,h.zIndex=h.isSticky?2:1,h.estimatedSize=a,{layoutInfo:h}}buildBody(t){let e=new s.UL(0,t,0,0),i=new s.h6("rowgroup","body",e),n=t,o=0,l=[];for(let s of this.collection.body.childNodes){let e=this.buildChild(s,0,t);e.layoutInfo.parentKey="body",t=e.layoutInfo.rect.maxY,o=Math.max(o,e.layoutInfo.rect.width),l.push(e)}if(this.isLoading){let e=new s.UL(0,t,o||this.virtualizer.visibleRect.width,0===l.length?this.virtualizer.visibleRect.height:60),i=new s.h6("loader","loader",e);i.parentKey="body",i.isSticky=0===l.length,this.layoutInfos.set("loader",i),l.push({layoutInfo:i}),t=i.rect.maxY,o=Math.max(o,e.width)}else if(0===l.length){let e=new s.UL(0,t,this.virtualizer.visibleRect.width,this.virtualizer.visibleRect.height),i=new s.h6("empty","empty",e);i.parentKey="body",i.isSticky=!0,this.layoutInfos.set("empty",i),l.push({layoutInfo:i}),t=i.rect.maxY,o=Math.max(o,e.width)}return e.width=o,e.height=t-n,this.layoutInfos.set("body",i),{layoutInfo:i,children:l}}buildNode(t,e,i){switch(t.type){case"headerrow":return this.buildHeaderRow(t,e,i);case"item":return this.buildRow(t,e,i);case"column":case"placeholder":return this.buildColumn(t,e,i);case"cell":return this.buildCell(t,e,i);default:throw new Error("Unknown node type "+t.type)}}buildRow(t,e,i){let n=new s.UL(e,i,0,0),o=new s.h6("row",t.key,n),l=[],a=0;for(let s of t.childNodes){let t=this.buildChild(s,e,i);e=t.layoutInfo.rect.maxX,a=Math.max(a,t.layoutInfo.rect.height),l.push(t)}return this.setChildHeights(l,a),n.width=e,n.height=a+1,{layoutInfo:o,children:l}}buildCell(t,e,i){var n;let o=this.getColumnWidth(t),{height:l,isEstimated:a}=this.getEstimatedHeight(t,o,this.rowHeight,this.estimatedRowHeight),r=new s.UL(e,i,o,l),h=new s.h6(t.type,t.key,r);return h.isSticky=null===(n=t.props)||void 0===n?void 0:n.isSelectionCell,h.zIndex=h.isSticky?2:1,h.estimatedSize=a,{layoutInfo:h}}getVisibleLayoutInfos(t){let e=[];for(let i of this.rootNodes)e.push(i.layoutInfo),this.addVisibleLayoutInfos(e,i,t);return e}addVisibleLayoutInfos(t,e,i){if(e.children&&0!==e.children.length)switch(e.layoutInfo.type){case"header":for(let s of e.children)t.push(s.layoutInfo),this.addVisibleLayoutInfos(t,s,i);break;case"rowgroup":{let s=this.binarySearch(e.children,i.topLeft,"y"),n=this.binarySearch(e.children,i.bottomRight,"y");for(let o=s;o<=n;o++)t.push(e.children[o].layoutInfo),this.addVisibleLayoutInfos(t,e.children[o],i);break}case"headerrow":case"row":{let s=this.binarySearch(e.children,i.topLeft,"x"),n=this.binarySearch(e.children,i.topRight,"x"),o=0;for(let i=s;i<=n;i++){if(o<this.stickyColumnIndices.length){let s=this.stickyColumnIndices[o];for(;s<i;)t.push(e.children[s].layoutInfo),s=this.stickyColumnIndices[o++]}t.push(e.children[i].layoutInfo)}for(;o<this.stickyColumnIndices.length;){let i=this.stickyColumnIndices[o++];t.push(e.children[i].layoutInfo)}break}default:throw new Error("Unknown node type "+e.layoutInfo.type)}}binarySearch(t,e,i){let s=0,n=t.length-1;for(;s<=n;){let o=s+n>>1,l=t[o];if("x"===i&&l.layoutInfo.rect.maxX<e.x||"y"===i&&l.layoutInfo.rect.maxY<e.y)s=o+1;else{if(!("x"===i&&l.layoutInfo.rect.x>e.x||"y"===i&&l.layoutInfo.rect.y>e.y))return o;n=o-1}}return Math.max(0,Math.min(t.length-1,s))}getInitialLayoutInfo(t){let e=super.getInitialLayoutInfo(t);return this.wasLoading&&(e.transform=null),e}constructor(t){super(t),this.wasLoading=!1,this.isLoading=!1,this.getDefaultWidth=t.getDefaultWidth}}},92154:(t,e,i)=>{i.d(e,{$u:()=>u,Ar:()=>l,FC:()=>x,UL:()=>h,h6:()=>a});var s=i(2784),n=i(87211);function o(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}o({},"Layout",(()=>l));class l{shouldInvalidate(t,e){return t.width!==e.width||t.height!==e.height}validate(t){}getInitialLayoutInfo(t){return t}getFinalLayoutInfo(t){return t}}o({},"LayoutInfo",(()=>a));class a{copy(){let t=new a(this.type,this.key,this.rect.copy());return t.estimatedSize=this.estimatedSize,t.opacity=this.opacity,t.transform=this.transform,t.parentKey=this.parentKey,t.isSticky=this.isSticky,t.zIndex=this.zIndex,t.allowOverflow=this.allowOverflow,t}constructor(t,e,i){this.type=t,this.key=e,this.parentKey=null,this.rect=i,this.estimatedSize=!1,this.isSticky=!1,this.opacity=1,this.transform=null,this.zIndex=0,this.allowOverflow=!1}}o({},"Point",(()=>r));class r{copy(){return new r(this.x,this.y)}equals(t){return this.x===t.x&&this.y===t.y}isOrigin(){return 0===this.x&&0===this.y}constructor(t=0,e=0){this.x=t,this.y=e}}o({},"Rect",(()=>h));class h{get maxX(){return this.x+this.width}get maxY(){return this.y+this.height}get area(){return this.width*this.height}get topLeft(){return new r(this.x,this.y)}get topRight(){return new r(this.maxX,this.y)}get bottomLeft(){return new r(this.x,this.maxY)}get bottomRight(){return new r(this.maxX,this.maxY)}intersects(t){return this.x<=t.x+t.width&&t.x<=this.x+this.width&&this.y<=t.y+t.height&&t.y<=this.y+this.height}containsRect(t){return this.x<=t.x&&this.y<=t.y&&this.maxX>=t.maxX&&this.maxY>=t.maxY}containsPoint(t){return this.x<=t.x&&this.y<=t.y&&this.maxX>=t.x&&this.maxY>=t.y}getCornerInRect(t){for(let e of["topLeft","topRight","bottomLeft","bottomRight"])if(t.containsPoint(this[e]))return e;return null}equals(t){return t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}pointEquals(t){return this.x===t.x&&this.y===t.y}sizeEquals(t){return this.width===t.width&&this.height===t.height}copy(){return new h(this.x,this.y,this.width,this.height)}constructor(t=0,e=0,i=0,s=0){this.x=t,this.y=e,this.width=i,this.height=s}}o({},"Size",(()=>u));class u{copy(){return new u(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}constructor(t=0,e=0){this.width=t,this.height=e}}o({},"ReusableView",(()=>d));let c=0;class d{prepareForReuse(){this.content=null,this.rendered=null,this.layoutInfo=null}constructor(t){this.virtualizer=t,this.key=++c}}o({},"useVirtualizerState",(()=>x));let y,f="undefined"!=typeof window?window.performance:null,g=f&&(f.now||f.webkitNow||f.msNow||f.mozNow),m=g?g.bind(f):function(){return Date.now?Date.now():(new Date).getTime()};function p(t){return Math.sin(t*Math.PI/2)}function w(t,e){let i=new Set;for(let s of t.keys())e.has(s)||i.add(s);return i}class v{addSample(t){this.count++,this.value+=(t-this.value)/this.count}constructor(){this.count=0,this.value=0}}class I{setVisibleRect(t){let e=performance.now()-this.startTime;e<500&&(this.averageTime.addSample(e),t.x!==this.visibleRect.x&&e>0&&(this.velocity.x=(t.x-this.visibleRect.x)/e),t.y!==this.visibleRect.y&&e>0&&(this.velocity.y=(t.y-this.visibleRect.y)/e)),this.startTime=performance.now(),this.visibleRect=t}collectMetrics(){let t=performance.now()-this.startTime;if(t<500&&this.averagePerf.addSample(t),this.visibleRect.height>0){let t=Math.abs(this.velocity.y*(this.averageTime.value+this.averagePerf.value));this.overscanY.addSample(t)}if(this.visibleRect.width>0){let t=Math.abs(this.velocity.x*(this.averageTime.value+this.averagePerf.value));this.overscanX.addSample(t)}}getOverscannedRect(){let t=this.visibleRect.copy(),e=100*Math.round(Math.min(2*this.visibleRect.height,this.overscanY.value)/100);this.velocity.y>0?(t.y-=.2*e,t.height+=e+.2*e):(t.y-=e,t.height+=e+.2*e);let i=100*Math.round(Math.min(2*this.visibleRect.width,this.overscanX.value)/100);return this.velocity.x>0?(t.x-=.2*i,t.width+=i+.2*i):(t.x-=i,t.width+=i+.2*i),t}constructor(){this.startTime=0,this.averagePerf=new v,this.averageTime=new v,this.velocity=new r(5,5),this.overscanX=new v,this.overscanY=new v,this.visibleRect=new h}}class b{constructor(){this.level=0,this.actions=[],this.animated=!0,this.initialMap=new Map,this.finalMap=new Map,this.initialLayoutInfo=new Map,this.finalLayoutInfo=new Map,this.removed=new Map,this.toRemove=new Map}}class _{_setContentSize(t){this._contentSize=t,this.delegate.setContentSize(t)}_setContentOffset(t){let e=new h(t.x,t.y,this._visibleRect.width,this._visibleRect.height);this.delegate.setVisibleRect(e)}get contentSize(){return this._contentSize}get visibleRect(){return this._visibleRect}set visibleRect(t){this._setVisibleRect(t)}_setVisibleRect(t,e=!1){let i=this._visibleRect;if(t.equals(i))return;this.shouldOverscan&&this._overscanManager.setVisibleRect(t);let s=this.layout&&this.layout.shouldInvalidate(t,this._visibleRect);this._resetAnimatedContentOffset(),this._visibleRect=t,s?this.relayout({offsetChanged:!t.pointEquals(i),sizeChanged:!t.sizeEquals(i)}):this.updateSubviews(e)}get collection(){return this._collection}set collection(t){this._setData(t)}_setData(t){t!==this._collection&&(this._collection?this._runTransaction((()=>{this._collection=t}),this.transitionDuration>0):(this._collection=t,this.reloadData()))}reloadData(){this.relayout({contentChanged:!0})}getItem(t){return this._collection?this._collection.getItem(t):null}get layout(){return this._layout}set layout(t){this.setLayout(t)}setLayout(t,e=!1){if(t===this._layout)return;let i=()=>{this._layout&&(this._layout.virtualizer=null),t.virtualizer=this,this._layout=t};e?this._runTransaction(i):(i(),this.relayout())}_getReuseType(t,e){if("item"===t.type&&e){let i=this.delegate.getType?this.delegate.getType(e):"item";return{type:i,reuseType:"item"===i?"item":t.type+"_"+i}}return{type:t.type,reuseType:t.type}}getReusableView(t){let e=this.getItem(t.key),{reuseType:i}=this._getReuseType(t,e);this._reusableViews[i]||(this._reusableViews[i]=[]);let s=this._reusableViews[i],n=s.length>0?s.pop():new d(this);return n.viewType=i,this._animatedContentOffset.isOrigin()||((t=t.copy()).rect.x+=this._animatedContentOffset.x,t.rect.y+=this._animatedContentOffset.y),n.layoutInfo=t,this._renderView(n),n}_renderView(t){let{type:e,key:i}=t.layoutInfo;t.content=this.getItem(i),t.rendered=this._renderContent(e,t.content)}_renderContent(t,e){let i=this._renderedContent.get(e);if(null!=i)return i;let s=this.delegate.renderView(t,e);return e&&this._renderedContent.set(e,s),s}get visibleViews(){return Array.from(this._visibleViews.values())}getView(t){return this._visibleViews.get(t)||null}getViewsOfType(t){return this.visibleViews.filter((e=>e.layoutInfo&&e.layoutInfo.type===t))}keyForView(t){return t&&t.layoutInfo?t.layoutInfo.key:null}keyAtPoint(t){let e=new h(t.x,t.y,1,1),i=this.layout.getVisibleLayoutInfos(e)[0];return i?i.key:null}willUnmount(){cancelAnimationFrame(this._relayoutRaf)}relayout(t={}){this._scrollAnimation||"undefined"==typeof requestAnimationFrame||(this._invalidationContext?Object.assign(this._invalidationContext,t):(this._invalidationContext=t,this._relayoutRaf=requestAnimationFrame((()=>{this._relayoutRaf=null,this.relayoutNow()}))))}relayoutNow(t=this._invalidationContext||{}){if(this._relayoutRaf&&(cancelAnimationFrame(this._relayoutRaf),this._relayoutRaf=null,t={...this._invalidationContext,...t}),this._invalidationContext=null,!this.layout||!this._collection||this._scrollAnimation)return;let e=this._getScrollAnchor();"function"==typeof t.beforeLayout&&t.beforeLayout(),this.layout.validate(t),this._setContentSize(this.layout.getContentSize()),"function"==typeof t.afterLayout&&t.afterLayout();let i=this.getVisibleRect(),s=this._restoreScrollAnchor(e,t),n=t.contentChanged?0:s.x,o=t.contentChanged?0:s.y;n=Math.max(0,Math.min(this.contentSize.width-i.width,n)),o=Math.max(0,Math.min(this.contentSize.height-i.height,o));let l=!1;if(n!==i.x||o!==i.y?t.animated||!this._animatedContentOffset.isOrigin()?(this._animatedContentOffset.x+=i.x-n,this._animatedContentOffset.y+=i.y-o,l=this.updateSubviews(t.contentChanged)):this._setContentOffset(new r(n,o)):l=this.updateSubviews(t.contentChanged),t.transaction&&t.animated||this._applyLayoutInfos(),t.animated&&l){return this._enableTransitions(),void setTimeout((()=>{if(this._disableTransitions(),!this._animatedContentOffset.isOrigin()){let{x:t,y:e}=this.getVisibleRect();this._resetAnimatedContentOffset(),this._setContentOffset(new r(t,e))}"function"==typeof t.afterAnimation&&t.afterAnimation()}),this.transitionDuration+100)}"function"==typeof t.afterAnimation&&t.afterAnimation()}_correctItemOrder(){if(!this._isScrolling&&!this._transaction)for(let t of this._visibleLayoutInfos.keys()){let e=this._visibleViews.get(t);this._children.delete(e),this._children.add(e)}}_enableTransitions(){this.delegate.beginAnimations()}_disableTransitions(){this.delegate.endAnimations()}_getScrollAnchor(){if(!this.anchorScrollPosition)return null;let t=this.getVisibleRect();if(this.delegate.getScrollAnchor){let e=this.delegate.getScrollAnchor(t);if(e){let i=this.layout.getLayoutInfo(e),s=i.rect.getCornerInRect(t);if(s){return{key:i.key,layoutInfo:i,corner:s,offset:i.rect[s].y-t.y}}}}if(0===t.y&&!this.anchorScrollPositionAtTop)return null;let e=null;for(let[i,s]of this._visibleViews){let n=s.layoutInfo;if(n&&n.rect.area>0){let s=n.rect.getCornerInRect(t);if(s){let o=n.rect[s].y-t.y;(!e||o<e.offset)&&(e={key:i,layoutInfo:n,corner:s,offset:o})}}}return e}_restoreScrollAnchor(t,e){let i=this.getVisibleRect();if(t){var s;let n=(null===(s=e.transaction)||void 0===s?void 0:s.animated)?e.transaction.finalMap.get(t.key):this.layout.getLayoutInfo(t.layoutInfo.key);if(n){let e=n.rect[t.corner].y-i.y-t.offset;i.y+=e}}return i}getVisibleRect(){let t=this.visibleRect,e=t.x-this._animatedContentOffset.x,i=t.y-this._animatedContentOffset.y;return new h(e,i,t.width,t.height)}getVisibleLayoutInfos(){let t=this.shouldOverscan?this._overscanManager.getOverscannedRect():this.getVisibleRect();return this._visibleLayoutInfos=this._getLayoutInfoMap(t),this._visibleLayoutInfos}_getLayoutInfoMap(t,e=!1){let i=this.layout.getVisibleLayoutInfos(t),s=new Map;for(let n of i)e&&(n=n.copy()),s.set(n.key,n);return s}updateSubviews(t=!1){if(!this._collection)return;let e,i,s,n=this.getVisibleLayoutInfos(),o=this._visibleViews;if(t)e=n,i=o,s=new Set;else{({toAdd:e,toRemove:i,toUpdate:s}=function(t,e){let i=w(t,e),s=w(e,t),n=new Set;for(let o of t.keys())e.has(o)&&n.add(o);return{toRemove:i,toAdd:s,toUpdate:n}}(o,n));for(let t of s){let l=o.get(t);if(!l||!l.layoutInfo)continue;let a=this.getItem(n.get(t).key);if(l.content===a)s.delete(t);else{let{reuseType:n}=this._getReuseType(l.layoutInfo,a);l.viewType!==n&&(s.delete(t),e.add(t),i.add(t))}}if(0===e.size&&0===i.size&&0===s.size)return void(this._transaction&&this._applyLayoutInfos())}let l=new Set;for(let r of i.keys()){let t=this._visibleViews.get(r);t&&(l.add(t),this._visibleViews.delete(r),this._transaction?this._transaction.toRemove.set(r,t):this.reuseView(t))}for(let r of e.keys()){let t,e=n.get(r);this._transaction&&(this._transaction.initialLayoutInfo.has(r)&&(e=this._transaction.initialLayoutInfo.get(r)),t=this._transaction.toRemove.get(r),t&&(this._transaction.toRemove.delete(r),this._applyLayoutInfo(t,e))),t||(t=this.getReusableView(e),l.has(t)||this._children.add(t)),this._visibleViews.set(r,t),l.delete(t)}for(let r of s){let t=o.get(r);this._renderedContent.delete(r),this._renderView(t)}this._transaction||this.removeViews(l),this._correctItemOrder(),this._flushVisibleViews();let a=this._transaction&&(e.size>0||i.size>0||this._hasLayoutUpdates());return a&&requestAnimationFrame((()=>{this._transaction&&requestAnimationFrame((()=>this._applyLayoutInfos()))})),a}afterRender(){this.shouldOverscan&&this._overscanManager.collectMetrics()}_flushVisibleViews(){let t=new Map([[null,[]]]);for(let s of this._children)t.has(s.layoutInfo.parentKey)||t.set(s.layoutInfo.parentKey,[]),t.get(s.layoutInfo.parentKey).push(s),t.has(s.layoutInfo.key)||t.set(s.layoutInfo.key,[]);let e=(i,s)=>s.map((s=>{let n=t.get(s.layoutInfo.key);return this.delegate.renderWrapper(i,s,n,(t=>e(s,t)))})),i=e(null,t.get(null));this.delegate.setVisibleViews(i)}_applyLayoutInfo(t,e){return t.layoutInfo!==e&&(t.layoutInfo=e,!0)}_applyLayoutInfos(){let t=!1;for(let e of this._visibleViews.values()){let i=e.layoutInfo;if(i){let s=this.layout.getLayoutInfo(i.key);this._applyLayoutInfo(e,s)&&(t=!0)}}if(this._transaction){for(let e of this._transaction.toRemove.values()){let i=e.layoutInfo,s=this.layout.getLayoutInfo(i.key);this._applyLayoutInfo(e,s)&&(t=!0)}for(let e of this._transaction.removed.values()){let i=e.layoutInfo,s=this._transaction.finalLayoutInfo.get(i.key)||i;s=this.layout.getFinalLayoutInfo(s.copy()),this._applyLayoutInfo(e,s)&&(t=!0)}}t&&this._flushVisibleViews()}_hasLayoutUpdates(){if(!this._transaction)return!1;for(let t of this._visibleViews.values()){let e=t.layoutInfo;if(!e)return!0;let i=this.layout.getLayoutInfo(e.key);if(!e.rect.equals(i.rect)||e.opacity!==i.opacity||e.transform!==i.transform)return!0}return!1}reuseView(t){t.prepareForReuse(),this._reusableViews[t.viewType].push(t)}removeViews(t){for(let e of t)this._children.delete(e)}updateItemSize(t,e){if(!this.layout.updateItemSize)return;if(this._scrollAnimation)return void this._sizeUpdateQueue.set(t,e);this.layout.updateItemSize(t,e)&&this.relayout()}startScrolling(){this._isScrolling=!0}endScrolling(){this._isScrolling=!1,this._correctItemOrder(),this._flushVisibleViews()}_resetAnimatedContentOffset(){this._animatedContentOffset.isOrigin()||(this._animatedContentOffset=new r(0,0),this._applyLayoutInfos())}scrollToItem(t,e){if(null==t)return;let i=this.layout.getLayoutInfo(t);if(!i)return;let{duration:s=300,shouldScrollX:n=!0,shouldScrollY:o=!0,offsetX:l=0,offsetY:a=0}=e,h=this.visibleRect.x,u=this.visibleRect.y,c=i.rect.x-l,d=i.rect.y-a,y=h+this.visibleRect.width,f=u+this.visibleRect.height;return n&&(c<=h||0===y?h=c:i.rect.maxX>y&&(h+=i.rect.maxX-y)),o&&(d<=u||0===f?u=d:i.rect.maxY>f&&(u+=i.rect.maxY-f)),this.scrollTo(new r(h,u),s)}scrollTo(t,e=300){return this._scrollAnimation&&(this._scrollAnimation.cancel(),this._scrollAnimation=null),e<=0||this.visibleRect.pointEquals(t)?(this._setContentOffset(t),Promise.resolve()):(this.startScrolling(),this._scrollAnimation=function(t,e,i,s,n){let o,l=!1,a=new Promise((a=>{let h=m(),u=e.x-t.x,c=e.y-t.y;o=requestAnimationFrame((function d(f){null==y&&(y=f>1e12!=m()>1e12),y&&(f=m());let g=f-h;g>i?(n(e),a()):!1===n(new r(t.x+u*s(g/i),t.y+c*s(g/i)))||l||(o=requestAnimationFrame(d))}))}));return a.cancel=function(){l=!0,cancelAnimationFrame(o)},a}(this.visibleRect,t,e,p,(t=>{this._setContentOffset(t)})),this._scrollAnimation.then((()=>{this._scrollAnimation=null;for(let[t,e]of this._sizeUpdateQueue)this.updateItemSize(t,e);this._sizeUpdateQueue.clear(),this.relayout(),this._processTransactionQueue(),this.endScrolling()})),this._scrollAnimation)}_runTransaction(t,e){this._startTransaction(),this._nextTransaction&&this._nextTransaction.actions.push(t),this._endTransaction(e)}_startTransaction(){this._nextTransaction||(this._nextTransaction=new b),this._nextTransaction.level++}_endTransaction(t){return!!this._nextTransaction&&(null!=t&&(this._nextTransaction.animated=t),!(--this._nextTransaction.level>0)&&(0===this._nextTransaction.actions.length?(this._nextTransaction=null,!1):(null==this._nextTransaction.animated&&(this._nextTransaction.animated=!0),this._transactionQueue.push(this._nextTransaction),this._nextTransaction=null,this._processTransactionQueue(),!0)))}_processTransactionQueue(){if(this._transaction||this._scrollAnimation)return;let t=this._transactionQueue.shift();t&&this._performTransaction(t)}_getContentRect(){return new h(0,0,this.contentSize.width,this.contentSize.height)}_performTransaction(t){this._transaction=t,this.relayoutNow({transaction:t,animated:t.animated,beforeLayout:()=>{t.animated&&(t.initialMap=this._getLayoutInfoMap(this._getContentRect(),!0));for(let e of t.actions)e()},afterLayout:()=>{t.animated?(t.finalMap=this._getLayoutInfoMap(this._getContentRect()),this._setupTransactionAnimations(t)):this._transaction=null},afterAnimation:()=>{if(t.toRemove.size>0||t.removed.size>0)for(let e of function*(...t){for(let e of t)yield*e}(t.toRemove.values(),t.removed.values()))this._children.delete(e),this.reuseView(e);this._transaction=null,this._correctItemOrder(),this._flushVisibleViews(),this._processTransactionQueue()}})}_setupTransactionAnimations(t){let{initialMap:e,finalMap:i}=t;for(let[s,n]of e)i.has(s)?t.initialLayoutInfo.set(s,n):t.finalLayoutInfo.set(n.key,n);for(let[s,n]of i)if(!e.has(s)){let e=this.layout.getInitialLayoutInfo(n.copy());t.initialLayoutInfo.set(s,e)}for(let[s,n]of this._visibleViews)i.has(s)||(t.removed.set(s,n),this._visibleViews.delete(s),n.layoutInfo&&(t.finalLayoutInfo.has(n.layoutInfo.key)||t.finalLayoutInfo.set(n.layoutInfo.key,n.layoutInfo)))}constructor(t={}){var e;this._contentSize=new u,this._visibleRect=new h,this._reusableViews={},this._visibleLayoutInfos=new Map,this._visibleViews=new Map,this._renderedContent=new WeakMap,this._children=new Set,this._invalidationContext=null,this._overscanManager=new I,this._scrollAnimation=null,this._isScrolling=!1,this._sizeUpdateQueue=new Map,this._animatedContentOffset=new r(0,0),this._transaction=null,this._nextTransaction=null,this._transactionQueue=[],this.transitionDuration=null!==(e=t.transitionDuration)&&void 0!==e?e:500,this.anchorScrollPosition=t.anchorScrollPosition||!1,this.anchorScrollPositionAtTop=t.anchorScrollPositionAtTop||!1,this.shouldOverscan=!1!==t.shouldOverscan;for(let i of["delegate","size","layout","collection"])t[i]&&(this[i]=t[i])}}function x(t){let[e,i]=(0,s.useState)([]),[o,l]=(0,s.useState)(new u),[a,r]=(0,s.useState)(!1),[h,c]=(0,s.useState)(!1),d=(0,s.useMemo)((()=>new _),[]);return d.delegate={setVisibleViews:i,setVisibleRect(e){d.visibleRect=e,t.onVisibleRectChange(e)},setContentSize:l,renderView:t.renderView,renderWrapper:t.renderWrapper,beginAnimations:()=>r(!0),endAnimations:()=>r(!1),getScrollAnchor:t.getScrollAnchor},d.layout=t.layout,d.collection=t.collection,d.transitionDuration=t.transitionDuration,(0,n.bt)((()=>{d.afterRender()})),(0,s.useEffect)((()=>()=>d.willUnmount()),[]),{virtualizer:d,visibleViews:e,setVisibleRect:(0,s.useCallback)((t=>{d.visibleRect=t}),[d]),contentSize:o,isAnimating:a,isScrolling:h,startScrolling:(0,s.useCallback)((()=>{d.startScrolling(),c(!0)}),[d]),endScrolling:(0,s.useCallback)((()=>{d.endScrolling(),c(!1)}),[d])}}}}]);
//# sourceMappingURL=1593.8535e60e.js.map