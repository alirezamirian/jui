{"version":3,"file":"assets/js/375aa0c7.d9254502.js","mappings":"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","sources":["webpack://website/../jui/src/ActionButton/ActionButton.tsx","webpack://website/../jui/src/Collections/Item.ts","webpack://website/../jui/src/Collections/ItemStateContext.tsx","webpack://website/../jui/src/Icon/LafIcon.tsx","webpack://website/../jui/src/Icon/PlatformIcon.tsx","webpack://website/../jui/src/Icon/StyledIconWrapper.tsx","webpack://website/../jui/src/Icon/useSvgIcon.tsx","webpack://website/../jui/src/List/ListDivider.tsx","webpack://website/../jui/src/Menu/StyledMenu.tsx","webpack://website/../jui/src/Menu/StyledMenuItem.tsx","webpack://website/../jui/src/Menu/MenuItem.tsx","webpack://website/../jui/src/Menu/MenuSection.tsx","webpack://website/../jui/src/Menu/Menu.tsx","webpack://website/../jui/src/Menu/MenuItemLayout.tsx","webpack://website/../jui/src/Menu/MenuTrigger.tsx","webpack://website/../jui/src/StyledSeparator.tsx","webpack://website/../jui/src/Tabs/DebuggerTabs/StyledDebuggerTab.ts","webpack://website/../jui/src/Tabs/DebuggerTabs/DebuggerTabs.tsx","webpack://website/../jui/src/Tabs/EditorTabs/EditorTabContent.tsx","webpack://website/../jui/src/Tabs/EditorTabs/StyledEditorTab.ts","webpack://website/../jui/src/Tabs/EditorTabs/StyledEditorTabs.ts","webpack://website/../jui/src/Tabs/EditorTabs/EditorTabs.tsx","webpack://website/../jui/src/Tabs/StyledDefaultTab.ts","webpack://website/../jui/src/Tabs/StyledDefaultTabs.ts","webpack://website/../jui/src/Tabs/TabCloseButton.tsx","webpack://website/../jui/src/Tabs/TabContentLayout.tsx","webpack://website/../jui/src/Tabs/TabItem.tsx","webpack://website/../jui/src/Tabs/TabTheme.ts","webpack://website/../jui/src/Tabs/StyledHorizontalOverflowShadows.tsx","webpack://website/../jui/src/Tabs/Tab.tsx","webpack://website/../jui/src/Tabs/Tabs.tsx","webpack://website/../jui/src/Tabs/useIsScrolled.tsx","webpack://website/../jui/src/Tabs/useCollectionOverflowObserver.tsx","webpack://website/../jui/src/Tabs/TabsOverflowMenu.tsx","webpack://website/../jui/src/Tabs/ToolWindowTabs/StyledToolWindowTab.ts","webpack://website/../jui/src/Tabs/ToolWindowTabs/StyledToolWindowTabs.ts","webpack://website/../jui/src/Tabs/ToolWindowTabs/ToolWindowTabs.tsx","webpack://website/../jui/src/ToolWindow/FocusScope.tsx","webpack://website/../jui/src/Tree/__tmp__useTreeState.ts","webpack://website/../jui/src/Collections/useCollectionCacheInvalidation.ts","webpack://website/../jui/src/Tree/useTreeRef.tsx","webpack://website/../jui/src/style-constants.ts","webpack://website/../jui/src/styled.ts","webpack://website/../jui/src/utils/useContextOrThrow.tsx","webpack://website/../jui/src/utils/useForwardedRef.ts","webpack://website/../jui/src/utils/useLatest.ts","webpack://website/../jui/src/utils/usePrevious.ts","webpack://website/../jui/src/Tabs/DebuggerTabs/DebuggerTabContent.tsx","webpack://website/../jui/src/Tabs/3-TabThemes.stories.tsx","webpack://website/../jui/src/Tabs/2-Tabs.stories.tsx","webpack://website/./docs/components/Tabs.mdx","webpack://website/../../node_modules/@react-aria/tabs/dist/module.js","webpack://website/../../node_modules/@react-stately/list/dist/module.js","webpack://website/../../node_modules/@react-stately/tabs/dist/module.js","webpack://website/../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js"],"sourcesContent":["import { PressProps, usePress } from \"@react-aria/interactions\";\nimport React, { ForwardedRef, HTMLProps } from \"react\";\nimport { styled } from \"../styled\";\nimport { mergeProps } from \"@react-aria/utils\";\n\nexport interface ActionButtonProps\n  extends PressProps,\n    // Maybe we should allow any arbitrary HTMLProps<HTMLButtonElement> props, instead of whitelisting?\n    Pick<HTMLProps<HTMLButtonElement>, \"onFocus\" | \"onBlur\"> {\n  children?: React.ReactNode;\n  minSize?: number;\n  /**\n   * Whether the button should be focusable by pressing tab. The default is true for action buttons, which means they\n   * are not included in the tab order.\n   */\n  excludeFromTabOrder?: boolean;\n}\n\nexport const DEFAULT_MINIMUM_BUTTON_SIZE = 22;\nexport const NAVBAR_MINIMUM_BUTTON_SIZE = 20;\n\nexport const StyledActionButton = styled.button<{ minSize: number }>`\n  position: relative; // to allow absolutely positioned overlays like an dropdown icon at the bottom right corner\n  background: none;\n  color: inherit;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-height: ${({ minSize }) => `${minSize}px`};\n  min-width: ${({ minSize }) => `${minSize}px`};\n  padding: 0;\n  margin: 0;\n  &:disabled {\n    opacity: 0.25; // not quite accurate implementation. There might be better ways to style disabled state.\n  }\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) /* in intellij platform, the button doesn't grab the focus after being active. This is not the case in web,\n  for better accessibility. But there is no existing UI spec for it in intellij platform obviously. So for now, we\n  fallback to the same UI as hover state. Perhaps it can be improved with a opacity or something.*/ {\n    outline: none;\n    background: ${({ theme }) =>\n      theme.color(\"ActionButton.hoverBackground\", \"#DFDFDF\")};\n    border-color: ${({ theme }) =>\n      theme.color(\"ActionButton.hoverBorderColor\", \"#DFDFDF\")};\n  }\n  &:active:not(:disabled),\n  &.active:not(:disabled) {\n    background: ${({ theme }) =>\n      theme.color(\"ActionButton.pressedBackground\", \"#CFCFCF\")};\n    border-color: ${({ theme }) =>\n      theme.color(\"ActionButton.pressedBorderColor\", \"#CFCFCF\")};\n  }\n`;\n\nexport const ActionButton = React.forwardRef(function ActionButton(\n  {\n    minSize = DEFAULT_MINIMUM_BUTTON_SIZE,\n    preventFocusOnPress = true,\n    excludeFromTabOrder = true,\n    isPressed: isPressedInput,\n    isDisabled,\n    onPress,\n    onPressChange,\n    onPressEnd,\n    onPressStart,\n    onPressUp,\n    shouldCancelOnPointerExit,\n    ...otherProps\n  }: ActionButtonProps,\n  ref: ForwardedRef<HTMLButtonElement>\n) {\n  const { pressProps, isPressed } = usePress({\n    isPressed: isPressedInput,\n    isDisabled,\n    onPress,\n    onPressChange,\n    onPressEnd,\n    onPressStart,\n    onPressUp,\n    shouldCancelOnPointerExit,\n    preventFocusOnPress,\n  });\n\n  return (\n    <StyledActionButton\n      className={isPressed ? \"active\" : \"\"}\n      disabled={isDisabled}\n      {...mergeProps(pressProps, otherProps)}\n      minSize={minSize}\n      tabIndex={excludeFromTabOrder && !isDisabled ? -1 : undefined}\n      ref={ref}\n    />\n  );\n});\n","import { ItemProps } from \"@react-types/shared\";\nimport React, { ReactElement } from \"react\";\nimport { Item as StatelyItem, PartialNode } from \"@react-stately/collections\";\n\n// noinspection JSUnusedLocalSymbols\n/**\n * Item for collection components, which by default disables caching, unless `invalidated` prop is set to false on the\n * context passed to useCollection. Control over cache invalidation policy can be enabled by using\n * `useCollectionCacheInvalidation` for creating such context object.\n */\nexport function Item<T>(props: ItemProps<T>): ReactElement {\n  return (null as any) as React.ReactElement;\n}\n\nexport type CacheInvalidationContext = { invalidated?: boolean };\n\nItem.getCollectionNode = function* getCollectionNode<T>(\n  props: ItemProps<T>,\n  context: CacheInvalidationContext\n): Generator<PartialNode<T>> {\n  const itemGenerator: Generator<\n    PartialNode<T>\n  > = (StatelyItem as any).getCollectionNode(props, context);\n  const result = itemGenerator.next().value;\n  const originalShouldInvalidate = result.shouldInvalidate;\n  result.shouldInvalidate = (context: CacheInvalidationContext) =>\n    originalShouldInvalidate?.(context) || context.invalidated;\n  yield result;\n};\n","import React from \"react\";\nimport { Node } from \"@react-types/shared\";\n\n/**\n * Generic state of items in collections, provided via a context.\n * To be used in Menu, Tree, or anything that deals with a collection of items for which the common states like\n * **disabled** or **selected** is applicable.\n */\nexport interface ItemStateContextType {\n  node: Node<unknown>;\n  isSelected: boolean;\n  isFocused: boolean;\n  isDisabled: boolean;\n}\n\nexport const ItemStateContext = React.createContext<ItemStateContextType | null>(\n  null\n);\n","import useForwardedRef from \"@intellij-platform/core/utils/useForwardedRef\";\nimport React, { ForwardedRef } from \"react\";\nimport { useTheme } from \"styled-components\";\nimport { Theme } from \"../Theme/Theme\";\nimport { IconProps } from \"./IconProps\";\nimport { StyledIconWrapper } from \"./StyledIconWrapper\";\nimport { useSvgIcon } from \"./useSvgIcon\";\n\ninterface IconModifiers {\n  Selected?: boolean;\n  Focused?: boolean;\n  Disabled?: boolean;\n  Editable?: boolean;\n  Pressed?: boolean;\n}\n\nexport interface ThemeIconProps extends IconProps {\n  /**\n   * Icon which will be resolved against the default icon location based on theme type\n   */\n  icon: string | { name: string; modifiers: IconModifiers };\n\n  /**\n   * A theme key that can optionally override the icon.\n   */\n  themePath?: string;\n}\n\nconst ICONS_DIR_PREFIX = \"com/intellij/ide/ui/laf/icons/\";\n\n// Similar to LafIconLookup\nfunction findIconPath(\n  theme: Theme,\n  name: string,\n  modifiers: IconModifiers = {}\n) {\n  const basePath = `${ICONS_DIR_PREFIX}${\n    theme.isUnderDarcula() ? \"darcula/\" : \"intellij/\"\n  }`;\n  const suffix = ([\n    \"Editable\",\n    \"Selected\",\n    \"Pressed\",\n    \"Focused\",\n    \"Disabled\",\n  ] as Array<keyof typeof modifiers>).reduce(\n    (soFar, modifier) => soFar + (modifiers[modifier] ? modifier : \"\"),\n    \"\"\n  );\n  return `${basePath}${name}${suffix}.svg`;\n}\n\nfunction useIconPath(\n  iconDescriptor: string | { name: string; modifiers?: IconModifiers },\n  themePath?: string\n) {\n  const theme = useTheme() as Theme; // TODO: investigate why useTheme is typed like this\n  const resolvedValue = themePath && theme.value(themePath);\n  if (resolvedValue) {\n    return resolvedValue;\n  }\n  const { modifiers = {}, name } =\n    typeof iconDescriptor === \"string\"\n      ? { name: iconDescriptor }\n      : iconDescriptor;\n  return findIconPath(theme, name, modifiers);\n}\n\nexport const LafIcon = React.forwardRef(\n  (\n    { themePath, icon, size, ...props }: ThemeIconProps,\n    forwardedRef: ForwardedRef<HTMLElement>\n  ) => {\n    const resolvedIconPath = useIconPath(icon, themePath);\n\n    const ref = useForwardedRef(forwardedRef);\n    useSvgIcon({ path: `platform/platform-impl/src/${resolvedIconPath}` }, ref);\n    return <StyledIconWrapper {...props} ref={ref} size={size} />;\n  }\n);\n","import React, { ForwardedRef } from \"react\";\nimport useForwardedRef from \"@intellij-platform/core/utils/useForwardedRef\";\nimport { useTheme } from \"styled-components\";\nimport { Theme } from \"../Theme/Theme\";\nimport { IconProps } from \"./IconProps\";\nimport { StyledIconWrapper } from \"./StyledIconWrapper\";\nimport { useSvgIcon } from \"./useSvgIcon\";\n\nexport interface PlatformIconProps extends IconProps {\n  icon: string;\n  darkIcon?: string;\n}\n\nexport const amendName = (iconNameOrPath: string, amendment: string) => {\n  const [name, ext] = iconNameOrPath.split(\".\");\n  return `${name}${amendment}${ext ? `.${ext}` : \"\"}`;\n};\n\nexport const getDarkPath = (path: string, darkPath?: string) => {\n  const [name, ext] = path.split(\".\");\n  return darkPath || `${name}_dark${ext ? `.${ext}` : \"\"}`;\n};\n\nconst getPlatformIconPath = (relativePath: string) =>\n  `platform/icons/src/${relativePath}`;\n\n/**\n * Renders an icon from the predefined list of platform icons.\n * icon name must follow the directory structure in platform icons.\n * @example <PlatformIcon icon=\"general/hideToolWindow\" />\n * @example <PlatformIcon icon=\"toolbar/pin\" />\n * @example <PlatformIcon icon=\"toolbar/pin.svg\" />\n */\nexport const PlatformIcon = React.forwardRef(\n  (\n    { icon, darkIcon, ...props }: PlatformIconProps,\n    forwardedRef: ForwardedRef<HTMLElement>\n  ) => {\n    const ref = useForwardedRef(forwardedRef);\n    const theme = useTheme() as Theme; // TODO: investigate why useTheme is typed like this\n    const iconName = theme.dark ? getDarkPath(icon, darkIcon) : icon;\n    useSvgIcon(\n      {\n        path: getPlatformIconPath(iconName),\n        fallbackPath: getPlatformIconPath(icon),\n      },\n      ref\n    );\n\n    return <StyledIconWrapper {...props} ref={ref} />;\n  }\n);\n","import { styled } from \"../styled\";\nimport { IconSize } from \"@intellij-platform/core/Icon/IconProps\";\n\nconst DEFAULT_ICON_SIZE: IconSize = 16;\n\nexport const StyledIconWrapper = styled.span<{\n  size?: IconSize;\n  useCurrentColor?: boolean;\n}>`\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  width: ${({ size = DEFAULT_ICON_SIZE }) => `${size}px`};\n  height: ${({ size = DEFAULT_ICON_SIZE }) => `${size}px`};\n  position: relative; // to allow absolute positioned indicators and overlays on icon\n`;\n","import { RefObject, useEffect } from \"react\";\nimport { useTheme } from \"styled-components\";\nimport { Theme } from \"../Theme/Theme\";\n\nexport function useSvgIcon(\n  { path, fallbackPath }: { path: string; fallbackPath?: string },\n  /**\n   * ref to the icon wrapper element in which the svg should be injected.\n   * This hook used to return svg string, and that svg was set as dangerouslySetInnerHTML. But now it injects the svg.\n   * by direct DOM manipulation. That's to eliminate the need for using dangerouslySetInnerHTML, so that we can allow\n   * arbitrary children (like LiveIndicator) as overlays on top of icons.\n   */\n  ref: RefObject<HTMLElement>\n) {\n  const theme = useTheme() as Theme; // TODO: investigate why useTheme is typed like this\n  useEffect(() => {\n    let unmounted = false;\n    const fetchIcon = async () => {\n      if (!path) {\n        console.error(\"icon path is empty\");\n        return;\n      }\n      if (ref.current) {\n        // For querying for icons that are not loaded yet. Especially useful for visual testing\n        ref.current.dataset.loadingIcon = \"true\";\n      }\n      const svg = await theme.getSvgIcon(path).catch((e) => {\n        if (fallbackPath) {\n          return theme.getSvgIcon(fallbackPath);\n        }\n        throw e;\n      });\n      if (svg) {\n        if (!unmounted && ref?.current) {\n          if (ref) {\n            // potential SSR issues here?\n            ref.current?.querySelector(\"svg\")?.remove();\n            const svgElement = document.createElement(\"svg\");\n            ref.current?.appendChild(svgElement);\n            svgElement.outerHTML = svg;\n            delete ref.current?.dataset.loadingIcon;\n          }\n        }\n      } else {\n        console.error(\"Could not resolve icon:\", path);\n      }\n    };\n    fetchIcon().catch(console.error);\n    return () => {\n      unmounted = true;\n    };\n  }, [path]);\n}\n","import React from \"react\";\nimport { StyledVerticalSeparator } from \"../StyledSeparator\";\nimport { useSeparator } from \"@react-aria/separator\";\n\nexport const ListDivider: React.FC = () => {\n  return (\n    <StyledVerticalSeparator\n      as={\"li\"}\n      {...useSeparator({ orientation: \"vertical\" })}\n    />\n  );\n};\n","import { isMac } from \"@react-aria/utils\";\nimport { css } from \"styled-components\";\nimport { MAC_WINDOW_SHADOW } from \"../style-constants\";\nimport { styled } from \"../styled\";\nimport { StyledVerticalSeparator } from \"../StyledSeparator\";\nimport { Theme, UnknownThemeProp } from \"../Theme/Theme\";\n\nexport const MENU_VERTICAL_PADDING = 5;\nexport const MENU_BORDER_WIDTH = 1;\n\nexport const StyledMenu = styled.ul`\n  font-size: 0.87rem;\n  margin: 0;\n  padding: ${MENU_VERTICAL_PADDING}px 0;\n  outline: none;\n  list-style: none;\n  width: fit-content;\n  min-width: 100px;\n  border: ${MENU_BORDER_WIDTH}px solid\n    ${({ theme }) => theme.color(\"Menu.borderColor\")};\n  ${isMac() &&\n  css<{ theme: Theme }>`\n    ${MAC_WINDOW_SHADOW};\n    border-color: ${({ theme }) =>\n      theme.dark ? \"rgba(0, 0, 0, 0.15)\" : undefined};\n  `}\n  background: ${({ theme }) =>\n    theme.color(\"PopupMenu.background\" as UnknownThemeProp)};\n  color: ${({ theme }) =>\n    theme.color(\"PopupMenu.foreground\" as UnknownThemeProp)};\n\n  ${StyledVerticalSeparator} {\n    background-color: ${({ theme }) =>\n      theme.color(\"Menu.separatorColor\" as UnknownThemeProp)};\n    height: ${({ theme }) =>\n      `${theme.value(\"PopupMenuSeparator.height\" as UnknownThemeProp) ?? 3}px`};\n    padding: ${({ theme }) =>\n      `${\n        theme.value(\"PopupMenuSeparator.stripeIndent\" as UnknownThemeProp) ?? 1\n      }px 0`};\n  }\n`;\n","import { css } from \"styled-components\";\nimport { styled } from \"../styled\";\nimport { UnknownThemeProp } from \"../Theme/Theme\";\n\nexport const StyledMenuItem = styled.li<{\n  isDisabled: boolean;\n  isActive: boolean;\n}>`\n  position: relative; // for being able to position arrow icon absolutely\n  outline: none;\n  cursor: default;\n  white-space: nowrap;\n  color: ${({ isActive, isDisabled, theme }) => {\n    if (isDisabled) {\n      return theme.color(\"MenuItem.disabledForeground\");\n    }\n    if (isActive) {\n      return theme.color(\"MenuItem.selectionForeground\" as UnknownThemeProp);\n    }\n    return theme.color(\"MenuItem.foreground\" as UnknownThemeProp);\n  }};\n  ${({ isActive, theme }) =>\n    isActive &&\n    css`\n      background: ${theme.color(\n        \"MenuItem.selectionBackground\" as UnknownThemeProp\n      )};\n      color: ${undefined};\n      // Kind of a solution for hard coded fill values in svg icons. Is there a better approaches?\n      svg {\n        filter: brightness(2);\n      }\n    `}\n  // would be nice to have a visual clue for focus visible state, but it's not like that in intellij platform\n  //border-left: 3px solid transparent;\n  //&:focus-visible {\n  //  border-left: 3px solid rgba(255, 255, 255, 0.1);\n  //}\n  padding: 0 20px 0 27px;\n  line-height: 1.35; // to make the item have the right height\n  display: flex;\n  align-items: center;\n`;\n","import { useHover, useKeyboard } from \"@react-aria/interactions\";\nimport { useMenuItem } from \"@react-aria/menu\";\nimport { OverlayContainer, useOverlayPosition } from \"@react-aria/overlays\";\nimport { mergeProps } from \"@react-aria/utils\";\nimport { Item } from \"@react-stately/collections\";\nimport { TreeState } from \"@react-stately/tree\";\nimport { Node } from \"@react-types/shared\";\nimport React, { Key } from \"react\";\nimport { ItemStateContext } from \"../Collections/ItemStateContext\";\nimport { LafIcon, PlatformIcon } from \"../Icon\";\n\nimport { styled } from \"../styled\";\nimport { FocusScope } from \"../ToolWindow/FocusScope\";\nimport { Menu } from \"./Menu\";\nimport { MENU_BORDER_WIDTH, MENU_VERTICAL_PADDING } from \"./StyledMenu\";\nimport { StyledMenuItem } from \"./StyledMenuItem\";\n\nexport interface MenuItemProps<T> {\n  item: Node<T>;\n  state: TreeState<T>;\n  onAction?: (key: Key) => void;\n  onSubmenuClose?: () => void;\n  expandOn?: \"hover\" | \"press\";\n}\n\nconst StyledNestedArrow = styled.span`\n  margin-right: -11px;\n  margin-left: 11px;\n  display: inline-flex; // to make it not take more height than the icon\n`;\n\nconst StyledSelectedMark = styled.span`\n  position: absolute;\n  left: 4px;\n  top: 50%;\n  transform: translateY(-50%);\n  display: inline-flex; // to make it not take more height than the icon\n`;\n\nconst StyledMenuItemText = styled.span`\n  flex: 1;\n`;\n\nexport function MenuItem<T>({\n  item,\n  state,\n  onAction,\n  expandOn,\n}: MenuItemProps<T>) {\n  // Get props for the menu item element\n  const ref = React.useRef<HTMLLIElement>(null);\n  const nestedMenuRef = React.useRef<HTMLDivElement>(null);\n  const isDisabled = state.disabledKeys.has(item.key);\n  const isExpanded = state.expandedKeys.has(item.key);\n  const isSelected = state.selectionManager.selectedKeys.has(item.key);\n  const isFocused = state.selectionManager.focusedKey === item.key;\n\n  const { menuItemProps } = useMenuItem(\n    {\n      key: item.key,\n      isDisabled,\n      onAction: !item.hasChildNodes ? onAction : undefined,\n    },\n    state,\n    ref\n  );\n\n  const maybeOpenSubmenu = () => {\n    // Not the best way to clear expandedKeys, but current implementation of tree state only allows toggling keys\n    state.expandedKeys.forEach((key) => {\n      state.toggleKey(key);\n    });\n    if (item.hasChildNodes) {\n      state.toggleKey(item.key);\n    }\n  };\n\n  const { hoverProps } = useHover({\n    isDisabled: isDisabled || expandOn !== \"hover\",\n    onHoverStart: () => {\n      maybeOpenSubmenu();\n    },\n  });\n\n  const { keyboardProps } = useKeyboard({\n    onKeyDown: (e) => {\n      if ([\"ArrowRight\", \"Enter\", \" \"].includes(e.key)) {\n        maybeOpenSubmenu();\n      } else {\n        e.continuePropagation();\n      }\n    },\n  });\n\n  let { overlayProps: positionProps } = useOverlayPosition({\n    targetRef: ref,\n    overlayRef: nestedMenuRef,\n    placement: \"right top\",\n    shouldFlip: true,\n    onClose: () => {\n      console.log(\"on close\");\n    },\n    offset: 0,\n    crossOffset: -(MENU_VERTICAL_PADDING + MENU_BORDER_WIDTH),\n    isOpen: isExpanded,\n  });\n\n  const { subMenuProps } = useSubmenu({\n    onClose: () => {\n      state.toggleKey(item.key);\n      // setting focus with selection manager didn't work. Perhaps because of patchy implementation of nested menus\n      ref.current?.focus();\n    },\n  });\n\n  return (\n    <>\n      <StyledMenuItem\n        {...mergeProps(menuItemProps, hoverProps, keyboardProps)}\n        isDisabled={isDisabled}\n        isActive={isFocused}\n        ref={ref}\n      >\n        {isSelected && (\n          <StyledSelectedMark>\n            <LafIcon\n              icon={{\n                name: \"checkmark\",\n                modifiers: { Selected: isFocused },\n              }}\n            />\n          </StyledSelectedMark>\n        )}\n        <ItemStateContext.Provider\n          value={{ isDisabled, isFocused, isSelected, node: item }}\n        >\n          {typeof item.rendered === \"string\" ? (\n            <StyledMenuItemText>{item.rendered}</StyledMenuItemText>\n          ) : (\n            item.rendered\n          )}\n        </ItemStateContext.Provider>\n        {item.hasChildNodes && (\n          <StyledNestedArrow>\n            <PlatformIcon icon=\"icons/ide/menuArrow\" />\n          </StyledNestedArrow>\n        )}\n      </StyledMenuItem>\n      {isExpanded && (\n        /**\n         * A note about using OverlayContainer and FocusScope here:\n         * If sub-menu is not rendered in a portal, useOverlayPosition doesn't work properly and the submenu may\n         * be rendered offscreen. Worse, it may introduce scroll in body (or some scrollable ancestor), which will\n         * trigger a scroll event which closes the menu if the menu is rendered in an overlay (like in MenuTrigger),\n         * which is almost always the case.\n         * So we need to render in a portal and that's done by OverlayContainer. We also need to render a FocusScope,\n         * because now that we are rendering in a portal, we are dom-wise outside the focus scope of the menu in\n         * MenuTrigger (or any other implementation that renders menu in an overlay with a focus scope), and therefore\n         * the auto focus behaviour for the nested menu doesn't work. That's because FocusScope works based on dom\n         * tree, not react tree. Although it's not clear why this problem persists while `contain` is not set on the\n         * FocusScope in MenuTrigger.\n         * So we need focus scope. Rendering a FocusScope here messes with the `restoreFocus` behaviour of the one\n         * in MenuTrigger, and that's why `forceRestoreFocus` is introduced in the locally implemented FocusScope.\n         * In a nutshell:\n         * Positioning -> need for OverlayContainer\n         * using OverlayContainer -> need for FocusScope\n         * FocusScope -> problem in focus restoration in MenuTrigger -> forceRestoreFocus as a patchy solution.\n         */\n        <OverlayContainer>\n          <FocusScope>\n            <div\n              ref={nestedMenuRef}\n              {...mergeProps(positionProps, subMenuProps)}\n            >\n              <Menu\n                aria-label={item[\"aria-label\"] || item.textValue}\n                items={item.childNodes}\n                disabledKeys={state.disabledKeys}\n                selectedKeys={state.selectionManager.selectedKeys}\n                onAction={onAction}\n                autoFocus\n              >\n                {(childItem) => {\n                  // FIXME: This is not complete and doesn't support section and divider\n                  return (\n                    <Item\n                      childItems={childItem.childNodes}\n                      hasChildItems={childItem.hasChildNodes}\n                      textValue={childItem.textValue}\n                    >\n                      {childItem.rendered}\n                    </Item>\n                  );\n                }}\n              </Menu>\n            </div>\n          </FocusScope>\n        </OverlayContainer>\n      )}\n    </>\n  );\n}\n\nconst useSubmenu = ({ onClose }: { onClose: () => void }) => {\n  const { keyboardProps } = useKeyboard({\n    onKeyDown: (e) => {\n      if (e.key === \"ArrowLeft\" || e.key === \"Escape\") {\n        onClose();\n      } else if (![\"ArrowUp\", \"ArrowDown\"].includes(e.key)) {\n        e.continuePropagation();\n      }\n    },\n  });\n  return { subMenuProps: keyboardProps };\n};\n","import { styled } from \"@intellij-platform/core/styled\";\nimport React, { Key } from \"react\";\nimport { useMenuSection } from \"@react-aria/menu\";\nimport { MenuItem } from \"@intellij-platform/core/Menu/MenuItem\";\nimport { Node } from \"@react-types/shared\";\nimport { TreeState } from \"@react-stately/tree\";\n\nexport interface MenuSectionProps<T> {\n  item: Node<T>;\n  state: TreeState<T>;\n  onAction?: (key: Key) => void;\n  expandOn?: \"hover\" | \"press\";\n}\n\nconst StyledMenuHeading = styled.li`\n  cursor: default;\n  padding: 2px 0 2px 12px;\n  color: ${({ theme }) =>\n    theme.color(\n      \"MenuItem.disabledForeground\"\n    )}; // TODO: make sure about it. It's probably not correct color\n`;\n\nconst StyledMenuSectionItemsContainer = styled.ul`\n  padding: 0;\n  margin: 0;\n`;\n\nexport const MenuSection = <T extends unknown>({\n  item,\n  state,\n  onAction,\n  expandOn,\n}: MenuSectionProps<T>): React.ReactElement => {\n  let { itemProps, headingProps, groupProps } = useMenuSection({\n    heading: item.rendered,\n    \"aria-label\": item[\"aria-label\"],\n  });\n\n  return (\n    <>\n      <li {...itemProps}>\n        {item.rendered && (\n          <StyledMenuHeading {...headingProps}>\n            {item.rendered}\n          </StyledMenuHeading>\n        )}\n        <StyledMenuSectionItemsContainer {...groupProps}>\n          {[...item.childNodes].map((node) => {\n            return (\n              <MenuItem\n                key={node.key}\n                item={node}\n                state={state}\n                onAction={onAction}\n                expandOn={expandOn}\n              />\n            );\n          })}\n        </StyledMenuSectionItemsContainer>\n      </li>\n    </>\n  );\n};\n","import { useMenu } from \"@react-aria/menu\";\nimport { AriaMenuProps } from \"@react-types/menu\";\nimport { Node } from \"@react-types/shared\";\nimport React, { Key, useEffect } from \"react\";\nimport { ListDivider } from \"../List/ListDivider\";\nimport { useTreeState } from \"../Tree/__tmp__useTreeState\";\nimport { MenuItem } from \"./MenuItem\";\nimport { StyledMenu } from \"./StyledMenu\";\nimport { MenuSection } from \"@intellij-platform/core/Menu/MenuSection\";\n\nexport interface MenuProps<T>\n  extends Omit<\n    AriaMenuProps<T>,\n    // selection is not properly supported for nested menus. Plus, it's not even that meaningful for a nested menu\n    // at least the way it's implemented now.\n    \"onSelectionChange\" | \"defaultSelection\" | \"selectionMode\"\n  > {\n  /**\n   * Indicates currently expanded menu item (controlled).\n   */\n  expandedKey?: Key;\n  /**\n   * Called when expanded menu item is changed by user interaction, which can be either hovering over the menu item\n   * if `expandOn` is \"focus\", or clicking on the menu item (when `expandOn` is \"press\").\n   */\n  onExpandedKeyChange?: (expandedKey: Key) => void;\n  defaultExpandedKey?: Key;\n  expandOn?: \"hover\" | \"press\"; // hover delay doesn't seem to be needed as an option\n}\n\n/**\n * UI for menus which are normally shown in a popover. Being rendered as an overlay is not handled here.\n * Also there is no coupling with any higher level entity like \"Action\", since this is just for the UI layer.\n * Something like ActionMenu which creates a menu out of a list of actions can be implemented on top of this.\n *\n * @example\n *  <Menu>\n *    <Item>Item one</Item>\n *    <Item>\n *      <MenuItemLayout\n *        icon={<PlatformIcon icon={\"actions/copy\"} />}\n *        content=\"Copy\"\n *        shortcut={\"⌘C\"} />\n *    </Item>\n *  </Menu>\n *\n *  Current issues and limitations:\n *  - Divider in sub-menu's is not supported. because of a constraint in @react-stately/collections, which results in\n *    this error: Unsupported type <Divider> in <Item>. Only <Item> is supported. Maybe supporting section would\n *    be a workaround for it.\n *  - when a parent menu item which has an open submenu is hovered, it gets focus.\n *\n *  TODO:\n *  - [Least important] pass aria props to icon, keyboard shortcut, and content part of menu item. Maybe a context\n *    can be provided for it from menu item, which also exposes state like selected.\n */\nexport function Menu<T extends object>({\n  expandOn = \"hover\",\n  ...props\n}: MenuProps<T>) {\n  if (expandOn === \"press\") {\n    // The only discovered use case so far is in \"Branches\" menu. Perhaps it's not even implemented as a Menu\n    // in Intellij Platform, but it seems it very well can be, by supporting expand on press.\n    throw new Error(\"expanding menu items only on press is not supported yet.\");\n  }\n  // Create state based on the incoming props\n  let state = useTreeState({\n    ...props,\n    expandedKeys: props.expandedKey ? [props.expandedKey] : undefined,\n    onExpandedChange: ([firstKey]) => props?.onExpandedKeyChange?.(firstKey),\n    defaultExpandedKeys: props.defaultExpandedKey\n      ? [props.defaultExpandedKey]\n      : undefined,\n  });\n\n  // Get props for the menu element\n  let ref = React.useRef<HTMLUListElement>(null);\n  let { menuProps } = useMenu(props, state, ref);\n\n  useEffect(() => {\n    if (props.autoFocus) {\n      setTimeout(() => {\n        // we need this hack until the nested menu is properly supported. That's because when the element is hovered\n        // it sets the focus key, which will move focus to that item.\n        ref.current?.focus();\n      });\n    }\n  }, [props.autoFocus]);\n  return (\n    <StyledMenu {...menuProps} ref={ref}>\n      {[...state.collection].map((item: Node<T>) => {\n        switch (item.type) {\n          case \"item\":\n            return (\n              <MenuItem\n                key={item.key}\n                item={item}\n                state={state}\n                expandOn={expandOn}\n                onAction={props.onAction}\n              />\n            );\n          case \"section\":\n            // Maybe something like \"Branches\" menu needs titled sections.\n            return (\n              <MenuSection\n                key={item.key}\n                item={item}\n                state={state}\n                expandOn={expandOn}\n                onAction={props.onAction}\n              />\n            );\n          case \"divider\":\n            return <ListDivider key={item.key} />;\n        }\n      })}\n    </StyledMenu>\n  );\n}\n","import React from \"react\";\nimport { ItemStateContext } from \"../Collections/ItemStateContext\";\nimport { styled } from \"../styled\";\nimport { UnknownThemeProp } from \"../Theme/Theme\";\nimport { useContextOrThrow } from \"../utils/useContextOrThrow\";\n\ninterface MenuItemLayoutProps {\n  icon?: React.ReactNode;\n  content: React.ReactNode;\n  shortcut?: React.ReactNode;\n}\n\nconst StyledMenuItemLayout = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 1; // to make sure it takes as much space as available in the menu item row, so that the suffix (shortcut) is pushed to the right\n`;\nconst Content = styled.span`\n  flex: 1;\n`;\n\nconst Icon = styled.span`\n  display: inline-flex; // prevents unwanted increased height\n  min-width: 16px;\n  margin-right: 5px;\n  margin-left: -21px;\n`;\n\nconst Shortcut = styled.kbd<{ selected: boolean }>`\n  font-family: system-ui, sans-serif;\n  margin-left: 30px;\n  color: ${({ theme, selected }) =>\n    selected\n      ? theme.color(\"MenuItem.selectionForeground\" as UnknownThemeProp)\n      : theme.color(\"MenuItem.acceleratorForeground\")};\n`;\n\nexport const MenuItemLayout = ({\n  content,\n  shortcut,\n  icon,\n}: MenuItemLayoutProps) => {\n  const { isFocused, isSelected } = useContextOrThrow(\n    ItemStateContext,\n    \"MenuItemLayout is meant to be rendered in Item component in Menus\"\n  );\n  return (\n    <StyledMenuItemLayout>\n      <Icon>{!isSelected && icon}</Icon>\n      <Content>{content}</Content>\n      {shortcut && <Shortcut selected={isFocused}>{shortcut}</Shortcut>}\n    </StyledMenuItemLayout>\n  );\n};\n","import { useButton } from \"@react-aria/button\";\nimport { useMenuTrigger } from \"@react-aria/menu\";\nimport {\n  OverlayContainer,\n  useOverlay,\n  useOverlayPosition,\n} from \"@react-aria/overlays\";\nimport { mergeProps } from \"@react-aria/utils\";\nimport { useMenuTriggerState } from \"@react-stately/menu\";\nimport { MenuTriggerProps as AriaMenuTriggerProps } from \"@react-types/menu\";\nimport React, { HTMLProps, RefObject } from \"react\";\nimport { FocusScope } from \"../ToolWindow/FocusScope\";\n\nexport interface MenuTriggerProps extends AriaMenuTriggerProps {\n  restoreFocus?: boolean;\n  children: (\n    props: HTMLProps<HTMLElement>,\n    ref: RefObject<any> // Using a generic didn't seem to work for some reason\n  ) => React.ReactNode;\n  renderMenu: (props: {\n    close: () => void;\n    menuProps: React.HTMLAttributes<HTMLElement>;\n  }) => React.ReactNode;\n}\n\n// FIXME: closeOnSelect should either work or be removed\n// FIXME: Escape doesn't close the menu\n// FIXME: Focus is not restored if nested menu are opened. It may be solved by using useOverlay and closing submenu in click outside.\n// TODO: introduce a more generic Overlay component and use it here too.\nexport const MenuTrigger: React.FC<MenuTriggerProps> = ({\n  children,\n  renderMenu,\n  direction = \"bottom\",\n  align = \"start\",\n  shouldFlip = true,\n  restoreFocus = false,\n  ...otherProps\n}) => {\n  const menuTriggerProps: AriaMenuTriggerProps = {\n    ...otherProps,\n    direction,\n    align,\n    shouldFlip,\n  };\n  let state = useMenuTriggerState(menuTriggerProps);\n  let triggerRef = React.useRef(null);\n  let overlayRef = React.useRef(null);\n  // FIXME: Menu props is not used, but it's just about labelBy and id. Only needed for accessibility, but it would\n  //  require a `renderMenu` prop, instead of `menu`.\n  let { menuTriggerProps: triggerProps, menuProps } = useMenuTrigger(\n    { type: \"menu\" },\n    state,\n    triggerRef\n  );\n  let { buttonProps } = useButton(triggerProps, triggerRef);\n  let { overlayProps } = useOverlay(\n    {\n      onClose: () => {\n        return state.close();\n      },\n      shouldCloseOnBlur: false,\n      isOpen: state.isOpen,\n      isKeyboardDismissDisabled: false,\n      isDismissable: true,\n      shouldCloseOnInteractOutside: (element) => {\n        // FIXME: this is kind of hacky and should be removed when nested menu is properly supported\n        return !element.matches(\"[role=menu] *\");\n      },\n    },\n    overlayRef\n  );\n\n  let { overlayProps: positionProps } = useOverlayPosition({\n    targetRef: triggerRef,\n    overlayRef,\n    placement: getPlacement(direction, align),\n    shouldFlip,\n    offset: 0,\n    containerPadding: 0,\n    isOpen: state.isOpen,\n  });\n\n  return (\n    <>\n      {children(buttonProps, triggerRef)}\n      {state.isOpen && (\n        <OverlayContainer>\n          <FocusScope\n            restoreFocus={restoreFocus}\n            forceRestoreFocus={restoreFocus}\n            autoFocus\n          >\n            <div {...mergeProps(overlayProps, positionProps)} ref={overlayRef}>\n              {renderMenu({ menuProps, close: () => state.close() })}\n            </div>\n          </FocusScope>\n        </OverlayContainer>\n      )}\n    </>\n  );\n};\n\nfunction getPlacement(\n  direction: Required<AriaMenuTriggerProps>[\"direction\"],\n  align: Required<AriaMenuTriggerProps>[\"align\"]\n) {\n  switch (direction) {\n    case \"left\":\n    case \"right\":\n    case \"start\":\n    case \"end\":\n      return `${direction} ${align === \"end\" ? \"bottom\" : \"top\"}` as const;\n    case \"bottom\":\n    case \"top\":\n    default:\n      return `${direction} ${align}` as const;\n  }\n}\n","import React from \"react\";\nimport { styled } from \"./styled\";\n\ntype SeparatorUI = {\n  STRIPE_INDENT: number;\n  STRIPE_WIDTH: number;\n};\n\n// based on implementation in com.intellij.ide.ui.laf.darcula.ui.DarculaSeparatorUI, which seems to be used for all themes\nconst DarculaSeparatorUI: SeparatorUI = {\n  STRIPE_INDENT: 1,\n  STRIPE_WIDTH: 1,\n};\n\nconst defaultSize =\n  2 * DarculaSeparatorUI.STRIPE_INDENT + DarculaSeparatorUI.STRIPE_WIDTH;\n\nconst StyledSeparator = styled.hr(({ theme }) => ({\n  backgroundColor: theme.color(\n    \"Separator.separatorColor\",\n    theme.dark ? \"#cdcdcd\" : \"#515151\"\n  ),\n  backgroundClip: \"content-box\",\n  boxSizing: \"border-box\",\n  margin: 0,\n  border: \"none\",\n}));\n\nexport const StyledHorizontalSeparator = styled(StyledSeparator)`\n  height: inherit; // should it be auto?\n  padding: 0 ${DarculaSeparatorUI.STRIPE_INDENT}px;\n  width: ${defaultSize}px;\n`;\nexport const StyledVerticalSeparator = styled(StyledSeparator)`\n  width: auto;\n  padding: ${DarculaSeparatorUI.STRIPE_INDENT}px 0;\n  height: ${defaultSize}px;\n`;\n","import { Theme } from \"@intellij-platform/core/Theme\";\nimport { styled } from \"@intellij-platform/core/styled\";\n\nimport { StyledDefaultTab } from \"@intellij-platform/core/Tabs/StyledDefaultTab\";\nimport {\n  getTabThemeStyles,\n  TabTheme,\n} from \"@intellij-platform/core/Tabs/TabTheme\";\n\nexport const debuggerTabTheme = ({ theme }: { theme: Theme }): TabTheme => ({\n  underlineHeight: theme.value<number>(\"DebuggerTabs.underlineHeight\") ?? 2,\n  underlinedTabBackground: theme.color(\"DebuggerTabs.underlinedTabBackground\"),\n});\nexport const StyledDebuggerTab = styled(StyledDefaultTab)`\n  ${({ theme }) => getTabThemeStyles(debuggerTabTheme({ theme }))};\n`;\n","import { Tabs, TabsProps } from \"@intellij-platform/core/Tabs/Tabs\";\nimport { StyledDebuggerTab } from \"./StyledDebuggerTab\";\nimport React from \"react\";\n\ntype DebuggerTabsProps<T extends object> = Omit<\n  TabsProps<T>,\n  \"TabComponent\" | \"focusable\"\n>;\n\nexport const DebuggerTabs = <T extends object>(props: DebuggerTabsProps<T>) => (\n  <Tabs {...props} TabComponent={StyledDebuggerTab} focusable={false} />\n);\n","import React from \"react\";\nimport { Pressable } from \"@react-aria/interactions\";\nimport { PlatformIcon } from \"@intellij-platform/core/Icon\";\nimport { TabCloseButton } from \"@intellij-platform/core/Tabs/TabCloseButton\";\nimport {\n  TabContentLayout,\n  TabItemLayoutProps,\n} from \"@intellij-platform/core/Tabs/TabContentLayout\";\n\n/**\n * For rendering the content of Editor tabs. supports for file icon which is shown on the left and close or unpin\n * button shown on the right.\n */\nexport const EditorTabContent = ({\n  icon,\n  title,\n  onClose,\n  onUnpin,\n  pinned,\n  containerProps,\n}: {\n  icon: React.ReactNode;\n  title: React.ReactNode;\n  onClose?: () => void;\n  onUnpin?: () => void;\n  pinned?: boolean;\n  containerProps?: TabItemLayoutProps[\"containerProps\"];\n}) => {\n  // TODO: Tooltip for unpin and close buttons\n  return (\n    <TabContentLayout\n      startIcon={icon}\n      title={title}\n      containerProps={containerProps}\n      endIcon={\n        pinned ? (\n          <Pressable onPress={onUnpin}>\n            <PlatformIcon icon=\"actions/pinTab\" />\n          </Pressable>\n        ) : (\n          onClose && <TabCloseButton onPress={onClose} />\n        )\n      }\n    />\n  );\n};\n","import { styled } from \"@intellij-platform/core/styled\";\nimport { Theme, UnknownThemeProp } from \"@intellij-platform/core/Theme\";\nimport { StyledDefaultTab } from \"@intellij-platform/core/Tabs/StyledDefaultTab\";\nimport {\n  getTabThemeStyles,\n  TabTheme,\n} from \"@intellij-platform/core/Tabs/TabTheme\";\n\nexport const editorTabTheme = ({ theme }: { theme: Theme }): TabTheme => ({\n  borderColor: theme.color(\"EditorTabs.borderColor\"),\n  underlineHeight: theme.value<number>(\"EditorTabs.underlineHeight\"),\n  background: theme.color(\"EditorTabs.background\" as UnknownThemeProp),\n  underlinedTabInactiveBackground: theme.color(\n    \"EditorTabs.underlinedTabBackground\" as UnknownThemeProp // that's correctly not underlinedTabInactiveBackground!\n  ), // TODO: use EditorColorsScheme when available\n  underlinedTabBackground: theme.color(\"EditorTabs.underlinedTabBackground\"), // TODO: use EditorColorsScheme when available\n  hoverInactiveBackground: theme.color(\n    \"EditorTabs.hoverInactiveBackground\" as UnknownThemeProp\n  ),\n  hoverBackground: theme.color(\n    \"EditorTabs.hoverBackground\" as UnknownThemeProp\n  ),\n  inactiveUnderlineColor: theme.color(\n    \"EditorTabs.inactiveUnderlineColor\" as UnknownThemeProp\n  ), // TODO: use EditorColorsScheme when available\n  underlineColor: theme.color(\"EditorTabs.underlineColor\"), // TODO: use EditorColorsScheme when available\n\n  underlinedTabInactiveForeground: theme.color(\n    \"EditorTabs.underlinedTabForeground\" as UnknownThemeProp // that's correctly not underlinedTabInactiveForeground!\n  ), // TODO: use EditorColorsScheme when available\n  underlinedTabForeground: theme.color(\n    \"EditorTabs.underlinedTabForeground\" as UnknownThemeProp\n  ), // TODO: use EditorColorsScheme when available\n});\nexport const StyledEditorTab = styled(StyledDefaultTab)`\n  font-size: 0.7rem;\n  ${({ theme }) => getTabThemeStyles(editorTabTheme({ theme }))};\n`;\n","import { styled } from \"@intellij-platform/core/styled\";\nimport { getTabsThemeStyles } from \"@intellij-platform/core/Tabs/TabTheme\";\nimport { StyledDefaultTabs } from \"@intellij-platform/core/Tabs/StyledDefaultTabs\";\nimport { editorTabTheme } from \"./StyledEditorTab\";\n\nexport const StyledEditorTabs = styled(StyledDefaultTabs)`\n  ${({ theme }) => getTabsThemeStyles(editorTabTheme({ theme }))};\n`;\n","import { Tabs, TabsProps } from \"@intellij-platform/core/Tabs/Tabs\";\nimport { StyledEditorTab } from \"./StyledEditorTab\";\nimport { StyledEditorTabs } from \"./StyledEditorTabs\";\nimport React from \"react\";\n\nexport type EditorTabsProps<T extends object> = Omit<\n  TabsProps<T>,\n  \"TabComponent\" | \"TabsComponent\" | \"focusable\"\n>;\n\nexport const EditorTabs = <T extends object>(props: EditorTabsProps<T>) => (\n  <Tabs\n    {...props}\n    TabComponent={StyledEditorTab}\n    TabsComponent={StyledEditorTabs}\n    focusable={false}\n  />\n);\n","import { getTabThemeStyles } from \"./TabTheme\";\nimport { styled } from \"../styled\";\nimport { Theme, UnknownThemeProp } from \"../Theme\";\n\nexport type StyledTabProps = {\n  selected?: boolean;\n  disabled?: boolean;\n  active?: boolean;\n};\n\nconst defaultTabTheme = ({ theme }: { theme: Theme }) =>\n  getTabThemeStyles({\n    underlineHeight: theme.value<number>(\"DefaultTabs.underlineHeight\") ?? 3,\n    inactiveUnderlineColor: theme.color(\n      \"DefaultTabs.inactiveUnderlineColor\",\n      theme.dark ? \"#747a80\" : \"#9ca7b8\"\n    ),\n    underlineColor: theme.color(\n      \"DefaultTabs.underlineColor\",\n      theme.dark ? \"#4A88C7\" : \"#4083C9\"\n    ),\n\n    underlinedTabInactiveForeground: theme.color(\n      \"DefaultTabs.underlinedTabInactiveForeground\" as UnknownThemeProp\n    ),\n    underlinedTabForeground: theme.color(\n      \"DefaultTabs.underlinedTabForeground\" as UnknownThemeProp\n    ),\n\n    background: theme.color(\n      \"DefaultTabs.background\",\n      theme.dark ? \"#3C3F41\" : \"#ECECEC\"\n    ),\n    underlinedTabInactiveBackground: theme.color(\n      \"DefaultTabs.underlinedTabInactiveBackground\" as UnknownThemeProp\n    ),\n    underlinedTabBackground: theme.color(\n      \"DefaultTabs.underlinedTabBackground\" as UnknownThemeProp\n    ),\n    hoverInactiveBackground: theme.color(\n      \"DefaultTabs.hoverInactiveBackground\" as UnknownThemeProp,\n      theme.dark ? \"rgba(0,0,0,.35)\" : \"rgba(0,0,0,.1)\"\n    ),\n    hoverBackground: theme.color(\n      \"DefaultTabs.hoverBackground\",\n      theme.dark ? \"rgba(0,0,0,.35)\" : \"rgba(0,0,0,.1)\"\n    ),\n  });\n\nexport const StyledDefaultTab = styled.div<StyledTabProps>`\n  box-sizing: border-box;\n  display: inline-flex;\n  letter-spacing: 0.015rem;\n  font-size: 0.85rem;\n  cursor: default;\n  white-space: nowrap;\n\n  // spacing\n  padding: 0 0.5rem;\n  line-height: 1.7rem; // vertical spacing handled by line-height\n\n  // disabled state doesn't seem to be supported in Intellij Platform at all.\n  opacity: ${({ disabled }) => (disabled ? \".5\" : \"1\")};\n  color: ${({ theme }) =>\n    theme.color(\"DefaultTabs.foreground\" as UnknownThemeProp)};\n\n  position: relative;\n  &::after {\n    content: \"\";\n    position: absolute;\n    width: 100%;\n    left: 0;\n    bottom: 0;\n  }\n\n  ${defaultTabTheme};\n`;\n","import { Theme, UnknownThemeProp } from \"../Theme\";\nimport { styled } from \"@intellij-platform/core/styled\";\nimport { getTabsThemeStyles } from \"./TabTheme\";\n\nconst defaultTabsTheme = ({ theme }: { theme: Theme }) =>\n  getTabsThemeStyles({\n    borderColor: theme.color(\n      \"DefaultTabs.borderColor\" as UnknownThemeProp,\n      theme.commonColors.contrastBorder\n    ),\n    background: theme.color(\"DefaultTabs.background\"),\n  });\n\nexport const StyledDefaultTabs = styled.div<{ noBorders?: boolean }>`\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  border-style: solid;\n  border-width: ${({ noBorders }) => (noBorders ? \"0\" : \"1px 0\")};\n\n  ${defaultTabsTheme};\n`;\n","import { Pressable, PressProps } from \"@react-aria/interactions\";\n\nimport React from \"react\";\nimport { PlatformIcon } from \"../Icon\";\nimport { styled } from \"../styled\";\n\nconst StyledIconWrapper = styled.span`\n  display: inherit;\n  .icon.hover {\n    display: none;\n  }\n  &:hover {\n    .icon {\n      display: none;\n    }\n    .icon.hover {\n      display: unset;\n    }\n  }\n`;\n/**\n * Close button for Tab\n */\nexport const TabCloseButton = (props: PressProps) => {\n  // using useHover proved to be unstable.\n  return (\n    <Pressable {...props}>\n      <StyledIconWrapper>\n        <PlatformIcon icon={\"actions/closeHovered\"} className=\"icon hover\" />\n        <PlatformIcon icon={\"actions/close\"} className=\"icon\" />\n      </StyledIconWrapper>\n    </Pressable>\n  );\n};\n","import React, { ForwardedRef, HTMLProps } from \"react\";\nimport { css, styled } from \"../styled\";\n\nconst StyledTabItemLayout = styled.div`\n  display: inline-flex;\n  align-items: center;\n`;\n\nconst iconStyle = css`\n  display: inline-flex; // without this, the wrapper takes the full height, causing icon to be placed on top\n  margin-top: -0.1rem; // seems necessary for pixel perfect match with the original impl\n`;\n\nconst StyledStartIconWrapper = styled.span`\n  ${iconStyle};\n  margin-right: 0.25rem;\n`;\n\nconst StyledEndIconWrapper = styled.span`\n  ${iconStyle};\n  margin-left: 0.25rem;\n  margin-right: -0.25rem; // default padding of the tab should be a little reduced when close icon is there.\n  border-radius: 16px;\n`;\n\nexport interface TabItemLayoutProps {\n  /**\n   * the icon placed before the text.\n   */\n  startIcon?: React.ReactNode;\n  /**\n   * title of the tab. Normally just a string\n   */\n  title?: React.ReactNode;\n  /**\n   * the icon placed after the text. Typical use cases: close or pin icon.\n   */\n  endIcon?: React.ReactNode;\n\n  /**\n   * Generic HTML props passed to the container div.\n   */\n  containerProps?: Omit<HTMLProps<HTMLDivElement>, \"ref\" | \"as\">;\n}\n\n/**\n * Helper component for rendering the common layout of tab content.\n */\nexport const TabContentLayout = React.forwardRef(\n  (\n    { startIcon, title, endIcon, containerProps }: TabItemLayoutProps,\n    ref: ForwardedRef<HTMLDivElement>\n  ) => {\n    return (\n      <StyledTabItemLayout {...containerProps} ref={ref}>\n        {startIcon && (\n          <StyledStartIconWrapper>{startIcon}</StyledStartIconWrapper>\n        )}\n        {title}\n        {endIcon && <StyledEndIconWrapper>{endIcon}</StyledEndIconWrapper>}\n      </StyledTabItemLayout>\n    );\n  }\n);\n","import { ItemProps } from \"@react-types/shared\";\nimport { Item } from \"@react-stately/collections\";\nimport React from \"react\";\n\nexport interface TabItemProps extends ItemProps<never> {\n  /**\n   * Determines how the tab item should look when rendered as a menu item in overflow menu.\n   * If not passed, `textValue` will be used.\n   * @example\n   * <TabItem\n   *   key={tab.id}\n   *   textValue={tab.title}\n   *   inOverflowMenu={\n   *     <MenuItemLayout content={tab.title} icon={icon} />\n   *   }\n   *  >\n   *   <TabContentLayout startIcon={icon} title={tab.title} />\n   * </TabItem>\n   */\n  inOverflowMenu?: React.ReactNode;\n}\n\n/**\n * Same as {@link Item}, but allows for specifying the tab content for when it's rendered in the overflow menu item.\n */\nexport const TabItem: (props: TabItemProps) => React.ReactElement = Item;\n","import { css } from \"@intellij-platform/core/styled\";\nimport { StyledTabProps } from \"./StyledDefaultTab\";\n\n/**\n * Describes theme-able properties of a tab, which can then be passed to {@link getTabThemeStyles}\n */\nexport interface TabTheme {\n  underlineHeight?: number;\n\n  borderColor?: string;\n\n  inactiveUnderlineColor?: string;\n  underlineColor?: string;\n\n  underlinedTabInactiveForeground?: string;\n  underlinedTabForeground?: string;\n\n  background?: string;\n  underlinedTabBackground?: string;\n  underlinedTabInactiveBackground?: string;\n  hoverInactiveBackground?: string;\n  hoverBackground?: string;\n  inactiveColoredTabBackground?: string; // not used for now\n}\n\nexport const getTabsThemeStyles = ({\n  background,\n  borderColor,\n}: Pick<TabTheme, \"background\" | \"borderColor\">) => css`\n  border-color: ${borderColor};\n  background: ${background};\n`;\n\n/**\n * Converts tab theme properties to a chunk of style that can be dropped in a styled version of StyledDefaultTab\n *\n * @example\n * ```ts\n * const StyledCustomTab = styled(StyledDefaultTab)`\n *   ${getTabThemeStyles({background: 'red'})}\n * `\n * ```\n */\nexport const getTabThemeStyles = ({\n  underlineHeight,\n\n  background,\n  underlinedTabBackground,\n  underlinedTabInactiveBackground,\n  hoverInactiveBackground,\n  hoverBackground,\n\n  underlinedTabForeground,\n  underlinedTabInactiveForeground,\n\n  inactiveUnderlineColor,\n  underlineColor,\n}: TabTheme) =>\n  css<StyledTabProps>`\n    // active indicator\n    &::after {\n      height: ${underlineHeight != null ? `${underlineHeight}px` : undefined};\n      background-color: ${({ selected }) => selected && inactiveUnderlineColor};\n      background-color: ${({ selected, active }) =>\n        selected && active && underlineColor};\n    }\n\n    // foreground rules\n    color: ${({ selected }) => selected && underlinedTabInactiveForeground};\n    color: ${({ selected, active }) =>\n      selected && active && underlinedTabForeground};\n\n    //  background rules\n    background: ${background};\n    background: ${({ selected }) =>\n      selected && underlinedTabInactiveBackground};\n    background: ${({ selected, active }) =>\n      selected && active && underlinedTabBackground};\n\n    ${({ disabled, active }) =>\n      !disabled &&\n      css`\n      &:hover {\n        background: ${hoverInactiveBackground};\n        background: ${active && hoverBackground}\n    `}\n  `;\n","import { css, styled } from \"@intellij-platform/core/styled\";\n\ninterface Props {\n  hasOverflowAtStart: boolean;\n  hasOverflowAtEnd: boolean;\n}\n\nconst horizontalOverflowIndicatorStyles = css`\n  content: \"\";\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 10px;\n  z-index: 1;\n`;\nexport const StyledHorizontalOverflowShadows = styled.div<Props>`\n  position: relative; // for overflow indicator (pseudo-)elements to be positioned absolute\n\n  /* FIXME: find out what color, width and gradient parameters are used in the original implementation */\n  ${({ hasOverflowAtStart }) =>\n    hasOverflowAtStart &&\n    css`\n      ::before {\n        ${horizontalOverflowIndicatorStyles};\n        background: linear-gradient(\n          90deg,\n          ${({ theme }) => theme.commonColors.panelBackground} 0%,\n          transparent 100%\n        );\n        left: 0;\n      }\n    `};\n  ${({ hasOverflowAtEnd }) =>\n    hasOverflowAtEnd &&\n    css`\n      ::after {\n        ${horizontalOverflowIndicatorStyles};\n        background: linear-gradient(\n          -90deg,\n          ${({ theme }) => theme.commonColors.panelBackground} 0%,\n          transparent 100%\n        );\n        right: 0;\n      }\n    `};\n`;\n","import { useTab } from \"@react-aria/tabs\";\nimport { TabListState } from \"@react-stately/tabs\";\nimport { Node } from \"@react-types/shared\";\nimport { StyledDefaultTab } from \"./StyledDefaultTab\";\nimport React, { useEffect } from \"react\";\n\ntype TabProps<T extends object> = {\n  state: TabListState<object>;\n  item: Node<T>;\n  intersectionObserver: IntersectionObserver | null;\n  /**\n   * {@see TabsProps#focusable}\n   */\n  focusable?: boolean;\n  /**\n   * {@see TabsProps#active}\n   */\n  active?: boolean;\n  Component?: typeof StyledDefaultTab;\n};\n\nexport const Tab = <T extends object>({\n  state,\n  item,\n  focusable,\n  active,\n  Component = StyledDefaultTab,\n  intersectionObserver,\n}: TabProps<T>): React.ReactElement => {\n  const { key, rendered } = item;\n  const ref = React.useRef(null);\n  const {\n    tabProps: {\n      /**\n       * by extracting out tabIndex, all keyboard support of the tabs is disabled, since we prevent the tab from being\n       * focusable.\n       */\n      tabIndex,\n      ...tabProps\n    },\n  } = useTab({ key }, state, ref);\n  const isSelected = state.selectedKey === key;\n  const isDisabled = state.disabledKeys.has(key);\n  useIntersectionObserver(ref, intersectionObserver);\n\n  return (\n    <Component\n      {...tabProps}\n      tabIndex={focusable ? tabIndex : undefined}\n      ref={ref}\n      active={active}\n      selected={isSelected}\n      disabled={isDisabled}\n    >\n      {rendered}\n    </Component>\n  );\n};\n\nfunction useIntersectionObserver(\n  ref: React.MutableRefObject<null>,\n  intersectionObserver: IntersectionObserver | null\n) {\n  useEffect(() => {\n    const element = ref.current;\n    if (element) {\n      intersectionObserver?.observe(element);\n      return () => {\n        intersectionObserver?.unobserve(element);\n      };\n    }\n  }, [intersectionObserver]);\n}\n","import React, { Key, useEffect } from \"react\";\nimport { useTabList } from \"@react-aria/tabs\";\nimport { filterDOMProps, mergeProps, scrollIntoView } from \"@react-aria/utils\";\nimport { useTabListState } from \"@react-stately/tabs\";\nimport { AriaTabListProps } from \"@react-types/tabs\";\nimport { StyledHorizontalOverflowShadows } from \"./StyledHorizontalOverflowShadows\";\nimport { TabsOverflowMenu } from \"./TabsOverflowMenu\";\nimport { useCollectionOverflowObserver } from \"./useCollectionOverflowObserver\";\nimport { useIsScrolled } from \"./useIsScrolled\";\nimport { styled, css } from \"@intellij-platform/core/styled\";\nimport { StyledDefaultTab } from \"./StyledDefaultTab\";\nimport { StyledDefaultTabs } from \"./StyledDefaultTabs\";\nimport { Tab } from \"./Tab\";\n\nexport type TabsProps<T> = Omit<\n  AriaTabListProps<T>,\n  \"orientation\" | \"isDisabled\" | \"\"\n> & {\n  /**\n   * Whether tabs should be focusable or not. By default, following the Intellij Platform implementation, tabs are\n   * not focusable and therefore lack the keyboard accessibility support specified in WAI-ARIA.\n   * You can change this default behaviour and make the tabs keyboard accessible by passing `focusable`.\n   * focus styles are not perfect at the moment, since it's not considered an important feature.\n   * @default false\n   */\n  focusable?: boolean;\n\n  /**\n   * Enables \"active\" style on tabs. Is usually related to a container having focus.\n   */\n  active?: boolean;\n\n  /**\n   * If set to true, tabs will be wrapped into multiple rows if needed.\n   * NOTE: In the original implementation, in multi row mode, rows are separated by a border. It's not easy to achieve\n   * this when we are implementing this feature with a simple `flex-wrap: wrap` css rule. It doesn't seem that\n   * important, but we can achieve something similar by some css tricks like the ones suggested here:\n   * https://stackoverflow.com/questions/36128333/row-lines-for-flex-container-css\n   * @default false\n   */\n  multiRow?: boolean;\n\n  /**\n   * Only effective when {@link multiRow} is not true.\n   * If set to true and multiRow is not true, it will prevent horizontal scroll of tabs. Depending on the value of\n   * In this case:\n   * - if {@link noOverflowMenu} is not set to true, tabs that can't be fitted into the available space will be\n   *   accessible via an overflow menu.\n   * - if {@link noOverflowMenu} is set to true, the tabs will be fitted into the available space, and they will\n   *   be shrunk when needed.\n   *\n   * @todo: not implemented yet.\n   * @default false\n   */\n  noScroll?: boolean;\n\n  /**\n   * Only effective when {@link multiRow} is not true.\n   * When set to true, tabs that couldn't be fitted into the available space, are either shrunk (if {@link noScroll}\n   * is set to true), or are just accessible by scroll.\n   */\n  noOverflowMenu?: boolean;\n\n  /**\n   * Removes the top and bottom border when passed.\n   * It's still not clear whether such option makes sense or not, but\n   * at least in common use cases like in tool windows, it seems borders are already there and there should be a way\n   * of removing tab borders. On the other hand, when Tabs is used without any assumption about the surrounding UI,\n   * it kind of makes sense to have the top and bottom borders by default. So that's why this is made an option for\n   * now, maybe until things are clearer.\n   *\n   * @default false\n   */\n  noBorders?: boolean;\n\n  TabsComponent?: typeof StyledDefaultTabs;\n  /**\n   *\n   */\n  TabComponent?: typeof StyledDefaultTab;\n};\n\nconst scrollBarDisabledStyle = css`\n  -ms-overflow-style: none; /* for Internet Explorer, Edge */\n  scrollbar-width: none; /* for Firefox */\n  &::-webkit-scrollbar {\n    /* for Chrome/Safari/Webkit */\n    display: none;\n  }\n`;\n\nconst StyledTabList = styled.div<{ multiRow?: boolean }>`\n  display: flex;\n  flex-wrap: ${({ multiRow }) => (multiRow ? \"wrap\" : \"nowrap\")};\n  overflow: auto;\n\n  ${scrollBarDisabledStyle};\n`;\n\n/**\n *\n * TODO: add support for overflow:\n *  - have vertical scroll also scroll tabs\n *  - add support for re-reordering tabs.\n */\nexport const Tabs = <T extends object>({\n  focusable,\n  active,\n  TabComponent,\n  TabsComponent = StyledDefaultTabs,\n  multiRow,\n  noOverflowMenu,\n  noScroll,\n  noBorders,\n  ...props\n}: TabsProps<T>): React.ReactElement => {\n  const state = useTabListState(props);\n  const ref = React.useRef<HTMLDivElement>(null);\n  const { tabListProps } = useTabList(props, state, ref);\n\n  const { scrolledIndicatorProps, isScrolled } = useIsScrolled({ ref });\n  const {\n    overflowedKeys,\n    intersectionObserver,\n  } = useCollectionOverflowObserver(ref);\n\n  useEffect(() => {\n    if (!noScroll) {\n      const scrollableContainer = ref.current;\n      const selectedTabElement = scrollableContainer?.querySelector(\n        `[data-key=\"${state.selectedKey}\"]`\n      ) as HTMLElement;\n      if (scrollableContainer && selectedTabElement) {\n        scrollIntoView(scrollableContainer, selectedTabElement);\n      }\n    } else {\n      // TODO maybe? sample use case: project tool window tabs, when not grouped.\n    }\n  }, [state.selectedKey]);\n  const onOverflowMenuItemSelected = (key: Key) => {\n    state.setSelectedKey(key);\n  };\n  if (noScroll) {\n    throw new Error(\"noScroll is not supported yet.\");\n  }\n  return (\n    <TabsComponent noBorders={noBorders} {...filterDOMProps(props)}>\n      <StyledHorizontalOverflowShadows\n        hasOverflowAtStart={isScrolled.left}\n        hasOverflowAtEnd={isScrolled.right}\n        style={{ minWidth: 0 }}\n      >\n        <StyledTabList\n          {...mergeProps(tabListProps, scrolledIndicatorProps)}\n          multiRow={multiRow}\n          ref={ref}\n        >\n          {[...state.collection].map((item) => (\n            <Tab\n              key={item.key}\n              item={item}\n              state={state}\n              focusable={focusable}\n              active={active}\n              Component={TabComponent}\n              intersectionObserver={intersectionObserver}\n            />\n          ))}\n        </StyledTabList>\n      </StyledHorizontalOverflowShadows>\n      {!noOverflowMenu && (\n        <TabsOverflowMenu\n          collection={state.collection}\n          overflowedKeys={overflowedKeys}\n          onSelect={onOverflowMenuItemSelected}\n        />\n      )}\n    </TabsComponent>\n  );\n};\n","import { RefObject, UIEventHandler, useEffect, useState } from \"react\";\n\nexport function useIsScrolled<T extends HTMLElement>({\n  threshold = 5,\n  ref,\n}: {\n  threshold?: number;\n  ref: RefObject<T>;\n}) {\n  const [isScrolled, setIsScrolled] = useState({\n    left: false,\n    right: false,\n    top: false,\n    bottom: false,\n  });\n\n  const update = () => {\n    const element = ref.current;\n    if (element) {\n      const offsetLeft = element.scrollLeft;\n      const offsetRight =\n        element.scrollWidth - (element.offsetWidth + element.scrollLeft);\n      const offsetTop = element.scrollTop;\n      const offsetBottom =\n        element.scrollHeight - (element.offsetHeight + element.scrollTop);\n      const newIsScrolled = {\n        top: offsetTop >= threshold,\n        bottom: offsetBottom >= threshold,\n        left: offsetLeft >= threshold,\n        right: offsetRight >= threshold,\n      };\n      if (\n        isScrolled.top !== isScrolled.top ||\n        isScrolled.bottom !== newIsScrolled.bottom ||\n        isScrolled.left !== newIsScrolled.left ||\n        isScrolled.right !== newIsScrolled.right\n      ) {\n        setIsScrolled(newIsScrolled);\n      }\n    }\n  };\n  useEffect(update);\n\n  return {\n    scrolledIndicatorProps: {\n      onScroll: update as UIEventHandler<T>,\n    },\n    isScrolled,\n  };\n}\n","import { Key, RefObject, useEffect, useState } from \"react\";\n\n/**\n * Given a ref to a scrollable container of collection items, returns the keys that are not completely visible and\n * are off view because of scroll. It relies on data-key property of observed elements.\n * @param scrollableItemsContainerRef\n * @param threshold\n */\nexport function useCollectionOverflowObserver(\n  scrollableItemsContainerRef: RefObject<HTMLElement>,\n  { threshold = 0.9 }: { threshold?: number } = {}\n) {\n  const [\n    intersectionObserver,\n    setIntersectionObserver,\n  ] = useState<IntersectionObserver | null>(null);\n  const [overflowedKeys, setOverflowedKeys] = useState<Set<Key>>(new Set());\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const newHiddenKeys = entries\n          .map((entry) =>\n            !entry.isIntersecting && entry.target instanceof HTMLElement\n              ? entry.target.dataset.key\n              : undefined\n          )\n          .filter<string>((val): val is string => Boolean(val));\n        const newVisibleKeys = entries\n          .map((entry) =>\n            entry.isIntersecting && entry.target instanceof HTMLElement\n              ? entry.target.dataset.key\n              : null\n          )\n          .filter<string>((val): val is string => Boolean(val));\n\n        setOverflowedKeys(\n          (currentOverflowMenuKeys) =>\n            new Set(\n              [...currentOverflowMenuKeys]\n                .filter((key) => !newVisibleKeys.includes(`${key}`))\n                .concat(newHiddenKeys)\n            )\n        );\n      },\n      {\n        root: scrollableItemsContainerRef.current,\n        rootMargin: \"0px\",\n        threshold,\n      }\n    );\n    setIntersectionObserver(observer);\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return {\n    intersectionObserver,\n    overflowedKeys,\n  };\n}\n","import { Collection, Node } from \"@react-types/shared\";\nimport { Item } from \"@react-stately/collections\";\nimport { Menu, MenuTrigger } from \"@intellij-platform/core/Menu\";\nimport { ActionButton } from \"@intellij-platform/core/ActionButton/ActionButton\";\nimport { PlatformIcon } from \"@intellij-platform/core/Icon\";\nimport React, { Key } from \"react\";\n\nexport const TabsOverflowMenu = <T extends unknown>({\n  collection,\n  overflowedKeys,\n  onSelect,\n}: {\n  collection: Collection<Node<T>>;\n  overflowedKeys: Set<Key>;\n  onSelect: (key: Key) => void;\n}) => (\n  <>\n    {overflowedKeys.size > 0 && (\n      <MenuTrigger\n        align=\"end\"\n        renderMenu={({ menuProps, close }) => {\n          const items: Iterable<Node<unknown>> = [\n            ...collection,\n          ].filter((menuItem) => overflowedKeys.has(menuItem.key));\n          return (\n            <Menu\n              {...menuProps}\n              onAction={(key) => {\n                close();\n                onSelect(key);\n              }}\n              items={items}\n            >\n              {(item) => (\n                <Item key={item.key} textValue={item.textValue}>\n                  {item.props.inOverflowMenu || item.textValue}\n                </Item>\n              )}\n            </Menu>\n          );\n        }}\n      >\n        {(props, ref) => (\n          <ActionButton {...props} ref={ref}>\n            <PlatformIcon icon=\"actions/findAndShowNextMatches\" />\n          </ActionButton>\n        )}\n      </MenuTrigger>\n    )}\n  </>\n);\n","import { styled } from \"@intellij-platform/core/styled\";\nimport { Theme } from \"@intellij-platform/core/Theme\";\nimport { StyledDefaultTab } from \"@intellij-platform/core/Tabs/StyledDefaultTab\";\nimport {\n  getTabThemeStyles,\n  TabTheme,\n} from \"@intellij-platform/core/Tabs/TabTheme\";\n\nexport const toolWindowTabTheme = ({ theme }: { theme: Theme }): TabTheme => ({\n  borderColor: theme.color(\"ToolWindow.HeaderTab.borderColor\"),\n  underlineHeight: theme.value<number>(\"ToolWindow.HeaderTab.underlineHeight\"),\n  background: \"transparent\",\n  underlinedTabInactiveBackground: theme.color(\n    \"ToolWindow.HeaderTab.underlinedTabInactiveBackground\"\n  ),\n  underlinedTabBackground: theme.color(\n    \"ToolWindow.HeaderTab.underlinedTabBackground\"\n  ),\n  hoverInactiveBackground:\n    theme.color(\"ToolWindow.HeaderTab.hoverInactiveBackground\") ??\n    theme.color(\"ToolWindow.HeaderTab.hoverBackground\"),\n  hoverBackground: theme.color(\"ToolWindow.HeaderTab.hoverBackground\"),\n  inactiveUnderlineColor: theme.color(\n    \"ToolWindow.HeaderTab.inactiveUnderlineColor\"\n  ),\n  underlineColor: theme.color(\"ToolWindow.HeaderTab.underlineColor\"),\n\n  underlinedTabInactiveForeground:\n    theme.color(\"ToolWindow.HeaderTab.underlinedTabInactiveForeground\") ??\n    theme.color(\"ToolWindow.HeaderTab.underlinedTabForeground\"),\n  underlinedTabForeground: theme.color(\n    \"ToolWindow.HeaderTab.underlinedTabForeground\"\n  ),\n});\nexport const StyledToolWindowTab = styled(StyledDefaultTab)`\n  padding: 0 0.7rem;\n  ${({ theme }) => getTabThemeStyles(toolWindowTabTheme({ theme }))};\n`;\n","import { styled } from \"@intellij-platform/core/styled\";\nimport { getTabsThemeStyles } from \"@intellij-platform/core/Tabs/TabTheme\";\nimport { StyledDefaultTabs } from \"@intellij-platform/core/Tabs/StyledDefaultTabs\";\nimport { toolWindowTabTheme } from \"./StyledToolWindowTab\";\n\nexport const StyledToolWindowTabs = styled(StyledDefaultTabs)`\n  ${({ theme }) => getTabsThemeStyles(toolWindowTabTheme({ theme }))};\n`;\n","import React from \"react\";\nimport { Tabs, TabsProps } from \"@intellij-platform/core/Tabs/Tabs\";\nimport { StyledToolWindowTab } from \"./StyledToolWindowTab\";\nimport { StyledToolWindowTabs } from \"./StyledToolWindowTabs\";\n\ntype ToolWindowTabsProps<T extends object> = Omit<\n  TabsProps<T>,\n  \"TabComponent\" | \"TabsComponent\" | \"focusable\"\n>;\n\nexport const ToolWindowTabs = <T extends object>(\n  props: ToolWindowTabsProps<T>\n) => (\n  <Tabs\n    {...props}\n    TabComponent={StyledToolWindowTab}\n    TabsComponent={StyledToolWindowTabs}\n    focusable={false}\n  />\n);\n","import {\n  FocusManager,\n  focusSafely,\n  FocusScope as WrappedFocusScope,\n  FocusScopeProps,\n  useFocusManager,\n} from \"@react-aria/focus\";\nimport React, {\n  ForwardedRef,\n  useImperativeHandle,\n  useLayoutEffect,\n  useRef,\n} from \"react\";\n\ntype BetterFocusScopeProps = FocusScopeProps & {\n  /**\n   *\n   */\n  forceRestoreFocus?: boolean;\n};\n/**\n * A version of FocusScope which also allows for imperatively moving focus to the scope.\n * and has tiny patches/improvements\n * It's useful for\n */\nexport const FocusScope = React.forwardRef(function BetterFocusScope(\n  { children, forceRestoreFocus, ...otherProps }: BetterFocusScopeProps,\n  ref: ForwardedRef<{ focus: () => void }>\n) {\n  const directChildRef = useRef<HTMLSpanElement>(null);\n  const focusManagerRef = useRef<FocusManager>(null);\n  useForceRestoreFocus(forceRestoreFocus);\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => {\n        const focusManager = focusManagerRef.current;\n        const containerElement = directChildRef.current?.parentElement;\n        if (!focusManager) {\n          throw new Error(\"focus manager not found!\");\n        }\n        if (!containerElement) {\n          throw new Error(\"container element not found\");\n        }\n        const alreadyHasFocused =\n          document.activeElement &&\n          document.activeElement !== containerElement &&\n          containerElement.contains(document.activeElement);\n        if (!alreadyHasFocused) {\n          focusManager.focusNext({ tabbable: true });\n        }\n      },\n    }),\n    []\n  );\n\n  return (\n    <WrappedFocusScope {...otherProps}>\n      <GetFocusManager ref={focusManagerRef} />\n      <span data-focus-root-direct-child=\"\" hidden ref={directChildRef} />\n      {children}\n    </WrappedFocusScope>\n  );\n});\nconst GetFocusManager = React.forwardRef(function FocusScopeHandle(\n  props: {},\n  ref: ForwardedRef<FocusManager>\n) {\n  const focusManager = useFocusManager();\n  useImperativeHandle(ref, () => focusManager, [focusManager]);\n  return null;\n});\n\n/**\n * Kind of a patchy solution for focus restoration when currently focused element is in a different focus scope, but\n * we still want focus restoration to work. So far the only use case is in nested menu, which is rendered as a separate\n * overlay with a focus scope. If focus is within that submenu, when the menu is closed, the default `restoreFocus`\n * doesn't work because there is a check in useRestoreFocus, which requires the currently focused element to be in\n * the focus scope, to do the focus restoration:\n * https://github.com/adobe/react-spectrum/blob/e14523fedd93ac1a4ede355aed70988af572ae74/packages/%40react-aria/focus/src/FocusScope.tsx#L460\n */\nfunction useForceRestoreFocus(restoreFocus?: boolean) {\n  useLayoutEffect(() => {\n    let nodeToRestore = document.activeElement as HTMLElement;\n\n    return () => {\n      if (restoreFocus && nodeToRestore) {\n        requestAnimationFrame(() => {\n          if (document.body.contains(nodeToRestore)) {\n            focusSafely(nodeToRestore);\n          }\n        });\n      }\n    };\n  }, [restoreFocus]);\n}\n","/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n//@ts-nocheck\n\n/**\n * IMPORTANT: this is coppied from react spectrum, temporarily until,\n * https://github.com/adobe/react-spectrum/issues/1525 is fixed. Any version above 3.1.3 should be\n * sufficient to remove this copy and use the one from @react-stately/tree\n */\n\nimport {\n  Collection,\n  CollectionBase,\n  Expandable,\n  MultipleSelection,\n  Node,\n} from \"@react-types/shared\";\nimport { TreeRef, useTreeRef } from \"@intellij-platform/core/Tree/useTreeRef\";\nimport { ForwardedRef, Key, useEffect, useMemo } from \"react\";\nimport {\n  SelectionManager,\n  useMultipleSelectionState,\n} from \"@react-stately/selection\";\nimport { useCollection } from \"@react-stately/collections\";\nimport { useControlledState } from \"@react-stately/utils\";\nimport {\n  CollectionCacheInvalidationProps,\n  useCollectionCacheInvalidation,\n} from \"@intellij-platform/core/Collections/useCollectionCacheInvalidation\";\n\nexport class TreeCollection<T> implements Collection<Node<T>> {\n  private keyMap: Map<Key, Node<T>> = new Map();\n  private iterable: Iterable<Node<T>>;\n  private firstKey: Key;\n  private lastKey: Key;\n\n  constructor(\n    nodes: Iterable<Node<T>>,\n    { expandedKeys }: { expandedKeys?: Set<Key> } = {}\n  ) {\n    this.iterable = nodes;\n    expandedKeys = expandedKeys || new Set();\n\n    let visit = (node: Node<T>) => {\n      this.keyMap.set(node.key, node);\n\n      if (\n        node.childNodes &&\n        (node.type === \"section\" || expandedKeys.has(node.key))\n      ) {\n        for (let child of node.childNodes) {\n          visit(child);\n        }\n      }\n    };\n\n    for (let node of nodes) {\n      visit(node);\n    }\n\n    let last: Node<T>;\n    let index = 0;\n    for (let [key, node] of this.keyMap) {\n      if (last) {\n        last.nextKey = key;\n        node.prevKey = last.key;\n      } else {\n        this.firstKey = key;\n        node.prevKey = undefined;\n      }\n\n      if (node.type === \"item\") {\n        node.index = index++;\n      }\n\n      last = node;\n\n      // Set nextKey as undefined since this might be the last node\n      // If it isn't the last node, last.nextKey will properly set at start of new loop\n      last.nextKey = undefined;\n    }\n\n    this.lastKey = last?.key;\n  }\n\n  *[Symbol.iterator]() {\n    yield* this.iterable;\n  }\n\n  get size() {\n    return this.keyMap.size;\n  }\n\n  getKeys() {\n    return this.keyMap.keys();\n  }\n\n  getKeyBefore(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.prevKey : null;\n  }\n\n  getKeyAfter(key: Key) {\n    let node = this.keyMap.get(key);\n    return node ? node.nextKey : null;\n  }\n\n  getFirstKey() {\n    return this.firstKey;\n  }\n\n  getLastKey() {\n    return this.lastKey;\n  }\n\n  getItem(key: Key) {\n    return this.keyMap.get(key);\n  }\n}\n\nexport interface TreeProps<T>\n  extends CollectionBase<T>,\n    Expandable,\n    MultipleSelection,\n    CollectionCacheInvalidationProps {}\nexport interface TreeState<T> {\n  /** A collection of items in the tree. */\n  readonly collection: Collection<Node<T>>;\n\n  /** A set of keys for items that are disabled. */\n  readonly disabledKeys: Set<Key>;\n\n  /** A set of keys for items that are expanded. */\n  readonly expandedKeys: Set<Key>;\n\n  /** Toggles the expanded state for an item by its key. */\n  toggleKey(key: Key): void;\n\n  /** A selection manager to read and update multiple selection state. */\n  readonly selectionManager: SelectionManager;\n}\n\n/**\n * Provides state management for tree-like components. Handles building a collection\n * of items from props, item expanded state, and manages multiple selection state.\n */\nexport function useTreeState<T extends object, C>(\n  props: TreeProps<T>,\n  treeRef?: ForwardedRef<TreeRef>\n): TreeState<T> {\n  let [expandedKeys, setExpandedKeys] = useControlledState(\n    props.expandedKeys ? props.expandedKeys : undefined,\n    props.defaultExpandedKeys ? new Set(props.defaultExpandedKeys) : new Set(),\n    props.onExpandedChange\n  );\n\n  let selectionState = useMultipleSelectionState({\n    ...props,\n    selectionBehavior: \"replace\",\n  });\n  let disabledKeys = useMemo(\n    () => (props.disabledKeys ? new Set(props.disabledKeys) : new Set<Key>()),\n    [props.disabledKeys]\n  );\n\n  const context = useCollectionCacheInvalidation(props);\n\n  let tree = useCollection(\n    props,\n    (nodes) => new TreeCollection(nodes, { expandedKeys }),\n    context,\n    [expandedKeys]\n  );\n\n  // Reset focused key if that item is deleted from the collection.\n  useEffect(() => {\n    if (\n      selectionState.focusedKey != null &&\n      !tree.getItem(selectionState.focusedKey)\n    ) {\n      selectionState.setFocusedKey(null);\n    }\n  }, [tree, selectionState.focusedKey]);\n\n  const onToggle = (key: Key) => {\n    setExpandedKeys((expandedKeys) => {\n      const newKeys = toggleKey(expandedKeys, key);\n      // In Intellij impl, when a node is collapsed, all descendants are also collapsed. In other words, keys that are\n      // not a part of the list of visible nodes, will be excluded from the expanded keys, with the toggle action.\n      for (const aKey of newKeys) {\n        if (tree.getItem(aKey) == null) {\n          newKeys.delete(aKey);\n        }\n      }\n\n      // If we are toggling it open, expand all expandable single-child items\n      if (newKeys.has(key)) {\n        for (const aKey of getSingleChildrenKeys(tree.getItem(key))) {\n          newKeys.add(aKey);\n        }\n      }\n      return newKeys;\n    });\n  };\n\n  const selectionManager = new SelectionManager(tree, selectionState);\n\n  useTreeRef({ selectionManager }, treeRef);\n\n  return {\n    collection: tree,\n    expandedKeys,\n    disabledKeys,\n    toggleKey: onToggle,\n    selectionManager,\n  };\n}\n\nfunction toggleKey(set: Set<Key>, key: Key): Set<Key> {\n  let res = new Set(set);\n  if (res.has(key)) {\n    res.delete(key);\n  } else {\n    res.add(key);\n  }\n\n  return res;\n}\n\nconst isExpandable = (node: Node<T>) =>\n  node.hasChildNodes || !isEmptyIterable(node.childNodes);\n\nfunction getSingleChildrenKeys<T>(node: Node<T> | null | undefined): Key[] {\n  return getSingleChildrenKeysRecursive(node, []);\n}\n\nfunction getSingleChildrenKeysRecursive(\n  node: Node<T> | null | undefined,\n  previousKeys: Key[]\n) {\n  if (!node) {\n    return [];\n  }\n  const childNodesIterator: Iterator<\n    Node<T>,\n    Node<T> | undefined\n  > = node.childNodes[Symbol.iterator]();\n  const { value: firstChild, done } = childNodesIterator.next();\n  const noMoreChildren = done || childNodesIterator.next().value == null;\n  if (firstChild != null && noMoreChildren && isExpandable(firstChild)) {\n    return getSingleChildrenKeysRecursive(\n      firstChild,\n      previousKeys.concat((firstChild as Node<T>).key)\n    );\n  }\n  return previousKeys;\n}\n\nfunction isEmptyIterable(iterable: Iterable<unknown> | undefined | null) {\n  for (const _ of iterable || []) {\n    // eslint-disable-line no-unused-vars, no-unreachable-loop\n    return false;\n  }\n  return true;\n}\n","import { CacheInvalidationContext } from \"@intellij-platform/core/Collections/Item\";\nimport { usePrevious } from \"@intellij-platform/core/utils/usePrevious\";\n\nexport interface CollectionCacheInvalidationProps {\n  /**\n   * Defines cache invalidation policy for items. By default, the render result is cached based on the item objects.\n   * This is equivalent of passing false or not passing anything for `cacheInvalidation`. If `true` is passed, it will\n   * always invalidate the render result, causing the collection to be recreated on each re-render. It can\n   * considerably affect performance in large collections. in addition to boolean value, an object with the list of\n   * invalidators can also be passed. renderer function is called each time any of the invalidators are changed.\n   * Think of it as [dependency array in react hooks](https://reactjs.org/docs/hooks-reference.html#usememo). Except\n   * that the length of the array can also safely change.\n   */\n  cacheInvalidation?: boolean | { invalidators: ReadonlyArray<unknown> };\n}\n\n/**\n * Allows cache invalidation options based on input props, for components that use collection\n */\nexport const useCollectionCacheInvalidation = ({\n  cacheInvalidation,\n}: CollectionCacheInvalidationProps): CacheInvalidationContext => {\n  const invalidators =\n    typeof cacheInvalidation === \"object\" ? cacheInvalidation.invalidators : [];\n  const lastInvalidators = usePrevious(invalidators);\n\n  const invalidated =\n    typeof cacheInvalidation === \"object\"\n      ? cacheInvalidation.invalidators.length !== lastInvalidators.length ||\n        cacheInvalidation.invalidators.some(\n          (anInvalidator, index) => anInvalidator !== lastInvalidators[index]\n        )\n      : cacheInvalidation;\n\n  return {\n    invalidated,\n  };\n};\n","import { ForwardedRef, Key, useImperativeHandle } from \"react\";\nimport { SelectionManager } from \"@react-stately/selection\";\nimport { useLatest } from \"@intellij-platform/core/utils/useLatest\";\n\nexport interface TreeRef {\n  focus(key: Key): void;\n  replaceSelection(key: Key): void;\n}\n\n/**\n * Sets up a tree ref for imperatively working with tree from outside. For imperatively focusing, expanding to\n * specific key, etc.\n */\nexport function useTreeRef(\n  props: { selectionManager: SelectionManager },\n  forwardedRef?: ForwardedRef<TreeRef>\n) {\n  const latestState = useLatest(props);\n\n  useImperativeHandle(\n    forwardedRef,\n    () => {\n      return {\n        replaceSelection: (key: Key) => {\n          latestState.current.selectionManager.replaceSelection(key);\n        },\n        focus: (key: Key) => {\n          const selectionManager = latestState.current.selectionManager;\n          selectionManager.setFocused(true);\n          /**\n           * NOTE: we set focus key to null and set it to key again, to make sure scroll into view works even when\n           * the key is currently focused but not in view. It wouldn't be needed if there was an imperative handle\n           * for scrolling an item into view, but it's only implemented in way that is reactive to changes to the\n           * focused key. {@see useCollectionAutoScroll}\n           */\n          // @ts-expect-error: setFocusedKey typing mistakenly doesn't accept null, while it should\n          selectionManager.setFocusedKey(null);\n          setTimeout(() => {\n            selectionManager.setFocusedKey(key);\n          });\n        },\n      };\n    },\n    []\n  );\n}\n","/**\n * drop shadow of windows and other overlays in Mac OS X. The current value is not accurate and needs to be revisited.\n */\nexport const MAC_WINDOW_SHADOW = \"box-shadow: 0 5px 15px rgb(0 0 0 / 30%)\";\n","import baseStyled, {\n  css as baseCss,\n  ThemedCssFunction,\n  ThemedStyledInterface,\n} from \"styled-components\";\nimport { Theme } from \"./Theme\";\nimport { KnownThemePropertyPath } from \"./Theme/types\";\n\nexport const styled = baseStyled as ThemedStyledInterface<\n  Theme<KnownThemePropertyPath>\n>;\n\nexport const css = baseCss as ThemedCssFunction<Theme<KnownThemePropertyPath>>;\n","import React, { useContext } from \"react\";\n\nexport const useContextOrThrow = <ContextType extends unknown>(\n  Context: React.Context<ContextType | null>,\n  nullErrorMessage: string\n) => {\n  const context = useContext<ContextType | null>(Context);\n\n  if (context == null) {\n    throw new Error(nullErrorMessage);\n  }\n\n  return context;\n};\n","import React, { useRef } from \"react\";\n\n/**\n * For when a component needs to forward ref, but it too needs to use the same ref. Since forwarded ref can be in form\n * of a callback too, this will normalize it as a RefObject.\n * NOTE: Should we keep the ref in state because of edge cases?\n */\nexport default function useForwardedRef<T>(\n  forwardedRef: React.Ref<T>\n): React.RefObject<T> {\n  const innerRef = useRef<T>(null);\n  React.useEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === \"function\") {\n      forwardedRef(innerRef.current);\n    } else {\n      (forwardedRef as React.MutableRefObject<T | null>).current =\n        innerRef.current;\n    }\n  });\n\n  return innerRef;\n}\n","import { useRef } from \"react\";\n\nexport function useLatest<T>(value: T) {\n  const ref = useRef(value);\n  ref.current = value;\n  return ref;\n}\n","import { useEffect, useRef } from \"react\";\n\nexport function usePrevious<T>(value: T): T {\n  const ref = useRef(value);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n","import { TabCloseButton } from \"@intellij-platform/core/Tabs/TabCloseButton\";\nimport { TabContentLayout } from \"@intellij-platform/core/Tabs/TabContentLayout\";\nimport React from \"react\";\n\nexport const DebuggerTabContent = ({\n  icon,\n  title,\n  onClose,\n}: {\n  icon: React.ReactNode;\n  title: React.ReactNode;\n  onClose?: () => void;\n}) => {\n  return (\n    <TabContentLayout\n      startIcon={icon}\n      title={title}\n      endIcon={onClose && <TabCloseButton onPress={onClose} />}\n    />\n  );\n};\n","import { Meta } from \"@storybook/react\";\nimport { PlatformIcon } from \"../Icon\";\nimport { DebuggerTabContent } from \"./DebuggerTabs/DebuggerTabContent\";\nimport { EditorTabContent } from \"./EditorTabs/EditorTabContent\";\nimport { EditorTabs, EditorTabsProps } from \"./EditorTabs/EditorTabs\";\nimport { DebuggerTabs } from \"./DebuggerTabs/DebuggerTabs\";\nimport { Tabs, TabsProps } from \"./Tabs\";\nimport { TabContentLayout } from \"./TabContentLayout\";\nimport { ToolWindowTabs } from \"./ToolWindowTabs/ToolWindowTabs\";\nimport React from \"react\";\nimport { Item } from \"../Collections\";\n\ntype StoryProps<T extends TabsProps<unknown> = TabsProps<unknown>> = Pick<\n  T,\n  \"active\" | \"defaultSelectedKey\"\n>;\n\nexport default {\n  title: \"Components/Tabs/Tab Themes\",\n  component: Tabs,\n  parameters: {\n    controls: { exclude: \"TabComponent\" },\n  },\n} as Meta;\n\nexport const EditorTheme: React.FC<StoryProps<EditorTabsProps<any>>> = (\n  props\n) => {\n  return (\n    <EditorTabs {...props} items={editorTabs} active>\n      {(tab: typeof editorTabs[number]) => (\n        <Item key={tab.title} textValue={tab.title}>\n          <EditorTabContent\n            icon={<PlatformIcon icon={tab.icon} />}\n            title={tab.title}\n            pinned={tab.pinned}\n          />\n        </Item>\n      )}\n    </EditorTabs>\n  );\n};\nexport const DebuggerTheme: React.FC<StoryProps> = (props) => {\n  return (\n    <DebuggerTabs {...props} items={debuggerTabs}>\n      {(tab: typeof debuggerTabs[number]) => (\n        <Item key={tab.title} textValue={tab.title}>\n          <DebuggerTabContent\n            icon={tab.icon && <PlatformIcon icon={tab.icon} />}\n            title={tab.title}\n          />\n        </Item>\n      )}\n    </DebuggerTabs>\n  );\n};\nexport const ToolWindowTheme: React.FC<StoryProps> = (props) => {\n  return (\n    <ToolWindowTabs {...props} items={toolWindowTabs}>\n      {(tab: typeof toolWindowTabs[number]) => (\n        <Item key={tab.title} textValue={tab.title}>\n          <TabContentLayout\n            startIcon={<PlatformIcon icon={tab.icon} />}\n            title={tab.title}\n          />\n        </Item>\n      )}\n    </ToolWindowTabs>\n  );\n};\nconst editorTabs = [\n  {\n    title: \"Tabs.tsx\",\n    pinned: true,\n    icon: \"fileTypes/javaScript\",\n  },\n  {\n    title: \"Tabs.stories.tsx\",\n    pinned: false,\n    icon: \"fileTypes/javaScript\",\n  },\n  {\n    title: \"index.ts\",\n    pinned: false,\n    icon: \"fileTypes/javaScript\",\n  },\n  {\n    title: \"Tabs.test.ts\",\n    pinned: false,\n    icon: \"fileTypes/javaScript\",\n  },\n];\nconst toolWindowTabs = [\n  {\n    title: \"Project\",\n    icon: \"nodes/project\",\n  },\n  {\n    title: \"Project Files\",\n    icon: \"nodes/folder\",\n  },\n  {\n    title: \"Tests\",\n    icon: \"scope/tests\",\n  },\n];\nconst debuggerTabs = [\n  {\n    title: \"Console\",\n    icon: \"debugger/console\",\n  },\n  {\n    title: \"Frames\",\n    icon: null,\n  },\n  {\n    title: \"Variables | Coroutines | idea.log\",\n    icon: null,\n  },\n];\n","import { Meta, StoryFn } from \"@storybook/react\";\nimport { MenuItemLayout, PlatformIcon } from \"@intellij-platform/core\";\nimport React from \"react\";\nimport { TabContentLayout, TabItem, TabsProps } from \".\";\nimport { Tabs } from \"./Tabs\";\nimport { DOMProps } from \"@react-types/shared\";\n\ntype StoryProps<T extends TabsProps<unknown> = TabsProps<unknown>> = Pick<\n  T,\n  | \"active\"\n  | \"focusable\"\n  | \"defaultSelectedKey\"\n  | \"multiRow\"\n  | \"noOverflowMenu\"\n  | \"noBorders\"\n  | keyof DOMProps\n>;\n\nexport default {\n  title: \"Components/Tabs\",\n  component: Tabs,\n  parameters: {\n    controls: { exclude: \"TabComponent\" },\n  },\n} as Meta;\n\nexport const StaticItems: StoryFn<StoryProps> = (props) => {\n  return (\n    <Tabs {...props}>\n      <TabItem>Tab 1</TabItem>\n      <TabItem>Tab 2</TabItem>\n      <TabItem>Tab 3</TabItem>\n    </Tabs>\n  );\n};\n\nexport const DynamicItems = (props: StoryProps) => {\n  return (\n    <Tabs\n      {...props}\n      items={[\"Tab 1\", \"Tab 2\", \"Tab 3\"].map((title) => ({ title }))}\n    >\n      {({ title }: { title: string }) => <TabItem key={title}>{title}</TabItem>}\n    </Tabs>\n  );\n};\n\nexport const Overflow: StoryFn<StoryProps & { maxWidth: number }> = ({\n  maxWidth = 800,\n  ...props\n}) => {\n  const tabs = Array(10)\n    .fill(null)\n    .map((_, index) => ({\n      title: `Big tab title #${index}`,\n      icon: \"nodes/folder\",\n    }));\n  return (\n    <div style={{ maxWidth }}>\n      <Tabs {...props} items={tabs}>\n        {(tab) => {\n          const icon = <PlatformIcon icon={tab.icon} />;\n          return (\n            <TabItem\n              key={tab.title}\n              textValue={tab.title}\n              inOverflowMenu={\n                <MenuItemLayout content={tab.title} icon={icon} />\n              }\n            >\n              <TabContentLayout startIcon={icon} title={tab.title} />\n            </TabItem>\n          );\n        }}\n      </Tabs>\n    </div>\n  );\n};\n","\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\n/* @jsxFrag mdx.Fragment */\n\nimport React from 'react';\nimport { mdx } from '@mdx-js/react';\n\n\nexport const frontMatter = {};\nexport const contentTitle = 'Tabs';\nexport const metadata = {\n  \"unversionedId\": \"components/Tabs\",\n  \"id\": \"components/Tabs\",\n  \"title\": \"Tabs\",\n  \"description\": \"Features\",\n  \"source\": \"@site/docs/components/Tabs.mdx\",\n  \"sourceDirName\": \"components\",\n  \"slug\": \"/components/Tabs\",\n  \"permalink\": \"/jui/docs/components/Tabs\",\n  \"draft\": false,\n  \"editUrl\": \"https://github.com/alirezamirian/jui/edit/master/packages/website/docs/components/Tabs.mdx\",\n  \"tags\": [],\n  \"version\": \"current\",\n  \"frontMatter\": {},\n  \"sidebar\": \"tutorialSidebar\",\n  \"previous\": {\n    \"title\": \"StatusBar\",\n    \"permalink\": \"/jui/docs/components/StatusBar\"\n  },\n  \"next\": {\n    \"title\": \"Theme\",\n    \"permalink\": \"/jui/docs/components/Theme\"\n  }\n};\nexport const assets = {\n\n};\n\nimport { RefToIntellijPlatform } from \"../../src/components/RefToIntellijPlatform.tsx\";\nimport {\n  EditorTheme,\n  DebuggerTheme,\n  ToolWindowTheme,\n} from \"@intellij-platform/core/Tabs/3-TabThemes.stories\";\nimport { Overflow } from \"@intellij-platform/core/Tabs/2-Tabs.stories\";\nimport { Example } from \"../../src/components/ExampleContext\";\nexport const toc = [{\n  value: 'Features',\n  id: 'features',\n  level: 3\n}, {\n  value: 'Remaining',\n  id: 'remaining',\n  level: 4\n}, {\n  value: 'Simple usage',\n  id: 'simple-usage',\n  level: 2\n}, {\n  value: 'Overflow behavior',\n  id: 'overflow-behavior',\n  level: 2\n}, {\n  value: 'Customization',\n  id: 'customization',\n  level: 2\n}, {\n  value: 'Editor Theme',\n  id: 'editor-theme',\n  level: 3\n}, {\n  value: 'Debugger Theme',\n  id: 'debugger-theme',\n  level: 3\n}, {\n  value: 'Tool Window Theme',\n  id: 'tool-window-theme',\n  level: 3\n}];\n\nconst layoutProps = {\n  toc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"tabs\"\n    }}>{`Tabs`}</h1>\n    <h3 {...{\n      \"id\": \"features\"\n    }}>{`Features`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Fully customizable and themeable`}</li>\n      <li parentName=\"ul\">{`Support for different ways of handling overflow`}</li>\n      <li parentName=\"ul\">{`Default tab themes, with support for icon, close button and pinned tabs.`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"remaining\"\n    }}>{`Remaining`}</h4>\n    <ul {...{\n      \"className\": \"contains-task-list\"\n    }}>\n      <li parentName=\"ul\" {...{\n        \"className\": \"task-list-item\"\n      }}><input parentName=\"li\" {...{\n          \"type\": \"checkbox\",\n          \"checked\": false,\n          \"disabled\": true\n        }}></input>{` `}{`drag and drop`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"simple-usage\"\n    }}>{`Simple usage`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-tsx\",\n        \"metastring\": \"live\",\n        \"live\": true\n      }}>{`<Tabs>\n  <Item>Tab 1</Item>\n  <Item>Tab 2</Item>\n  <Item>Tab 3</Item>\n</Tabs>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"overflow-behavior\"\n    }}>{`Overflow behavior`}</h2>\n    <p>{`There are a few was of handling the overflow, when there is not enough space for showing all tabs. By default tabs will\nscroll horizontally and a small arrow down icon button is added next to the tabs which opens an overflow menu for the\ntabs that are not fully visible, based on the current scroll position.`}</p>\n    <div {...{\n      \"className\": \"admonition admonition-tip alert alert--success\"\n    }}><div parentName=\"div\" {...{\n        \"className\": \"admonition-heading\"\n      }}><h5 parentName=\"div\"><span parentName=\"h5\" {...{\n            \"className\": \"admonition-icon\"\n          }}><svg parentName=\"span\" {...{\n              \"xmlns\": \"http://www.w3.org/2000/svg\",\n              \"width\": \"12\",\n              \"height\": \"16\",\n              \"viewBox\": \"0 0 12 16\"\n            }}><path parentName=\"svg\" {...{\n                \"fillRule\": \"evenodd\",\n                \"d\": \"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z\"\n              }}></path></svg></span>{`tip`}</h5></div><div parentName=\"div\" {...{\n        \"className\": \"admonition-content\"\n      }}><p parentName=\"div\">{`Use `}<inlineCode parentName=\"p\">{`TabItem`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`Item`}</inlineCode>{` to specify via `}<inlineCode parentName=\"p\">{`inOverflowMenu`}</inlineCode>{` prop, a different react node to be shown when the tab\nis rendered in the overflow menu.`}</p></div></div>\n    <Example mdxType=\"Example\">\n  <Overflow maxWidth={1800} mdxType=\"Overflow\" />\n    </Example>\n    <br />\n    <p>{`Overflow menu can be disabled via `}<inlineCode parentName=\"p\">{`noOverflow`}</inlineCode>{` prop:`}</p>\n    <Example mdxType=\"Example\">\n  <Overflow maxWidth={1800} noOverflowMenu mdxType=\"Overflow\" />\n    </Example>\n    <br />\n    <p>{`Horizontal scroll can be disabled via `}<inlineCode parentName=\"p\">{`noScroll`}</inlineCode>{` prop. If overflow is also disabled, tabs will be shrunk to fit\nthe available space.`}</p>\n    <div {...{\n      \"className\": \"admonition admonition-warning alert alert--danger\"\n    }}><div parentName=\"div\" {...{\n        \"className\": \"admonition-heading\"\n      }}><h5 parentName=\"div\"><span parentName=\"h5\" {...{\n            \"className\": \"admonition-icon\"\n          }}><svg parentName=\"span\" {...{\n              \"xmlns\": \"http://www.w3.org/2000/svg\",\n              \"width\": \"12\",\n              \"height\": \"16\",\n              \"viewBox\": \"0 0 12 16\"\n            }}><path parentName=\"svg\" {...{\n                \"fillRule\": \"evenodd\",\n                \"d\": \"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z\"\n              }}></path></svg></span>{`warning`}</h5></div><div parentName=\"div\" {...{\n        \"className\": \"admonition-content\"\n      }}><p parentName=\"div\">{`Support for `}<inlineCode parentName=\"p\">{`noScroll`}</inlineCode>{` is under development.`}</p></div></div>\n    <h2 {...{\n      \"id\": \"customization\"\n    }}>{`Customization`}</h2>\n    <p><inlineCode parentName=\"p\">{`Tabs`}</inlineCode>{` component allows for `}<inlineCode parentName=\"p\">{`TabsComponent`}</inlineCode>{` (the container) and `}<inlineCode parentName=\"p\">{`TabComponent`}</inlineCode>{` to allow for customizing look and feel.\nBy default `}<inlineCode parentName=\"p\">{`StyledDefaultTabs`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`StyledDefaultTab`}</inlineCode>{` are used. The following variations are a thin wrapper around\n`}<inlineCode parentName=\"p\">{`Tabs`}</inlineCode>{`, which use those two props. They also expose a customized version of `}<inlineCode parentName=\"p\">{`TabContentLayout`}</inlineCode>{`.`}</p>\n    <h3 {...{\n      \"id\": \"editor-theme\"\n    }}>{`Editor Theme`}</h3>\n    <p>{`Use `}<inlineCode parentName=\"p\">{`EditorTabs`}</inlineCode>{` together with `}<inlineCode parentName=\"p\">{`EditorTabContent`}</inlineCode>{` for editor tab style.`}</p>\n    <Example mdxType=\"Example\">\n  <EditorTheme mdxType=\"EditorTheme\" />\n    </Example>\n    <h3 {...{\n      \"id\": \"debugger-theme\"\n    }}>{`Debugger Theme`}</h3>\n    <p>{`Use `}<inlineCode parentName=\"p\">{`DebuggerTabs`}</inlineCode>{` together with `}<inlineCode parentName=\"p\">{`DebuggerTabContent`}</inlineCode>{` for editor tab style.`}</p>\n    <Example mdxType=\"Example\">\n  <DebuggerTheme mdxType=\"DebuggerTheme\" />\n    </Example>\n    <h3 {...{\n      \"id\": \"tool-window-theme\"\n    }}>{`Tool Window Theme`}</h3>\n    <p>{`Use `}<inlineCode parentName=\"p\">{`ToolWindowTabs`}</inlineCode>{` together with the default `}<inlineCode parentName=\"p\">{`TabContentLayout`}</inlineCode>{` for editor tab style.`}</p>\n    <Example mdxType=\"Example\">\n  <ToolWindowTheme mdxType=\"ToolWindowTheme\" />\n    </Example>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n","import {useSelectableItem as $G86Z8$useSelectableItem, useSelectableCollection as $G86Z8$useSelectableCollection} from \"@react-aria/selection\";\nimport {getFocusableTreeWalker as $G86Z8$getFocusableTreeWalker} from \"@react-aria/focus\";\nimport {useState as $G86Z8$useState, useMemo as $G86Z8$useMemo} from \"react\";\nimport {useLayoutEffect as $G86Z8$useLayoutEffect, useLabels as $G86Z8$useLabels, mergeProps as $G86Z8$mergeProps, useId as $G86Z8$useId} from \"@react-aria/utils\";\nimport {useLocale as $G86Z8$useLocale} from \"@react-aria/i18n\";\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $fbeca008f459f5aa$exports = {};\n\n$parcel$export($fbeca008f459f5aa$exports, \"useTab\", () => $fbeca008f459f5aa$export$fdf4756d5b8ef90a);\nconst $2bc294289400274c$export$c5f62239608282b6 = new WeakMap();\nfunction $2bc294289400274c$export$567fc7097e064344(state, key, role) {\n    if (typeof key === 'string') key = key.replace(/\\s+/g, '');\n    let baseId = $2bc294289400274c$export$c5f62239608282b6.get(state);\n    return `${baseId}-${role}-${key}`;\n}\n\n\n\nfunction $fbeca008f459f5aa$export$fdf4756d5b8ef90a(props, state, ref) {\n    let { key: key , isDisabled: propsDisabled  } = props;\n    let { selectionManager: manager , selectedKey: selectedKey  } = state;\n    let isSelected = key === selectedKey;\n    let isDisabled = propsDisabled || state.disabledKeys.has(key);\n    let { itemProps: itemProps  } = $G86Z8$useSelectableItem({\n        selectionManager: manager,\n        key: key,\n        ref: ref,\n        isDisabled: isDisabled\n    });\n    let tabId = $2bc294289400274c$export$567fc7097e064344(state, key, 'tab');\n    let tabPanelId = $2bc294289400274c$export$567fc7097e064344(state, key, 'tabpanel');\n    let { tabIndex: tabIndex  } = itemProps;\n    return {\n        tabProps: {\n            ...itemProps,\n            id: tabId,\n            'aria-selected': isSelected,\n            'aria-disabled': isDisabled || undefined,\n            'aria-controls': isSelected ? tabPanelId : undefined,\n            tabIndex: isDisabled ? undefined : tabIndex,\n            role: 'tab'\n        }\n    };\n}\n\n\nvar $bc77009ac794dd15$exports = {};\n\n$parcel$export($bc77009ac794dd15$exports, \"useTabPanel\", () => $bc77009ac794dd15$export$fae0121b5afe572d);\n\n\n\n\nfunction $bc77009ac794dd15$export$fae0121b5afe572d(props, state, ref) {\n    let [tabIndex, setTabIndex] = $G86Z8$useState(0);\n    // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\n    // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\n    // within the tabpanel.\n    $G86Z8$useLayoutEffect(()=>{\n        if (ref === null || ref === void 0 ? void 0 : ref.current) {\n            let update = ()=>{\n                // Detect if there are any tabbable elements and update the tabIndex accordingly.\n                let walker = $G86Z8$getFocusableTreeWalker(ref.current, {\n                    tabbable: true\n                });\n                setTabIndex(walker.nextNode() ? undefined : 0);\n            };\n            update();\n            // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n            let observer = new MutationObserver(update);\n            observer.observe(ref.current, {\n                subtree: true,\n                childList: true,\n                attributes: true,\n                attributeFilter: [\n                    'tabIndex',\n                    'disabled'\n                ]\n            });\n            return ()=>{\n                observer.disconnect();\n            };\n        }\n    }, [\n        ref\n    ]);\n    const id = $2bc294289400274c$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tabpanel');\n    const tabPanelProps = $G86Z8$useLabels({\n        ...props,\n        id: id,\n        'aria-labelledby': $2bc294289400274c$export$567fc7097e064344(state, state === null || state === void 0 ? void 0 : state.selectedKey, 'tab')\n    });\n    return {\n        tabPanelProps: $G86Z8$mergeProps(tabPanelProps, {\n            tabIndex: tabIndex,\n            role: 'tabpanel',\n            'aria-describedby': props['aria-describedby'],\n            'aria-details': props['aria-details']\n        })\n    };\n}\n\n\nvar $67cd7a6663dbdf35$exports = {};\n\n$parcel$export($67cd7a6663dbdf35$exports, \"useTabList\", () => $67cd7a6663dbdf35$export$773e389e644c5874);\n\n\n\nclass $d9c38f86f4c836f2$export$15010ca3c1abe90b {\n    getKeyLeftOf(key) {\n        if (this.flipDirection) return this.getNextKey(key);\n        else {\n            if (this.orientation === 'horizontal') return this.getPreviousKey(key);\n            return null;\n        }\n    }\n    getKeyRightOf(key) {\n        if (this.flipDirection) return this.getPreviousKey(key);\n        else {\n            if (this.orientation === 'horizontal') return this.getNextKey(key);\n            return null;\n        }\n    }\n    getKeyAbove(key) {\n        if (this.orientation === 'vertical') return this.getPreviousKey(key);\n        return null;\n    }\n    getKeyBelow(key) {\n        if (this.orientation === 'vertical') return this.getNextKey(key);\n        return null;\n    }\n    getFirstKey() {\n        let key = this.collection.getFirstKey();\n        if (this.disabledKeys.has(key)) key = this.getNextKey(key);\n        return key;\n    }\n    getLastKey() {\n        let key = this.collection.getLastKey();\n        if (this.disabledKeys.has(key)) key = this.getPreviousKey(key);\n        return key;\n    }\n    getNextKey(key) {\n        do {\n            key = this.collection.getKeyAfter(key);\n            if (key == null) key = this.collection.getFirstKey();\n        }while (this.disabledKeys.has(key))\n        return key;\n    }\n    getPreviousKey(key) {\n        do {\n            key = this.collection.getKeyBefore(key);\n            if (key == null) key = this.collection.getLastKey();\n        }while (this.disabledKeys.has(key))\n        return key;\n    }\n    constructor(collection, direction, orientation, disabledKeys = new Set()){\n        this.collection = collection;\n        this.flipDirection = direction === 'rtl' && orientation === 'horizontal';\n        this.orientation = orientation;\n        this.disabledKeys = disabledKeys;\n    }\n}\n\n\n\n\nfunction $67cd7a6663dbdf35$export$773e389e644c5874(props, state, ref) {\n    let { orientation: orientation = 'horizontal' , keyboardActivation: keyboardActivation = 'automatic'  } = props;\n    let { collection: collection , selectionManager: manager , disabledKeys: disabledKeys  } = state;\n    let { direction: direction  } = $G86Z8$useLocale();\n    let delegate = $G86Z8$useMemo(()=>new $d9c38f86f4c836f2$export$15010ca3c1abe90b(collection, direction, orientation, disabledKeys)\n    , [\n        collection,\n        disabledKeys,\n        orientation,\n        direction\n    ]);\n    let { collectionProps: collectionProps  } = $G86Z8$useSelectableCollection({\n        ref: ref,\n        selectionManager: manager,\n        keyboardDelegate: delegate,\n        selectOnFocus: keyboardActivation === 'automatic',\n        disallowEmptySelection: true,\n        scrollRef: ref\n    });\n    // Compute base id for all tabs\n    let tabsId = $G86Z8$useId();\n    $2bc294289400274c$export$c5f62239608282b6.set(state, tabsId);\n    let tabListLabelProps = $G86Z8$useLabels({\n        ...props,\n        id: tabsId\n    });\n    return {\n        tabListProps: {\n            ...$G86Z8$mergeProps(collectionProps, tabListLabelProps),\n            role: 'tablist',\n            'aria-orientation': orientation,\n            tabIndex: undefined\n        }\n    };\n}\n\n\n\n\nexport {$fbeca008f459f5aa$export$fdf4756d5b8ef90a as useTab, $bc77009ac794dd15$export$fae0121b5afe572d as useTabPanel, $67cd7a6663dbdf35$export$773e389e644c5874 as useTabList};\n//# sourceMappingURL=module.js.map\n","import {useMemo as $jmOdw$useMemo, useEffect as $jmOdw$useEffect} from \"react\";\nimport {useMultipleSelectionState as $jmOdw$useMultipleSelectionState, SelectionManager as $jmOdw$SelectionManager} from \"@react-stately/selection\";\nimport {useCollection as $jmOdw$useCollection} from \"@react-stately/collections\";\nimport {useControlledState as $jmOdw$useControlledState} from \"@react-stately/utils\";\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $4b9a49966c91856a$exports = {};\n\n$parcel$export($4b9a49966c91856a$exports, \"useListState\", () => $4b9a49966c91856a$export$2f645645f7bca764);\n\nvar $80be09205507c5ec$exports = {};\n\n$parcel$export($80be09205507c5ec$exports, \"ListCollection\", () => $80be09205507c5ec$export$d085fb9e920b5ca7);\nvar tmp = Symbol.iterator;\nclass $80be09205507c5ec$export$d085fb9e920b5ca7 {\n    *[tmp]() {\n        yield* this.iterable;\n    }\n    get size() {\n        return this.keyMap.size;\n    }\n    getKeys() {\n        return this.keyMap.keys();\n    }\n    getKeyBefore(key) {\n        let node = this.keyMap.get(key);\n        return node ? node.prevKey : null;\n    }\n    getKeyAfter(key) {\n        let node = this.keyMap.get(key);\n        return node ? node.nextKey : null;\n    }\n    getFirstKey() {\n        return this.firstKey;\n    }\n    getLastKey() {\n        return this.lastKey;\n    }\n    getItem(key) {\n        return this.keyMap.get(key);\n    }\n    at(idx) {\n        const keys = [\n            ...this.getKeys()\n        ];\n        return this.getItem(keys[idx]);\n    }\n    constructor(nodes){\n        this.keyMap = new Map();\n        this.iterable = nodes;\n        let visit = (node)=>{\n            this.keyMap.set(node.key, node);\n            if (node.childNodes && node.type === 'section') for (let child of node.childNodes)visit(child);\n        };\n        for (let node2 of nodes)visit(node2);\n        let last;\n        let index = 0;\n        for (let [key, node1] of this.keyMap){\n            if (last) {\n                last.nextKey = key;\n                node1.prevKey = last.key;\n            } else {\n                this.firstKey = key;\n                node1.prevKey = undefined;\n            }\n            if (node1.type === 'item') node1.index = index++;\n            last = node1;\n            // Set nextKey as undefined since this might be the last node\n            // If it isn't the last node, last.nextKey will properly set at start of new loop\n            last.nextKey = undefined;\n        }\n        this.lastKey = last === null || last === void 0 ? void 0 : last.key;\n    }\n}\n\n\n\n\nfunction $4b9a49966c91856a$export$2f645645f7bca764(props) {\n    let { filter: filter  } = props;\n    let selectionState = $jmOdw$useMultipleSelectionState(props);\n    let disabledKeys = $jmOdw$useMemo(()=>props.disabledKeys ? new Set(props.disabledKeys) : new Set()\n    , [\n        props.disabledKeys\n    ]);\n    let factory = (nodes)=>filter ? new $80be09205507c5ec$export$d085fb9e920b5ca7(filter(nodes)) : new $80be09205507c5ec$export$d085fb9e920b5ca7(nodes)\n    ;\n    let context = $jmOdw$useMemo(()=>({\n            suppressTextValueWarning: props.suppressTextValueWarning\n        })\n    , [\n        props.suppressTextValueWarning\n    ]);\n    let collection = $jmOdw$useCollection(props, factory, context, [\n        filter\n    ]);\n    // Reset focused key if that item is deleted from the collection.\n    $jmOdw$useEffect(()=>{\n        if (selectionState.focusedKey != null && !collection.getItem(selectionState.focusedKey)) selectionState.setFocusedKey(null);\n    }, [\n        collection,\n        selectionState.focusedKey\n    ]);\n    return {\n        collection: collection,\n        disabledKeys: disabledKeys,\n        selectionManager: new $jmOdw$SelectionManager(collection, selectionState)\n    };\n}\n\n\nvar $e08e0e9da1306088$exports = {};\n\n$parcel$export($e08e0e9da1306088$exports, \"useSingleSelectListState\", () => $e08e0e9da1306088$export$e7f05e985daf4b5f);\n\n\n\nfunction $e08e0e9da1306088$export$e7f05e985daf4b5f(props) {\n    var _defaultSelectedKey;\n    let [selectedKey, setSelectedKey] = $jmOdw$useControlledState(props.selectedKey, (_defaultSelectedKey = props.defaultSelectedKey) !== null && _defaultSelectedKey !== void 0 ? _defaultSelectedKey : null, props.onSelectionChange);\n    let selectedKeys = $jmOdw$useMemo(()=>selectedKey != null ? [\n            selectedKey\n        ] : []\n    , [\n        selectedKey\n    ]);\n    let { collection: collection , disabledKeys: disabledKeys , selectionManager: selectionManager  } = $4b9a49966c91856a$export$2f645645f7bca764({\n        ...props,\n        selectionMode: 'single',\n        disallowEmptySelection: true,\n        allowDuplicateSelectionEvents: true,\n        selectedKeys: selectedKeys,\n        onSelectionChange: (keys)=>{\n            let key = keys.values().next().value;\n            // Always fire onSelectionChange, even if the key is the same\n            // as the current key (useControlledState does not).\n            if (key === selectedKey && props.onSelectionChange) props.onSelectionChange(key);\n            setSelectedKey(key);\n        }\n    });\n    let selectedItem = selectedKey != null ? collection.getItem(selectedKey) : null;\n    return {\n        collection: collection,\n        disabledKeys: disabledKeys,\n        selectionManager: selectionManager,\n        selectedKey: selectedKey,\n        setSelectedKey: setSelectedKey,\n        selectedItem: selectedItem\n    };\n}\n\n\n\n\n\nexport {$4b9a49966c91856a$export$2f645645f7bca764 as useListState, $e08e0e9da1306088$export$e7f05e985daf4b5f as useSingleSelectListState, $80be09205507c5ec$export$d085fb9e920b5ca7 as ListCollection};\n//# sourceMappingURL=module.js.map\n","import {useSingleSelectListState as $a9c3b$useSingleSelectListState} from \"@react-stately/list\";\nimport {useEffect as $a9c3b$useEffect} from \"react\";\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $ead76093e5740fb6$exports = {};\n\n$parcel$export($ead76093e5740fb6$exports, \"useTabListState\", () => $ead76093e5740fb6$export$4ba071daf4e486);\n\n\nfunction $ead76093e5740fb6$export$4ba071daf4e486(props) {\n    let state = $a9c3b$useSingleSelectListState({\n        ...props,\n        suppressTextValueWarning: true\n    });\n    $a9c3b$useEffect(()=>{\n        // Ensure a tab is always selected (in case no selected key was specified or if selected item was deleted from collection)\n        let selectedKey = state.selectedKey;\n        if (state.selectionManager.isEmpty || !state.collection.getItem(selectedKey)) {\n            selectedKey = state.collection.getFirstKey();\n            state.selectionManager.replaceSelection(selectedKey);\n        }\n        if (state.selectionManager.focusedKey == null) state.selectionManager.setFocusedKey(selectedKey);\n    }, [\n        state.selectionManager,\n        state.selectedKey,\n        state.collection\n    ]);\n    return state;\n}\n\n\n\n\nexport {$ead76093e5740fb6$export$4ba071daf4e486 as useTabListState};\n//# sourceMappingURL=module.js.map\n","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}"],"names":["DEFAULT_MINIMUM_BUTTON_SIZE","NAVBAR_MINIMUM_BUTTON_SIZE","StyledActionButton","styled","minSize","theme","color","ActionButton","React","ref","preventFocusOnPress","excludeFromTabOrder","isPressed","isPressedInput","isDisabled","onPress","onPressChange","onPressEnd","onPressStart","onPressUp","shouldCancelOnPointerExit","otherProps","pressProps","usePress","className","disabled","mergeProps","tabIndex","undefined","Item","props","getCollectionNode","context","result","StatelyItem","next","value","originalShouldInvalidate","shouldInvalidate","invalidated","ItemStateContext","LafIcon","forwardedRef","themePath","icon","size","resolvedIconPath","iconDescriptor","useTheme","resolvedValue","modifiers","name","isUnderDarcula","reduce","soFar","modifier","findIconPath","useIconPath","useForwardedRef","useSvgIcon","path","amendName","iconNameOrPath","amendment","ext","split","getPlatformIconPath","relativePath","PlatformIcon","darkIcon","iconName","dark","darkPath","getDarkPath","fallbackPath","DEFAULT_ICON_SIZE","StyledIconWrapper","useEffect","unmounted","async","console","error","current","dataset","loadingIcon","svg","getSvgIcon","catch","e","querySelector","remove","svgElement","document","createElement","appendChild","outerHTML","fetchIcon","ListDivider","as","useSeparator","orientation","StyledMenu","isMac","css","MAC_WINDOW_SHADOW","StyledVerticalSeparator","StyledMenuItem","isActive","StyledNestedArrow","StyledSelectedMark","StyledMenuItemText","MenuItem","item","state","onAction","expandOn","nestedMenuRef","disabledKeys","has","key","isExpanded","expandedKeys","isSelected","selectionManager","selectedKeys","isFocused","focusedKey","menuItemProps","useMenuItem","hasChildNodes","maybeOpenSubmenu","forEach","toggleKey","hoverProps","useHover","onHoverStart","keyboardProps","useKeyboard","onKeyDown","includes","continuePropagation","overlayProps","positionProps","useOverlayPosition","targetRef","overlayRef","placement","shouldFlip","onClose","log","offset","crossOffset","isOpen","subMenuProps","useSubmenu","focus","Selected","node","rendered","FocusScope","Menu","textValue","items","childNodes","autoFocus","childItem","childItems","hasChildItems","StyledMenuHeading","StyledMenuSectionItemsContainer","MenuSection","itemProps","headingProps","groupProps","useMenuSection","heading","map","Error","useTreeState","expandedKey","onExpandedChange","firstKey","onExpandedKeyChange","defaultExpandedKeys","defaultExpandedKey","menuProps","useMenu","setTimeout","collection","type","StyledMenuItemLayout","Content","Icon","Shortcut","selected","MenuItemLayout","content","shortcut","useContextOrThrow","MenuTrigger","children","renderMenu","direction","align","restoreFocus","menuTriggerProps","useMenuTriggerState","triggerRef","triggerProps","useMenuTrigger","buttonProps","useButton","useOverlay","close","shouldCloseOnBlur","isKeyboardDismissDisabled","isDismissable","shouldCloseOnInteractOutside","element","matches","getPlacement","containerPadding","forceRestoreFocus","DarculaSeparatorUI","defaultSize","StyledSeparator","backgroundColor","backgroundClip","boxSizing","margin","border","StyledHorizontalSeparator","StyledDebuggerTab","StyledDefaultTab","getTabThemeStyles","underlineHeight","underlinedTabBackground","debuggerTabTheme","DebuggerTabs","Tabs","TabComponent","focusable","EditorTabContent","title","onUnpin","pinned","containerProps","startIcon","endIcon","editorTabTheme","borderColor","background","underlinedTabInactiveBackground","hoverInactiveBackground","hoverBackground","inactiveUnderlineColor","underlineColor","underlinedTabInactiveForeground","underlinedTabForeground","StyledEditorTab","StyledEditorTabs","StyledDefaultTabs","getTabsThemeStyles","EditorTabs","TabsComponent","noBorders","commonColors","contrastBorder","TabCloseButton","StyledTabItemLayout","iconStyle","StyledStartIconWrapper","StyledEndIconWrapper","TabContentLayout","TabItem","active","horizontalOverflowIndicatorStyles","StyledHorizontalOverflowShadows","hasOverflowAtStart","panelBackground","hasOverflowAtEnd","Tab","Component","intersectionObserver","tabProps","useTab","selectedKey","observe","unobserve","useIntersectionObserver","scrollBarDisabledStyle","StyledTabList","multiRow","noOverflowMenu","noScroll","useTabListState","tabListProps","useTabList","scrolledIndicatorProps","isScrolled","threshold","setIsScrolled","useState","left","right","top","bottom","update","offsetLeft","scrollLeft","offsetRight","scrollWidth","offsetWidth","offsetTop","scrollTop","offsetBottom","scrollHeight","offsetHeight","newIsScrolled","onScroll","useIsScrolled","overflowedKeys","scrollableItemsContainerRef","setIntersectionObserver","setOverflowedKeys","Set","observer","IntersectionObserver","entries","newHiddenKeys","entry","isIntersecting","target","HTMLElement","filter","val","Boolean","newVisibleKeys","currentOverflowMenuKeys","concat","root","rootMargin","disconnect","useCollectionOverflowObserver","scrollableContainer","selectedTabElement","scrollIntoView","filterDOMProps","style","minWidth","TabsOverflowMenu","onSelect","setSelectedKey","menuItem","inOverflowMenu","toolWindowTabTheme","StyledToolWindowTab","StyledToolWindowTabs","ToolWindowTabs","directChildRef","useRef","focusManagerRef","useLayoutEffect","nodeToRestore","activeElement","requestAnimationFrame","body","contains","focusSafely","useImperativeHandle","focusManager","containerElement","parentElement","focusNext","tabbable","GetFocusManager","hidden","useFocusManager","Symbol","iterator","TreeCollection","constructor","nodes","keyMap","Map","iterable","lastKey","this","last","visit","set","child","index","nextKey","prevKey","getKeys","keys","getKeyBefore","get","getKeyAfter","getFirstKey","getLastKey","getItem","treeRef","setExpandedKeys","useControlledState","selectionState","useMultipleSelectionState","selectionBehavior","useMemo","cacheInvalidation","invalidators","lastInvalidators","usePrevious","length","some","anInvalidator","useCollectionCacheInvalidation","tree","useCollection","setFocusedKey","SelectionManager","useTreeRef","newKeys","res","delete","add","aKey","getSingleChildrenKeysRecursive","previousKeys","childNodesIterator","firstChild","done","noMoreChildren","_","isEmptyIterable","isExpandable","latestState","useLatest","replaceSelection","setFocused","baseStyled","baseCss","Context","nullErrorMessage","useContext","innerRef","DebuggerTabContent","EditorTheme","editorTabs","tab","DebuggerTheme","debuggerTabs","ToolWindowTheme","toolWindowTabs","Overflow","maxWidth","tabs","Array","fill","frontMatter","contentTitle","metadata","assets","toc","id","level","layoutProps","MDXContent","components","mdxType","parentName","isMDXComponent","$parcel$export","n","v","s","Object","defineProperty","enumerable","configurable","$fbeca008f459f5aa$export$fdf4756d5b8ef90a","$2bc294289400274c$export$c5f62239608282b6","WeakMap","$2bc294289400274c$export$567fc7097e064344","role","replace","propsDisabled","manager","tabId","tabPanelId","$bc77009ac794dd15$export$fae0121b5afe572d","setTabIndex","walker","nextNode","MutationObserver","subtree","childList","attributes","attributeFilter","tabPanelProps","$67cd7a6663dbdf35$export$773e389e644c5874","$d9c38f86f4c836f2$export$15010ca3c1abe90b","getKeyLeftOf","flipDirection","getNextKey","getPreviousKey","getKeyRightOf","getKeyAbove","getKeyBelow","keyboardActivation","delegate","collectionProps","keyboardDelegate","selectOnFocus","disallowEmptySelection","scrollRef","tabsId","tabListLabelProps","$4b9a49966c91856a$export$2f645645f7bca764","$80be09205507c5ec$export$d085fb9e920b5ca7","tmp","at","idx","node2","node1","suppressTextValueWarning","$e08e0e9da1306088$export$e7f05e985daf4b5f","_defaultSelectedKey","defaultSelectedKey","onSelectionChange","selectionMode","allowDuplicateSelectionEvents","values","selectedItem","$ead76093e5740fb6$export$4ba071daf4e486","isEmpty","_taggedTemplateLiteralLoose","strings","raw","slice"],"sourceRoot":""}