"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5166],{72735:(e,t,n)=>{n.r(t),n.d(t,{App:()=>zl,default:()=>Wl});var r=n(2784),o=n(53476),a=n(50921),i=n(56576),l=n(35713),c=n(33008),s=n(55003),d=n(78104),u=n(75545),m=n(7896),h=n(55816);const p=e=>r.createElement(h.E,(0,m.Z)({},e,{src:"data:image/gif;base64,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",darkSrc:"data:image/gif;base64,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"}));p.__docgenInfo={description:"",methods:[],displayName:"LoadingGif"};const g=(0,u.ZP)(p).withConfig({displayName:"DefaultSuspense__Loading",componentId:"sc-1n9vzm7-0"})(["width:fit-content;margin:auto;"]),A=e=>{let{fallback:t=r.createElement(g,null),children:n}=e;return r.createElement(r.Suspense,{fallback:t},n)};A.__docgenInfo={description:"",methods:[],displayName:"DefaultSuspense",props:{fallback:{defaultValue:{value:"<Loading />",computed:!1},required:!1}}};var f=n(14855),E=n(56058),y=n(1962),b=n(95220),v=n(4558),C=n(91673),w=n(50668),k=n(40152),S=n(59257),I=n(75270),B=n(73207),T=n(76418),F=n(42520),R=n(79003),N=n(53700),P=n(99198),x=n(20261),D=n(21023),_=n.n(D);const L="fileTypes/text",M="nodes/folder",V={editorconfig:"nodes/editorconfig",js:"fileTypes/javaScript",gitignore:"vcs/ignore_file",archive:"fileTypes/archive",as:"fileTypes/as",config:"fileTypes/config",css:"fileTypes/css",dtd:"fileTypes/dtd",hpr:"fileTypes/hprof",htaccess:"fileTypes/htaccess",html:"fileTypes/html",idl:"fileTypes/idl",java:"fileTypes/java",jfr:"fileTypes/jfr",json:"fileTypes/json",jsp:"fileTypes/jsp",jspx:"fileTypes/jspx",manifest:"fileTypes/manifest",properties:"fileTypes/properties",txt:"fileTypes/text",wsdl:"fileTypes/wsdlFile",xhtml:"fileTypes/xhtml",xml:"fileTypes/xml",xsd:"fileTypes/xsdFile",yaml:"fileTypes/yaml"},G=e=>{const t=Q(e);return V[t]||L},Q=e=>e.split(".").pop()||"";function O(e,t){return void 0===t&&(t=_().sep),K(e,t)}function K(e,t,n){void 0===n&&(n=[]);const r=_().dirname(e);return r!==t?[r].concat(K(r,t,n)):n}var H=n(48892);const U=JSON.parse('{"nG":[{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#808080"}},{"scope":"constant.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["constant.numeric"],"settings":{"foreground":"#6897BB"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#FFC66D"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#BABABA"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.heading","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#A9B7C6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#FFC66D"}},{"scope":"meta.preprocessor","settings":{"foreground":"#CC7832"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9876AA"}},{"scope":"meta.diff.header","settings":{"foreground":"#CC7832"}},{"scope":"storage","settings":{"foreground":"#ff0000"}},{"scope":"storage.type","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["keyword.other.phpdoc.php","keyword.other.type.php","storage.type.class.jsdoc","entity.name.type.instance.jsdoc","variable.other.jsdoc"],"settings":{"foreground":"#808080"}},{"scope":"storage.modifier","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"string","settings":{"foreground":"#6A8759"}},{"scope":"string.tag","settings":{"foreground":"#6A8759"}},{"scope":"string.value","settings":{"foreground":"#6A8759"}},{"scope":"string.regexp","settings":{"foreground":"#6A8759"}},{"name":"JavaScript string interpolation ${}","scope":["punctuation.definition.template-expression.begin.js","punctuation.definition.template-expression.begin.ts","punctuation.definition.template-expression.end.ts","punctuation.definition.template-expression.end.js"],"settings":{"foreground":"#A9B7C6"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.property","support.variable.property.dom","entity.other.inherited-class"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.object","variable.other.object.property","support.class.dom","meta.function-call","entity.name.type.module"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable.other.readwrite","variable.other.constant.ts","variable.parameter","variable.other.readwrite.alias"],"settings":{"foreground":"#A9B7C6"}},{"scope":"keyword","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.operator","settings":{"foreground":"#A9B7C6"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],"settings":{"foreground":"#CC7832"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.metatag.php","punctuation.section.embedded.end.metatag.php"],"settings":{"foreground":"#CC7832"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9876AA"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Source Python","scope":["source.python"],"settings":{"foreground":"#A9B7C6"}},{"name":"Magic function python","scope":["support.function.magic.python"],"settings":{"foreground":"#9876AA"}},{"name":"Self keyword python","scope":["variable.language.special.self.python","variable.parameter.function.language.special.self.python"],"settings":{"foreground":"#9876AA","fontStyle":""}},{"name":"Function declarations Python","scope":["entity.name.function.python","meta.function-call.generic.python"],"settings":{"foreground":"#FFC66D"}},{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#FFC66D"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references","scope":["support.class","entity.name.class","support.type","entity.name.type"],"settings":{"foreground":"#FFC66D"}},{"name":"Arrow Function","scope":["storage.type.function.arrow"],"settings":{"foreground":"#A9B7C6"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Variable and parameter name","scope":["meta.definition.variable.name","support.variable"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable"],"settings":{"foreground":"#9876AA"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key","meta.object-literal.key entity.name.function"],"settings":{"foreground":"#9876AA"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}}]}').nG.flatMap((e=>{let{scope:t,settings:n}=e;return[].concat(t).flatMap((e=>e.split(" "))).map((e=>{const t={token:e};return Object.keys(n).forEach((e=>{const r=n[e];r&&(t[e]=r)})),t}))})),j=(0,f.zo)(H.ZP)`
  .monaco-editor {
    .margin-view-overlays .line-numbers {
      text-align: left;
      padding-left: 7px;
    }

    .scrollbar .slider {
      border-radius: 0.25rem;
    }
  }
`,q=e=>{const t=(()=>{const e=(0,H.Ik)(),t=(0,u.Fg)(),[n,o]=(0,r.useState)(t.dark?"vs-dark":"light");return(0,r.useLayoutEffect)((()=>{if(e){const n=`jui-theme-${t.name.replace(" ","")}`;e.editor.defineTheme(n,{base:t.dark?"vs-dark":"vs",inherit:!0,colors:t.dark?{"editor.background":"#2B2B2B","editor.lineHighlightBackground":"#323232","editor.lineHighlightBorder":"none","editorLineNumber.foreground":"#606366","editorActiveLineNumber.foreground":"#a4a3a3","editorIndentGuide.background":"#373737","editorIndentGuide.activeBackground":"#505050","editorGutter.background":t.dark?"#313335":"#f0f0f0"}:{},rules:U}),o(n)}}),[e,t]),n})();return r.createElement(j,(0,m.Z)({},e,{options:{minimap:{enabled:!1},lineHeight:20,showFoldingControls:"always",renderIndentGuides:!0,overviewRulerBorder:!1,scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:8,verticalSliderSize:8,horizontalSliderSize:8,horizontal:"auto",vertical:"visible",alwaysConsumeMouseWheel:!1},...e.options},theme:t}))};q.__docgenInfo={description:"Monaco Editor styled to look like Intellij Platform's editor.\nTODO:\n - folding controls appearance is different and should be changed\n - highlighting pairs of parens, brackets, etc. is different.\n - context menu look different.\n - selection look different.\n - BUG: height is more than necessary. Needs investigation first.",methods:[],displayName:"Editor"};var $=n(35848),J=n(80965),Z=n(22633),z=n(42378),W=n.n(z);async function Y(e){void 0===e&&(e="bfs-local-fs");const t=await te((t=>{Z.FileSystem.IndexedDB.Create({storeName:e},t)}));return await new Promise((e=>t.init(t.store,e))),t}function X(e){Z.initialize(e);const t=Z.BFSRequire("fs");return t.promises=W()({...t,exists:(e,n)=>t.exists(e,(e=>n(null,e)))}),t}const ee=e=>{const t=new(Z.BFSRequire("fs").FS);return t.initialize(e),t};function te(e){return new Promise(((t,n)=>{e(((e,r)=>{if(e||!r)return n(e);t(r)}))}))}var ne=n(15048);const re=(0,ne.qf)((function*(e,t){const{source:n,target:r,rootDir:o,onCopy:a,force:i}=t,l=yield n.readdir(o);for(const c of l){const l=_().join(o,c),s=yield n.stat(l);if(s.isFile()||s.isSymbolicLink()){if(!i&&(yield oe(r,l)))return;null==a||a(l);const e=yield n.readFile(l);yield ae(r,_().dirname(l)),yield r.writeFile(l,e)}else s.isDirectory()?yield re(e,{...t,rootDir:_().join(o,c)}):console.warn("unsupported file system item skipped, when copying:",s)}})),oe=async(e,t)=>await e.exists(t)&&!(await e.stat(t)).isDirectory();async function ae(e,t){const n=await e.stat(t).catch((e=>"ENOENT"!==e.code&&Promise.reject(e)));if(!1===n){const n=_().dirname(t);n!==_().dirname(n)&&await ae(e,n),await e.mkdir(t).catch((e=>"EEXIST"===e.code?Promise.resolve():Promise.reject(e)))}else if(!n.isDirectory())throw new Error(`path is not a directory, but already exists: ${t}`)}let ie;const le=(ce="demo_app_use_persistent_fs",{get:()=>localStorage.getItem(ce),set:e=>localStorage.setItem(ce,e)});var ce;async function se(e){let{onCopy:t=console.log,cancelSignal:n}=void 0===e?{}:e;if(!(ie.getRootFS()instanceof Z.FileSystem.InMemory))return void console.log("Already on persistent fs. Nothing to do.");console.log("Creating IndexedDB FS"),console.time("creating db");const r=await Y();await async function(e){let{source:t,target:n,cancelSignal:r,...o}=e;await re(r,{...o,source:W()(t),target:W()(n),rootDir:"/"})}({source:ie,target:await ee(r),cancelSignal:n,force:!0,onCopy:t}),console.timeEnd("creating db"),X(r),console.log("FS switched to IndexedDB backend",r)}const de=function(e){let t,n="pending";const r=e.then((e=>{n="success",t=e}),(e=>{n="error",t=e}));return{read:()=>{switch(n){case"pending":throw r;case"error":throw t;default:return t}}}}(("yes"===le.get()?Y():async function(){return await te((e=>{Z.FileSystem.InMemory.Create({},e)}))}()).then(X).then((e=>(window.fs=e,ie=e))).catch((e=>{throw console.log("could not initialize FS:",e),e}))),ue=e=>{let{children:t}=e;return de.read(),t};const me=(0,o.CG)({key:"dirContents",get:e=>async()=>{let t;try{t=await ie.promises.readdir(e)}catch(n){return null}return(await Promise.all(t.map((t=>{const n=`${e}/${t}`;return ie.promises.stat(n).then((e=>({...e,type:e.isDirectory()?"dir":"file",filePath:n})))})))).map((e=>({type:e.type,name:(0,D.basename)(e.filePath),path:e.filePath,lastModification:e.mtimeMs,size:e.size})))}}),he=e=>{let{set:t}=e;return async e=>{try{const n=await pe(e);return t(ge(e),n),!0}catch{return!1}}},pe=async e=>e?ie.promises.readFile(e,{encoding:"utf8"}):"",ge=(0,o.xu)({key:"fileContent",default:pe,effects:e=>[t=>{let{onSet:n}=t;n((t=>{e&&ie.promises.writeFile(e,t,"utf8").catch((e=>{console.error("failed to sync the file back to the fs",e)}))}))}]}),Ae=e=>{let{path:t}=e;return!t.split("/").includes(".git")};var fe=n(55892);function Ee(e){const[t,n]=(0,r.useState)(null);let a=(0,o.$P)(e);return(0,r.useEffect)((()=>{"hasValue"===a.state&&n(a.contents)}),[a]),t}function ye(e,t){return(0,o._8)((n=>{let{snapshot:r}=n;return()=>r.getLoadable(e).getValue()??t}),[])}const be={JUI:{path:"/workspace/jui",url:"https://github.com/alirezamirian/jui.git"},"React Spectrum":{path:"/workspace/react-spectrum",url:"https://github.com/adobe/react-spectrum.git"},Recoil:{path:"/workspace/recoil",url:"https://github.com/facebookexperimental/Recoil.git"},ExampleRepo:{path:"/workspace/example-repo",url:"https://github.com/thurwitz/example-branches.git"}},ve=be.JUI,Ce=(0,o.cn)({key:"project",default:{name:"Workspace",path:"/workspace"}}),we=(0,o.CG)({key:"projectFilePath",get:e=>t=>{let{get:n}=t;return _().join(n(Ce).path,e)}}),ke=(0,o.nZ)({key:"project.current.files",get:async e=>{let{get:t}=e;const n=t(Ce);return t(Se(n.path))}}),Se=(0,o.CG)({key:"project.files",get:e=>async t=>{let{get:n}=t;const r=n(me(e)),o=[],a=t=>{if("dir"===t.type){if(Ae(t)){const e=n(me(t.path));e&&e.forEach(a)}}else o.push({...t,relativePath:_().relative(e,t.path)})};return(r||[]).forEach((e=>a(e))),o}}),Ie=(0,o.cn)({key:"project.activePaths",default:[]}),Be=((e,t)=>{let n=null;return function(a,i){void 0===i&&(i="unknown");const l=(0,o.Zl)(e),c=(0,r.useRef)();return(0,r.useEffect)((()=>{n===c.current&&l((e=>(0,fe.Z)(a,e)?e:a))}),[a]),{onFocus:e=>{c.current=e.currentTarget,n=e.currentTarget,l(a)},onBlur:e=>{var n;e.relatedTarget instanceof Element&&null!=(n=e.relatedTarget)&&n.closest("[data-overlay-container]")||l(t)}}}})(Ie,[]),Te=(0,o.nZ)({key:"editor.tabs/Default",get:e=>{let{get:t}=e;return(0,$.Z)([(0,J.Z)((e=>e.path===t(we("README.md")))),(0,J.Z)((e=>e.path.endsWith(".ts"))),(0,J.Z)((e=>e.path.endsWith(".js")))],t(ke).filter((e=>"file"===e.type))).slice(0,12).map((e=>({filePath:e.path,editorState:{cursorPos:{lineNumber:0,column:0}}})))}}),Fe=(0,o.cn)({key:"editor.tabs",default:Te}),Re=(0,o.cn)({key:"editor.activeTabIndex",default:0}),Ne=(0,o.nZ)({key:"editor.activeTab",get:e=>{let{get:t}=e;const n=t(Fe);return n[t(Re)]||n[0]||null}}),Pe=(0,o.cn)({key:"editor.cursorPosition",default:new x.Ly(0,0)}),xe=(0,o.cn)({key:"editor.focusHandle",default:null}),De=()=>{const[e,t]=(0,o.FV)(Fe),n=(0,o.Zl)(Re),r=(0,o._8)((e=>{let{snapshot:t}=e;return()=>{var e;null==(e=t.getLoadable(xe).valueOrThrow())||e.focus()}}),[]),a=e=>{n(e)},i=e=>{t((t=>t.filter(((t,n)=>n!==e))))};return{tabs:e,openPath:function(n,o){void 0===o&&(o=!0);const i=e.findIndex((e=>e.filePath===n));if(i>-1)a(i);else{const r=e.length;t((e=>[...e,{filePath:n,editorState:{cursorPos:{lineNumber:0,column:0}}}])),a(r)}o&&setTimeout(r)},closePath:t=>{const r=e.findIndex((e=>e.filePath===t));r>-1&&(i(r),n(Math.max(r-1,0)))},closeTab:i,closeOthersTabs:e=>{t((t=>t.filter(((t,n)=>n===e))))},select:a}};function _e(e){return Array.isArray(e)?1===e[1]?["DELETED","NOT_CHANGED","MODIFIED"][e[2]]:0===e[1]?0===e[3]?"UNKNOWN":"ADDED":"UNKNOWN":"modified"===e||"*modified"===e?"MODIFIED":"deleted"===e||"*deleted"===e?"DELETED":"added"===e?"ADDED":"unmodified"===e?"NOT_CHANGED":"UNKNOWN"}async function Le(e,t){const n=await Promise.all(t.map((t=>e(t).catch((()=>!1)))));return t.filter(((e,t)=>n[t]))}const Me=(0,o.nZ)({key:"vcsRoots/temporaryDefault",get:async()=>Le((e=>{let{dir:t}=e;return ie.promises.stat(t).then(Boolean)}),Object.values(be).map((e=>{let{path:t}=e;return{dir:t,vcs:"git"}})))}),Ve=(0,o.cn)({key:"vcsRoots",default:Me}),Ge=(0,o.CG)({key:"gitRootForFile",get:e=>t=>{let{get:n}=t;return(0,a.AY)({fs:ie,filepath:e}).catch((()=>null))}}),Qe=(0,o.xu)({key:"fileStatus",default:"NOT_CHANGED"}),Oe=()=>(0,o._8)((e=>{let{snapshot:t,set:n}=e;return async e=>{const r=await t.getPromise(Ge(e));if(null!=r){console.time(`status ${e}`);const t=await(0,a.i7)({fs:ie,dir:r,filepath:D.relative(r,e)});console.timeEnd(`status ${e}`),n(Qe(e),_e(t))}}}),[]),Ke=()=>(0,o._8)((e=>{let{snapshot:t,transact_UNSTABLE:n}=e;return async()=>{const e=await t.getPromise(Ve);return Promise.all(e.filter((e=>{let{vcs:t}=e;return"git"===t})).map((async e=>{let{dir:t}=e;console.time("statusMatrix");const r=await(0,a.ks)({fs:ie,dir:t});console.timeEnd("statusMatrix"),n((e=>{let{set:n}=e;r.forEach((e=>{n(Qe(`${t}/${e[0]}`),_e(e))}))}))})))}}),[]),He=e=>{const t=(0,u.Fg)();switch(e){case"MODIFIED":return t.dark?"#6897bb":"#0032a0";case"ADDED":return t.dark?"#629755":"#0a7700";case"DELETED":return t.dark?"#6c6c6c":"#616161";case"UNKNOWN":return t.dark?"#d1675a":"#993300"}},Ue=e=>{let{children:t,filepath:n}=e;const a=(e=>{const t=(0,o.sJ)(Qe(e));return He(t)})(n);return r.createElement("span",{style:{color:a}},t)},je=e=>{let{children:t,status:n}=e;const o=He(n);return r.createElement("span",{style:{color:o}},t)};Ue.__docgenInfo={description:"",methods:[],displayName:"FileStatusColor"},je.__docgenInfo={description:"",methods:[],displayName:"StatusColor"};var qe=n(87211),$e=n(20288);const Je={value:null};function Ze(){var e;null==(e=Je.value)||e.show({icon:"Warning",title:"Unimplemented action",body:"This action is not implemented yet.",actions:r.createElement(r.Fragment,null,r.createElement($e.r,{onPress:Ze},"Read more..."))})}const ze=()=>{const e=De(),t=(0,o.sJ)(Ne),n=(0,r.useRef)(),[a,i]=(0,r.useState)(!1),l=(0,E.BH)(b.xm),c=(0,o.Zl)(Pe),s=(0,v.d)({closePath:e.closePath,closeOthersTabs:e.closeOthersTabs}),d=(0,o.Zl)(xe),u=ge(null==t?void 0:t.filePath),m=(0,o.$P)(u),h=(0,o.Zl)(u),p=Oe();(0,r.useEffect)((()=>{var e,r;(null==(e=n.current)||e.focus(),null!=t&&t.editorState.cursorPos)&&(null==(r=n.current)||r.setPosition(null==t?void 0:t.editorState.cursorPos))}),[null==t?void 0:t.filePath]);const g=Be(t?[t.filePath]:[]),A=m.valueMaybe();return r.createElement(We,(0,qe.dG)(g,{onFocus:()=>{i(!0),d({focus:()=>{var e;return null==(e=n.current)?void 0:e.focus()}})}}),e.tabs.length>0&&r.createElement(C.X,{renderMenu:()=>r.createElement(w.v2,{onAction:Ze},r.createElement(k.c,{key:"close"},"Close"),r.createElement(k.c,{key:"closeOthers"},"Close Other tabs"),r.createElement(k.c,{key:"closeAll"},"Close all tabs"),r.createElement(k.c,{key:"closeLeft"},"Close tabs to the left"),r.createElement(k.c,{key:"closeRight"},"Close tabs to the right"))},r.createElement(S.s,{items:e.tabs,active:a,selectedKey:null==t?void 0:t.filePath,onSelectionChange:t=>e.select(e.tabs.findIndex((e=>e.filePath===t))),noBorders:!0},(t=>{const n=D.basename(t.filePath),o=r.createElement(I.vq,{icon:G(t.filePath)});return r.createElement(B.E,{key:t.filePath,textValue:n,inOverflowMenu:r.createElement(T._,{content:n,icon:o})},r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:t.filePath})},r.createElement(N.X,{icon:o,title:r.createElement(Ue,{filepath:t.filePath},n),closeButton:r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Close. Alt-Click to Close Others"})},r.createElement(P.W,{onPress:n=>{n.altKey?s.current.closeOthersTabs(e.tabs.indexOf(t)):s.current.closePath(t.filePath)}})),containerProps:{onDoubleClick:()=>{null==l||l.perform()}}})))}))),t&&("string"==typeof A?r.createElement(q,{height:"100%",path:t.filePath,onMount:(e,t)=>{e.focus(),function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:x.Mj.typescript.JsxEmit.React}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})}(t),n.current=e,e.onDidChangeCursorPosition((e=>{c(e.position)})),e.onDidChangeModel((()=>{var e;const t=null==(e=n.current)?void 0:e.getPosition();t&&c(t)}))},onChange:function(e){void 0===e&&(e=""),i(!1),h(e),t&&p(t.filePath).catch((e=>{console.error("Could not update file status",e)}))},value:A}):A&&"UNSUPPORTED CONTENT"),"loading"===m.state&&r.createElement(Ye,null))},We=f.zo.div`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.color("Editor.background",t.isUnderDarcula()?"rgb(40,40,40)":t.commonColors.panelBackground)}};
`,Ye=(0,f.zo)(p)`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`;ze.__docgenInfo={description:"Used as main content in the main ToolWindows. Shows currently opened files tabs and the editor.\n\nTODO: preserve editor state when switching between tabs\nTODO: support multiple editors in split view.",methods:[],displayName:"FileEditor"};var Xe=n(76906),et=n(2446),tt=n(29902);const nt=(0,u.ZP)(tt.O).withConfig({displayName:"Terminal__StyledXterm",componentId:"sc-19jke66-0"})(["height:100%;background:rgb(43,43,43);"]),rt=()=>{const[e,t]=(0,r.useState)(""),n=(0,r.useRef)(null),o=(0,r.useMemo)((()=>({theme:{background:"rgb(43,43,43)",selection:"#214283"},fontFamily:"sans-serif",letterSpacing:-8,fontSize:12,lineHeight:1.3,cursorStyle:"block",cursorBlink:!0,cursorWidth:8,rendererType:"dom"})),[]);return(0,r.useEffect)((()=>{setTimeout((()=>{var e,t;null==(e=n.current)||e.terminal.resize(80,10),null==(t=n.current)||t.terminal.write("$ ")}),3e3)}),[]),r.createElement(nt,{ref:n,options:o,onData:r=>{const o=r.charCodeAt(0);if(13===o){var a,i;if(e.length>0)null==(i=n.current)||i.terminal.write("\r\nYou typed: '"+e+"'");null==(a=n.current)||a.terminal.write("\r\n$ "),t("")}else{if(o<32||127===o)return;var l;null==(l=n.current)||l.terminal.write(r),t(e+r)}}})};rt.__docgenInfo={description:"",methods:[],displayName:"Terminal"};var ot=n(35200),at=n(41050),it=n(58867),lt=n(4594);const ct=(0,o.cn)({key:"projectView.foldersOnTop",default:!0}),st=(0,o.cn)({key:"projectView.expandedKeys",default:(0,o.nZ)({key:"projectView.expandedKeys/default",get:e=>{let{get:t}=e;return new Set(t(Ve).flatMap((e=>{let{dir:t}=e;return O(t).concat(t)})))}})}),dt=(0,o.cn)({key:"projectView.selectedKeys",default:new Set([])}),ut=(0,o.cn)({key:"projectView.focusHandle",default:r.createRef(),dangerouslyAllowMutability:!0}),mt=(0,o.nZ)({key:"projectTree",get:e=>{let{get:t}=e;return async function(e,t){const n=t(me(e.path)),r=e=>async n=>{const o={...n,parent:e},a={...o,children:[]};return"dir"===n.type?Ae(n)?(a.children=(await Promise.all((t(me(n.path))??[]).map(r(a)))).filter(lt.N),ht(a.children),a):null:o},o=(await Promise.all((n||[]).map(r(null)))).filter(lt.N);return ht(o),{type:"project",path:e.path,name:e.name,parent:null,children:o}}(t(Ce),t)}});(0,o.cn)({key:"project.tree.sort",default:"name"});function ht(e){e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))}const pt=e=>{let{snapshot:t,set:n}=e;return e=>{const r=t.getLoadable(st).valueOrThrow(),o=[t.getLoadable(Ce).valueOrThrow().path].concat(O(e));n(st,new Set([...r,...o]))}},gt=e=>{let{snapshot:t}=e;return e=>{var n;const r=null==(n=t.getLoadable(ut).valueOrThrow())?void 0:n.current;null==r||r.replaceSelection(e),null==r||r.focus(e)}},At=()=>{const e=(0,o._8)(pt,[]),t=(0,o._8)(gt,[]);return n=>{e(n),t(n)}};var ft=n(46162),Et=n(21692),yt=n(43815),bt=n(61090),vt=n(10463),Ct=n(44065);const wt=()=>{const e=(0,o.sJ)(Ce),t=De(),n=(0,r.useRef)(null),a=(0,o.Zl)(ut);(0,r.useLayoutEffect)((()=>{a(n)}),[n]);const i=(0,o.sJ)(mt),[l,c]=(0,o.FV)(st),[s,d]=(0,o.FV)(dt),u=(0,o.sJ)(ct)?(0,vt.Z)((e=>"dir"===e.type?1:2)):Ct.Z,h="all"===s?[]:[...s].filter((e=>"string"==typeof e)),p=Be(h);return r.createElement(A,null,r.createElement(ft.b,(0,m.Z)({treeRef:n},p,{items:[i],onAction:e=>{t.openPath(`${e}`)},fillAvailableSpace:!0,autoFocus:!0,selectionMode:"multiple",selectedKeys:s,onSelectionChange:d,expandedKeys:l,onExpandedChange:c}),(t=>r.createElement(k.c,{key:t.path,textValue:t.name,childItems:"children"in t?u(t.children):void 0},r.createElement(Et.e,null,r.createElement(Tt,{node:t}),"project"===t.type?r.createElement(r.Fragment,null,r.createElement("b",null,r.createElement(yt.J,null)),r.createElement(Et.e.Hint,null,e.path)):r.createElement(kt,{node:t}))))))},kt=e=>{let{node:t}=e;return"dir"===t.type?r.createElement(St,{node:t}):r.createElement(It,{node:t})},St=e=>{let{}=e;return r.createElement(yt.J,null)},It=e=>{let{node:t}=e;const n=(0,r.useContext)(bt.k);return null!=n&&n.isSelected&&null!=n&&n.isContainerFocused?r.createElement(yt.J,null):r.createElement(Ue,{filepath:t.path},r.createElement(yt.J,null))},Bt={project:"nodes/folder",dir:M,file:L};function Tt(e){let{node:t}=e;const n="file"===(o=t).type?G(o.name):Bt[o.type]??null;var o;return r.createElement(r.Fragment,null,n&&r.createElement(I.vq,{icon:n}))}wt.__docgenInfo={description:"",methods:[],displayName:"ProjectViewPane"};const{SELECT_IN_PROJECT_VIEW:Ft}={SELECT_IN_PROJECT_VIEW:"SelectInProjectView"};function Rt(){const e=(0,o.sJ)(ut),t=(0,ot.x)({treeRef:e}),n=function(){const e=(0,o.sJ)(Ne),t=At(),n=()=>{e&&t(e.filePath)};return[{id:Ft,title:"Select Opened File",icon:r.createElement(I.vq,{icon:"general/locate"}),actionPerformed:n,isDisabled:!e,description:"Selects a context file in the Project View"}]}();return r.createElement(et.n,{headerContent:"Project",actions:[...t,...n],additionalActions:r.createElement(r.Fragment,null,r.createElement(at.K,{actionId:Ft}),r.createElement(at.K,{actionId:it.$.EXPAND_ALL}),r.createElement(at.K,{actionId:it.$.COLLAPSE_ALL}))},r.createElement(wt,null))}Rt.__docgenInfo={description:"",methods:[],displayName:"ProjectToolWindow"};var Nt=n(78450),Pt=n(9773),xt=n(80500),Dt=n(8723),_t=n(6182);const Lt=(0,o.cn)({key:"changelists.lists",default:[{id:"some-UUID",name:"Changes",comment:"last modified commit message",changes:[],active:!0},{id:"some-other-UUID",name:"Some other changelist",comment:"Some empty changelist for testing",changes:[],active:!1}]}),Mt=((0,o.nZ)({key:"changelists.lists/default",get:e=>{let{get:t}=e;return t(Lt).find((e=>e.active))??null}}),(0,o.nZ)({key:"changelists.allChanges",get:e=>{let{get:t}=e;return t(Lt).map((e=>e.changes)).flat()}})),Vt=e=>{let[,t,n,r]=e;return 1!==t||1!==n||1!==r},Gt=e=>{let{snapshot:t,set:n}=e;return async()=>{const e=(await t.getPromise(Ve)).filter((e=>"git"===e.vcs)),r=(await Promise.all(e.map((async e=>{let{dir:t}=e;return(await(0,a.ks)({fs:ie,dir:t})).filter(Vt).map((e=>{let[n,...r]=e;return[_().join(t,n),...r]}))})))).flat().map((e=>{let[t,n,r,o]=e;return{after:{path:t,isDir:!1},before:{path:t,isDir:!1}}}));n(Lt,(e=>e.map((e=>e.active?{...e,changes:r}:{...e,changes:[]}))))}},Qt=()=>(0,o._8)(Gt,[]);var Ot=n(42677);const Kt=e=>{let{getPath:t,createDirectoryNode:n=(e=>e),shouldCollapseDirectories:r=!1}=e;return e=>{const o={},a=e.map((e=>{const r=t(e);return O(r.startsWith("/")?r:`/${r}`).reduce(((e,t)=>{o[t]||(o[t]=n({type:"directory",dirPath:t,parentNodePath:"",children:[]})),Ht(e)&&(e.parentNodePath=t);const r=o[t];return r.children=r.children.includes(e)?r.children:[e,...r.children],r}),e)})),i=(0,Ot.Z)(a);return r?i.map((e=>Ut(n,e))):i}};function Ht(e){return"type"in e&&"directory"===e.type}function Ut(e,t){let{children:n,dirPath:r,parentNodePath:o}=t;return 1===t.children.length&&Ht(t.children[0])?(r=t.children[0].dirPath,n=t.children[0].children.map((t=>Ht(t)?Ut(e,{...t,parentNodePath:r}):t)),Ut(e,e({type:"directory",dirPath:r,parentNodePath:o,children:n}))):{...t,children:n.map((t=>Ht(t)?Ut(e,t):t))}}const jt=(e,t)=>`${e}_${t}`,qt=e=>jt("change",e.after.path),$t=function(e,t){return void 0===t&&(t=e=>e),{type:"changelist",key:jt("changelist",e.id),changeList:e,children:t(e.changes.map((e=>(e=>({type:"change",key:qt(e),change:e}))(e))))}},Jt=e=>"children"in e,Zt=e=>"change"===e.type,zt=e=>Jt(e)?e.children:null,Wt=[{id:"repository",title:"Repository",isAvailable:(0,o.nZ)({key:"repositoryGrouping/isAvailable",get:e=>{let{get:t}=e;return t(Ve).length>0}}),groupFn:(0,o.nZ)({key:"repositoryGrouping/groupFn",get:e=>{let{get:t}=e;return e=>t(Ve).map((t=>function(e,t){return void 0===t&&(t=[]),{type:"repo",key:jt("repo",e.dir),repository:e,children:t}}(t,e.filter((e=>{var n,r,o;return null==(n=(null==(r=e.change.after)?void 0:r.path)||(null==(o=e.change.before)?void 0:o.path))?void 0:n.startsWith(t.dir)})))))}})},{id:"directory",title:"Directory",isAvailable:!0,groupFn:Kt({shouldCollapseDirectories:!0,createDirectoryNode:e=>{let{dirPath:t,parentNodePath:n,children:r}=e;return function(e,t,n){return void 0===n&&(n=[]),{type:"directory",key:jt("directory",e),dirPath:e,parentNodePath:t,children:n}}(t,n,r)},getPath:e=>{if(e.change.after.isDir)throw new Error("isDir=true is not supported for changes ATM!");return e.change.after.path}})}];var Yt=n(27780),Xt=n(22991),en=n(2256);const tn=(0,o.cn)({key:"rollbackView.isOpen",default:!1}),nn=(0,o.cn)({key:"rollbackView.windowBounds",default:{height:500}}),rn=(0,o.cn)({key:"rollbackView.initiallySelectedChanges",default:[]}),on=(0,o.nZ)({key:"rollbackView.includedRootNodes",get:e=>{let{get:t}=e;const n=t(rn),{rootNodes:r}=t(vn);return r.filter((e=>{let{changeList:{changes:t,active:r}}=e;return 0===n.length&&r||n.some((e=>t.includes(e)))}))}}),an={isOpen:tn,windowBounds:nn,initiallyExpandedKeys:(0,o.nZ)({key:"rollbackView.initiallyExpandedKeys",get:e=>{let{get:t}=e;const n=t(rn),r=t(on),o=(0,Yt.Bp)((e=>Jt(e)?e.children:null),(e=>e.key),r,n.map(qt));return new Set(o.length?o:(0,Yt.Om)((e=>Jt(e)?e.children:null),(e=>e.key),r))}}),initiallyIncludedChanges:rn,rootNodes:on},ln=(0,o.cn)({key:"changesView/showIgnoredFiles",default:!1}),cn=(0,o.cn)({key:"changesView/showRelatedFiles",default:!1}),sn=(0,o.xu)({key:"changesView/grouping",default:!0}),dn=(0,o.cn)({key:"changesView.selectedKeys",default:new Set([])}),un=(0,o.nZ)({key:"changesView.resolvedSelectedKeys",get:e=>{let{get:t}=e;const n=t(dn);if("all"===n){const{rootNodes:e}=t(vn);return new Set((0,Yt.eA)((e=>Jt(e)?e.children:[]),((e,t)=>{const n=t??[];return n.push(e),n}),e).flat().map((e=>e.key)))}return n}}),mn=(0,o.nZ)({key:"changesView.selectedNodes",get:e=>{let{get:t}=e;const n=t(un),{byKey:r}=t(vn);return new Set([...n].map((e=>r.get(e))).filter(lt.N))}}),hn=(0,o.nZ)({key:"changesView.selectedKeys.changes",get:e=>{let{get:t}=e;const n=t(mn),r=new Set,o=e=>{e&&("change"===e.type&&r.add(e.change),Jt(e)&&e.children.forEach(o))};return n.forEach(o),r}}),pn=(0,o.nZ)({key:"changesView.selectedChangeLists",get:e=>{let{get:t}=e;const n=t(mn),r=t(Lt),o=new Set,a=e=>{if(e){if("changelist"===e.type&&o.add(e.changeList),"change"===e.type){const t=r.find((t=>t.changes.includes(e.change)));t&&o.add(t)}Jt(e)&&e.children.forEach(a)}};return n.forEach(a),o}}),gn=(0,o.cn)({key:"changesView.includedChangeKeys",default:new Set([])}),An=(0,o.nZ)({key:"changesView.includedChanges",get:e=>{let{get:t}=e;const n=t(gn);return t(Mt).filter((e=>n.has(qt(e))))}}),fn=(0,o.nZ)({key:"changesView.selectedChanges.nestedSelectionState",get:e=>{let{get:t,getCallback:n}=e;const{rootNodes:r}=t(vn),o=t(gn),a=n((e=>{let{set:t}=e;return e=>t(gn,e)}));return new Xt.f({items:o,...(0,en.y)(a)},{rootNodes:r,getChildren:e=>Jt(e)?e.children:null,getKey:e=>e.key})}}),En=(0,o.cn)({key:"changesView.expandedKeys",default:(0,o.nZ)({key:"changesView.expandedKeys/temporaryDefault",get:e=>{let{get:t}=e;return new Set(t(vn).rootNodes.map((e=>[e.key,...e.children.map((e=>e.key))])).flat())}})}),yn=(0,o.nZ)({key:"changes.availableGroupings",get:e=>{let{get:t}=e;return Wt.filter((e=>(0,o.Oy)(e.isAvailable)?t(e.isAvailable):e.isAvailable)).map((e=>({...e,isActive:t(sn(e.id))})))}}),bn=(e,t)=>{if(0===e.length||0===t.length)return t;const n=e.slice(1),r=t.filter(Zt),o=t.filter(Jt),a=e[0](r);return[...o,...a].forEach((e=>{e.children=bn(n,e.children)})),a.filter((e=>e.children.length>0))},vn=(0,o.nZ)({key:"changesView.treeNodes",get:e=>{let{get:t}=e;const n=t(Lt),r=t(yn).filter((e=>{let{isActive:t}=e;return t})).map((e=>{let{groupFn:n}=e;return r=n,(0,o.Oy)(r)?t(r):r;var r})),a=e=>bn(r,e),i=(0,vt.Z)((e=>{let{active:t}=e;return!t}),n).map((e=>$t(e,a))),l=new Map,c=new Map;return(0,Yt.Ck)(zt,((e,t)=>{if(c.set(e.key,e),!t)return 1;const n=t.reduce(((e,t)=>e+t),0);return l.set(e.key,n),n}),i),{rootNodes:i,fileCountsMap:l,byKey:c}}}),Cn=(0,o.xu)({key:"changesView/splitter/commitMessageSize",default:e=>"horizontal"===e?.4:.3}),wn=(0,o.cn)({key:"changesView/amendCommit",default:!1}),kn=(0,o.cn)({key:"changesView/commitMessage",default:""}),Sn=(0,o.cn)({key:"changesView/commitErrorMessage",default:""}),In=(0,o.cn)({key:"changesView/commitTaskId",default:null}),Bn=(0,o.nZ)({key:"changesView/changesFromActivePaths",get:e=>{let{get:t}=e;const n=t(Ie);return t(Mt).filter((e=>n.some((t=>e.after.path.startsWith(t)))))}}),Tn=e=>{let{set:t,snapshot:n}=e;return e=>{const r=(e?n.getLoadable(Mt).getValue().filter((t=>e.some((e=>t.after.path.startsWith(e))))):n.getLoadable(Bn).getValue()).map(qt);if(t(gn,new Set(r)),r.length>0){const e=(0,Yt.Bp)((e=>Jt(e)?e.children:null),(e=>e.key),n.getLoadable(vn).getValue().rootNodes,r);t(En,(t=>new Set([..."all"!==t?t:new Set,...e]))),t(dn,new Set([r[0]]))}}},Fn=e=>{let{set:t,snapshot:n}=e;return function(e){void 0===e&&(e=!0);const r=n.getLoadable(Ie).getValue(),o=n.getLoadable(hn).getValue(),a=e&&r.length>0?n.getLoadable(Bn).getValue():null;t(an.initiallyIncludedChanges,a??[...o]),t(an.isOpen,!0)}};var Rn=n(33659),Nn=n(97747),Pn=n(25897);const xn={ROLLBACK:"ChangesView.Revert",REFRESH:"ChangesView.Refresh",SHELVE_SILENTLY:"ChangesView.ShelveSilently",SHELVE:"ChangesView.Shelve",UNSHELVE_SILENTLY:"ChangesView.UnshelveSilently",NEW_CHANGELIST:"ChangesView.NewChangeList",RENAME_CHANGELIST:"ChangesView.Rename",REMOVE_CHANGELIST:"ChangesView.RemoveChangeList",SET_DEFAULT_CHANGELIST:"ChangesView.SetDefault",MOVE_TO_ANOTHER_CHANGELIST:"ChangesView.Move",SHOW_DIFF:"Diff.ShowDiff",CHECKIN_FILES:"CheckinFiles",CHECKIN_PROJECT:"CheckinProject",JUMP_TO_SOURCE:it.$.EDIT_SOURCE,GROUP_CHANGES_VIEW_POPUP_MENU:"ChangesViewPopupMenu",GIT_CREATE_NEW_BRANCH:"Git.CreateNewBranch",GIT_BRANCHES:"Git.Branches",GIT_LOG_HIDE_BRANCHES:"Git.Log.Hide.Branches",GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH:"Git.Log.Branches.Navigate.Log.To.Selected.Branch",GIT_UPDATE_SELECTED:"Git.Update.Selected",FOCUS_TEXT_FILTER:"Vcs.Log.FocusTextFilter",MATCH_CASE:"Vcs.Log.MatchCaseAction",REG_EXP:"Vcs.Log.EnableFilterByRegexAction"};var Dn=n(55998);const _n=()=>0===[...(0,o.sJ)(dn)].length?null:r.createElement(Dn.C,{"aria-label":"Context menu",actions:[(0,E.BH)(xn.CHECKIN_FILES),(0,E.BH)(xn.ROLLBACK),(0,E.BH)(xn.JUMP_TO_SOURCE),new Pn.P,(0,E.BH)(xn.SHELVE),new Pn.P,(0,E.BH)(xn.NEW_CHANGELIST),(0,E.BH)(xn.RENAME_CHANGELIST),(0,E.BH)(xn.REMOVE_CHANGELIST),(0,E.BH)(xn.SET_DEFAULT_CHANGELIST),(0,E.BH)(xn.MOVE_TO_ANOTHER_CHANGELIST),new Pn.P,(0,E.BH)(xn.REFRESH)].filter(lt.N)});_n.__docgenInfo={description:"",methods:[],displayName:"ChangesViewTreeContextMenu"};var Ln=n(83483);const Mn=f.zo.span`
  width: 14px;
  height: 14px;
  align-self: center;
  margin-right: 0.2rem;
  position: relative;

  //  after pseudo element is used to create the color mixing implemented here:
  //  https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/VcsLogColorManagerImpl.java#L60
  &&:after {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.75;
    background: ${e=>{let{theme:t}=e;return t.color("Table.background")||(t.dark?"#3C3F41":"#fff")}};
  }
`,Vn=e=>{const t=(0,o.sJ)(Ve).findIndex((t=>t.dir===e)),n=(0,u.Fg)(),r=[n.commonColors.red,n.commonColors.blue];return r[t%r.length]??r[0]},Gn=e=>{let{rootPath:t}=e;return r.createElement(Mn,{style:{backgroundColor:Vn(t)}})};Gn.__docgenInfo={description:"",methods:[],displayName:"RepoColorIcon",props:{rootPath:{required:!0,tsType:{name:"string"},description:""}}};var Qn=n(60410);const On=f.zo.span`
  display: inline-flex;
  align-self: center;
  height: 1.1rem;
  line-height: 1.1rem;
  padding: 0 0.25rem;

  background: ${e=>{let{theme:t}=e;return new Qn.I(t.color("VersionControl.RefLabel.backgroundBase",t.dark?"#fff":"#000")).withTransparency(t.value("VersionControl.RefLabel.backgroundBrightness")??.08).toString()}};
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("VersionControl.RefLabel.foreground",t.dark?"#909090":"#7a7a7a"))}};
`;async function Kn(e){let{fs:t,dir:n,localBranchName:r}=e;const o=await a.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.merge`}),i=await a.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.remote`});return o&&i?`${i}/${o.replace(/^refs\/heads\//,"")}`:null}var Hn=n(19102),Un=n(68578);let jn;function qn(e){let{componentName:t,refine:n,read:r,update:a,storageFile:i=jn.WORKSPACE_FILE}=e;const l=[i,t].join("|");return(0,Un.ok)({storeKey:"ProjectWorkspace",itemKey:l,syncDefault:!1,read:async e=>{let{read:t}=e;return r(await t(l))},write:(e,t)=>{let{write:n,read:r}=e;t instanceof o.nY||n(l,a(t))},refine:n})}!function(e){e.WORKSPACE_FILE="$WORKSPACE_FILE$"}(jn||(jn={}));const $n=(0,o.CG)({key:"vcs/repoLocalBranches",get:e=>async t=>{let{}=t;const n=await a.ZP.listBranches({fs:ie,dir:e});return Promise.all(n.map((async t=>({name:t,trackingBranch:await Kn({fs:ie,dir:e,localBranchName:t})}))))}}),Jn=(0,o.CG)({key:"vcs/repoRemoteBranches",get:e=>async()=>{const t=await a.ZP.listRemotes({fs:ie,dir:e});return(await Promise.all(t.map((t=>{let{remote:n}=t;return a.ZP.listBranches({fs:ie,dir:e,remote:n}).then((e=>e.filter((e=>"HEAD"!==e)).map((e=>({name:e,remote:n})))))})))).flat()}}),Zn=(0,o.CG)({key:"vcs/repoBranches",get:e=>async t=>{let{get:n}=t;const r=n(zn(e)),o=n($n(e));return{repoRoot:e,currentBranch:o.find((e=>e.name===r))||null,localBranches:o,remoteBranches:n(Jn(e))}}}),zn=(0,o.CG)({key:"vcs/repoCurrentBranch",get:e=>()=>a.ZP.currentBranch({fs:ie,dir:e,fullname:!1})}),Wn=(0,o.nZ)({key:"vcs/allBranches",get:e=>{let{get:t}=e;return t(Ve).map((e=>{let{dir:n}=e;return t(Zn(n))}))}}),Yn=(0,o.CG)({key:"gitBranchForFile",get:e=>t=>{var n;let{get:r}=t;const o=r(Ge(e));return o&&(null==(n=r(Zn(o)).currentBranch)?void 0:n.name)||null}}),Xn=[{branchType:"LOCAL",branchName:"master"},{branchType:"REMOTE",branchName:"origin/master"}],er=e=>Array.isArray(e)?e:e?[e]:[];function tr(e){return er(null==e?void 0:e.map).flatMap((e=>er(null==e?void 0:e.entry.value.list).map((t=>{let{"branch-info":{"@source":n,"@repo":r}}=t;return{branchType:null==e?void 0:e.entry["@type"],branchName:n,repoRoot:r}}))))||[]}function nr(e){const t=(0,_t.Z)((e=>{let{branchType:t}=e;return t}),e);return{map:Object.entries(t).map((e=>{let[t,n]=e;return{entry:{"@type":t,value:{list:n.map((e=>({"branch-info":{"@repo":e.repoRoot,"@source":e.branchName}})))}}}}))}}const rr=(0,Hn.IX)((0,Hn.Ry)({branchType:(0,Hn.G0)((0,Hn.i0)("LOCAL"),(0,Hn.i0)("REMOTE")),branchName:(0,Hn.Z_)(),repoRoot:(0,Hn.Z_)()})),or=(0,o.cn)({key:"vcs/branches/favorite",default:[],effects:[qn({refine:rr,componentName:"Git.Settings",read:e=>{var t;return tr(null==e||null==(t=e["favorite-branches"])?void 0:t["branch-storage"])},update:e=>t=>({...t||{},"favorite-branches":{"branch-storage":nr(e)}})})]}),ar=(0,o.CG)({key:"vcs/branches/isFavorite",get:e=>t=>{let{get:n}=t;return cr(n(or),n(ir),e)}}),ir=(0,o.cn)({key:"vcs/branches/favorite-excluded",default:[],effects:[qn({refine:rr,componentName:"Git.Settings",read:e=>{var t;return tr(null==e||null==(t=e["exclude-from-favorite"])?void 0:t["branch-storage"])},update:e=>t=>({...t||{},"exclude-from-favorite":{"branch-storage":nr(e)}})})]});function lr(e){return Xn.some((t=>{let{branchType:n,branchName:r}=t;return r===e.branchName&&n===e.branchType}))}const cr=(e,t,n)=>!!e.find((0,fe.Z)(n))||!t.find((0,fe.Z)(n))&&lr(n);function sr(){return(0,o._8)((e=>{let{set:t,snapshot:n}=e;return function(e,r){void 0===r&&(r=!cr(n.getLoadable(or).getValue(),n.getLoadable(ir).getValue(),e));const o=t=>t.filter((t=>!(0,fe.Z)(t,e))),a=t=>t.some((0,fe.Z)(e))?t:t.concat(e);r?(t(ir,o),lr(e)||t(or,a)):(t(or,o),lr(e)&&t(ir,a))}}),[])}function dr(){const e=(0,o.sJ)(or),t=(0,o.sJ)(ir);return{isFavorite:n=>cr(e,t,n),toggleFavorite:sr()}}const ur=e=>{let{repo:t}=e;const n=(0,o.sJ)(Yn(t.dir));return r.createElement(r.Fragment,null,n)};ur.__docgenInfo={description:"",methods:[],displayName:"RepoCurrentBranchName",props:{repo:{required:!0,tsType:{name:"VcsDirectoryMapping"},description:""}}};const mr=new Ln.C("{fileCount, plural,\n    =0 {No files}\n    =1 {1 file}\n    other {# files}\n  }","en-US"),hr=e=>{let{node:t}=e;const n=(0,o.sJ)(sn("directory"));return r.createElement(Et.e.Hint,null,!n&&_().dirname(t.change.after.path))},pr={repo:(e,t)=>{let{fileCount:n}=t;return{textValue:_().basename(e.repository.dir),rendered:r.createElement(Et.e,null,r.createElement(Gn,{rootPath:e.repository.dir}),r.createElement(yt.J,null),r.createElement(Et.e.Hint,null,mr.format({fileCount:n})),r.createElement(On,null,r.createElement(ur,{repo:e.repository})))}},directory:(e,t)=>{let{fileCount:n}=t;return{textValue:e.parentNodePath?_().relative(e.parentNodePath,e.dirPath):e.dirPath,rendered:r.createElement(Et.e,null,r.createElement(I.vq,{icon:M}),r.createElement(yt.J,null),r.createElement(Et.e.Hint,null,mr.format({fileCount:n})))}},changelist:(e,t)=>{let{fileCount:n}=t;return{textValue:e.changeList.name,rendered:r.createElement(Et.e,null,r.createElement("span",{style:{fontWeight:e.changeList.active?"bold":void 0}},r.createElement(yt.J,null)),r.createElement(Et.e.Hint,null,mr.format({fileCount:n})," "))}},change:e=>({textValue:_().basename(e.change.after.path),rendered:r.createElement(Et.e,null,r.createElement(I.vq,{icon:G(e.change.after.path)}),r.createElement(yt.J,null),r.createElement(hr,{node:e}))})},gr=e=>{var t;let{node:n,fileCountsMap:r}=e;const o=pr[n.type],{textValue:a,rendered:i}=o(n,{fileCount:r.get(n.key)||0,dirCount:0});return{key:n.key,childItems:Jt(n)?n.children:[],hasChildItems:Jt(n)&&(null==(t=n.children)?void 0:t.length)>0,textValue:a,children:i}};function Ar(e){return"directory"===(null==e?void 0:e.type)?[e.dirPath]:"change"===(null==e?void 0:e.type)?[e.change.after.path]:Jt(e)?e.children.flatMap(Ar):[]}const fr=e=>{let{treeRef:t}=e;const{rootNodes:n,fileCountsMap:a,byKey:i}=(0,o.sJ)(vn),[l,c]=(0,o.FV)(dn),[s,d]=(0,o.FV)(En),u=(0,o.sJ)(fn),{openPath:h}=De(),p=(0,o._8)((e=>{let{snapshot:t}=e;return e=>{const n=t.getLoadable(vn).getValue().byKey.get(e);return"change"===(null==n?void 0:n.type)&&h(n.change.after.path),n}}),[]),g=Be("all"===l?[]:[...l].flatMap((e=>{const t=i.get(e);return t?Ar(t):[]})));return r.createElement(C.X,{renderMenu:()=>r.createElement(_n,null),style:{height:"100%"}},r.createElement(Rn.G,(0,m.Z)({treeRef:t,items:n,selectionMode:"multiple",selectedKeys:l,expandedKeys:s,onExpandedChange:d,onSelectionChange:c,onAction:p,nestedSelection:u,fillAvailableSpace:!0,autoFocus:"first"},g),(e=>{var t;const n=gr({fileCountsMap:a,node:e});return r.createElement(k.c,n,0!==(null==(t=e.children)?void 0:t.length)&&r.createElement(Nn.x,{selectionState:u.getSelectionState(e),onToggle:()=>u.toggle(e)}),n.children)})))};fr.__docgenInfo={description:"TODO: unversioned files\nTODO: show diff/source on double click (on action to be more precise)",methods:[],displayName:"ChangeViewTree",props:{treeRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"TreeRefValue"}],raw:"RefObject<TreeRefValue>"},description:""}}};var Er=n(99559),yr=n(71818);const br=()=>{const e=[(0,E.BH)(xn.NEW_CHANGELIST),(0,E.BH)(xn.RENAME_CHANGELIST),(0,E.BH)(xn.REMOVE_CHANGELIST),(0,E.BH)(xn.SET_DEFAULT_CHANGELIST),(0,E.BH)(xn.MOVE_TO_ANOTHER_CHANGELIST)].filter(lt.N);return r.createElement(yr.p,{renderMenu:t=>{let{menuProps:n}=t;return r.createElement(Dn.C,{menuProps:n,actions:e})}},r.createElement(I.vq,{icon:"vcs/changelist.svg"}))};br.__docgenInfo={description:"",methods:[],displayName:"ChangeListsActionButton"};var vr=n(14421),Cr=n(566);function wr(e){let{groupings:t,onToggle:n}=e;return 1===t.length&&t[0].icon?r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:`Group By ${t[0].title}`})},r.createElement(vr.hU,{isPressed:t[0].isActive,onPress:()=>n(t[0].id)},t[0].icon)):r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Group By"})},r.createElement(yr.p,{renderMenu:e=>{let{menuProps:o}=e;return r.createElement(w.v2,(0,m.Z)({},o,{selectedKeys:t.filter((e=>{let{isActive:t}=e;return t})).map((e=>{let{id:t}=e;return t})),onAction:e=>{var r;const o=null==(r=t.find((t=>{let{id:n}=t;return n===e})))?void 0:r.id;o&&n(o)}}),r.createElement(Cr.$0,{title:"Group By"},t.map((e=>{let{id:t,title:n}=e;return r.createElement(k.c,{key:t},n)}))))}},r.createElement(I.vq,{icon:"actions/groupBy.svg"})))}wr.__docgenInfo={description:"",methods:[],displayName:"GroupByActionButton",props:{groupings:{required:!0,tsType:{name:"Array",elements:[{name:"Grouping",elements:[{name:"K"}],raw:"Grouping<K>"}],raw:"Array<Grouping<K>>"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: K) => void",signature:{arguments:[{name:"id",type:{name:"K"}}],return:{name:"void"}}},description:""}}};const kr=()=>{const e=(0,o.sJ)(yn),t=(0,o._8)((e=>{let{set:t}=e;return e=>{t(sn(e),(e=>!e))}}),[]);return r.createElement(wr,{groupings:e,onToggle:t})};kr.__docgenInfo={description:"",methods:[],displayName:"ChangesGroupByActionButton"};const Sr=()=>{const[e,t]=(0,o.FV)(cn),[n,a]=(0,o.FV)(ln),i={showRelatedFiles:e,showIgnoredFiles:n};return r.createElement(yr.p,{renderMenu:e=>{let{menuProps:n}=e;return r.createElement(w.v2,(0,m.Z)({},n,{selectedKeys:Object.keys(i).filter((e=>i[e])),onAction:e=>{switch(e){case"showIgnoredFiles":return a((e=>!e));case"showRelatedFiles":return t((e=>!e))}}}),r.createElement(k.c,{key:"showIgnoredFiles"},"Show Ignored Files"),r.createElement(k.c,{key:"showRelatedFiles"},"Show Files Related to Active Changelist"))}},r.createElement(I.vq,{icon:"actions/show.svg"}))};function Ir(){return r.createElement(Er.o,{border:"bottom"},r.createElement(at.K,{actionId:xn.REFRESH}),r.createElement(at.K,{actionId:xn.ROLLBACK}),r.createElement(at.K,{actionId:xn.SHOW_DIFF}),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Changelists"})},r.createElement(br,null)),r.createElement(at.K,{actionId:xn.SHELVE_SILENTLY}),r.createElement(Er.J,null),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Group By"})},r.createElement(kr,null)),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"View Options"})},r.createElement(Sr,null)),r.createElement(at.K,{actionId:it.$.EXPAND_ALL}),r.createElement(at.K,{actionId:it.$.COLLAPSE_ALL}))}Sr.__docgenInfo={description:"",methods:[],displayName:"ViewOptionsActionButton"},Ir.__docgenInfo={description:"",methods:[],displayName:"ChangesViewToolbar"};var Br=n(62389);var Tr=n(64162);const Fr=(0,o.cn)({key:"tasks.list",default:[]}),Rr=(0,o.nZ)({key:"tasks.first",get:e=>{let{get:t}=e;return t(Fr)[0]}}),Nr=(0,o.nZ)({key:"tasks.count",get:e=>{let{get:t}=e;return t(Fr).length}});let Pr=0;const xr=()=>{const e=(0,o.Zl)(Fr);return(0,Tr.$)(((t,n)=>{let{title:r,isCancelable:o=!1}=t;const a=new ne.qf.cancelToken,i=++Pr;e((e=>[...e,{id:Pr++,title:r,abortController:a,isCancelable:o,progress:{fraction:0,text:"",secondaryText:"",isIndeterminate:!1}}]));const l=t=>{e((e=>e.map((e=>e.id===i?{...e,progress:{...e.progress,...t}}:e))))},c="function"==typeof n?{run:n}:n;return Promise.resolve(c.run({setFraction(e){l({fraction:e})},setText(e){l({text:e})},setSecondaryText(e){l({secondaryText:e})},setIndeterminate(e){l({isIndeterminate:e})}},a.signal)).finally((()=>{e((e=>e.filter((e=>e.id!==i)))),null==c.onFinished||c.onFinished()})),i}))},Dr=()=>(0,o._8)((e=>{let{snapshot:t}=e;return e=>{const n=t.getLoadable(Fr).getValue().find((t=>t.id===e));n&&n.abortController.abort()}})),_r=new Ln.C("{count, plural,\n    =1 {1 file committed}\n    other {# files committed}\n  }","en-US");function Lr(){const e=Qt(),t=Ke(),n=(0,c.L)(),i=xr();return(0,o._8)((o=>{let{snapshot:l,set:c}=o;return(o,s)=>{const d=i({title:"Committing...",isCancelable:!1},{run:async i=>{let{setIndeterminate:c}=i;c(!0);const d=(0,_t.Z)((e=>{let{repoRoot:t}=e;return t}),(await Promise.all(o.map((async e=>{const t=e.after.path,n=l.getLoadable(Ge(t)).getValue(),r=await ie.promises.readFile(t);return n?{repoRoot:n,filePath:_().relative(n,t),content:r}:null})))).filter(lt.N));await Promise.all(Object.entries(d).map((async e=>{let[t,n]=e;const r=n.reduce(((e,t)=>{let{filePath:n,content:r}=t;return{...e,[n]:"string"==typeof r?(new TextEncoder).encode(r):r}}),{});await async function(e){let{files:t,fs:n,dir:r,gitdir:o,...i}=e;const l=await a.ZP.resolveRef({fs:n,dir:r,gitdir:o,ref:"HEAD"}),c=(await a.ZP.readTree({fs:n,dir:r,gitdir:o,oid:l})).tree;await Promise.all(Object.entries(t).map((async e=>{let[t,i]=e;const l=c.find((e=>{let{path:n}=e;return n===t})),s=await a.ZP.writeBlob({fs:n,dir:r,gitdir:o,blob:i});l?l.oid=s:c.push({type:"blob",mode:"100644",oid:s,path:t})})));const s=await a.ZP.writeTree({fs:n,dir:r,gitdir:o,tree:c}),d=await a.ZP.commit({...i,fs:n,dir:r,gitdir:o,tree:s});await Promise.all(Object.keys(t).map((e=>a.ZP.resetIndex({fs:n,dir:r,gitdir:o,filepath:e,ref:d}))))}({fs:ie,dir:t,files:r,message:s,author:{name:"Alireza",email:"alireza.mirian@gmail.com"}})}))).then((()=>{e().catch(console.error),t().catch(console.error),n.show({icon:"Info",body:r.createElement(r.Fragment,null,`${_r.format({count:o.length})}: `,s.split("\n").flatMap(((e,t)=>[r.createElement("br",{key:t}),e])).slice(1))})}),(e=>{n.show({icon:"Error",title:"Commit failed!",body:"Could not commit files."}),console.error("Commit error",e)}))},onFinished:()=>{c(In,null)}});c(In,d)}}),[e])}const Mr=f.zo.div`
  background: ${e=>{let{theme:t}=e;return t.dark?"#2b2b2b":"#fff"}};
  height: 100%;
  display: flex;
  flex-direction: column;
`,Vr=f.zo.textarea`
  flex: 1;
  background: none;
  padding: 0.25rem 0.375rem;
  color: ${e=>{let{theme:t}=e;return t.dark?"#a9b7c6":"#000"}};
  font-family: inherit;
  border: none;
  resize: none;
  outline: none;
`,Gr=f.zo.div`
  display: flex;
  gap: 0.3rem;
  padding: 0.4rem;
`,Qr=f.zo.div`
  display: flex;
  align-items: center;
  padding: 0.125rem 0.5rem;
  gap: 0.25rem;
  position: sticky; // prevents commit message scroll jump when message is toggled on and off
  color: ${e=>{let{theme:t}=e;return t.commonColors.red}};
`;function Or(e){let{editorRef:t}=e;const n=(0,r.useRef)(null),[a,i]=(0,o.FV)(kn),l=Lr(),s=(0,c.L)(),[d,u]=(0,o.FV)(Sn),m=(0,o.sJ)(In);(0,r.useEffect)((()=>{a&&u("")}),[a]);const h=(0,o._8)((e=>{let{snapshot:t}=e;const n=t.getLoadable(An).getValue(),r=t.getLoadable(kn).getValue();return()=>{0!==n.length?r?t.getLoadable(wn).getValue()?s.show({icon:"Error",title:"Unsupported action",body:"Amending commits is not yet supported."}):l(n,r):u("Specify commit message"):u("Select files to commit")}}),[]),{hasFocus:p}=(0,et.e)();return(0,r.useImperativeHandle)(t,(()=>({focus:()=>{var e;null==(e=n.current)||e.focus()}})),[]),r.createElement(Mr,null,r.createElement(Vr,{ref:n,value:a,onChange:e=>{i(e.target.value)},placeholder:"Commit Message","data-gramm":"false"}),d&&r.createElement(Qr,null,r.createElement(I.vq,{icon:"general/error.svg"})," ",d),r.createElement(Gr,null,r.createElement(Br.z,{preventFocusOnPress:!0,variant:p?"default":void 0,onPress:h,isDisabled:null!=m},"Commit"),r.createElement(Br.z,{preventFocusOnPress:!0,onPress:Ze},"Commit and Push...")))}Or.__docgenInfo={description:"Commit message and commit buttons shown in the bottom/right split view of the commit toolwindow",methods:[],displayName:"CommitView",props:{editorRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<{ focus: () => void }>",elements:[{name:"signature",type:"object",raw:"{ focus: () => void }",signature:{properties:[{key:"focus",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}]},description:""}}};var Kr=n(91593),Hr=n(93193);const Ur=e=>{let{changes:t}=e;const n=t.filter((e=>e.after.path&&e.before.path)).length,o=t.filter((e=>e.after.path&&!e.before.path)).length,a=t.filter((e=>e.before.path&&!e.after.path)).length;return r.createElement(r.Fragment,null,o>0&&r.createElement(je,{status:"ADDED"},o," added"),n>0&&r.createElement(je,{status:"MODIFIED"},n," modified"),a>0&&r.createElement(je,{status:"DELETED"},a," deleted"))};Ur.__docgenInfo={description:"",methods:[],displayName:"ChangesSummary",props:{changes:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"Change"}],raw:"ReadonlyArray<Change>"},description:""}}};const jr=f.zo.div`
  display: flex;
  padding: 0.125rem;
  position: relative;
`,qr=(0,f.zo)(Kr.X)`
  padding-right: 0.625rem;
`,$r=f.zo.span`
  position: absolute;
  right: 0.5rem;
  top: 0.25rem;
  background: ${e=>{let{theme:t}=e;return t.color("Panel.background")}};
  z-index: 1;
`,Jr=()=>{const e=(0,o.sJ)(An);return r.createElement(Ur,{changes:e})};function Zr(){const[e,t]=(0,o.FV)(wn);return r.createElement(jr,null,r.createElement(F.a,{tooltip:r.createElement(Hr.h,{actionName:"Amend Commit",helpText:"Modify the latest commit of the current branch"})},(n=>r.createElement("span",n,r.createElement(qr,{isSelected:e,onChange:t,preventFocus:!0},"Amend")))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Show Commit Options"})},r.createElement(vr.hU,{onPress:Ze},r.createElement(I.vq,{icon:"general/gear.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Commit Message History"})},r.createElement(vr.hU,{isDisabled:!0,onPress:Ze},r.createElement(I.vq,{icon:"vcs/historyInline.svg"}))),r.createElement($r,null,r.createElement(Jr,null)))}Zr.__docgenInfo={description:"Amend checkbox, commit message history button, and summary of included changes, shown as a row\nbellow changes tree, in commit tool window.",methods:[],displayName:"CommitActionsRow"};const zr=f.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,Wr=f.zo.div`
  flex: 1;
  overflow: auto;
`;let Yr=null,Xr=()=>{setTimeout((()=>{var e;null==(e=Yr)||e.focus()}))};const eo=()=>{const{state:{anchor:e}}=(0,Pt.j)(),t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=(0,xt.Ss)(e),[i,l]=(0,o.FV)(Cn(a)),c=(0,ot.x)({treeRef:t});return Yr=n.current,r.createElement(Dt.D,{orientation:a,innerView:r.createElement(E.DG,{actions:c},(e=>{let{shortcutHandlerProps:n}=e;return r.createElement(zr,n,r.createElement(Ir,null),r.createElement(Wr,null,r.createElement(fr,{treeRef:t})),r.createElement(Zr,null))})),innerViewMinSize:50,lastView:r.createElement(Or,{editorRef:n}),lastSize:i,onLastResize:l})};eo.__docgenInfo={description:"",methods:[],displayName:"ChangesViewSplitter"};const to=u.ZP.div.withConfig({displayName:"ChangesViewPane__StyledContainer",componentId:"sc-1pqba05-0"})(["display:flex;flex-direction:column;height:100%;"]),no=()=>{const e=Qt();return(0,r.useEffect)((()=>{e()}),[]),r.createElement(to,null,r.createElement(eo,null))};function ro(e){let{branches:t}=e;return r.createElement("table",{style:{borderSpacing:0}},t.map((e=>{let{branch:n,repoRoot:o}=e;const a=n.trackingBranch?`${n.name} \u2192 ${n.trackingBranch}`:t.length>1?`${n.name} (no tracking branch)`:"No tracking branch";return t.length>1?r.createElement("tr",{key:o},r.createElement("td",null,_().basename(o),": \xa0"),r.createElement("td",null,a)):r.createElement("tr",{key:o},r.createElement("td",null,a))})))}no.__docgenInfo={description:"",methods:[],displayName:"ChangesViewPane"},ro.__docgenInfo={description:"",methods:[],displayName:"TrackingBranchInfo",props:{branches:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ repoRoot: string; branch: LocalBranch }",signature:{properties:[{key:"repoRoot",value:{name:"string",required:!0}},{key:"branch",value:{name:"LocalBranch",required:!0}}]}}],raw:"Array<{ repoRoot: string; branch: LocalBranch }>"},description:""}}};const oo="Commit",ao=(0,o.nZ)({key:"vcs/commitToolWindow/changedRepos",get:e=>{let{get:t}=e;return t(Mt).map((e=>t(Ge(e.after.path)))).filter(lt.N).map((e=>{const n=t(Zn(e)).currentBranch;return n?{repoRoot:e,branch:n}:null})).filter(lt.N)}}),io=()=>{var e,t;const n=(0,o.sJ)(sn("repository")),a=(0,o.sJ)(ao),i=!n&&a[0]?`Commit to ${(null==(e=a[0])||null==(t=e.branch)?void 0:t.name)||"!"}`:"Commit";return r.createElement(Nt.y,null,r.createElement(Nt.y.View,{tabContent:r.createElement(F.a,{isDisabled:n||0===a.length,tooltip:r.createElement(R.M,{actionName:r.createElement(ro,{branches:a})})},r.createElement("span",null,i)),key:"commit"},r.createElement(no,null)))};function lo(e){let{children:t=null}=e;return(0,r.useEffect)((()=>{const e=document.activeElement;return()=>{e instanceof HTMLElement&&e!==document.activeElement&&document.activeElement===document.body&&e.isConnected&&e.focus()}}),[]),r.createElement(r.Fragment,null,t)}io.__docgenInfo={description:"",methods:[],displayName:"CommitToolWindow"},lo.__docgenInfo={description:"Works around an issue where the focus is lost after a component rendering the focused element is suspended and\nunsuspended. Haven't tracked down the issue, but it can be the same react 17 issue we worked around in\n{@link UNSAFE_React17SuspenseFix}.",methods:[],displayName:"UNSAFE_FocusRestoringSuspense",props:{children:{defaultValue:{value:"null",computed:!1},required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var co=n(94769);const so=f.zo.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 2.0625rem;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
`,uo=f.zo.div`
  flex-grow: 1;
`,mo=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  display: flex;
  flex: 1;
  flex-direction: column;
  justify-content: end;
  align-items: center;
  gap: 0.25rem;
  min-height: 37%;
`;function ho(){return r.createElement(mo,null,"Select commits to to view changes")}function po(){return r.createElement(mo,null,"No commits selected")}ho.__docgenInfo={description:"",methods:[],displayName:"CommitChangedFiles"},po.__docgenInfo={description:"",methods:[],displayName:"CommitDetails"};const go=(0,o.cn)({key:"vcs/toolwindow/splitViewSize",default:.5});function Ao(){const[e,t]=(0,o.FV)(go);return r.createElement(r.Fragment,null,r.createElement(so,null,r.createElement(Er.o,null,r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Show Diff",shortcut:"\u2318D"})},r.createElement(vr.hU,{isDisabled:!0},r.createElement(I.vq,{icon:"actions/diff.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Revert Selected Changes"})},r.createElement(vr.hU,{isDisabled:!0},r.createElement(I.vq,{icon:"actions/rollback.svg"}))),r.createElement(yr.p,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,t,r.createElement(Cr.$0,{title:"Show"},r.createElement(k.c,null,"Compact References View")))}},r.createElement(I.vq,{icon:"actions/groupBy.svg"}))),r.createElement(uo,null),r.createElement(Er.o,{style:{flexShrink:0}},r.createElement(at.K,{actionId:it.$.EXPAND_ALL}),r.createElement(at.K,{actionId:it.$.COLLAPSE_ALL}))),r.createElement(Dt.D,{orientation:"vertical",firstSize:e,onFirstResize:t,firstView:r.createElement(ho,null),innerView:r.createElement(po,null)}))}Ao.__docgenInfo={description:"",methods:[],displayName:"VcsLogDetailsView"};var fo=n(6364),Eo=n(70428),yo=n(15237),bo=n(96776),vo=n(35444),Co=n(72011);const wo=f.zo.button`
  all: unset;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding-left: 0.25rem;
  cursor: pointer;
  background: ${e=>{let{theme:t}=e;return t.color("ComboBoxButton.background")}};
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};

  line-height: 1.5;
  border-radius: 0.25rem;
  white-space: nowrap;
  border: 2px solid transparent;
  &:hover {
    color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  }
  &:focus-visible {
    border-color: ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
  }
`,ko=f.zo.span`
  margin-left: -1px;
  line-height: 1.2;
`,So=f.zo.span`
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  max-width: 8.25rem;
  overflow: hidden;
  text-overflow: ellipsis;
`,Io=(0,f.zo)(bo.v)`
  &:focus-visible {
    outline: 2px solid
      ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
    outline-offset: -2px;
  }
`;function Bo(e){let{label:t,value:n,onClear:o,...a}=e;return r.createElement(vo.b,a,((e,a)=>r.createElement(wo,(0,m.Z)({},e,{ref:a}),t,n?r.createElement(r.Fragment,null,": ",r.createElement(So,null,n),r.createElement(Co.V,{onPress:o},r.createElement(Io,{icon:"actions/close",hoverIcon:"actions/closeHovered"}))):r.createElement(ko,null,r.createElement(I.vq,{icon:"general/arrowDownSmall.svg"})))))}Bo.__docgenInfo={description:"",methods:[],displayName:"VcsFilterDropdown",props:{label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var To=n(13302);const Fo=e=>`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear().toString().slice(-2)}`,Ro=e=>e.from&&e.to?`Between ${Fo(e.from)} and ${Fo(e.to)}`:e.from?`since ${Fo(e.from)}`:e.to?`until ${Fo(e.to)}`:"",No=(0,o.cn)({key:"vcs/log/tabs/keys",default:["MAIN"]}),Po=(0,o.cn)({key:"vcs/log/tabs/activeKey",default:"MAIN"}),xo=(0,o.CG)({key:"vcs/logs/tab/title",get:e=>t=>{let{get:n}=t;const r=n(_o.searchQuery(e)),o=n(_o.user(e)),a=n(_o.date(e)),i=n(_o.branch(e)),l=[];return(null==i?void 0:i.length)>0&&l.push({short:i.join(", "),long:`on ${i.join(", ")}`}),a&&l.push({short:Ro(a),long:`made ${Ro(a)}`}),r&&l.push({short:`'${r}'`,long:`containing '${r}'`}),o&&l.push({short:o,long:`by ${o}`}),`Log${l.length>0?": ":""}${1===l.length?l[0].short:l.map((e=>e.long)).join(" ")}`}}),Do=(0,o.xu)({key:"vcs/logs/filter/showBranches",default:!1}),_o={searchQuery:(0,o.xu)({key:"vcs/logs/filter/searchQuery",default:""}),matchCase:(0,o.xu)({key:"vcs/logs/filter/matchCase",default:!1}),regExp:(0,o.xu)({key:"vcs/logs/filter/regExp",default:!1}),user:(0,o.xu)({key:"vcs/logs/filter/user",default:null}),date:(0,o.xu)({key:"vcs/logs/filter/date",default:null}),branch:(0,o.xu)({key:"vcs/logs/filter/branch",default:[]})},Lo=(0,To.Z)(((e,t)=>(0,o.nZ)({key:`vcs/logs/currentTabFilter/${t}`,get:t=>{let{get:n}=t;return n(e(n(Po)))},set:(t,n)=>{let{set:r,get:o}=t;r(e(o(Po)),n)}})),_o),Mo=()=>(0,o._8)((e=>{let{reset:t}=e;return e=>{Object.values(_o).map((t=>t(e))).forEach(t)}}),[]);var Vo=n(10888);const Go=f.zo.span.attrs({role:"button"})`
  display: inline-flex;
`;function Qo(e){let{onClick:t,isFavorite:n,isCurrent:o}=e;return r.createElement(Go,{onPointerUp:e=>{e.stopPropagation()},onClick:t},o?r.createElement(bo.v,{icon:n?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg",hoverIcon:n?"nodes/favorite.svg":"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}):n?r.createElement(I.vq,{icon:"nodes/favorite.svg"}):r.createElement(bo.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}))}function Oo(e){let{tabKey:t}=e;const[n,a]=(0,o.FV)(_o.branch(t)),i=(0,o.rb)(_o.branch(t));return r.createElement(Bo,{value:n.length>0?n.join("|"):null,onClear:i,renderMenu:e=>{let{menuProps:t}=e;return r.createElement(Uo,{menuProps:t,onBranchesSelected:a})},label:"Branch"})}Qo.__docgenInfo={description:"",methods:[],displayName:"BranchFavoriteButton",props:{isCurrent:{required:!1,tsType:{name:"boolean"},description:""},isFavorite:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ko=e=>Object.entries((0,_t.Z)((e=>{let{branchName:t}=e;return t}),e)).map((e=>{let[t,n]=e;return{branchName:t,repoRoots:n.map((e=>e.repoRoot))}})),Ho=(0,o.nZ)({key:"vcs/allBranchesRepoConsolidated",get:e=>{let{get:t}=e;const n=t(Wn),r=n.flatMap((e=>{let{remoteBranches:t,repoRoot:n}=e;return t.map((e=>({repoRoot:n,branchName:`${e.remote}/${e.name}`})))})),o=n.flatMap((e=>{let{localBranches:t,repoRoot:n}=e;return t.map((e=>({repoRoot:n,branchName:e.name})))}));return{localBranches:Ko(o),remoteBranches:Ko(r)}}});function Uo(e){let{menuProps:t,onBranchesSelected:n}=e;const[a,i]=(0,r.useState)([]),{toggleFavorite:l,isFavorite:c}=dr(),{localBranches:s,remoteBranches:d}=(0,o.sJ)(Ho),u=(0,_t.Z)((e=>{let{branchName:t}=e;return t.split("/")[0]}),d);(0,r.useEffect)((()=>{const e=(e,t)=>t.filter((t=>{let{branchName:n,repoRoots:r}=t;return r.some((t=>c({branchType:e,branchName:n,repoRoot:t})))})).map((t=>{let{branchName:n,repoRoots:r}=t;return{branchType:e,branchName:n,repoRoots:r}}));i([{branchType:"LOCAL",branchName:"HEAD",repoRoots:[]}].concat(e("LOCAL",s)).concat(e("REMOTE",d)))}),[]);const h=e=>{let{branchName:t,branchType:n,repoRoots:o}=e;return r.createElement(k.c,{key:`branch:${t}`,textValue:t},r.createElement(T._,{content:t,icon:r.createElement(Qo,{isFavorite:"HEAD"===t||o.some((e=>c({branchType:n,repoRoot:e,branchName:t}))),onClick:()=>{"HEAD"!==t&&o.forEach((e=>{l({branchType:n,repoRoot:e,branchName:t})}))}})}))};return r.createElement(Vo.w,(0,m.Z)({},t,{submenuBehavior:"toggleOnPress",autoFocus:"first",minWidth:250,onAction:e=>{const[t,r]=`${e}`.split(":");"branch"===t&&r?n([r]):"favorites"===t?n(a.map((e=>{let{branchName:t}=e;return t}))):"select"===t&&Ze()}}),[r.createElement(k.c,{key:"select"},"Select..."),r.createElement(k.c,{key:"favorites"},"Favorites"),...a.map(h),r.createElement(Pn.i,null),r.createElement(k.c,{key:"local",title:"Local"},s.map((e=>{let{branchName:t,repoRoots:n}=e;return h({branchType:"LOCAL",branchName:t,repoRoots:n})}))),...Object.entries(u).map((e=>{let[t,n]=e;return r.createElement(k.c,{key:`remote:${t}`,title:`${t}/...`},n.map((e=>{let{branchName:t,repoRoots:n}=e;return h({branchType:"REMOTE",branchName:t,repoRoots:n})})))}))])}Oo.__docgenInfo={description:"",methods:[],displayName:"BranchesFilterDropdown",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};const jo=(0,f.zo)(Eo.M)`
  border-radius: 2px;
  width: 219px;
  margin-right: 0.0625rem;
  margin-left: 0.2rem;
`,qo=f.zo.div`
  height: 100%;
`,$o=(0,o.cn)({key:"vcs/toolwindow/searchHistory",default:[]});function Jo(e){let{tabKey:t}=e;const n=(0,o.sJ)(Fa),[a,i]=(0,o.FV)(_o.searchQuery(t)),[l,c]=(0,o.FV)(_o.user(t)),s=(0,o.rb)(_o.user(t)),[d,u]=(0,o.FV)(_o.date(t)),h=(0,o.rb)(_o.date(t)),[p,g]=(0,o.FV)($o),[A,f]=(0,r.useState)(a),E=(0,yo.k)(),y=(0,o.sJ)(_o.regExp(t)),b=(0,o.sJ)(_o.matchCase(t)),v=function(e){void 0===e&&(e=A),i(e),e&&!p.includes(e)&&g((t=>[e,...t.filter((t=>t!==e))]))};(0,r.useEffect)((()=>{f(a)}),[a]);const C=(0,o._8)((e=>{let{set:t}=e;return()=>{const e=(0,fo.Z)();t(No,(t=>[...t,e])),t(Po,e)}}),[]),S=new Date,B=new Date;B.setDate(S.getDate()-7);const T=new Date;T.setDate(S.getDate()-1);const N=[{name:"Last 24 hours",value:{from:B}},{name:"Last 7 days",value:{from:T}}];return r.createElement(qo,null,r.createElement(so,null,r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Text or Hash Filter",shortcut:E(xn.FOCUS_TEXT_FILTER)})},r.createElement(jo,{inputRef:n,value:A,onChange:f,onSubmit:v,onBlur:()=>v(),searchHistory:p,addonAfter:r.createElement(r.Fragment,null,r.createElement(bo.R,{as:at.K,excludeFromTabOrder:!1,actionId:xn.REG_EXP},r.createElement(bo.v,{icon:y?"actions/regexSelected":"actions/regex",hoverIcon:y?"actions/regexSelected":"actions/regexHovered"})),r.createElement(bo.R,{as:at.K,excludeFromTabOrder:!1,actionId:xn.MATCH_CASE},b?r.createElement(I.vq,{icon:"actions/matchCaseSelected"}):r.createElement(bo.v,{icon:"actions/matchCase",hoverIcon:"actions/matchCaseHovered"})))})),r.createElement(Er.o,null,r.createElement(Oo,{tabKey:t}),r.createElement(Bo,{value:l,onClear:s,renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{onAction:e=>{if("select"===e)return Ze();c(`${e}`)}}),r.createElement(k.c,{key:"select"},"Select..."),r.createElement(k.c,{key:"me"},"me"))},label:"User"}),r.createElement(Bo,{value:d&&zo(d),onClear:h,renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{onAction:e=>{const t=N.find((t=>{let{name:n}=t;return n===e}));t?u(t.value):Ze()}}),[r.createElement(k.c,{key:"select"},"Select..."),...N.map((e=>{let{name:t}=e;return r.createElement(k.c,{key:t},t)}))])},label:"Date"}),r.createElement(Bo,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{onAction:Ze}),r.createElement(k.c,null,"Select in..."),r.createElement(k.c,null,"Select in Tree..."))},label:"Paths"}),r.createElement(Er.J,null),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Open New Git Log Tab"})},r.createElement(vr.hU,{"aria-label":"Checkout",onPress:C},r.createElement(I.vq,{icon:"actions/openNewTab.svg"})))),r.createElement(uo,null),r.createElement(Er.o,{style:{flexShrink:0}},r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Refresh",shortcut:"\u2318R"})},r.createElement(vr.hU,null,r.createElement(I.vq,{icon:"actions/refresh.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Cherry-Pick"})},r.createElement(vr.hU,{isDisabled:!0},r.createElement(I.vq,{icon:"/platform/dvcs-impl/resources/icons/cherryPick.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"View Options"})},r.createElement(yr.p,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,t,r.createElement(Cr.$0,{title:"Show"},r.createElement(k.c,null,"Compact References View")))}},r.createElement(I.vq,{icon:"actions/groupBy.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Go To Hash/Branch/Tag",shortcut:"\u2318F"})},r.createElement(vr.hU,null,r.createElement(I.vq,{icon:"actions/find"}))))),r.createElement(Zo,null))}function Zo(){const e=(0,o.sJ)(Po),t=Mo();return r.createElement(mo,null,"No commits matching filters",r.createElement($e.r,{onPress:()=>t(e)},"Reset filters"))}function zo(e){return e.from&&e.to?`Between ${Fo(e.from)} and ${Fo(e.to)}`:e.from?`since ${Fo(e.from)}`:e.to?`until ${Fo(e.to)}`:""}function Wo(e,t){const n=e.flatMap((e=>{let{repoRoot:t,localBranches:n,currentBranch:r}=e;return n.map((e=>({repoRoot:t,isCurrent:(null==r?void 0:r.name)===e.name,branch:e})))})),r=Object.entries((0,_t.Z)((e=>{let{branch:t}=e;return t.name}),n)).map((t=>{let[n,r]=t;const o=r.map((e=>{let{repoRoot:t}=e;return(0,D.basename)(t)}));return{type:"localBranch",key:`localBranch:${o.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some((e=>{let{repoRoot:t,branch:n}=e;return ar({repoRoot:t,branchType:"LOCAL",branchName:n.name})})),isCurrent:r.some((e=>{let{isCurrent:t}=e;return t})),repos:o.length===e.length?null:o}}));return t?ea(r):r}function Yo(e,t){const n=e.flatMap((e=>{let{repoRoot:t,remoteBranches:n}=e;return n.map((e=>({repoRoot:t,branch:e})))})),r=Object.entries((0,_t.Z)((e=>{let{branch:t}=e;return`${t.remote}/${t.name}`}),n)).map((t=>{let[n,r]=t;const o=r.map((e=>{let{repoRoot:t}=e;return(0,D.basename)(t)}));return{type:"remoteBranch",key:`remoteBranch:${o.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some((e=>{let{repoRoot:t,branch:n}=e;return ar({repoRoot:t,branchType:"REMOTE",branchName:n.name})})),repos:o.length===e.length?null:o}}));return t?ea(r):r}Jo.__docgenInfo={description:"",methods:[],displayName:"VcsLogCommitsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};const Xo=(0,o.nZ)({key:"vcs/branchesTree/nodes",get:e=>{let{get:t}=e;const n=t(Wn),r=t(ta("directory")),o=t(na)&&t(ta("repository"));return[{type:"head"},{type:"branchType",branchType:"LOCAL",children:o?n.map((e=>({type:"repository",key:`LOCAL:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:Wo([e],r)}))):Wo(n,r)},{type:"branchType",branchType:"REMOTE",children:o?n.map((e=>({type:"repository",key:`REMOTE:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:Yo([e],r)}))):Yo(n,r)}]}}),ea=Kt({shouldCollapseDirectories:!1,getPath:e=>e.name}),ta=(0,o.xu)({key:"vcs/branchesTree/grouping",default:!0}),na=(0,o.nZ)({key:"vcs/branchesTree/grouping/repo/available",get:e=>{let{get:t}=e;return t(Ve).length>0}}),ra=(0,o.cn)({key:"vcs/branchesTree/ref",default:r.createRef(),dangerouslyAllowMutability:!0}),oa=(0,o.cn)({key:"vcs/branchesTree/selectedKeys",default:new Set}),aa=(0,o.cn)({key:"vcs/branchesTree/expandedKeys",default:new Set}),ia=[{id:"directory",title:"Directory",icon:r.createElement(I.vq,{icon:"actions/GroupByPackage.svg"}),isActive:ta("directory"),isAvailable:!0},{id:"repository",title:"Repository",isActive:ta("repository"),isAvailable:na}],la=(0,o.nZ)({key:"vcs/branchesTree/availableGroupings",get:e=>{let{get:t}=e;return ia.filter((e=>(0,o.Oy)(e.isAvailable)?t(e.isAvailable):e.isAvailable)).map((e=>({...e,isActive:t(ta(e.id))})))}});function ca(){const e=(0,o._8)((e=>{let{set:t}=e;return e=>{t(ta(e),(e=>!e))}}),[]),t=(0,o.sJ)(la);return r.createElement(wr,{groupings:t,onToggle:e})}ca.__docgenInfo={description:"",methods:[],displayName:"BranchesGroupByActionButton"};var sa=n(43194),da=n(90795);const ua={branchType:e=>{return r.createElement(k.c,{key:`${e.type}:${e.branchType}`,textValue:(t=e.branchType,t[0].toUpperCase()+t.slice(1).toLowerCase()),childItems:e.children},r.createElement(yt.J,null));var t},localBranch:e=>r.createElement(k.c,{key:`${e.key}`,textValue:(0,D.basename)(e.name)},r.createElement(Et.e,null,r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:r.createElement(ro,{branches:e.branches})})},(t=>r.createElement(Et.e.Group,t,e.isCurrent?r.createElement(F.a,{tooltip:r.createElement(da.u,null,"Current ",e.isFavorite&&"favorite ","branch")},(t=>r.createElement(Et.e.Group,t,r.createElement(I.vq,{icon:e.isFavorite?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg"})))):r.createElement(I.vq,{icon:"vcs/branchNode"}),r.createElement(yt.J,null),e.repos&&r.createElement(Et.e.Hint,null,"(",e.repos.join(", "),")")))))),remoteBranch:e=>r.createElement(k.c,{key:`${e.key}`,textValue:(0,D.basename)(e.name)},r.createElement(Et.e,null,r.createElement(I.vq,{icon:e.isFavorite?"nodes/favorite.svg":"vcs/branchNode"}),r.createElement(yt.J,null),e.repos&&r.createElement(Et.e.Hint,null,"(",e.repos.join(", "),")"))),repository:e=>r.createElement(k.c,{key:`${e.key}`,textValue:(0,D.basename)(e.repoRoot),childItems:e.children},r.createElement(Et.e,null,r.createElement(Gn,{rootPath:e.repoRoot}),r.createElement(yt.J,null))),directory:e=>r.createElement(k.c,{key:`${e.type}_${e.parentNodePath}${e.dirPath}`,textValue:(0,D.basename)(e.dirPath),childItems:e.children},r.createElement(Et.e,null,r.createElement(I.vq,{icon:"nodes/folder.svg"}),r.createElement(yt.J,null))),head:e=>r.createElement(k.c,{key:`${e.type}`,textValue:"HEAD (Current Branch)"},r.createElement(yt.J,null))};const ma=f.zo.input`
  all: unset;
  flex: 1;
  align-self: stretch;
`,ha=f.zo.div`
  min-width: 0; // don't outgrow the container
  flex-grow: 1; // fill the available space
  display: flex;
  flex-direction: column;
`,pa=f.zo.span`
  display: inline-flex;
  margin-top: -0.0625rem;
  margin-left: 0.7rem;
  margin-right: 0.25rem;
  cursor: text;
`;function ga(){const e=(0,o.sJ)(Xo),[t,n]=(0,o.FV)(oa),[a,i]=(0,o.FV)(aa),l=(0,o.sJ)(ra),c=(0,r.useRef)(null),s=(0,r.useRef)(null),[d,u]=(0,r.useState)(!1),h=(0,o.Zl)(Lo.branch),{collectionSearchInputProps:p}=(0,sa.R)({collectionRef:c,selectionManager:s.current});return r.createElement(ha,null,r.createElement(so,null,r.createElement(pa,null,r.createElement(I.vq,{icon:"actions/search"})),r.createElement(ma,(0,m.Z)({tabIndex:-1},(0,qe.dG)(p,{onFocus:()=>u(!0),onBlur:()=>u(!1)})))),r.createElement(ft.b,{ref:c,treeRef:l,selectionManagerRef:s,items:e,selectionMode:"multiple",selectedKeys:t,onSelectionChange:n,expandedKeys:a,onExpandedChange:i,onAction:e=>{const t=(e=>{const[t,n,r]=e.split(":");return"head"===t?"HEAD":"localBranch"===t||"remoteBranch"===t?r??null:null})(`${e}`);t&&h([t])},fillAvailableSpace:!0,showAsFocused:d},(e=>ua[e.type](e))))}ga.__docgenInfo={description:"",methods:[],displayName:"BranchesTree"};const Aa="Git.DeleteBranch",fa="Git.Compare.With.Current",Ea="Git.Show.My.Branches",ya="Git.Fetch",ba="Git.Toggle.Favorite",va=u.ZP.div.withConfig({displayName:"VcsBranchesView__StyledContainer",componentId:"sc-vamle4-0"})(["display:flex;height:100%;"]);function Ca(){const e=(0,o.sJ)(ra),t=[{id:xn.GIT_UPDATE_SELECTED,title:"Update Selected",icon:r.createElement(I.vq,{icon:"actions/checkOut"}),actionPerformed:()=>{Ze()}},{id:Aa,title:"Delete branch",icon:r.createElement(I.vq,{icon:"actions/gc"}),useShortcutsOf:"SafeDelete",actionPerformed:()=>{Ze()}},{id:fa,title:"Compare with current",icon:r.createElement(I.vq,{icon:"actions/diff"}),useShortcutsOf:xn.SHOW_DIFF,actionPerformed:()=>{Ze()}},{id:Ea,title:"Show My Branches",icon:r.createElement(I.vq,{icon:"actions/find"}),actionPerformed:()=>{Ze()}},{id:ya,title:"Fetch All Remotes",icon:r.createElement(I.vq,{icon:"vcs/fetch"}),actionPerformed:()=>{Ze()}},{id:ba,title:"Mark/Unmark as Favorite",icon:r.createElement(I.vq,{icon:"nodes/favorite"}),actionPerformed:()=>{Ze()}},...(0,ot.x)({treeRef:e})];return r.createElement(E.DG,{actions:t},(e=>{let{shortcutHandlerProps:t}=e;return r.createElement(va,t,r.createElement(ka,null),r.createElement(ga,null))}))}const wa=(0,u.ZP)(Er.o).withConfig({displayName:"VcsBranchesView__StyledToolbar",componentId:"sc-vamle4-1"})(["height:100%;flex-shrink:0;"]);function ka(){return r.createElement(wa,{border:"right",orientation:"vertical"},r.createElement(at.K,{actionId:xn.GIT_LOG_HIDE_BRANCHES}),r.createElement(Er.J,null),r.createElement(at.K,{actionId:xn.GIT_CREATE_NEW_BRANCH}),r.createElement(at.K,{actionId:xn.GIT_UPDATE_SELECTED}),r.createElement(at.K,{actionId:Aa}),r.createElement(at.K,{actionId:fa}),r.createElement(at.K,{actionId:Ea}),r.createElement(at.K,{actionId:ya}),r.createElement(at.K,{actionId:ba}),r.createElement(at.K,{actionId:xn.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH}),r.createElement(Er.J,null),r.createElement(ca,null),r.createElement(at.K,{actionId:it.$.EXPAND_ALL}),r.createElement(at.K,{actionId:it.$.COLLAPSE_ALL}))}Ca.__docgenInfo={description:"",methods:[],displayName:"VcsBranchesView"};const Sa=(0,o.cn)({key:"vcs/toolwindow/firstViewSize",default:.25}),Ia=(0,o.cn)({key:"vcs/toolwindow/lastViewSize",default:.35}),Ba=f.zo.span`
  margin: 0 0.5rem 0 0.125rem;
`,Ta=f.zo.div`
  height: 100%;
  display: flex;
  :focus-visible {
    outline: none;
  }
`,Fa=(0,o.cn)({key:"vcs/toolWindow/searchInputRef",default:r.createRef(),dangerouslyAllowMutability:!0}),Ra=()=>{const e=(0,o.sJ)(No),[t,n]=(0,o.FV)(Po);return r.createElement(Nt.y,{headerContent:r.createElement(Ba,null,"Git:"),activeKey:t,onActiveKeyChange:e=>n(`${e}`)},e.map((e=>r.createElement(Nt.y.View,{tabContent:r.createElement(La,{tabKey:e}),key:e},r.createElement(_a,{tabKey:e})))))},Na=f.zo.button.attrs({tabIndex:-1})`
  box-sizing: border-box;
  all: unset;
  height: 100%;
  width: 1.71875rem;
  align-items: center;
  display: flex;
  flex-direction: column;
  padding: 0.5rem 0;
  gap: 0.625rem;
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  :disabled {
    color: ${e=>{let{theme:t}=e;return t.color("Button.disabledText")}};
  }
  &:hover {
    background: ${e=>{let{theme:t}=e;return t.color("ToolWindow.Button.hoverBackground",t.dark?"#0f0f0f28":"#55555528")}};
  }
`,Pa=(0,f.zo)(Na)`
  border-right: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
`,xa=f.zo.span`
  writing-mode: vertical-lr;
  transform: rotateZ(180deg);
  font-size: 0.6875rem;
`;function Da(e){let{onPress:t}=e;return r.createElement(Pa,{onClick:t},r.createElement(I.vq,{icon:"actions/arrowExpand"}),r.createElement(xa,null,"Branches"))}function _a(e){let{tabKey:t}=e;const[n,a]=(0,o.FV)(Sa),[i,l]=(0,o.FV)(Ia),c=function(){const e=(0,o.sJ)(Fa),t=(0,o._8)((e=>{let{set:t,snapshot:n}=e;return()=>{t(Do(n.getLoadable(Po).getValue()),!1)}}),[]),n=(0,o._8)((e=>{let{set:t,snapshot:n}=e;return()=>{t(_o.matchCase(n.getLoadable(Po).getValue()),(e=>!e))}}),[]),a=(0,o._8)((e=>{let{set:t,snapshot:n}=e;return()=>{t(_o.regExp(n.getLoadable(Po).getValue()),(e=>!e))}}),[]);return[{id:xn.FOCUS_TEXT_FILTER,title:"Focus Text Filter",actionPerformed:()=>{var t;null==(t=e.current)||t.focus()}},{id:xn.GIT_LOG_HIDE_BRANCHES,title:"Hide Git Branches",icon:r.createElement(I.vq,{icon:"actions/arrowCollapse"}),actionPerformed:t},{id:xn.MATCH_CASE,title:"Match Case",icon:r.createElement(I.vq,{icon:"actions/matchCase.svg"}),actionPerformed:n},{id:xn.REG_EXP,title:"Regex",icon:r.createElement(I.vq,{icon:"actions/regex"}),actionPerformed:a}]}(),[s,d]=(0,o.FV)(Do(t)),u=s?{firstView:r.createElement(Ca,null),firstSize:n,onFirstResize:a,firstViewMinSize:85}:{};return r.createElement(E.DG,{actions:c},(e=>{let{shortcutHandlerProps:n}=e;return r.createElement(Ta,(0,m.Z)({},n,{tabIndex:0}),!s&&r.createElement(Da,{onPress:()=>d(!0)}),r.createElement(Dt.D,(0,m.Z)({},u,{innerView:r.createElement(Jo,{tabKey:t}),innerViewMinSize:200,lastView:r.createElement(Ao,null),lastSize:i,onLastResize:l,lastViewMinSize:40})))}))}function La(e){let{tabKey:t}=e;const n=Mo(),a=(0,o._8)((e=>{let{set:r,snapshot:o,reset:a}=e;return()=>{const e=o.getLoadable(No).getValue();o.getLoadable(Po).getValue()===t&&r(Po,e[e.findIndex((e=>e===t))-1]||e[0]),r(No,(e=>e.filter((e=>e!==t)))),n(t),a(Do(t))}}),[]);return r.createElement(co.v,{title:(0,o.sJ)(xo(t)),closeButton:"MAIN"!==t&&r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Close Tab"})},r.createElement(P.W,{onPress:a}))})}Ra.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindow"};const Ma=[{id:"Project",title:"Project",icon:r.createElement(I.vq,{icon:"toolwindows/toolWindowProject"}),content:r.createElement(Rt,null),initialState:(0,Xe.x5)({isVisible:!0,weight:.23})},{id:"Terminal",title:"Terminal",icon:r.createElement(I.vq,{icon:"toolwindows/toolWindowProject"}),content:r.createElement(et.n,{headerContent:"Terminal"},r.createElement(rt,null)),initialState:(0,Xe.x5)({anchor:"bottom"})},{id:oo,title:"Commit",icon:r.createElement(I.vq,{icon:"toolwindows/toolWindowCommit"}),content:r.createElement(r.Suspense,{fallback:r.createElement(lo,null)},r.createElement(io,null)),initialState:(0,Xe.x5)({anchor:"left",isVisible:!1})},{id:"Version Control",title:"Version Control",icon:r.createElement(I.vq,{icon:"toolwindows/toolWindowChanges"}),content:r.createElement(r.Suspense,{fallback:r.createElement(lo,null)},r.createElement(Ra,null)),showStripeButton:!1,initialState:(0,Xe.x5)({anchor:"bottom",weight:.35})}];var Va=n(14242),Ga=n(20898),Qa=n(30906),Oa=n(92338),Ka=n(31132),Ha=n(78766),Ua=n(24103),ja=n(37163),qa=n(17377);function $a(e,t){return e.remoteBranches.some((e=>`${e.remote}/${e.name}`===t))?"CLASHING_WITH_REMOTE":e.localBranches.some((e=>{let{name:n}=e;return n===t}))?"EXISTING":null}const Ja=new RegExp(`(^\\.)|(^-)|(^/)|(\\.\\.)+|[ ~:^?*\\[\\\\]+|(@\\{)+|[${Array(32).fill(null).map(((e,t)=>String.fromCharCode(t))).join("")}u007F]`);function Za(e){return e.replace(Ja,"_")}const za=f.zo.div`
  padding: 0.5rem 1rem;
`,Wa=(0,f.zo)(Ua.U)`
  width: 100%;
`,Ya={EXISTING:e=>r.createElement(r.Fragment,null,"Branch name ",e," already exists ",r.createElement("br",null)),CLASHING_WITH_REMOTE:e=>r.createElement(r.Fragment,null,"Branch name ",e," clashes with remote branch ",r.createElement("br",null),"with the same name")};function Xa(e){var t;let{branchName:n,repoRoot:i,close:l}=e;const[s,d]=(0,r.useState)(n),[u,m]=(0,r.useState)(!1),h=(0,c.L)(),p=(0,o.sJ)(Zn(i)),g=function(){const e=sr();return(0,o._8)((t=>{let{refresh:n,snapshot:r}=t;return async(t,o,i)=>{await(0,a.R_)({fs:ie,dir:t,oldref:o,ref:i}),n(Zn(t));const l={branchType:"LOCAL",branchName:o,repoRoot:t};cr(r.getLoadable(or).getValue(),r.getLoadable(ir).getValue(),l)&&(e(l,!1),e({...l,branchName:i},!0))}}),[])}(),A=$a(p,s),f=A&&u?"invalid":"valid";return r.createElement(ja.Du,{minWidth:"content",minHeight:"content"},r.createElement(qa.b,{header:`Rename branch ${n}`,content:r.createElement(za,null,r.createElement("form",{id:"branch_rename_form",onSubmit:e=>{e.preventDefault(),A?m(!0):g(p.repoRoot,n,s).catch((e=>{h.show({icon:"Error",title:"Unexpected error",body:`Could not rename branch ${n} to ${s}.`}),console.error("Branch rename error: ",e)})).then((()=>{l()}))}},r.createElement(Wa,{labelPlacement:"above",label:"New branch name:",value:s,onChange:e=>{d(Za(e)),m(!0)},validationState:f,errorMessage:A&&"invalid"===f?null==(t=Ya[A])?void 0:t.call(Ya,n):void 0}))),footer:r.createElement(qa.b.Footer,{right:r.createElement(r.Fragment,null,r.createElement(Br.z,{onPress:l},"Cancel"),r.createElement(Br.z,{variant:"default",type:"submit",form:"branch_rename_form",isDisabled:Boolean(A)&&u},"Rename"))})}))}Xa.__docgenInfo={description:"",methods:[],displayName:"RenameBranchWindow",props:{branchName:{required:!0,tsType:{name:"string"},description:""},repoRoot:{required:!0,tsType:{name:"string"},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ei=f.zo.div`
  box-sizing: border-box;
  padding: 0 0.375rem;
  display: flex;
  align-items: center;
  width: 100%;
`,ti=f.zo.div`
  flex: 1;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0 0.625rem;
`,ni=(0,o.cn)({key:"branchesPopup.bounds",default:void 0});function ri(e){let{onClose:t}=e;const n=Ee(Wn),[i,l]=(0,o.FV)(ni),[d,u]=(0,r.useState)(i??{}),m=(0,E.BH)(xn.GIT_CREATE_NEW_BRANCH),h=(0,o._8)((e=>{let{refresh:t}=e;return(e,n)=>(0,a.NA)({fs:ie,dir:e,ref:n}).then((()=>{t(Zn(e))}))}),[]),p=(0,c.L)(),g=(0,s.S)(),A=(0,o._8)((e=>async(t,n,r)=>{const{refresh:o,snapshot:i,set:l}=e,c=he(e);await(0,a.JE)({fs:ie,dir:t,remote:r,ref:n}),o(Zn(t)),o(me(t));const s=i.getLoadable(Fe).getValue(),d=await Le((e=>{let{filePath:t}=e;return c(t)}),s);l(Fe,d)}),[]),{isFavorite:f,toggleFavorite:y}=dr();if(!n)return null;const b=1===n.length?`Git Branches in ${_().basename(n[0].repoRoot)}`:"Git Branches";return r.createElement(Oa.GI,{interactions:"all",minHeight:55,minWidth:300,bounds:d,onBoundsChange:(e,t)=>{"resize"===t&&l({width:e.width,height:e.height}),u(e)}},r.createElement(Ka.F,{header:r.createElement(Oa.GI.Header,{hasControls:!0},r.createElement(ei,null,r.createElement(ti,null,b),r.createElement(Er.o,null,r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Fetch"})},r.createElement(vr.hU,{onPress:()=>{Ze(),t()}},r.createElement(I.vq,{icon:"vcs/fetch.svg"}))),r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:"Restore Popup Size"})},r.createElement(vr.hU,{isDisabled:void 0===i,onPress:()=>{l(void 0),u((e=>{let{width:t,height:n,...r}=e;return{...r}}))}},r.createElement(I.vq,{icon:"general/fitContent.svg"})))))),content:r.createElement(Vo.w,{"aria-label":b,submenuBehavior:"toggleOnPress",fillAvailableSpace:!0,autoFocus:"first",disabledKeys:n.flatMap((e=>{let{localBranches:t,repoRoot:n}=e;return t.filter((e=>{let{trackingBranch:t}=e;return!t})).map((e=>{let{name:t}=e;return`${n}/pull-${t}`}))})),onAction:e=>{const[t,o,i]=`${e}`.split("//");async function l(e){try{await e()}catch(t){t instanceof a.D1.CheckoutConflictError?p.show({icon:"Error",title:"Git Checkout Problem",body:t.message}):p.show({icon:"Error",title:"Checkout failed",body:`Could not checkout branch ${o}`})}}if(e===(null==m?void 0:m.id))return null==m?void 0:m.perform();switch(i){case"delete":return h(t,o).then((()=>{p.show({title:`Deleted branch: ${o}`,icon:"Info",actions:r.createElement(Ha.g,{onPress:Ze},"Restore")})}),(()=>{p.show({title:`Could not deleted branch: ${o}`,icon:"Error"})}));case"rename":return g.open((e=>{let{close:n}=e;return r.createElement(Xa,{repoRoot:t,branchName:o,close:n})}));case"checkout":return l((()=>A(t,o)));case"remote-checkout":return function(){var e;const r=null==n||null==(e=n.find((e=>{let{repoRoot:n}=e;return n===t})))?void 0:e.remoteBranches.find((e=>{let{name:t,remote:n}=e;return`${n}/${t}`===o}));if(r)return l((()=>A(t,r.name,r.remote)))}();default:return Ze()}},onClose:t},m&&r.createElement(k.c,{key:m.id,textValue:m.title},r.createElement(T._,{icon:m.icon,content:m.title})),r.createElement(k.c,{key:"checkout_revision"},"Checkout Tag or Revision..."),n.flatMap((e=>{let{remoteBranches:t,localBranches:o,repoRoot:a,currentBranch:i}=e;const l=(e,t)=>n.length>1?`${e} in ${_().basename(t)}`:e,c=(e,t)=>[!t&&r.createElement(k.c,{key:`${a}//${e}//compare-with-branch`},`Compare with '${e}'`),r.createElement(k.c,{key:`${a}//${e}//show-diff-with-working-tree`},"Show Diff with Working Tree"),r.createElement(Pn.i,{key:"compare-actions-divider"})],s=(e,t)=>t&&e!==t&&[r.createElement(k.c,{key:`${a}//${e}//rebase-current-onto`},`Rebase '${t}' onto '${e}'`),r.createElement(k.c,{key:`${a}//${e}//merge-into-current`},`Merge '${e}' onto '${t}'`),r.createElement(Pn.i,{key:"merge-actions-divider"})];return[r.createElement(Cr.$0,{key:`${a}//local_branches`,title:l("Local Branches",a)},o.map((e=>{let{name:t,trackingBranch:n}=e;const o=t===(null==i?void 0:i.name),l={branchName:t,branchType:"LOCAL",repoRoot:a};return r.createElement(k.c,{key:`${a}//${t}`,textValue:t,title:r.createElement(T._,{content:t,icon:r.createElement(Qo,{isFavorite:f(l),isCurrent:o,onClick:()=>{y(l)}}),shortcut:n&&r.createElement(Et.e.Hint,{small:!0},n)})},!o&&r.createElement(k.c,{key:`${a}//${t}//checkout`},"Checkout"),r.createElement(k.c,{key:`${a}//${t}//new-branch-from`},`New Branch from '${t}'...`),!o&&r.createElement(k.c,{key:`${a}//${t}//checkout-and-rebase-onto`},`Checkout and rebase onto '${t}'`),r.createElement(Pn.i,{key:"new-branch-actions-divider"}),c(t,o),s(t,null==i?void 0:i.name),r.createElement(k.c,{key:`${a}//${t}//pull`},"Update"),r.createElement(k.c,{key:`${a}//${t}//push`},"Push..."),r.createElement(Pn.i,{key:"push-divider"}),r.createElement(k.c,{key:`${a}//${t}//rename`},"Rename..."),!o&&r.createElement(k.c,{key:`${a}//${t}//delete`},"Delete"))}))),r.createElement(Cr.$0,{key:`${a}//remote_branches`,title:l("Remote Branches",a)},t.map((e=>{const t=`${e.remote}/${e.name}`,n={branchName:t,branchType:"REMOTE",repoRoot:a};return r.createElement(k.c,{key:`${a}//${t}`,textValue:t,title:r.createElement(T._,{content:t,icon:r.createElement(Qo,{isFavorite:f(n),onClick:()=>{y(n)}})})},r.createElement(k.c,{key:`${a}//${t}//remote-checkout`},"Checkout"),r.createElement(k.c,{key:`${a}//${t}//new-branch-from`},`New Branch from '${t}'...`),r.createElement(k.c,{key:`${a}//${t}//checkout-and-rebase-onto`},`Checkout and rebase onto '${t}'`),r.createElement(Pn.i,{key:"new-branch-actions-divider"}),c(t,!1),s(t,null==i?void 0:i.name),r.createElement(k.c,{key:`${a}//${t}//pull-into-using-merge`},`Pull into '${t}' Using Merge`),r.createElement(k.c,{key:`${a}//${t}//pull-into-using-rebase`},`Pull into '${t}' Using Rebase`),r.createElement(Pn.i,null),r.createElement(k.c,{key:`${a}//${t}//delete`},"Delete"))})))]})))}))}ri.__docgenInfo={description:"",methods:[],displayName:"BranchesPopup",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var oi=n(35471);const ai=u.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialog",componentId:"sc-1ljr97b-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:",";color:",";",";text-align:center;line-height:1.5;"],(e=>{let{theme:t}=e;return t.color("*.background")}),(e=>{let{theme:t}=e;return t.color("*.foreground")}),oi.s),ii=u.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialogHeader",componentId:"sc-1ljr97b-1"})(["background:",";padding:4px;text-align:center;"],(e=>{let{theme:t}=e;return t.color("Popup.Header.activeBackground")})),li=u.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialogContent",componentId:"sc-1ljr97b-2"})(["padding:8px 16px;"]);async function ci(e){try{if(!(await ie.promises.stat(e)).isDirectory())return console.info(`Already cloned repo was not found. "${e}" is not a directory.`),!1;const t=await ie.promises.readdir(e);if(1===t.length&&".git"===t[0])return console.info(`Already cloned repo was not found at "${e}". ".git" folder exists, but it's not successfully unpacked.`),!1}catch(t){return console.info(`Already cloned repo was not found at "${e}".`),!1}return!0}const si=e=>{let{children:t}=e;const[n,o]=(0,r.useState)("uninitialized");return(0,r.useEffect)((()=>{(async function(e,t){await ci(e)||(o("cloning"),await di({dir:e,url:t}))})(ve.path,ve.url).then((()=>{console.log("demo repo initialized"),o("initialized")})).catch((e=>{console.error("could not initialize the demo repo",e),o("error")}))}),[]),"uninitialized"===n?null:"initialized"===n?r.createElement(r.Fragment,null,t):r.createElement("div",{style:{minHeight:"100vh",position:"relative"}},r.createElement(ai,null,r.createElement(ii,null,"Cloning sample repo"),r.createElement(li,null,"cloning"===n?r.createElement(r.Fragment,null,"Cloning ",r.createElement("b",null,ve.url),". ",r.createElement("br",null),"It may take several seconds."):r.createElement(r.Fragment,null,"Something went wrong!"))))};async function di(e){let{dir:t,url:n,onProgress:r}=e;console.log("cloning repo: "),await(0,a.d9)({fs:ie,url:n,http:i.Z,corsProxy:"https://cors.isomorphic-git.org",dir:t,onProgress:r,singleBranch:!0})}si.__docgenInfo={description:"",methods:[],displayName:"SampleRepoInitializer"};let ui=!1;const mi=()=>{const e=(0,c.L)(),t=xr(),n=(0,o.C)(ke),a=(()=>{const e=(0,o.C)(Me),t=(0,o.rb)(Ve);return()=>{e(),t()}})();return(0,o._8)((o=>{let{reset:i}=o;return async()=>{await ci(be.ExampleRepo.path)||ui||(ui=!0,e.showSticky({title:"Clone another repo",icon:r.createElement(I.vq,{icon:"actions/quickfixOffBulb.svg"}),body:"Git integration in the example app supports multiple repos within the same project. See it in action by cloning another repo",actions:r.createElement(r.Fragment,null,r.createElement(Ha.g,{onPress:()=>{t({title:`Cloning source repository ${be.ExampleRepo.url}`},{run:async t=>{let{setIndeterminate:r,setFraction:o,setSecondaryText:i}=t;await di({dir:be.ExampleRepo.path,url:be.ExampleRepo.url,onProgress:e=>{if(e.total){const t=e.loaded/e.total;o(t),i(`${e.phase}: ${Math.round(100*t)}% ${e.loaded}/${e.total}`)}else i(e.phase),r(!0)}}).then((()=>{a(),n()}),(t=>{e.show({icon:"Error",title:"Clone failed",body:`Failed to clone git repo "${be.ExampleRepo.url} into ${be.ExampleRepo.path}: ${t}"`})}))}})}},"Clone example-repo"))}))}}),[])};var hi=n(27499),pi=n(68316);const gi=(0,o.cn)({key:"ide.statusbar.showProgressPanel",default:!1}),Ai=(0,o.cn)({key:"ide.statusbar.tasksPopup",default:null});var fi=n(43557);const Ei=u.ZP.div.withConfig({displayName:"TasksPopup__StyledPopupTitle",componentId:"sc-rjwznj-0"})(["flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;margin:0 0.625rem;"]);function yi(){const e=(0,o.Zl)(gi),t=(0,o.sJ)(Fr),n=Dr(),[a,i]=(0,o.FV)(Ai);return r.createElement(Oa.GI,{bounds:a||{width:300,left:window.innerWidth-300-150,top:window.innerHeight-80*t.length-30-100},onBoundsChange:e=>{i(e)},minHeight:100,minWidth:300,nonDismissable:!0,interactions:"all"},r.createElement(Oa.GI.Layout,{header:r.createElement(Oa.GI.Header,{hasControls:!0},r.createElement(Ei,null,"Background Tasks"),r.createElement(F.a,{tooltip:r.createElement(da.u,null,"Hide")},r.createElement(vr.hU,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>e(!1)},r.createElement(I.vq,{icon:"general/hideToolWindow"})))),content:r.createElement(r.Fragment,null,t.map(((e,o)=>r.createElement(r.Fragment,{key:e.id},r.createElement(hi.ko,{style:{margin:".5rem 0.75rem"},name:e.title,isIndeterminate:e.progress.isIndeterminate,"aria-label":`Progress of ${e.title}`,details:e.progress.text||(e.progress.secondaryText?r.createElement(r.Fragment,null,"\xa0"):void 0),secondaryDetails:e.progress.secondaryText,value:e.progress.fraction,maxValue:1,button:e.isCancelable&&r.createElement(pi.b,{onPress:()=>n(e.id)})}),t[o+1]&&r.createElement(fi.lX,null)))))}))}function bi(e){return r.createElement(hi.ko,(0,m.Z)({dense:!0,namePosition:"side",width:146},e))}yi.__docgenInfo={description:"",methods:[],displayName:"TasksPopup"};const vi=u.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__Spacer",componentId:"sc-vrkr3d-0"})(["width:0.5rem;"]),Ci=u.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__StyledProgressBarButton",componentId:"sc-vrkr3d-1"})(["cursor:pointer;","{cursor:unset;}"],hi.ko.Container),wi=()=>{const e=(0,o.sJ)(Rr),t=(0,o.sJ)(Nr),n=Dr(),[a,i]=(0,o.FV)(gi);return(0,r.useEffect)((()=>{0===t&&i(!1)}),[t]),r.createElement(r.Fragment,null,e&&!a&&r.createElement(F.a,{tooltip:r.createElement(da.u,null,`${e.title}. Click to see all running background tasks.`)},r.createElement(Co.V,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>{i(!0)}},r.createElement(Ci,null,r.createElement(bi,{name:e.progress.text||e.title,isIndeterminate:e.progress.isIndeterminate,value:e.progress.fraction,maxValue:1,button:r.createElement(r.Fragment,null,e.isCancelable&&r.createElement(F.a,{tooltip:r.createElement(da.u,null,"Cancel")},r.createElement(pi.b,{small:!0,onPress:()=>n(e.id)})))})))),(t>1||a)&&r.createElement(r.Fragment,null,r.createElement(vi,null),r.createElement($e.r,{onPress:()=>i((e=>!e))},a?"Hide processes":"Show all"," (",t,")")),a&&t>0&&r.createElement(yi,null))};wi.__docgenInfo={description:'Intentionally, "processes" haven\'t been abstracted as an extension point for different features, since the focus\nhere is not to create an IDE, but to demo UI components.',methods:[],displayName:"StatusBarTaskProgressBar"};const ki=(0,o.nZ)({key:"vcs/activeFileRepo",get:e=>{var t,n;let{get:r}=e;const o=null==(t=r(Ne))?void 0:t.filePath;return(o&&r(Ge(o)))??(null==(n=r(Ve)[0])?void 0:n.dir)}}),Si=(0,o.nZ)({key:"vcs/activeFileRepoBranches",get:e=>{let{get:t}=e;const n=t(ki);return t(Zn(n))}}),Ii=(0,o.nZ)({key:"vcs/activeFileCurrentBranch",get:e=>{var t;let{get:n}=e;const r=null==(t=n(Ne))?void 0:t.filePath;return r?Yn(r):null}}),Bi=(0,o.nZ)({key:"vcs/activeFileRepoHead",get:async e=>{let{get:t}=e;const n=t(Ii);if(n)return{detached:!1,head:n};const r=t(ki);return{detached:!0,head:await(0,a.qq)({fs:ie,dir:r,ref:"HEAD"})}}});function Ti(){const e=Ee(Bi);return e&&r.createElement(F.a,{tooltip:r.createElement(R.M,{actionName:e.detached?"Git: Detached HEAD doesn't point to any branch":`Git Branch: ${e.head}`})},r.createElement(Ga.V,{icon:r.createElement(I.vq,{icon:e.detached?"general/warning.svg":"vcs/branch.svg"}),label:e.head.slice(0,e.detached?8:void 0)}))}Ti.__docgenInfo={description:"",methods:[],displayName:"BranchPopupTrigger"};const Fi=u.ZP.div.withConfig({displayName:"IdeStatusBar__StyledLastMessage",componentId:"sc-1hz1fp-0"})(["margin-left:0.75rem;cursor:pointer;"]),Ri=()=>{const e=(0,o.sJ)(Pe),t=mi();return r.createElement(Va.A,{left:r.createElement(r.Fragment,null,r.createElement(I.vq,{icon:"general/tbHidden.svg",role:"button",onClick:Ze}),r.createElement(Fi,null,"Tooltip content or last message will show up here.")),right:r.createElement(r.Fragment,null,r.createElement(wi,null),r.createElement(Ga.V,{onPress:Ze,label:"LF"}),r.createElement(Ga.V,{onPress:Ze,label:`${e.lineNumber},${e.column}`}),r.createElement(Ga.V,{label:"UTF-8"}),r.createElement(vo.b,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{onAction:Ze}),r.createElement(k.c,null,"Configure Indents for Typescript"),r.createElement(k.c,null,"Disable Indents Detection for Project"))}},((e,t)=>r.createElement(Ga.V,(0,m.Z)({},e,{ref:t,label:"2 spaces"})))),r.createElement(vo.b,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{onAction:Ze}),r.createElement(k.c,{title:"Compile"},r.createElement(k.c,null,"packages/jui/tsconfig.json"),r.createElement(k.c,null,"packages/jui/src/StatusBar/StatusBar.stories.tsx"),r.createElement(k.c,null,"Compile All")),r.createElement(Pn.i,null),r.createElement(k.c,null,r.createElement(T._,{icon:r.createElement(I.vq,{icon:"javaee/updateRunningApplication.svg"}),content:"Restart Typescript Service"})),r.createElement(k.c,null,r.createElement(T._,{icon:r.createElement(I.vq,{icon:"general/settings.svg"}),content:"Configure Typescript..."})))}},((e,t)=>r.createElement(Ga.V,(0,m.Z)({},e,{ref:t,label:"TypeScript 4.4.3"})))),r.createElement(Qa.q,{placement:"top",onOpenChange:e=>{e||setTimeout(t,500)},popup:e=>{let{close:t}=e;return r.createElement(ri,{onClose:t})}},r.createElement(Ti,null)),r.createElement(Ga.V,{icon:r.createElement(I.vq,{icon:"ide/readwrite.svg"})}),r.createElement(Ga.V,{icon:r.createElement(I.vq,{icon:"ide/fatalError.svg"})}))})};Ri.__docgenInfo={description:"",methods:[],displayName:"IdeStatusBar"};var Ni=n(6468);const Pi=()=>r.createElement(w.v2,{disabledKeys:["showDiff"],"aria-label":"Context menu",onAction:Ze},r.createElement(k.c,{key:"showDiff",textValue:"Show Diff"},r.createElement(T._,{icon:r.createElement(I.vq,{icon:"actions/diff.svg"}),content:"Show Diff"})));Pi.__docgenInfo={description:"",methods:[],displayName:"RollbackTreeContextMenu"};const xi=f.zo.div`
  box-sizing: border-box;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 0;
`,Di=f.zo.div`
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  flex: 1;
  overflow: auto;
`,_i=f.zo.div`
  line-height: 2;
  padding-left: 0.5rem;
`;function Li(){const e=(0,o.sJ)(an.initiallyExpandedKeys),t=(0,o.sJ)(an.initiallyIncludedChanges).map(qt),{fileCountsMap:n}=(0,o.sJ)(vn),[i,l]=(0,o.FV)(an.windowBounds),s=(0,o.sJ)(an.rootNodes),[d,u]=(0,r.useState)(new Set(t.slice(0,1))),[h,p]=(0,r.useState)(e),[g,A]=(0,r.useState)(new Set(t)),f=(0,Ni.T)({rootNodes:s,getKey:e=>e.key,getChildren:e=>Jt(e)?e.children:null},{selectedKeys:g,onSelectedKeysChange:A}),y=(0,o.sJ)(Mt).filter((e=>g.has(qt(e)))),b=(()=>{const e=Oe();return(0,o._8)((t=>async n=>{const{snapshot:r,set:o}=t,i=he(t),l=await Promise.all(n.filter((e=>!e.after.isDir)).map((async e=>{const t=await r.getPromise(Ge(e.after.path));return{repoRoot:t,fullPath:e.after.path,relativePath:_().relative(t,e.after.path)}}))),c=(0,_t.Z)((e=>{let{repoRoot:t}=e;return t}),l);await Promise.all(Object.entries(c).map((async t=>{let[n,r]=t;await(0,a.JE)({fs:ie,dir:n,force:!0,filepaths:r.map((e=>{let{relativePath:t}=e;return t}))}),await Promise.all(r.map((async t=>{let{fullPath:r,relativePath:o}=t;return await(0,a.us)({fs:ie,dir:n,filepath:o}),await i(r),e(r)})))}))),o(Lt,(e=>e.map((e=>({...e,changes:e.changes.filter((e=>!n.includes(e)))})))))}),[])})(),v=(0,c.L)(),S=(0,o.Zl)(an.isOpen),B=()=>S(!1),T=(0,r.useRef)(null),F=(0,ot.x)({treeRef:T});return r.createElement(ja.Du,{onClose:B,bounds:i,onBoundsChange:l,minHeight:200,minWidth:275},r.createElement(qa.b,{header:"Rollback changes",content:r.createElement(E.DG,{actions:F},(e=>{let{shortcutHandlerProps:t}=e;return r.createElement(xi,t,r.createElement("div",{style:{display:"flex"}},r.createElement(Er.o,null,r.createElement(vr.hU,{isDisabled:!0},r.createElement(I.vq,{icon:"actions/diff"})),r.createElement(yr.p,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(w.v2,(0,m.Z)({},t,{selectedKeys:[],onAction:Ze}),r.createElement(Cr.$0,{title:"Group By"},Wt.map((e=>r.createElement(k.c,{key:e.id},e.title)))))}},r.createElement(I.vq,{icon:"actions/groupBy.svg"}))),r.createElement("span",{style:{flex:1}}),r.createElement(Er.o,null,r.createElement(at.K,{actionId:it.$.EXPAND_ALL}),r.createElement(at.K,{actionId:it.$.COLLAPSE_ALL}))),r.createElement(Di,null,r.createElement(C.X,{renderMenu:()=>r.createElement(Pi,null),style:{height:"100%"}},r.createElement(Rn.G,{treeRef:T,items:s,selectionMode:"multiple",selectedKeys:d,onSelectionChange:u,expandedKeys:h,onExpandedChange:p,nestedSelection:f,fillAvailableSpace:!0},(e=>{var t;const o=gr({node:e,fileCountsMap:n});return r.createElement(k.c,o,0!==(null==(t=e.children)?void 0:t.length)&&r.createElement(Nn.x,{selectionState:f.getSelectionState(e),onToggle:()=>f.toggle(e)}),o.children)})))))})),footer:r.createElement(r.Fragment,null,r.createElement("div",{style:{padding:"0 .75rem",display:"flex",flexDirection:"column"}},r.createElement(_i,null,r.createElement(Ur,{changes:y})),r.createElement(Kr.X,{isDisabled:!0},"Delete local copies of the added files")),r.createElement(qa.b.Footer,{right:r.createElement(r.Fragment,null,r.createElement(Br.z,{onPress:B},"Cancel"),r.createElement(Br.z,{variant:"default",onPress:()=>{b(y).catch((e=>{v.show({title:"Reverting changes failed",icon:"Error",body:"Could not revert selected changes. See console for more info"}),console.error("Git revert error:",e)})).finally(B)}},"Rollback"))}))}))}Li.__docgenInfo={description:"",methods:[],displayName:"RollbackWindow"};const Mi=(0,o.cn)({key:"toolWindows",default:new Xe.iC(Object.fromEntries(Ma.map((e=>{let{id:t,initialState:n}=e;return[t,n]}))),{removedFromSideBarIds:Ma.filter((e=>{let{showStripeButton:t}=e;return!1===t})).map((e=>{let{id:t}=e;return t}))})});var Vi=n(24242),Gi=n(77305),Qi=n(61158),Oi=n(86094);const Ki=[{actionId:it.$.EXPAND_SELECTION,title:"Press $shortcut to expand selection"},{actionId:it.$.SHRINK_SELECTION,title:"Press $shortcut to shrink selection"}],Hi=()=>{const e=(0,l.og)(),t=(0,r.useMemo)((()=>Ki.map((t=>{var n;let{actionId:r,title:o}=t;return{keyboardShortcut:null==e||null==(n=e[r])?void 0:n.find((e=>"keyboard"===e.type)),title:o}})).filter((e=>{let{keyboardShortcut:t}=e;return t})).map((e=>{let{keyboardShortcut:t,title:n}=e;return n.replace("$shortcut",(0,Oi.W)(t))}))),[e]),[n,o]=(0,r.useState)(Math.floor(Math.random()*t.length));return{current:t[n],next:()=>{const e=Math.floor(Math.random()*(t.length-1)),r=e<n?e:e+1;console.log("changing index to",r,"tmpIndex",e),o(r)}}},Ui=r.forwardRef((function(e,t){const n=(0,qe.B3)(t),{focusableProps:o}=(0,Gi.kc)({autoFocus:e.autoFocus},n);return r.createElement("input",(0,m.Z)({},(0,qe.dG)(o,e),{ref:n}))}));Ui.__docgenInfo={description:"",methods:[],displayName:"Input"};const ji={isOpen:(0,o.cn)({key:"search.everywhere.isOpen",default:!1}),tab:(0,o.cn)({key:"search.everywhere.tab",default:"All"}),contextElement:(0,o.cn)({key:"search.everywhere.contextElement",default:void 0}),initialSearchQuery:(0,o.xu)({key:"search.everywhere.initialQuery",default:""}),bounds:(0,o.cn)({key:"search.everywhere.bounds",default:null})};function qi(e){let{hasContent:t,persistedBoundsState:n,noContentHeight:a,minHeight:i,...l}=e;const c=(0,o.Zl)(n),s=ye(n,{top:150,height:Math.max(200,window.innerHeight-300)}),[d,u]=(0,r.useState)(s),h=(0,r.useRef)(d.height);return(0,r.useEffect)((()=>{u((e=>({...e,height:t?h.current:a})))}),[t]),r.createElement(Oa.GI,(0,m.Z)({},l,{bounds:d,onBoundsChange:e=>{t&&(h.current=e.height,c(e)),u(e)},minHeight:t?i:a}))}qi.__docgenInfo={description:"A special type of popup, where the content can be toggled on and off. Needed only for SearchEveryWhere at the moment,\nbut extracted as a component, to collocate related pieces, rather than leave them with the rest of the code in the\ncomponent.\n- Updates persisted {@param boundsState}, when the bounds are changed, only if the content is shown when the bounds\n  is changed.\n- Minimizes the popup into {@param noContentHeight}, when {@param hasContent} is `false`.\n- Restores the popup height to it's latest value, or based on content, when {@param hasContent} changes to `true`.\n- Returns the right to be applied based on the input {@param minHeight} and {@param hasContent}.",methods:[],displayName:"ContentAwarePopup",props:{hasContent:{required:!0,tsType:{name:"boolean"},description:"Whether the popup has content. If `false`, the popup is minimized to `noContentHeight`."},noContentHeight:{required:!0,tsType:{name:"number"},description:"The minimized height of the popup, when there is no content."},persistedBoundsState:{required:!0,tsType:{name:"RecoilState",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]}],raw:"RecoilState<Partial<Bounds> | null>"},description:"Persisted state of the popup bounds, in form of a recoil state."}}};var $i=n(77629),Ji=n(35256),Zi=n(85392);const zi=f.zo.span`
  width: 0.9375rem;
  margin-right: 0.25rem;
  display: inline-flex;
  justify-content: center;
`,Wi=(0,f.zo)(Et.e)`
  min-height: 1.375rem;
  width: 100%;
  padding: 0;
`,Yi=f.zo.span`
  color: ${e=>{let{theme:t,isDisabled:n}=e;return n&&t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
`,Xi=f.zo.div`
  flex: 1;
`;function el(e){let{action:t,highlights:n}=e;const{isSelected:o}=(0,r.useContext)(bt.k)||{};return r.createElement(Wi,null,r.createElement(zi,null,t.icon),r.createElement(Yi,{isDisabled:t.isDisabled},o?r.createElement(Ji.x,{highlights:n},t.title):t.title),r.createElement(Et.e.Hint,{style:{fontSize:".85em",fontWeight:"bold"}},t.shortcut),r.createElement(Xi,null),r.createElement(Et.e.Hint,{style:{marginRight:"-0.375rem"}},function(e,t){let n=(0,Zi.nf)(e)?e.parent:null;const r=[];for(;n;)r.unshift(t?n[t]:n),n=n.parent;return r}(t,"title").join(" | ")))}el.__docgenInfo={description:"UI of actions in SearchEverywhere list",methods:[],displayName:"ActionItem",props:{action:{required:!0,tsType:{name:"Action"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:""}}};const tl={id:"Actions",title:"Actions",actionId:it.$.GO_TO_ACTION,use:e=>{let{everyWhereAutoSet:t}=e;const n=(0,o.sJ)(ji.contextElement),[a,i]=(0,r.useState)(null),l=(0,r.useMemo)((()=>n?(0,E.C9)(n):[]),[n]),c=a??t,s=[{id:it.$.SHOW_INTENTION_ACTIONS,title:"Assign a shortcut",actionPerformed:Ze}];return{search:e=>{const t=l.map((t=>({highlights:(0,$i.M)(t.title,e),action:t}))).filter((t=>{let{action:n,highlights:r}=t;return r||(0,$i.M)(n.description||"",e)}));return c?t:t.filter((e=>{let{action:t}=e;return!t.isDisabled}))},searchDeps:[c],isEverywhere:c,toggleEverywhere:()=>{i((e=>!e))},searchAdvertiser:r.createElement(yo.i,{actionId:it.$.SHOW_INTENTION_ACTIONS},(e=>`Press ${e} to assign a shortcut`)),headerFilters:r.createElement(Kr.X,{preventFocus:!0,isSelected:c,onChange:e=>{i(e)}},"Include disabled actions"),actions:s,processSelectedItem(e){let{action:t}=e;null==t||t.perform({event:null,element:n})},getKey:e=>{let{action:t}=e;return t.id},getItemText(e){let{action:{title:t}}=e;return t},renderItem(e){let{action:t,highlights:n}=e;return r.createElement(el,{action:t,highlights:n})}}}};var nl=n(65617);function rl(e){let{file:t,matches:n}=e;const{isSelected:o}=(0,r.useContext)(bt.k)||{},a=t.name,i=_().dirname(t.relativePath),[l,c]=(0,nl.Z)((e=>e.from>=i.length),n||[]),s=c.map((e=>{let{from:t,to:n}=e;return{from:t-i.length,to:n-i.length}}));return r.createElement(Wi,null,r.createElement(zi,null,r.createElement(I.vq,{icon:G(t.path)})),r.createElement(Yi,null,o?r.createElement(Ji.x,{highlights:s},a):a),r.createElement(Et.e.Hint,null,o?r.createElement(Ji.x,{highlights:l},i):i))}rl.__docgenInfo={description:"UI of paths in SearchEverywhere list.",methods:[],displayName:"FileItem",props:{file:{required:!0,tsType:{name:"ProjectFsItem"},description:""},matches:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:"matches on file.relativePath"}}};const ol={id:"Files",title:"Files",actionId:it.$.GO_TO_FILE,use:()=>{const e=(0,o._8)((e=>{let{snapshot:t}=e;return()=>t.getLoadable(ke).getValue()}),[]),{openPath:t}=De(),n=At();return{search:t=>e().map((e=>({matches:(0,$i.M)(e.relativePath,t),file:e}))).filter((e=>{let{matches:t}=e;return null==t?void 0:t.length})),searchDeps:[],isEverywhere:!0,processSelectedItem(e){let{file:r}=e;"file"===(null==r?void 0:r.type)&&t(r.path,!0),"dir"===(null==r?void 0:r.type)&&n(r.path)},getKey(e){let{file:t}=e;return t.path},renderItem(e){let{file:t,matches:n}=e;return r.createElement(rl,{file:t,matches:n})},getItemText(e){let{file:{relativePath:t}}=e;return t}}}},al="SearchEverywhere.PrevTab",il="SearchEverywhere.NextTab",ll=f.zo.div`
  display: flex;
  width: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Header.background")}};
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,cl=f.zo.button`
  all: unset;
  background: ${e=>{let{theme:t,selected:n}=e;return n&&t.color("SearchEverywhere.Tab.selectedBackground")}};
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Tab.selectedForeground")}};
  opacity: ${e=>{let{disabled:t}=e;return t&&".5"}};
`,sl=f.zo.span`
  display: flex;
  padding: 0 0.75rem;
  height: 1.8rem;
  align-items: center;
`,dl=f.zo.div`
  line-height: normal;
  border-bottom: none;
`,ul=f.zo.div`
  display: flex;
  flex-shrink: 0;
  height: 1.85rem;
  align-items: center;
  padding: 0 0.75rem 0;
  gap: 0.75rem;

  input {
    all: unset;
    flex: 1;
    line-height: 1.25;

    &::selection {
      color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}};
      background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
    }
  }
`,ml=f.zo.div`
  height: 24rem;
  flex: 1;
  min-height: 0; // for it to properly fill the remaining height and not to exceed that
`,hl=f.zo.hr`
  all: unset;
  height: 1px;
  width: 100%;
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,pl=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.infoForeground")}};
  white-space: nowrap;
`,gl=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("SearchEverywhere.SearchField.infoForeground"))}};
  font-size: 0.7rem;
  min-height: 1.375rem;
`,Al=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  position: absolute;
  text-align: center;
  width: 100%;
  top: 50%;
`,fl=[tl,ol],El={},yl="LOAD_MORE_ITEM_KEY";function bl(){const e=(0,o.Zl)(ji.isOpen),[t,n]=(0,o.FV)(ji.tab),[a,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)(ye(ji.initialSearchQuery(t))),s=(0,o.Zl)(ji.initialSearchQuery(t)),d=(0,yo.k)(),[u,h]=(0,r.useState)(new Set),p={};fl.forEach((e=>{p[e.id]={...e,...e.use({everyWhereAutoSet:a})}}));const g=fl.filter((e=>""===t||e.id===t)).map((e=>{let{id:t}=e;return p[t]})),[A,f]=(0,r.useState)(30),{searchResult:y}=(0,r.useMemo)((()=>({searchResult:g.flatMap((e=>e.search(l).map((t=>({key:`${e.id}_${e.getKey(t)}`,contributor:e,item:t})))))})),[l,t,...g.flatMap((e=>{let{searchDeps:t}=e;return t}))]),b=p[t],v=(0,r.useMemo)((()=>{const e=y.slice(0,A);return y.length>e.length&&e.push({key:yl,item:El,contributor:null}),e}),[A,y]),C=(0,r.useRef)(null);(0,r.useEffect)((()=>{l&&s(l)}),[l,t]),(0,r.useEffect)((()=>{if(y[0]){var e;const{key:t}=y[0];h(new Set([t])),null==(e=R.current)||e.setFocusedKey(t),requestAnimationFrame((()=>{var e;null==(e=R.current)||e.setFocusedKey(t)}))}f(30)}),[y]);const w=[{id:al,title:"Prev tab",description:"Switch to previous tab in Search Everywhere dialog",actionPerformed:()=>{var e;const r=fl.findIndex((e=>{let{id:n}=e;return t===n}));n(""===t?fl.slice(-1)[0].id:(null==(e=fl[r-1])?void 0:e.id)||"")}},{id:il,title:"Next tab",description:"Switch to next tab in Search Everywhere dialog",actionPerformed:()=>{var e;const r=fl.findIndex((e=>{let{id:n}=e;return t===n}));n((null==(e=fl[r+1])?void 0:e.id)||"")}}],S=fl.flatMap((e=>{let{id:r,actionId:o,title:a}=e;return o?[{id:o,title:`Find ${a}`,description:`Quickly go to ${a} by name`,actionPerformed:()=>{t!==r?n(r):null==b||null==b.toggleEverywhere||b.toggleEverywhere()}}]:[]})),B=()=>e(!1),T=(0,r.useRef)(null),R=(0,r.useRef)(null),{collectionSearchInputProps:N}=(0,sa.R)({collectionRef:T,selectionManager:R.current}),P=Hi();return r.createElement(qi,{persistedBoundsState:ji.bounds,hasContent:Boolean(l),noContentHeight:59,minWidth:670,minHeight:160,interactions:"all",onClose:B},r.createElement(E.DG,{actions:[...(null==b?void 0:b.actions)||[],...S,...w]},(e=>{let{shortcutHandlerProps:o}=e;return r.createElement("div",(0,m.Z)({},o,{style:{height:"inherit"}}),r.createElement(Oa.GI.Layout,{header:r.createElement(r.Fragment,null,r.createElement(Oa.GI.Header,{hasControls:!0},r.createElement(ll,null,r.createElement("div",{style:{flex:1}},r.createElement(Vi.m,{TabComponent:cl,TabsComponent:dl,selectedKey:t,onSelectionChange:e=>n(e)},r.createElement(k.c,{key:""},r.createElement(sl,null,"All")),fl.map((e=>{const t=d(e.actionId),n=r.createElement(sl,null,e.title);return r.createElement(k.c,{key:e.id},t?r.createElement(F.a,{tooltip:r.createElement(da.u,null,t)},r.createElement("span",null,n)):n)})))),null==b?void 0:b.headerFilters,r.createElement(vr.hU,{style:{margin:"0 0.5rem"},isDisabled:!0},r.createElement(I.vq,{icon:"actions/moveToLeftBottom"})))),r.createElement(ul,null,r.createElement(I.vq,{icon:"actions/search"}),r.createElement(Gi.MT,{contain:!0},r.createElement(Ui,(0,m.Z)({},N,{autoFocus:!0,onFocus:e=>{e.target.select()},value:l,onChange:e=>(e=>{const t=C.current&&e.includes(C.current);null!=b&&b.isEverywhere&&!t&&i(!1),c(e)})(e.currentTarget.value)}))),r.createElement(pl,null,null==b?void 0:b.searchAdvertiser))),content:r.createElement(r.Fragment,null,r.createElement(hl,null),l&&r.createElement(ml,null,r.createElement(Qi.a,{ref:T,selectionManagerRef:R,items:v,selectionMode:"single",showAsFocused:!0,shouldFocusWrap:!0,fillAvailableSpace:!0,selectedKeys:u,onSelectionChange:h,onAction:e=>{if(e===yl){f((e=>e+30));const e=y[v.length+1];e&&setTimeout((()=>{var t;h(new Set([e.key])),null==(t=R.current)||t.setFocusedKey(e.key)}))}else B(),setTimeout((()=>{const t=y.find((t=>t.key===e));null==t||t.contributor.processSelectedItem(t.item)}),50)}},(e=>{let{key:t,item:n,contributor:o}=e;return t===yl?r.createElement(k.c,{key:yl},r.createElement(gl,null,"...more")):r.createElement(k.c,{key:t,textValue:o.getItemText(n)},o.renderItem(n))})),0===y.length&&r.createElement(Al,null,"No actions with such name found"))),footer:r.createElement(Oa.GI.Hint,null,P.current," ",r.createElement($e.r,{onPress:P.next},"Next Tip"))}))})))}function vl(){const e=(0,o._8)((e=>{let{set:t}=e;return(e,n)=>{let{element:r}=e;r&&(t(ji.isOpen,!0),t(ji.tab,n),t(ji.contextElement,r))}}),[]);return[{id:it.$.GO_TO_ACTION,title:"Find Action",description:"Quickly navigate to action by name",actionPerformed:t=>{e(t,"Actions")}},{id:it.$.GO_TO_FILE,title:"Go to file",description:"Quickly navigate to file by name",actionPerformed:t=>{e(t,"Files")}}]}bl.__docgenInfo={description:"TODO: implement history navigation",methods:[],displayName:"SearchEverywherePopup"};const Cl=r.createContext(null),wl=()=>{const e=(0,r.useContext)(Cl);return{open:t=>{var n,r;null==e||null==(n=e.current)||n.changeState((e=>e.show(t))),null==e||null==(r=e.current)||r.focus(t)}}},kl=()=>{const e=(0,o._8)(Fn,[]),t=Qt();return[Bl(),Tl(),Fl(),{id:xn.ROLLBACK,title:"Rollback...",icon:r.createElement(I.vq,{icon:"actions/rollback.svg"}),actionPerformed:t=>{e(Boolean(t))}},{id:xn.REFRESH,title:"Refresh",icon:r.createElement(I.vq,{icon:"actions/refresh.svg"}),actionPerformed:t},{id:xn.SHOW_DIFF,title:"Show Diff",icon:r.createElement(I.vq,{icon:"actions/diff.svg"}),actionPerformed:Ze},{id:xn.SHELVE_SILENTLY,title:"Shelve Silently",icon:r.createElement(I.vq,{icon:"vcs/shelveSilent.svg"}),actionPerformed:Ze},{id:xn.SHELVE,title:"Shelve Changes...",description:"Save changes to an external patch file and remove them from the code",icon:r.createElement(I.vq,{icon:"vcs/shelve.svg"}),actionPerformed:Ze},...Nl()]},Sl=new Ln.C("{count, plural,\n    =1 {Commit File...}\n    other {Commit Files...}\n  }","en-US"),Il=new Ln.C("{count, plural,\n    =1 {Commit Directory...}\n    other {Commit Directories...}\n  }","en-US");function Bl(){const e=(0,o._8)(Tn,[]),t=wl(),n=(0,o.sJ)(Ie),r=(0,o.sJ)(ke),a=n.filter((e=>!n.find((t=>e!==t&&e.startsWith(t))))),i=r.find((e=>_().dirname(e.path).startsWith(a[0]))),l=(0,o.sJ)(Mt),c=a.some((e=>l.find((t=>function(e,t){const n=_().relative(e,t);return!n||!n.startsWith("..")&&!_().isAbsolute(n)}(e,t.after.path)))));return{id:xn.CHECKIN_FILES,title:i?Il.format({count:a.length}):Sl.format({count:a.length}),isDisabled:!c,actionPerformed:()=>{e(),t.open(oo),Xr()}}}function Tl(){const e=wl(),t=(0,o._8)((e=>{let{snapshot:t,set:n}=e;return()=>{const e=t.getLoadable(gn).getValue();let r=e.values().next().value;if(0===e.size){const e=t.getLoadable(Mt).getValue().map(qt);n(gn,new Set(e)),r=e[0]}if(r){const{rootNodes:e}=t.getLoadable(vn).getValue();n(En,new Set([...t.getLoadable(En).getValue(),...(0,Yt.Bp)((e=>Jt(e)?e.children:null),(e=>e.key),e,[r])])),n(dn,new Set([r]))}}}),[]);return{id:xn.CHECKIN_PROJECT,title:"Commit",actionPerformed:()=>{t(),e.open(oo),Xr()}}}function Fl(){const e=De(),t=(0,o.sJ)(hn);return{id:xn.JUMP_TO_SOURCE,title:"Jump to source",icon:r.createElement(I.vq,{icon:"actions/editSource.svg"}),actionPerformed:()=>{[...t].forEach(((t,n,r)=>{t.after.isDir||e.openPath(t.after.path,n===r.length-1)}))}}}const Rl=new Ln.C("Delete {count, plural,\n    =1 {Changelist}\n    other {Changelists}\n  }","en-US");function Nl(){const e=(0,o.sJ)(pn),t=(0,o.sJ)(hn),n=(0,o._8)((e=>{let{set:t,snapshot:n}=e;return e=>{const r=n.getLoadable(Lt).getValue(),o=r.find((t=>{let{id:n}=t;return n===e}));o&&t(Lt,r.map((e=>({...e,active:e===o}))))}}),[]),a=[...e].filter((e=>!e.active)),i=[{id:xn.NEW_CHANGELIST,title:"New Changelist...",description:"Create new changelist",icon:r.createElement(I.vq,{icon:"general/add.svg"}),actionPerformed:Ze}];return 1===e.size&&i.push({id:xn.RENAME_CHANGELIST,title:"Edit Changelist...",description:"Edit name and description of selected changelist",icon:r.createElement(I.vq,{icon:"actions/edit.svg"}),actionPerformed:Ze}),a.length>0&&i.push({id:xn.REMOVE_CHANGELIST,title:Rl.format({count:a.length}),description:"Remove changelist and move all changes to another",icon:r.createElement(I.vq,{icon:"general/remove.svg"}),actionPerformed:Ze}),1===a.length&&i.push({title:"Set Active Changelist",description:"Set changelist to which new changes are placed by default",id:xn.SET_DEFAULT_CHANGELIST,icon:r.createElement(I.vq,{icon:"actions/selectall.svg"}),actionPerformed:()=>{n(a[0].id)}}),t.size>0&&i.push({title:"Move to Another Changelist...",description:"Move selected changes to another changelist",id:xn.MOVE_TO_ANOTHER_CHANGELIST,actionPerformed:Ze}),i}const Pl=f.zo.div`
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 1rem 0.875rem 0.25rem;
  gap: 0.6rem;
`,xl=f.zo.div`
  margin-left: -0.25rem; // to align with the field. Maybe something to look into in checkbox.
  display: flex;
  gap: 0.75rem;
`,Dl={EXISTING:e=>r.createElement(r.Fragment,null,"Branch name ",e," already exists. ",r.createElement("br",null),"Change the name or overwrite existing branch"),CLASHING_WITH_REMOTE:e=>r.createElement(r.Fragment,null,"Branch name ",e," clashes with remote branch ",r.createElement("br",null),"with the same name")};function _l(e){var t;let{close:n}=e;const[i,l]=(0,r.useState)(!0),[s,d]=(0,r.useState)(!1),u=(0,o.sJ)(Si),[m,h]=(0,r.useState)(!1),p=(0,c.L)(),g=(0,o._8)((e=>{let{refresh:t}=e;return function(e,n,r){return void 0===r&&(r=!0),(0,a.WY)({fs:ie,dir:e,checkout:r,ref:n}).then((()=>{t(Zn(e))}))}}),[]),A=null==(t=u.currentBranch)?void 0:t.name,[f,E]=(0,r.useState)(A||""),y=$a(u,f),b=!y||"EXISTING"===y&&s,v=!b&&m?"invalid":"valid";return r.createElement(ja.Du,{minWidth:"content",minHeight:"content"},r.createElement(qa.b,{header:"Create New Branch",content:r.createElement(Pl,{id:"create_branch_form",as:"form",onSubmit:e=>{e.preventDefault(),b?g(u.repoRoot,f,i).catch((e=>{e instanceof a.D1.AlreadyExistsError?p.show({icon:"Error",title:"Unimplemented action",body:"Overwrite option is currently not supported."}):p.show({icon:"Error",title:"Unexpected error",body:`Could not create branch ${f}.`}),console.error("Branch creation error: ",e)})).then((()=>{n()})):h(!0)}},r.createElement(Ua.U,{autoFocus:!0,autoSelect:!0,value:f,onChange:e=>{E(Za(e)),h(!0)},validationState:v,errorMessage:"invalid"===v&&y&&Dl[y](f),label:"New branch name:",labelPlacement:"above"}),r.createElement(xl,null,r.createElement(Kr.X,{isSelected:i,onChange:l},"Checkout branch"),r.createElement(Kr.X,{isSelected:s,isDisabled:!m||"EXISTING"!==y,onChange:d},"Overwrite existing branch"))),footer:r.createElement(qa.b.Footer,{right:r.createElement(r.Fragment,null,r.createElement(Br.z,{onPress:n},"Cancel"),r.createElement(Br.z,{variant:"default",type:"submit",form:"create_branch_form",isDisabled:"invalid"===v},"Create"))})}))}function Ll(){const e=(0,d.U)(),t=(0,s.S)();return[...kl(),{id:xn.GIT_CREATE_NEW_BRANCH,title:"New Branch\u2026",description:"Create new branch starting from the selected commit",icon:r.createElement(I.vq,{icon:"general/add.svg"}),actionPerformed:()=>{t.open((e=>{let{close:t}=e;return r.createElement(_l,{close:t})}))}},{id:xn.GIT_BRANCHES,title:"Branches\u2026",icon:r.createElement(I.vq,{icon:"vcs/branch.svg"}),actionPerformed:()=>{e.show((e=>{let{close:t}=e;return r.createElement(ri,{onClose:t})}))}},{id:xn.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH,title:"Navigate Log to Selected Branch Head",useShortcutsOf:"SelectIn",icon:r.createElement(I.vq,{icon:"general/locate.svg"}),actionPerformed:()=>{Ze()}}]}_l.__docgenInfo={description:"",methods:[],displayName:"CreateNewBranchWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};var Ml=n(22215);const Vl={attributeNamePrefix:"@",ignoreAttributes:!1,isArray:(e,t)=>"project.component"===t},Gl={format:!0,attributeNamePrefix:"@",ignoreAttributes:!1};async function Ql(e){const t=new Ml.XMLParser(Vl);if(!await ie.promises.exists(e))return null;const n=await ie.promises.readFile(e,{encoding:"utf8"}),r=t.parse(n);return r.project=r.project||{},r.project.component=r.project.component||{component:[]},r}async function Ol(e,t){const n=new Ml.XMLBuilder(Gl).build(t);await ae(ie.promises,_().dirname(e)),await ie.promises.writeFile(e,n)}const Kl={[jn.WORKSPACE_FILE]:"workspace.xml"};function Hl(e){let{children:t}=e;const n=_().join((0,o.sJ)(Ce).path,".idea"),a=(0,r.useRef)({}),i=e=>_().join(n,Kl[e]||e),l=e=>{const t=i(e);return a.current[t]||(a.current[t]=Ql(t)),a.current[t]};return(0,r.useEffect)((()=>{l(jn.WORKSPACE_FILE)}),[]),r.createElement(Un.J1,{storeKey:"ProjectWorkspace",read:async e=>{const[t,n]=e.split("|"),r=await l(t);return null==r?void 0:r.project.component.find((e=>{let{"@name":t}=e;return t===n}))},write:async e=>{let{diff:t}=e;const n=(0,_t.Z)((e=>{let{storageFile:t}=e;return t}),[...t.entries()].map((e=>{let[t,n]=e;const[r,o]=t.split("|");return{storageFile:r,componentName:o,value:n}})));for(const r in n){const e=n[r],t=await Ql(r)||{"?xml":{"@version":"1.0","@encoding":"UTF-8"},project:{"@version":"4",component:[]}};for(const{value:n,componentName:r}of e){const e=t.project.component,o=e.findIndex((e=>{let{"@name":t}=e;return t===r})),a="function"==typeof n?n(e[o]||null):n;e.splice(o,o>=0?1:0,{"@name":r,...a})}await Ol(i(r),t)}}},t)}function Ul(){const e=xr();return[{id:"AddTestProcessAction",title:"Add Test Process",actionPerformed:()=>{e({title:"Test process",isCancelable:!0},(async(e,t)=>{let{setText:n,setSecondaryText:r,setFraction:o}=e;n("Welcome!"),await(0,ne.qf)((function*(){for(let e=0;e<1e3;e++)n(ql(e)),o(e/1e3),yield jl(100),r("Bla bla bla")}))(t)}))}}]}async function jl(e){return new Promise((t=>setTimeout(t,e)))}function ql(e){return e/10==Math.round(e/10)?"":"Found: "+Math.round(e/20)+1}Hl.__docgenInfo={description:"",methods:[],displayName:"PersistentStateProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const $l=f.zo.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
`,Jl=e=>{let{height:t,toolWindowRef:n}=e;const[a,i]=(0,o.FV)(Mi),l=(0,o.sJ)(an.isOpen),s=(0,o.sJ)(ji.isOpen);(()=>{const e=Ke();(0,r.useEffect)((()=>{e().catch((e=>{console.error("could not initialize VCS file statuses",e)}))}),[])})(),(()=>{const e=Qt();(0,r.useEffect)((()=>{e().catch((e=>console.error("could not initialize changes",e)))}),[e])})(),function(){const e=(0,c.L)(),t=xr();(0,r.useEffect)((()=>{const n=setTimeout((()=>{null==le.get()&&e.showSticky({title:"Switch to IndexedDB filesystem",body:"By default an in-memory filesystem is used to have a faster git clone. But it means all changes will be lost upon refresh. You can switch in the background to a persistence fs implementation which uses IndexedDB to store files.",actions:r.createElement(r.Fragment,null,r.createElement(Ha.g,{onPress:()=>{t({title:"Switching to IndexedDB FS",isCancelable:!0},(async(e,t)=>{let{setIndeterminate:n,setText:r}=e;r("Copying ..."),n(!0),await se({cancelSignal:t,onCopy:e=>{r(`Copying ${_().dirname(e)}`)}}).then((()=>{le.set("yes")})).catch((()=>{}))}))}},"Switch to IndexedDB FS"),r.createElement(Ha.g,{onPress:()=>le.set("no")},"Don't ask again"))})}),3e3);return()=>clearTimeout(n)}),[])}(),Je.value=(0,c.L)();const d=[...vl(),...Ll(),...Ul()];return r.createElement(Hl,null,r.createElement($l,{style:{height:t}},r.createElement(E.DG,{actions:d,useCapture:!0},(e=>{let{shortcutHandlerProps:t}=e;return r.createElement(r.Fragment,null,r.createElement(y.u,{ref:n,toolWindowsState:a,onToolWindowStateChange:e=>{i(e)},windows:Ma,containerProps:t},r.createElement(ze,null)),r.createElement(Ri,null))})),s&&r.createElement(bl,null),l&&r.createElement(Li,null)))};Jl.__docgenInfo={description:"",methods:[],displayName:"Project",props:{height:{required:!0,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},toolWindowRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"ToolWindowRefValue"}],raw:"RefObject<ToolWindowRefValue>"},description:""}}};const Zl={ActivateProjectWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit1",modifiers:["Meta"]}}],ActivateCommitWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit0",modifiers:["Meta"]}}],ActivateVersionControlWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit9",modifiers:["Meta"]}}],ActivateTerminalWindow:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Alt"]}}],[xn.ROLLBACK]:[{type:"keyboard",firstKeyStroke:{code:"KeyZ",modifiers:["Alt","Meta"]}}],[xn.SHOW_DIFF]:[{type:"keyboard",firstKeyStroke:{code:"KeyD",modifiers:["Meta"]}}],[xn.SHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyH",modifiers:["Meta","Shift"]}}],[xn.UNSHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyU",modifiers:["Meta","Alt"]}}],[al]:[{type:"keyboard",firstKeyStroke:{code:"Tab",modifiers:["Shift"]}}],[il]:[{type:"keyboard",firstKeyStroke:{code:"Tab"}}],[xn.RENAME_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"F2"}}],[xn.MOVE_TO_ANOTHER_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyM"}}],[xn.SET_DEFAULT_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}],[xn.REMOVE_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}],[xn.CHECKIN_PROJECT]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyK"}}],[xn.FOCUS_TEXT_FILTER]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyL"}}],SafeDelete:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Backspace"}}]};window.git=a.ZP,window.fs=ie,window.path=D,window.http=i.Z;const zl=e=>{let{height:t}=e;const n=(0,r.useRef)(null);return r.createElement(A,null,r.createElement(ue,null,r.createElement(si,null,r.createElement(l.ur,{keymap:Zl},r.createElement(o.Wh,null,r.createElement(c.a,{disablePortal:!0},r.createElement(s.f,null,r.createElement(d.q,null,r.createElement(Cl.Provider,{value:n},r.createElement(Jl,{height:t,toolWindowRef:n}))))))))))};zl.__docgenInfo={description:"Example app root component. It expects ThemeProvider to be provided based on where it's rendered.",methods:[],displayName:"App",props:{height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""}}};const Wl=zl}}]);
//# sourceMappingURL=5166.83a0dffa.js.map