(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["6422"],{75422:function(e,t,n){"use strict";let r,i,o,a,s,l,c,d,u;n.r(t),n.d(t,{default:()=>hE,App:()=>hC});var h,p,m=n("21023"),f=n.n(m),g=n("2784"),A=n("31128"),x=n("47040"),y=n("63631"),j=n("69190"),v=n("37044"),w=n("76826"),b=n("63981"),C=n("40145"),E=n("82540"),S=n("52761"),D=n("44668"),I=n("42181"),P=n("61741"),k=n("28266"),T=n("88089"),R=n("89349"),B=n("32396"),N=n("47386"),O=n("39472"),F=n("79532"),L=n("57385"),_=n("17560"),M=n("90046"),G=n("30775"),K=n("28818"),H=n("36588"),$=n("2533"),V=n("29362"),U=n("1554"),z=n("6771"),Q=n("2362");let q="fileTypes/text",W="nodes/folder",Y={editorconfig:"nodes/editorconfig",js:"fileTypes/javaScript",gitignore:"vcs/ignore_file",archive:"fileTypes/archive",as:"fileTypes/as",config:"fileTypes/config",css:"fileTypes/css",dtd:"fileTypes/dtd",hpr:"fileTypes/hprof",htaccess:"fileTypes/htaccess",html:"fileTypes/html",idl:"fileTypes/idl",java:"fileTypes/java",jfr:"fileTypes/jfr",json:"fileTypes/json",jsp:"fileTypes/jsp",jspx:"fileTypes/jspx",manifest:"fileTypes/manifest",properties:"fileTypes/properties",txt:"fileTypes/text",wsdl:"fileTypes/wsdlFile",xhtml:"fileTypes/xhtml",xml:"fileTypes/xml",xsd:"fileTypes/xsdFile",yaml:"fileTypes/yaml"},Z=e=>Y[J(e)]||q,J=e=>e.split(".").pop()||"";function X(e,t){return void 0===t&&(t=f().sep),function e(t,n,r){void 0===r&&(r=[]);let i=f().dirname(t);return i!==n?[i].concat(e(i,n,r)):r}(e,t)}var ee=n("72516"),et=n("52322");let en=e=>(0,et.jsx)(ee.E,{...e,src:"data:image/gif;base64,R0lGODlhEAAQAPejANra2tHR0cjIyNjY2NnZ2dLS0tbW1rS0tM/Pz7KyssnJydfX19TU1M3Nzby8vK+vr8HBwcTExLi4uMbGxsrKyrW1tcvLy9PT06mpqcPDw87OzqWlpaysrKKiorGxsZ2dnb29vbu7u8XFxaqqqszMzL+/v9XV1bOzs8LCwsfHx6SkpI6Ojrm5ucDAwLq6up6enpubm76+vpKSkp+fn9DQ0JaWlmRkZJqamn9/f6ioqK6urre3t6urq6ampq2trZOTk5iYmEBAQKenp4mJiba2tpGRkYaGhqOjo7CwsICAgJWVlXR0dNvb26CgoJmZmaGhoXd3d1hYWGtra1lZWY+Pj4KCgoyMjG1tbZCQkJeXlzk5OVBQUG5ubnFxcZycnISEhGhoaE1NTYqKinV1dVtbW42NjV5eXk9PT2JiYjw8PIWFhVpaWj09PUtLS3h4eFNTU2dnZ0hISEpKSk5OTmxsbGlpaTg4OHx8fIiIiEdHR1VVVXZ2dl9fX1xcXEVFRUZGRnNzc4ODg3BwcFZWVpSUlH19fWpqakJCQjc3NzQ0NHt7ez4+PouLi29vb2NjY1JSUoGBgXl5eWZmZlFRUWFhYV1dXUFBQX5+foeHh0RERGVlZXp6emBgYENDQzU1NTY2NklJSVRUVHJyctvb2wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQCjACwAAAAAEAAQAAAIvQBHCRylQeCMOQMTDmyw6MOoMokEolCgUKCNOAEgjkLggeJAHhxGgVhUZUUiABJ2ABi1QKCbTGBA/Dgh0AALBAWIjGgJ4MUkPQQSMpkwgsOEhAVAVNQQY4BADE6cAKkosIXVCTa2aKU66oPXHgMvpKhIg0hLgQA2OFpS0QGhGy0E4iBTKIOPGAIbZCFBQsUPGqNGHBjVgA4WDFBMiHE4KoBCKlc0jIAyaoeauAoHSDkSmDKADyyoalhZARPVgAAh+QQFBQCjACwAAAAAEAAQAAAItABHCRyFQGAHPQMTDtSQ58moImkE7iGkUKCULQ8j8vCkJOGDB6NK5MEkI82COXMEDhCI40yXElkqCEyhJ8AFBx5WjupAxoxCAAoSnFCgsERFGhkG6njBtKJAESIiUODSp6rTUTmyghwooGIBBzoFjmiEoyKEFxsiCBwCxsiEBBAEIuigAYGPFwVGPZBA0M2NB18M1Ogh8IJCIIpoIPkyyoEMtQoJuBkxarHAHjGc0hDoQobTgAAh+QQJBQCjACwAAAAAEAAQAAAIuABHCRxFQ+CGSgMTDkTwZsOoGn8EKsqiUOAYMgUgjvLBBkjCEydGoXizIkvEQXoGjGogcEifTSg+SBAogMwDB5zsaBCYA46hikUQHfI48AKKiglwFBx1YsMGFRUFKhAgoIEiKVijjvLAdcdABhYqMjiaEEkhRhVFYHggQOAPKDIUSBAhMACPAAEqYGAwqgKIUQGMHCEiY0EHJAL5JnyCJ8AOGaMgvGhb0YiHUY8FPsgQNYDAEh+iBgQAIfkECQUAowAsAAAAABAAEAAACLcARwkcOEqAEIIIBdaQMMrLFIEYaCQcVUXKAhgPD+R5QHDBhIJ8YDgkQEkSwgN1GFFw8oKChBBhQkCgY2SghzFSJA4MMCTIGSQEDTBESGWFCYEkeIwYgSChgqIrIlTAQVVEwh1Bglj6MHABioQkBAAgyELMEAMECYhIsKPpKAlfmiCQUKEACRIcTDBw0EKgAQqjGPzwEKLDAB8sJo7iUMOAgw6jUuQIMPEAhFGPBU4YoFhggQgTAwIAIfkEBQUAowAsAAAAABAAEAAACL8ARwkcVUDgA1EDEw4sQOfBqA5mBA5polAgHkAMII468OZJQgchRqW44uWImQFg4AwYhUDgDShUUmAoIdDClQotuMhpCeAEpCoEEgK4IefNjIQmUlQkMqTgKAcJPHioKPCH1Q0yjGilOoqN1zcDDbRUCKFKgIEAQtSgqLAGokw3BPaQsUEDCgsCGbhgEILPpwyjSogYdeHFAQgYBhwAIXBwwgRNGKDAMEqBBw0VCcxgPHkUAAd4KzIAMErA1IoBAQAh+QQFBQCjACwAAAAAEAAQAAAIugBHCRzFQGCFKgMTDryAg8goHl0E/sihUGANNSYgjmKhieJACBBGUUjSQ6ObPQRG0RAoRMwHCgkyCGxwh0WGTWsCCAxR5AcAhR3WUNqQ0ICFii6KDMzgwgWLigJv3HAy4gmQq1BHtdnKZ+CCAhUzDAErkAmKDT4q3jh0ZobABB08BBCAQCCENSBAwLEUYZQICqNMcHCQ4kAAP2gETlAYQoeBwqOc2BFSEQCHvgIOjCIABwZUAwJJuIAaEAAh+QQFBQCjACwAAAAAEAAQAAAIuABHCRxlQmCIFQMTDmSwwsGoBEkEfnigUGCHHwYgjoqxhOLACSJGNVih40QSAmqqCCwgEAkQIQ1YpBCIAA+ICUbAsGQC4cWMihjqcOGRcIGGijGcXBCYokWLEhUFPmnSRAcHFVijjorC1dDAAUsVisCiMMWDChVnzFmjQiALDiwuWAggEAWaEiUEhZkwSkGDUQYqoCijZVQYr6MEKIRQIQXhUR8OjYhaQfGKwqOu/Ky4gMCoGY+iBgQAIfkEBQUAowAsAAAAABAAEAAACLYARwkcZUBgCSADEw404aTFqB1WBKo4oFAghg+jJESEkITiQAUKRiFwUkHjKCplBF4QSKTDAwQxKAgMUASCACpLVo6KICRHRR1jIiFJOIBGRQhNGAikEKFpRYE9Nmw4cYKD1aejbGgdk1CpwhQ1dC6tEKLikSk2MAiMcSIGAy8JBEaoAwEClCgCRpFAMEpAmkZYghQY1EVgyISCFgkoEmRUkzY+Ki5II2YUY4FLOjzNO6pDlKcBAQAh+QQFBQCjACwAAAAAEAAQAAAIsgBHCRy1QGCEDQMTDlzQQ8SoGDAE6gihUOABDAsgjpqAxUXCBiRGBRDioETEDzcEMhAIwoeEAhEaCCzwQoQFGF9WjlKQIEHFCmqG7FBYoKIIDCYENhDAtKJEHy5dVJjqdNSSq4EGBkBRkcIMnaMAZPEzpeKIOoAeCISjBY2DGQcEThgTIUIgMBRGecGw88+eGmFGOboj0IJCKHkUAB7VY43Pin6ojMoSeNSlHE7zMnbkNCAAIfkEBQUAowAsAAAAABAAEAAACLIARwkcOEqAD4IIBepQMCqDCoEHSiQcxQLJAIejFMCQOFCDhlEXHkBwCGDDEQCjTAiEcADEhRQIBDIQIqCBCiwqAVjYISGhiyI/QhAMcCGhACQGBHZYwXTiqBMnEoDYoqWq0yRYyxDMkNBCD5UDb7Qxk/DBmEsHBNIJAibGkR0CBeCYMMHKEhKjZvAYRWHLHRhRLlxRI7ABwkKTLAAeNUITkYQDzhAatRiAkYNdBY64MjEgACH5BAUFAKMALAAAAAAQABAAAAi3AEcJHDVAoIUTAxMOHHDAwqgJHAS6yKBQYAwiDyOSUEFxYI4co0IciABxlI6IowwIFISITwgKAQSaeGABAY8bKkcB8QOq4EAmJbx8aKHQRUUKRBYIVCFDRpGKAiVIbTEoiFWoo6xozTKwQISKDTjkFPgilKSKByANYSEQkJxGLYSwHUUBjwAFSpJoGHVExygLU740scHAzQqBexMGIkPiiY1RD7oYrTjFySjHAlckgEpCoA4oUAMCACH5BAUFAKMALAAAAAAQABAAAAitAEcJHKVBYAMJAxMObGAHxigFCQTGmKBQIKdOASAS5EFxIAYMoxzYwaHxQMSES9jYcIDFg0ADBxoESHBkIAw5ZypmONIjg8IQFRu4GChEidGKAkGAcBChUpynSEcZVTIjoYiKCFwmfELmSkUJjGQ4EBjp0R4UI8aOsoCFgoUPYhCMEuKSBBoxKriYqKJEIA2FQ2w02MBl1Ik7IJCieTGKsMAaRJA2ADAqAQ6kAQEAOw==",darkSrc:"data:image/gif;base64,R0lGODlhEAAQAPe2AEZGRkdHR09PT0lJSX19fVBQUIWFhXx8fEtLS11dXVhYWFJSUlFRUXNzc0pKSnd3d2JiYl5eXltbW1VVVUxMTHl5eU5OToqKil9fX1xcXIGBgWBgYG1tbYKCgldXV4iIiI2NjXBwcGdnZ0hISFRUVHZ2dlpaWmRkZFlZWWhoaGVlZWNjY2xsbGFhYZeXl3p6epqampubm3R0dFNTU3Jyck1NTYCAgGZmZnh4eH9/f7CwsM3NzVZWVqSkpJ2dnX5+fpGRkWpqao+Pj5OTk3FxcW5uboaGhpCQkPHx8YeHh29vb2tra4SEhLy8vJKSkmlpadLS0o6Ojrm5uYODg5iYmIyMjOHh4XV1dZWVlYmJiZaWlsLCwnt7e6urq+zs7LW1tampqebm5qGhoaenp97e3sjIyNTU1Pn5+ZycnODg4Lu7u7Kysre3t7+/v/X19cbGxtnZ2YuLi8vLy66urqCgoNjY2MrKyqamptbW1pSUlOnp6aioqM7OzqKioqysrNra2qWlpcXFxaqqqvT09MfHx+fn58TExK+vr7i4uMzMzOTk5LGxsfb29kVFRcDAwOvr69XV1b29vZ6env7+/rq6usPDw9fX17a2tujo6Pr6+vv7+9DQ0J+fn+/v78HBweLi4qOjo62trbOzs76+vs/Pz5mZme3t7erq6rS0tNvb2/Dw8P39/eXl5dHR0e7u7tPT093d3dzc3N/f3+Pj48nJyfz8/EVFRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQC2ACwAAAAAEAAQAAAIvABtCbQ1Q+AHKwMTDiQx6IKtGJMEikigUKAdTAUg2ppAgOLAFy9s3Rg0BiIAGVcA2HIgUJQrQzew0BCIgMYEBjIMsASQJU2qEQkbtWCiYUNCASIqTggyQOABIUeOVBR4Q4SICHKsaJ1qC4hXIwMtZKi4gAZLgQA6JKJUMUiMITcEhsKjY0OFuLZ4YPHg4QOaBbYIzJwQCMYPKRR6CBHIQCGaLSQO21IiSEXFEYYMBJZiC0AUDlNJqAwxZmpAACH5BAUFALYALAAAAAAQABAAAAitAG0JtLVAoIE/AxMOnPHIiC0XjAR+yaNQ4JY0DyNyWTUk4YMHtk6c6gNxgBUrCv18inQCiBKBEv7MEFDkwACDkFopBBDhwIsMClVUnCFUII4LSCsKhMBUgiMzUJXaSkL1R0ITFQuwuDmQgKM5FVUI+QBBIKgydxLIKGuLxAUSJHIcKWDrAQdbM9gAwdEFARUDAgUoHPJlwYMutoL4aKGUjdXDBkUoLWiLRQylAQEAIfkECQUAtgAsAAAAABAAEAAACLgAbQm0xUCgBigDEw5cQKaDLSdeBB46olCgFDMCINrCMUhIQho0bLUggwZIxD9/BtgiIRAUpDUQ4rAQaAJKiRQ7Ms0QmINWoAAKXWjq5HGgBQgVG3QpaKvBlClMKgqMQFUBqjdYpdoiwPXKwBoKKgq4obDEmj4VNzD5kUBgKSkwTBTBIHCBjQULShiwYItGCoJgkhDx4aDKAYF8E2a5UyCED1sqjmSoGGDPA1uOBR5AWrGAwBtFFQYEACH5BAkFALYALAAAAAAQABAAAAi3AG0JHGhLgg2CCAUO4WCrSh2BBBgktAWmkgMQD4k8KkFwQIKCm0A4HLGDEEIiZegoOHJBAYsUip60cNRjYAlKhiQOLEAHiRUZBBEUSQgjBgKBPAgoXZAQRSkYMDAQ0UE1QkIOSJCoujDQAYSEJjAEIMiixx0HBEdAOFBigkAlfi7MUNJAgAIFGmoI4PBEIAIUtizEwMECxAgNISba+kGFwhIQtiIYYZpQxglbjwVuGKBYYIGvCQMCACH5BAUFALYALAAAAAAQABAAAAi5AG0JtCVA4IMmAxMOLFDpgS0jUASKSaJQYA81NQxEJELGSMInQWxlqARC44g3ZUbYWiDwCCIfGX6oEOjBU4gTbTCxBNBgjp8ACQFEKUTmQ0IKGSoWEVNA4JMSUCsKxIJFi4YYYLJKteWma6yBCGZUbLGnqUAAS6hUqehEkykQAg34MDLhhAKBFogIeEKq1gZbIv5aOFJChYEBFTgIjKDwAYgahkUS8FAxgJCQkQFwkCDVAgBbCbhIDQgAIfkEBQUAtgAsAAAAABAAEAAACLgAbQm0ZUFgCD8DEw60sCiELQJtBGrJoVCiIAoQbbFIRHHgihO2UOjocCDiJSkCGQhkAkiIgistBE5Ys2TDGksqbS3xEaOiETx8NCREoKBiECoCBK7gwKFIRYFRogg5EMeF1ae2CmndNNBBzoQYxCQdeCJLx4QgOln5ILACiAoLIkwQCMHMjRuEVEWw1UKCrRodOGx4wcCLHIEZFBaxQQHDC1tRMp1NqGGFLce2Aryp8pSCQBQ0ngYEACH5BAUFALYALAAAAAAQABAAAAi5AG0JtEVBYAoqAxMOpBBDhC0aYwQakaFQoAEtCIhEPLGI4sAECWxNgFFCYwA6fQLYEiDwgRMbE1hIELgAzQkJPpqwtHUizgUACl+o+VIioQMSFVdkqSEwgQoVNyoK1ECVRo4PWKXassOVzcABOxNKAGJhYCMMBDwm1ACF0AGBIWyEKGBiQdNRLVosemXCVgYPthBUSOEkjAAolwQqUJgCB4rCtqaQKaoQQAUMtiDbWqNBKgKVNnZIDQgAIfkEBQUAtgAsAAAAABAAEAAACKcAbQkcaEsEFoIIBWq5YStED4EGGiS01QGIA4e2VuiQODBDBlsktMhQ8lCSGIQNQBwg8cSEQAYxVgiMNLCFEQMJKwh8QHDAjIkEJUBYIXNihw5TGlQ42gHojqeUCFpImGEIwgw4QiRkUifRD4EsuHAQEIcjBkMQIHyBI8GWCR5u3USigsRWqiYCUSBUM8gEXVtJwuBIOIARJ1su6tqSwmSiS1sG8EwMCAAh+QQFBQC2ACwAAAAAEAAQAAAIswBtCbTlQGCLDwMTDkTwYYOtJ3kEcmGhUOADJg8jYuBEcaACBbYYfGCRIuKRIQJrCGShoQGDFTwECoiCQQGQLiobJeDCpSINQXdCKGRQEYMNCgI9RFhaUeCLF1w40KhAtamtJli7DGTQoiKKCyoFAjjiBU9FAoSa4BAY6IwcER+E2kqACAMGMGVAXiBgC8WpS04U2dqhI6nCL3pQBLalwVKDpo9g2AIi2NacH01B2rIhp2lAACH5BAUFALYALAAAAAAQABAAAAiwAG0JHGgrQQ6CCG05sJHAlooLAq+ISGiLCIEBJyBKyDNxIA8etgrYEJHRVpIsAikITPGCQ4ENJARaMJCBxwc6KgGYKHElIQdJMZYQZFAgYYYKCAQagMGUoi0ZV648SXOmqlMdWMUMfJnQwxSVA0GwIpUQh5pFDQQ6QhJIBZMiAiUcSpCAThOQSV7YUvDpEAg4FraMETgB4Zw0Hv7aOiBHCcVZWGwptnVHb1eBB7ZQDAgAIfkEBQUAtgAsAAAAABAAEAAACLYAbQm0NUCgBBwDEw4cUMGErRYdBCpZoVAghwe2NkREcYHiwB8/bKWosEKjrRwaANhCILCJJj4pEswQWIMAChI5sLC0JcRLmBEKUwwBciNhgSAVUTRwILCDi6cVJSpRogIOkqtRbfXY6iIhhooTDuwUmAVWmYoNDgEqIlAKplEnbCwRiAKQBBMudEywxQSjB0t7PuyowUaSQBIK9+DhkWSHrQdt5lasI8RWY4E+rkTlIRAHoqgBAQAh+QQFBQC2ACwAAAAAEAAQAAAIrgBtCbQ1Q6CCBgMTDpyQqYqtCAcEBtmgUCAfUwwg2vIwheLAAxFFnBEEEUCFFwoRubEjggpCWxQeeFhQwaHAKmHSVDwR58MKhSkqeigyMMeQoxUlBlkCAYqep0ltwZgaZaCABBVJPFBoBJKnikV6oAkiUJQsNhAIBN3oA4WCKIAK2pBhi8cOMVO2UAilReAChX0STchrqwGqtQlH8Llgq8MWWwCwEEk6QaCMOUkDAgA7"});en.__docgenInfo={description:"",methods:[],displayName:"LoadingGif"};var er=n("42615");let ei=new WeakMap,eo=new WeakSet;function ea(e,t){let n=(0,Q.cn)(0),r=(0,Q.cn)((t,r)=>{t(n);let i=new Set,o=e(function(){let e=arguments.length<=0?void 0:arguments[0];return eo.has(e)&&i.add(e),t(...arguments)},r);return ei.set(o,i),o},function(e,i){for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];if(0===a.length){let t=e(r);for(let e of ei.get(t)??[])i(e);i(n,e=>e+1)}else if(t)return t(e,i,...a)});return eo.add(r),r}var es=n("22633"),el=n("42378"),ec=n.n(el);async function ed(){return await em(e=>{es.FileSystem.InMemory.Create({},e)})}async function eu(e){void 0===e&&(e="bfs-local-fs");let t=await em(t=>{es.FileSystem.IndexedDB.Create({storeName:e},t)});return await new Promise(e=>t.init(t.store,e)),t}function eh(e){es.initialize(e);let t=es.BFSRequire("fs");return t.promises=ec()({...t,exists:(e,n)=>t.exists(e,e=>n(null,e))}),t}let ep=e=>{let t=new(es.BFSRequire("fs")).FS;return t.initialize(e),t};function em(e){return new Promise((t,n)=>{e((e,r)=>{if(e||!r)return n(e);t(r)})})}var ef=n("67481");async function eg(e){let{source:t,target:n,cancelSignal:r,...i}=e;await eA(r,{...i,source:ec()(t),target:ec()(n),rootDir:"/"})}let eA=(0,ef.qf)(function*(e,t){let{source:n,target:r,rootDir:i,onCopy:o,force:a}=t;for(let s of yield n.readdir(i)){let l=f().join(i,s),c=yield n.stat(l);if(c.isFile()||c.isSymbolicLink()){if(!a&&(yield ex(r,l)))return;o?.(l);let e=yield n.readFile(l);yield ey(r,f().dirname(l)),yield r.writeFile(l,e)}else c.isDirectory()?yield eA(e,{...t,rootDir:f().join(i,s)}):console.warn("unsupported file system item skipped, when copying:",c)}}),ex=async(e,t)=>await e.exists(t)&&!(await e.stat(t)).isDirectory();async function ey(e,t){let n=await e.stat(t).catch(e=>"ENOENT"!==e.code&&Promise.reject(e));if(!1===n){let n=f().dirname(t);n!==f().dirname(n)&&await ey(e,n),await e.mkdir(t).catch(e=>"EEXIST"===e.code?Promise.resolve():Promise.reject(e))}else if(!n.isDirectory())throw Error(`path is not a directory, but already exists: ${t}`)}let ej=e=>r.promises.stat(e).catch(()=>null),ev=(i="demo_app_use_persistent_fs",{get:()=>localStorage.getItem(i),set:e=>localStorage.setItem(i,e)});async function ew(e){let{onCopy:t=console.log,cancelSignal:n}=void 0===e?{}:e;if(!(r.getRootFS()instanceof es.FileSystem.InMemory)){console.log("Already on persistent fs. Nothing to do.");return}console.log("Creating IndexedDB FS"),console.time("creating db");let i=await eu();await eg({source:r,target:await ep(i),cancelSignal:n,force:!0,onCopy:t}),console.timeEnd("creating db"),eh(i),console.log("FS switched to IndexedDB backend",i)}let eb=function(e){let t,n="pending",r=e.then(e=>{n="success",t=e},e=>{n="error",t=e});return{read:()=>{switch(n){case"pending":throw r;case"error":throw t;default:return t}}}}(("yes"===ev.get()?eu():ed()).then(eh).then(e=>(window.fs=e,r=e)).catch(e=>{throw console.log("could not initialize FS:",e),e})),eC=e=>{let{children:t}=e;return eb.read(),t},eE=async e=>{let t;try{t=await r.promises.readdir(e)}catch(e){return null}return(await Promise.all(t.map(t=>{let n=`${e}/${t}`;return r.promises.stat(n).then(e=>({...e,type:e.isDirectory()?"dir":"file",filePath:n}))}))).map(e=>({type:e.type,name:(0,m.basename)(e.filePath),path:e.filePath,lastModification:e.mtimeMs,size:e.size}))},eS=(0,er.xu)(e=>{let t=ea(()=>eE(e));return t.debugLabel=`DirContent(${e})`,t}),eD=(e,t)=>async e=>{await t(eI(e))},eI=(0,er.xu)(e=>{let t=async()=>e?await r.promises.exists(e)?r.promises.readFile(e,{encoding:"utf8"}):null:"",n=(0,er.wm)(t);return(0,Q.cn)(async e=>e(n),async function(i,o){let a=(arguments.length<=2?void 0:arguments[2])??"";if((arguments.length<=2?0:arguments.length-2)==0)return o(n,t());o(n,Promise.resolve(a)),e&&await r.promises.writeFile(e,a??"","utf8").catch(e=>{console.error("failed to sync the file back to the fs",e)})})});var eP=n("98738"),ek=n("23949"),eT=n("91924");function eR(e){return Array.isArray(e)?1===e[1]?["DELETED","NOT_CHANGED","MODIFIED"][e[2]]:0===e[1]&&0!==e[3]?"ADDED":"UNKNOWN":"modified"===e||"*modified"===e?"MODIFIED":"deleted"===e||"*deleted"===e?"DELETED":"added"===e?"ADDED":"unmodified"===e?"NOT_CHANGED":"UNKNOWN"}var eB=n("22215"),eN=n("59118"),eO=n("90187"),eF=n("14129");let eL=e=>{let{path:t}=e;return!t.split("/").includes(".git")},e_={path:"/workspace/jui",url:"https://github.com/alirezamirian/jui.git"},eM={name:"Workspace",path:"/workspace"},eG=(0,Q.cn)(eM),eK=(0,er.xu)(e=>(0,Q.cn)(t=>f().join(t(eG).path,e))),eH=(0,Q.cn)(async e=>{let t=e(eG);return e(e$(t.path))}),e$=(0,er.xu)(e=>(0,Q.cn)(async t=>{let n=await t(eS(e)),r=[],i=async n=>{if("dir"===n.type){if(eL(n)){let e=await t(eS(n.path));e&&e.forEach(i)}}else r.push({...n,relativePath:f().relative(e,n.path)})};return await Promise.all((n||[]).map(e=>i(e))),r})),eV=(0,Q.cn)([]),eU=(0,Q.cn)(e=>e(eV).length>0),ez=(h=[],o=null,function(e,t){void 0===t&&(t="unknown");let n=function(e,t){let n=(0,C.oR)(void 0),r=(0,C.b9)(e);return(0,g.useCallback)(t=>{let i=n.get(e),o="function"==typeof t?t(i):t;return o!==i&&r(o),o},[C.b9,n])}(eV),r=(0,g.useRef)();return(0,g.useEffect)(()=>{o===r.current&&n(t=>(0,eO.Z)(e,t)?t:e)},[e]),(0,eF.L)({onFocusWithin:t=>{r.current=t.currentTarget,o=t.currentTarget,n(e)},onBlurWithin:e=>{!(e.relatedTarget instanceof Element&&e.relatedTarget?.closest("[data-overlay-container], [role=menu]"))&&n(h)}}).focusWithinProps}),eQ=(0,Q.cn)((0,g.createRef)()),eq=(0,Q.cn)((0,g.createRef)()),eW=(0,Q.cn)((0,g.createRef)()),eY=((p={}).WORKSPACE_FILE="$WORKSPACE_FILE$",p.PRODUCT_WORKSPACE_FILE="$PRODUCT_WORKSPACE_FILE$",p.NON_ROAMABLE_FILE="other.xml",p),eZ=(0,er.xu)(e=>(0,Q.cn)(t=>{let n=f().join(t(eG).path,".idea");switch(e){case eY.PRODUCT_WORKSPACE_FILE:case eY.WORKSPACE_FILE:return f().join(n,"workspace.xml");case eY.NON_ROAMABLE_FILE:return f().join("/user/test/.JUIExample2025.1","options",e);default:return f().join(n,e)}})),eJ=(0,er.xu)(e=>{let t;let n=(0,Q.cn)(null),i=(0,Q.cn)(t=>e6(t(eZ(e)))),o=null;return(0,Q.cn)(e=>e(n)??e(i),async(a,s,l)=>{let c=a(eZ(e)),d=a(n)??await a(i);s(n,e=>l(e??d)),null!==o&&clearTimeout(o),t||(t=ey(r.promises,f().dirname(c))),o=setTimeout(()=>{t.then(()=>{var e;return s(eI(c),(e=a(n),new eB.XMLBuilder(e2).build(e)))})},1e3)})});function eX(e,t){let n=(0,Q.cn)(t),r=function(e){let{storageFile:t=eY.WORKSPACE_FILE,componentName:n,schema:r,...i}=e,o="write"in i?i.write:e=>e,a="read"in i?i.read:eN.Z;return(0,Q.cn)(async e=>{let i=await e(eJ(t)),o=i?.project.component.find(e=>e["@name"]===n),s=r.safeParse(o);return s.error&&console.error(`Error parsing persisted state for component ${n} in file ${t}:`,s.error),await a(s.data)??void 0},async(e,r,i)=>{if("update"===i.type)return r(eJ(t),e=>{let{value:t}=i,r=[...e.project.component],a=r.findIndex(e=>e["@name"]===n);return r.splice(a,a>=0?1:0,{"@name":n,...o(t,r[a])}),{...e,project:{...e.project,component:r}}})})}(e),i=(0,ek.v)((e,t)=>{e.peek(r).then(e=>{void 0!==e&&t(n,e)})});return(0,Q.cn)(e=>{e(i);let o=e(n);return t||void 0!==o?o:e(r)},async(e,t,i)=>{let o="function"==typeof i?i(await e(n)):i;t(n,o),await t(r,{type:"update",value:o})})}eX({componentName:"test",storageFile:"test.xml",schema:eT.z.object({whatever:eT.z.number()}).optional(),read:e=>({x:e?.whatever??2}),write:(e,t)=>({...t,whatever:e.x})},{x:2}),eX({componentName:"test2",storageFile:"test.xml",schema:eT.z.object({y:eT.z.number()})},{y:3});let e0="__cdata",e1={attributeNamePrefix:"@",ignoreAttributes:!1,cdataPropName:e0,isArray:(e,t)=>"project.component"===t},e2={format:!0,attributeNamePrefix:"@",cdataPropName:e0,ignoreAttributes:!1},e5={"?xml":{"@version":"1.0","@encoding":"UTF-8"},project:{"@version":"4",component:[]}};async function e6(e){let t=new eB.XMLParser(e1);if(!await r.promises.exists(e))return e5;let n=await r.promises.readFile(e,{encoding:"utf8"}),i=Object.assign({...e5},t.parse(n));return i.project.component=i.project.component??[],i}let e4=e=>eT.z.union([e,e.array()]).transform(e=>Array.isArray(e)?e:[e]),e7=(e,t)=>{let n=e4(e);return eT.z.object({[t]:n})},e3=async e=>{let{filepath:t,...n}=e;return A.ZP.statusMatrix({...n,filepaths:[t]}).then(e=>e[0])},e8=()=>Promise.all(["/workspace/jui","/workspace"].map(async e=>{if(await r.promises.exists(e))return A.ZP.findRoot({fs:r,filepath:e}).catch(()=>null)})).then(e=>[...new Set(e.filter(e=>null!=e))].map(e=>({dir:e,vcs:"Git"}))),e9=eX({componentName:"VcsDirectoryMappings",schema:eT.z.object({mapping:e4(eT.z.object({"@directory":eT.z.string(),"@vcs":eT.z.enum(["Git"])})).optional()}).optional(),storageFile:"vcs.xml",read:e=>e?.mapping?.map(e=>({dir:e["@directory"],vcs:e["@vcs"]}))??e8(),write:(e,t)=>({...t||{},mapping:e?.map(e=>{let{vcs:t,dir:n}=e;return{"@directory":n,"@vcs":t}})??[]})},[]),te=(0,er.xu)(e=>(0,Q.cn)(()=>(0,A.AY)({fs:r,filepath:e}).catch(()=>null))),tt=async e=>{console.time(`statusMatrix ${e}`);let t=await (0,A.ks)({fs:r,dir:e});console.timeEnd(`statusMatrix ${e}`);let n={};return t.forEach(e=>{n[e[0]]=eR(e)}),n},tn=(0,er.xu)(e=>{let t=(0,Q.cn)({});return(0,ek.j)(t,(n,r)=>{tt(e).then(e=>{r(t,e)})})}),tr=(0,er.xu)(e=>(0,Q.cn)(!1)),ti=(0,Q.cn)(e=>e(e9).some(t=>{let{dir:n}=t;return e(tr(n))})),to=(0,er.xu)(e=>ea(async t=>{let n=await t(te(e));if(n){let i=m.relative(n,e),o=t(tn(n));return o[i]||console.log("file status missing in repo status state, fetching individually",e),o[i]??eR(await e3({fs:r,dir:n,filepath:i}))}return"NOT_CHANGED"})),ta=async(e,t,n)=>{let i=await e(te(n));if(i){let e=m.relative(i,n),o=await A.ZP.statusMatrix({fs:r,dir:i,filepaths:[e]});t(tn(i),t=>{let n={...t};return 0===o.length&&delete n[e],o.forEach(e=>{n[e[0]]=eR(e)}),n})}},ts=()=>(0,eP.lV)(ta),tl=async(e,t)=>{e(e9)?.forEach(e=>{let{dir:n}=e;t(tr(n),!0),tt(n).then(e=>{console.log("setting repo status for git dirs:",n,e),t(tn(n),e)}).finally(()=>{t(tr(n),!1)})})},tc=()=>(0,eP.lV)(tl);var td=n("78943");let tu=e=>{let t=(0,td.Fg)();switch(e){case"MODIFIED":return t.dark?"#6897bb":"#0032a0";case"ADDED":return t.dark?"#629755":"#0a7700";case"DELETED":return t.dark?"#6c6c6c":"#616161";case"UNKNOWN":return t.dark?"#d1675a":"#993300"}},th=e=>tu((0,C.Dv)((0,er.Wg)(to(e)))??"NOT_CHANGED"),tp=e=>{let{children:t,filepath:n}=e,r=th(n);return(0,et.jsx)("span",{style:{color:r},children:t})},tm=e=>{let{children:t,status:n}=e,r=(0,td.Fg)().currentForegroundAware(tu(n));return(0,et.jsx)("span",{style:{color:r},children:t})};tp.__docgenInfo={description:"",methods:[],displayName:"FileStatusColor"},tm.__docgenInfo={description:"",methods:[],displayName:"StatusColor"};var tf=n("89076");let tg={value:null};function tA(){tg.value?.show({icon:"Warning",title:"Unimplemented action",body:"This action is not implemented yet.",actions:et.jsx(et.Fragment,{children:et.jsx(tf.r,{onPress:tA,children:"Read more..."})})})}var tx=n("26357"),ty=n("79955");let tj=y.zo.div.attrs({tabIndex:-1})`
  display: flex;
  flex-direction: column;
  height: inherit;
  justify-content: center;
  padding: 0 25%;
  font-size: 1rem;
  outline: none;
`,tv=y.zo.div`
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
`,tw=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.linkForegroundEnabled}};
`;function tb(){return(0,et.jsxs)(tj,{"data-testid":"EditorZeroState",children:[(0,et.jsx)(tC,{actionId:tx.$.GO_TO_FILE}),(0,et.jsx)(tC,{actionId:tx.$.GO_TO_ACTION})]})}function tC(e){let{actionId:t}=e,n=(0,ty.k)(),r=(0,I.BH)(t);return(0,et.jsxs)(tv,{children:[r?.title,(0,et.jsx)(tw,{children:n(t)})]})}tb.__docgenInfo={description:"",methods:[],displayName:"EditorZeroState"};var tE=n("34273"),tS=n.n(tE),tD=n("48813");let tI="PasteMultiple",tP="Generate",tk={EXPAND_REGION:"ExpandRegion",EXPAND_REGION_RECURSIVELY:"ExpandRegionRecursively",EXPAND_ALL_REGIONS:"ExpandAllRegions",EXPAND_ALL_TO_LEVEL:"ExpandToLevel",EXPAND_ALL_TO_LEVEL1:"ExpandToLevel1",EXPAND_ALL_TO_LEVEL2:"ExpandToLevel2",EXPAND_ALL_TO_LEVEL3:"ExpandToLevel3",EXPAND_ALL_TO_LEVEL4:"ExpandToLevel4",EXPAND_ALL_TO_LEVEL5:"ExpandToLevel5",COLLAPSE_REGION:"CollapseRegion",COLLAPSE_REGION_RECURSIVELY:"CollapseRegionRecursively",COLLAPSE_ALL_REGIONS:"CollapseAllRegions",COLLAPSE_DOC_COMMENTS:"CollapseDocComments",TOGGLE_FOLDING:"ToggleFolding",EDITOR_LANG_POPUP_MENU:"EditorLangPopupMenu",CompareClipboardWithSelection:"CompareClipboardWithSelection"};function tT(e){return e.event?e.event?.type?.includes("key")?"keyboard":"mouse":""}var tR=n("35848"),tB=n("68811");let tN=(0,Q.cn)((e,t)=>{let{setSelf:n}=t;return e=>function(){let{get:t,set:r}=n();for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return e(t,r,...o)}},(e,t)=>({get:e,set:t})),tO=(0,ek.j)((0,Q.cn)([]),(e,t)=>{e.peek(eH).then(n=>{t(tO,(0,tR.Z)([(0,tB.Z)(t=>t.path===e(eK("README.md"))),(0,tB.Z)(e=>e.path.endsWith(".ts")),(0,tB.Z)(e=>e.path.endsWith(".js"))],n.filter(e=>"file"===e.type)).filter(e=>!e.path.includes(".idea")).slice(0,12).map(e=>({filePath:e.path,editorState:{cursorPos:{lineNumber:0,column:0}}})))})}),tF=(0,Q.cn)(0),tL=(0,Q.cn)(e=>{let t=e(tO);return t[e(tF)]||t[0]||null}),t_=(0,Q.cn)(new z.Ly(0,0)),tM=(0,Q.cn)(null),tG=function(e,t,n,r){void 0===r&&(r=!0);let i=e(tO),o=i.findIndex(e=>e.filePath===n),a=e=>{t(tF,e)};if(o>-1)a(o);else{let e=i.length;t(tO,e=>[...e,{filePath:n,editorState:{cursorPos:{lineNumber:0,column:0}}}]),a(e)}r&&setTimeout(()=>{e(tM)?.focus()})},tK=(e,t,n)=>t(tO,e=>e.filter((e,t)=>t!==n)),tH=(e,t,n)=>{let r=e(tO).findIndex(e=>e.filePath===n);r>-1&&(tK(e,t,r),t(tF,Math.max(r-1,0)))},t$=(e,t,n)=>{t(tO,e=>e.filter((e,t)=>t===n))},tV=(e,t,n)=>{let r=e(tO).length;n>=0&&n<r&&t(tF,n)},tU=(e,t)=>{e(tM)?.focus()},tz=(a=(e,t)=>{let{getCallback:n}=t;return{openPath:n(tG),closeTab:n(tK),select:n(tV),focus:n(tU),closeOtherTabs:n(t$),closePath:n(tH)}},(0,Q.cn)((e,t)=>{let n=e(tN);return a(e,Object.assign(t,{getCallback:n}))})),tQ=()=>(0,C.Dv)(tz),tq=()=>[(0,C.Dv)(tO),(0,C.Dv)(tz)];var tW=n("54695");let tY=JSON.parse('{"nG":[{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#808080"}},{"scope":"constant.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["constant.numeric"],"settings":{"foreground":"#6897BB"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#FFC66D"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#BABABA"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.heading","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#A9B7C6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#FFC66D"}},{"scope":"meta.preprocessor","settings":{"foreground":"#CC7832"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9876AA"}},{"scope":"meta.diff.header","settings":{"foreground":"#CC7832"}},{"scope":"storage","settings":{"foreground":"#ff0000"}},{"scope":"storage.type","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["keyword.other.phpdoc.php","keyword.other.type.php","storage.type.class.jsdoc","entity.name.type.instance.jsdoc","variable.other.jsdoc"],"settings":{"foreground":"#808080"}},{"scope":"storage.modifier","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"string","settings":{"foreground":"#6A8759"}},{"scope":"string.tag","settings":{"foreground":"#6A8759"}},{"scope":"string.value","settings":{"foreground":"#6A8759"}},{"scope":"string.regexp","settings":{"foreground":"#6A8759"}},{"name":"JavaScript string interpolation ${}","scope":["punctuation.definition.template-expression.begin.js","punctuation.definition.template-expression.begin.ts","punctuation.definition.template-expression.end.ts","punctuation.definition.template-expression.end.js"],"settings":{"foreground":"#A9B7C6"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.property","support.variable.property.dom","entity.other.inherited-class"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.object","variable.other.object.property","support.class.dom","meta.function-call","entity.name.type.module"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable.other.readwrite","variable.other.constant.ts","variable.parameter","variable.other.readwrite.alias"],"settings":{"foreground":"#A9B7C6"}},{"scope":"keyword","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.operator","settings":{"foreground":"#A9B7C6"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],"settings":{"foreground":"#CC7832"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.metatag.php","punctuation.section.embedded.end.metatag.php"],"settings":{"foreground":"#CC7832"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9876AA"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Source Python","scope":["source.python"],"settings":{"foreground":"#A9B7C6"}},{"name":"Magic function python","scope":["support.function.magic.python"],"settings":{"foreground":"#9876AA"}},{"name":"Self keyword python","scope":["variable.language.special.self.python","variable.parameter.function.language.special.self.python"],"settings":{"foreground":"#9876AA","fontStyle":""}},{"name":"Function declarations Python","scope":["entity.name.function.python","meta.function-call.generic.python"],"settings":{"foreground":"#FFC66D"}},{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#FFC66D"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references","scope":["support.class","entity.name.class","support.type","entity.name.type"],"settings":{"foreground":"#FFC66D"}},{"name":"Arrow Function","scope":["storage.type.function.arrow"],"settings":{"foreground":"#A9B7C6"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Variable and parameter name","scope":["meta.definition.variable.name","support.variable"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable"],"settings":{"foreground":"#9876AA"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key","meta.object-literal.key entity.name.function"],"settings":{"foreground":"#9876AA"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}}]}').nG.flatMap(e=>{let{scope:t,settings:n}=e;return[].concat(t).flatMap(e=>e.split(" ")).map(e=>{let t={token:e};return Object.keys(n).forEach(e=>{let r=n[e];r&&(t[e]=r)}),t})}),tZ=()=>{let e=(0,tW.useMonaco)(),t=(0,td.Fg)(),[n,r]=(0,g.useState)(void 0);return(0,g.useLayoutEffect)(()=>{if(e){let n=`jui-theme-${t.name.replace(" ","")}`,i=t.dark?"#dcdcdc":"#000";e.editor.defineTheme(n,{base:t.dark?"vs-dark":"vs",inherit:!0,colors:t.dark?{"editor.background":"#2B2B2B","editor.lineHighlightBackground":"#323232","editorLineNumber.foreground":"#606366","editorActiveLineNumber.foreground":"#a4a3a3","editorIndentGuide.background":"#373737","editorIndentGuide.activeBackground":"#505050","editorGutter.background":t.dark?"#313335":"#f0f0f0","editorBracketHighlight.foreground1":i,"editorBracketHighlight.foreground2":i,"editorBracketHighlight.foreground3":i,"editorBracketHighlight.foreground4":i,"editorBracketMatch.background":"#43454b","editorBracketMatch.border":"#00000000"}:{},rules:tY}),r(n)}},[e,t]),n},tJ=(0,y.zo)(tW.default).attrs(e=>({theme:e.$theme}))`
  .monaco-editor {
    .margin-view-overlays .line-numbers {
      text-align: left;
      padding-left: 7px;
    }

    .scrollbar .slider {
      border-radius: 0.25rem;
    }
  }
`,tX=e=>{let t=tZ();return(0,et.jsx)(et.Fragment,{children:t&&(0,et.jsx)(tJ,{...e,options:{minimap:{enabled:!1},lineHeight:22,showFoldingControls:"always",guides:{indentation:!0},overviewRulerBorder:!1,fontFamily:"JetBrains Mono",fontSize:13,scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:8,verticalSliderSize:8,horizontalSliderSize:8,horizontal:"auto",vertical:"visible",alwaysConsumeMouseWheel:!1},...e.options},$theme:t})})};function t0(e,t,n){return(t.has(n)?t:t.set(n,e())).get(n)}tX.__docgenInfo={description:"Monaco Editor styled to look like Intellij Platform's editor.\nTODO:\n - folding controls appearance is different and should be changed\n - highlighting pairs of parens, brackets, etc. is different.\n - context menu look different.\n - selection look different.\n - BUG: height is more than necessary. Needs investigation first.",methods:[],displayName:"Editor"};let t1=new WeakMap,t2=(e,t,n)=>{let r=t0(()=>"object"==typeof n?new WeakMap:new Map,t1,t);return t0(e,r,n)},t5={};function t6(e,t){return t2(()=>{let n=(0,Q.cn)(async t=>({value:await t(e),isLoading:!1})),r=(0,er.Wg)(n,e=>{let n=void 0===e?t:e.value;return void 0!==n?{value:n,isLoading:!0}:void 0});return(0,Q.cn)(e=>e(r)??e(n))},e,t??t5)}let t4=t6((0,Q.cn)(async e=>{let t=e(tL);return{...t,content:await e(eI(t?.filePath??null))}})),t7=()=>{let[e,t]=tq(),n=(0,g.useRef)(),[r,i]=(0,g.useState)(!1),[o,a]=(0,g.useState)(null),s=(0,I.BH)(P.xm),l=(0,C.b9)(t_),{value:{content:c,filePath:d},isLoading:u}=(0,C.Dv)(t4),h=(0,k.d)({closePath:t.closePath,closeOthersTabs:t.closeOtherTabs}),p=(0,C.b9)(tM),f=(0,C.b9)(eI(d??null)),A=ts(),x=function(e){let t=(0,tD.w)(),n=e.current,r=n?.getSelection(),i=r?n?.getModel()?.getValueInRange(r):"";return t({id:"EditorPopupMenu",title:"Editor Popup Menu",description:"Editor Popup Menu",children:[t({id:"ShowIntentionsGroup",title:"Show Intentions Group",isSearchable:!1,menuPresentation:"section",children:[{id:"ShowIntentionActions",title:"Show Context Actions",icon:(0,et.jsx)(O.vq,{icon:"actions/intentionBulbGrey.svg"}),actionPerformed:()=>{tA()}}]}),i?{id:tx.$.COPY,title:"Copy",icon:(0,et.jsx)(O.vq,{icon:"actions/copy"}),actionPerformed:()=>{let e=n?.getSelection(),t=e?n?.getModel()?.getValueInRange(e):"";t&&tS()(t)}}:null,{id:tx.$.PASTE,title:"Paste",icon:(0,et.jsx)(O.vq,{icon:"actions/menu-paste"}),actionPerformed:()=>{n?.focus(),n?.trigger("keyboard","editor.action.clipboardPasteAction",{})}},t({id:"Copy.Paste.Special",title:"Copy / Paste Special",description:"Copy / Paste Special Editor Actions",menuPresentation:"submenu",children:[{id:tx.$.COPY_REFERENCE,title:"Copy Reference",description:"Copy reference to selected class, method or function, or a relative path to selected file",actionPerformed:()=>{tA()}},{id:tI,title:"Paste from history",description:"Paste from recent clipboards",actionPerformed:()=>{tA()}}]}),"divider",t({id:"FoldingGroup",title:"Folding",menuPresentation:"submenu",children:[{id:tk.EXPAND_REGION,title:"Expand",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.unfold",{})}},{id:tk.EXPAND_REGION_RECURSIVELY,title:"Expand Recursively",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.unfoldRecursively",{})}},{id:tk.EXPAND_ALL_REGIONS,title:"Expand All",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.unfoldAll",{})}},"divider",{id:tk.COLLAPSE_REGION,title:"Collapse",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.fold",{})}},{id:tk.COLLAPSE_REGION_RECURSIVELY,title:"Collapse Recursively",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.foldRecursively",{})}},{id:tk.COLLAPSE_ALL_REGIONS,title:"Collapse All",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.foldAll",{})}},"divider",t({id:tk.EXPAND_ALL_TO_LEVEL,title:"Expand all to level",menuPresentation:"submenu",children:[1,2,3,4,5].map(t=>({id:tk[`EXPAND_ALL_TO_LEVEL${t}`],title:`${t}`,actionPerformed:n=>{e.current?.trigger(tT(n),`editor.foldLevel${t}`,{})}}))}),"divider",{id:tk.COLLAPSE_DOC_COMMENTS,title:"Collapse Doc Comments",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.foldAllBlockComments",{})}},"divider",{id:tk.TOGGLE_FOLDING,title:"Toggle Folding",actionPerformed:t=>{e.current?.trigger(tT(t),"editor.toggleFold",{})}}]}),t({id:"EditorLangPopupMenu",title:"EditorLangPopupMenu",menuPresentation:"section",children:[{id:tP,title:"Generate...",actionPerformed:()=>{tA()}}]}),"divider",{id:tk.CompareClipboardWithSelection,title:"Compare with Clipboard",description:"Compare current selection with clipboard",icon:(0,et.jsx)(O.vq,{icon:"actions/diffWithClipboard.svg"}),actionPerformed:()=>{tA()}}].filter(e=>null!=e)})}(n),y=function(e){void 0===e&&(e=""),i(!1),f(e),d&&A(d).catch(e=>{console.error("Could not update file status",e)})},j=ez(d?[d]:[]);return(0,et.jsx)(I.DG,{actions:[x],children:f=>{let{shortcutHandlerProps:g}=f;return(0,et.jsxs)(t8,{...(0,U.d)(j,g,{onFocus:()=>{i(!0),p({focus:()=>n.current?.focus()})}}),children:[e.length>0?(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(T.X,{renderMenu:()=>(0,et.jsxs)(R.v2,{onAction:tA,children:[(0,et.jsx)(B.c,{children:"Close"},"close"),(0,et.jsx)(B.c,{children:"Close Other tabs"},"closeOthers"),(0,et.jsx)(B.c,{children:"Close all tabs"},"closeAll"),(0,et.jsx)(B.c,{children:"Close tabs to the left"},"closeLeft"),(0,et.jsx)(B.c,{children:"Close tabs to the right"},"closeRight")]}),children:(0,et.jsx)(N.s,{items:e,active:r,selectedKey:d,onSelectionChange:n=>{t.select(e.findIndex(e=>e.filePath===n))},noBorders:!0,children:t=>{let n=m.basename(t.filePath),r=(0,et.jsx)(O.vq,{icon:Z(t.filePath)});return(0,et.jsx)(F.E,{textValue:n,inOverflowMenu:(0,et.jsx)(L._,{content:n,icon:r}),children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:t.filePath}),children:(0,et.jsx)(G.X,{icon:r,title:(0,et.jsx)(tp,{filepath:t.filePath,children:n}),closeButton:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Close. Alt-Click to Close Others"}),children:(0,et.jsx)(K.W,{onPress:n=>{n.altKey?h.current.closeOthersTabs(e.indexOf(t)):h.current.closePath(t.filePath)}})}),containerProps:{onDoubleClick:()=>{s?.perform()}}})})},t.filePath)}})}),"string"==typeof c?(0,et.jsx)(tX,{height:"100%",path:d,options:{contextmenu:!1},onMount:(e,t)=>{var r;e.focus(),e.onContextMenu(e=>{e.event.preventDefault(),Promise.resolve().then(()=>{a(e)})}),e.onDidScrollChange(()=>{a(null)}),(r=t).languages.typescript.typescriptDefaults.setCompilerOptions({jsx:z.Mj.typescript.JsxEmit.React}),r.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),n.current=e,e.onDidChangeCursorPosition(e=>{l(e.position)}),e.onDidChangeModel(()=>{})},onChange:y,value:c??""}):c&&"UNSUPPORTED CONTENT"]}):(0,et.jsx)(tb,{}),u&&(0,et.jsx)(t9,{}),o&&(0,et.jsx)(H.Z,{origin:o.event.browserEvent,onClose:()=>a(null),children:(0,et.jsx)(t3,{})})]})}})};function t3(){let e=(0,$.y)("EditorPopupMenu");return e?(0,et.jsx)(V.d,{actionGroup:e,children:e=>(0,et.jsx)(R.v2,{autoFocus:!0,...e})}):null}let t8=y.zo.div`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.color("Editor.background",t.isUnderDarcula()?"rgb(40,40,40)":t.commonColors.panelBackground)}};
`,t9=(0,y.zo)(en)`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`;t7.__docgenInfo={description:"Used as main content in the main ToolWindows. Shows currently opened files tabs and the editor.\n\nTODO: preserve editor state when switching between tabs\nTODO: support multiple editors in split view.",methods:[],displayName:"FileEditor"};var ne=n("45630"),nt=n("59683"),nn=n("29902");let nr=()=>(0,g.useMemo)(()=>({theme:{background:"rgb(43,43,43)",selection:"#214283"},fontFamily:"sans-serif",letterSpacing:-8,fontSize:12,lineHeight:1.3,cursorStyle:"block",cursorBlink:!0,cursorWidth:8,rendererType:"dom"}),[]),ni=(0,td.ZP)(nn.O).withConfig({displayName:"Terminal__StyledXterm",componentId:"sc-19jke66-0"})(["height:100%;background:rgb(43,43,43);"]),no=()=>{let[e,t]=(0,g.useState)(""),n=(0,g.useRef)(null),r=nr();return(0,g.useEffect)(()=>{setTimeout(()=>{n.current?.terminal.resize(80,10),n.current?.terminal.write("$ ")},3e3)},[]),(0,et.jsx)(ni,{ref:n,options:r,onData:r=>{let i=r.charCodeAt(0);if(13===i)e.length>0&&n.current?.terminal.write("\r\nYou typed: '"+e+"'"),n.current?.terminal.write("\r\n"+"$ "),t("");else{if(i<32||127===i)return;n.current?.terminal.write(r),t(e+r)}}})};no.__docgenInfo={description:"",methods:[],displayName:"Terminal"};var na=n("96730"),ns=n("19295");let nl=(0,Q.cn)(!0),nc=(0,er.qs)(e=>new Set(e(e9).flatMap(e=>{let{dir:t}=e;return X(t).concat(t)}).concat(e(eG).path))),nd=(0,Q.cn)(new Set([])),nu=(0,Q.cn)(async e=>{let t=e(nd),n=(await e(np)).byKey;return[..."all"===t?n.keys():t].map(e=>n.get(`${e}`)).filter(e=>null!=e)}),nh=(0,Q.cn)(g.createRef()),np=(0,Q.cn)(e=>nf(e(eG),e));function nm(e){e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}async function nf(e,t){let n=await t(eS(e.path)),r=new Map,i=e=>async n=>{let o={...n,parent:e};if("dir"===n.type){if(eL(n)){let e={...o,children:[]};return e.children=(await Promise.all((await t(eS(n.path))??[]).map(i(e)))).filter(e=>null!=e),nm(e.children),r.set(e.path,e),e}return null}return r.set(o.path,o),o},o=(await Promise.all((n||[]).map(i(null)))).filter(e=>null!=e);nm(o);let a={type:"project",path:e.path,name:e.name,parent:null,children:o};return r.set(a.path,a),{root:a,byKey:r}}(0,Q.cn)("name");let ng=(e,t,n)=>{let r=e(nc);t(nc,new Set([...r,...[e(eG).path].concat(X(n))]))},nA=(e,t,n)=>{let r=e(nh)?.current;r?.replaceSelection(n),r?.focus(n)},nx=()=>{let e=(0,eP.lV)(ng),t=(0,eP.lV)(nA);return n=>{e(n),setTimeout(()=>{t(n)})}};var ny=n("76164"),nj=n("3414"),nv=n("38626"),nw=n("12550"),nb=n("10463");let nC=(0,td.ZP)(j.TK).withConfig({displayName:"DefaultSuspense__Loading",componentId:"sc-1n9vzm7-0"})(["width:fit-content;display:block;margin:auto;"]),nE=e=>{let{fallback:t=(0,et.jsx)(nC,{}),children:n}=e;return(0,et.jsx)(g.Suspense,{fallback:t,children:n})};nE.__docgenInfo={description:"",methods:[],displayName:"DefaultSuspense",props:{fallback:{defaultValue:{value:"<Loading />",computed:!1},required:!1}}};var nS=n("88710"),nD=n("39985");let nI="NewElement",nP="CopyReferencePopupGroup";function nk(e){let{getActionContext:t}=e;return(0,et.jsx)(nS.C,{"aria-label":"Project Tree actions",actionContext:t,actions:[{...(0,I.BH)(nI),title:"New",shortcut:void 0},new nD.P,(0,I.BH)(tx.$.CUT),(0,I.BH)(tx.$.COPY),(0,I.BH)(nP),(0,I.BH)(tx.$.PASTE),new nD.P,(0,I.BH)(tx.$.DELETE),new nD.P].filter(e=>null!=e)})}nk.__docgenInfo={description:"",methods:[],displayName:"ProjectViewContextMenu",props:{getActionContext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => ActionContext",signature:{arguments:[],return:{name:"ActionContext"}}},description:""}}};let nT=e=>{let t=new WeakMap;return n=>{let r=t.get(n);return void 0===r&&(r=e(n),t.set(n,r)),r}},nR=nT(e=>{let t=(0,er.Wg)(e,e=>e);return(0,Q.cn)(n=>n(t)??n(e))}),nB=nT(e=>(0,er.Wg)(e,e=>e??null)),nN=()=>{let e=(0,C.Dv)(eG),t=tQ(),n=(0,g.useRef)(null),r=(0,C.b9)(nh);(0,g.useLayoutEffect)(()=>{r(n)},[n]);let i=(0,C.Dv)(nR(np)),[o,a]=(0,C.KO)(nc),[s,l]=(0,C.KO)(nd),c=(0,C.KO)(nl)?(0,nb.Z)(e=>"dir"===e.type?1:2):eN.Z,d=ez("all"===s?[]:[...s].filter(e=>"string"==typeof e)),u=(0,g.useRef)(null),h=(0,g.useRef)(),p=()=>({element:h.current?u.current?.querySelector(`[data-key="${CSS.escape(h.current)}"]`)??null:null,event:null});return(0,et.jsx)(nE,{children:i.root&&(0,et.jsx)(T.X,{ref:u,style:{height:"100%"},onOpen:e=>{let{target:t}=e;return h.current=t?.closest("[data-key]")?.dataset.key},renderMenu:()=>(0,et.jsx)(nk,{getActionContext:p}),children:(0,et.jsx)(ny.b,{"aria-label":"Project structure tree",treeRef:n,...d,items:[i.root],onAction:e=>{i.byKey?.get(`${e}`)?.type==="file"&&t.openPath(`${e}`)},fillAvailableSpace:!0,autoFocus:!0,selectionMode:"multiple",selectedKeys:s,onSelectionChange:l,expandedKeys:o,onExpandedChange:a,children:t=>(0,et.jsx)(B.c,{textValue:t.name,childItems:"children"in t?c(t.children):void 0,children:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(nM,{node:t}),"project"===t.type?(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("b",{children:(0,et.jsx)(nv.J,{})}),(0,et.jsx)(nj.e.Hint,{children:e.path})]}):(0,et.jsx)(nO,{node:t})]})},t.path)})})})},nO=e=>{let{node:t}=e;return"dir"===t.type?(0,et.jsx)(nF,{node:t}):(0,et.jsx)(nL,{node:t})},nF=e=>{let{}=e;return(0,et.jsx)(nv.J,{})},nL=e=>{let{node:t}=e,n=(0,g.useContext)(nw.k);return n?.isSelected&&n?.isContainerFocused?(0,et.jsx)(nv.J,{}):(0,et.jsx)(tp,{filepath:t.path,children:(0,et.jsx)(nv.J,{})})},n_={project:"nodes/folder",dir:W,file:q};function nM(e){let{node:t}=e,n="file"===t.type?Z(t.name):n_[t.type]??null;return(0,et.jsx)(et.Fragment,{children:n&&(0,et.jsx)(O.vq,{icon:n})})}nN.__docgenInfo={description:"",methods:[],displayName:"ProjectViewPane"};var nG=n("66899"),nK=n("22188"),nH=n("39060"),n$=n("44233"),nV=n("39");function nU(e){let{tooltip:t="Show help contents",...n}=e;return(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(nV.k,{helpText:t}),children:(0,et.jsx)(n$.z,{variant:"icon","aria-label":"Help","aria-description":"Show help contents",...n,children:(0,et.jsx)("span",{style:{fontSize:18},children:"?"})})})}function nz(e,t){return void 0===t&&(t=eN.Z),e.filter(n=>{let r=t(n);return!e.find(e=>{var i;return e!==n&&(i=t(e),r.startsWith(i+f().sep))})})}nU.__docgenInfo={description:"",methods:[],displayName:"HelpButton",props:{tooltip:{defaultValue:{value:'"Show help contents"',computed:!1},required:!1,tsType:{name:"string"},description:""}}};let nQ=async(e,t,n)=>{try{await r.promises.unlink(n);let i=await e(te(n));i&&(await A.ZP.remove({fs:r,dir:i,filepath:f().relative(i,n)}),await ta(e,t,n))}catch(e){console.error(`error in deleting file ${n}`,e)}finally{e(tz).closePath(n),t(eS(f().dirname(n))),t(eI(n))}},nq=async(e,t,n)=>Promise.all(n.map(n=>nQ(e,t,n))),nW=async(e,t,n)=>{let i=async o=>{let a=await r.promises.readdir(o);await Promise.all(a.map(async n=>{let a=f().resolve(o,n),s=await r.promises.stat(a);s.isFile()?await nQ(e,t,a):s.isDirectory()&&await i(a)})),await r.promises.rmdir(o),t(eS(n))};try{await i(n)}catch(e){console.error(`error in deleting directory ${n}`,e)}finally{t(eS(f().dirname(n)))}},nY=async(e,t,n,i)=>{let o=f().join(n,i);if(await ey(r.promises,f().dirname(o)),await r.promises.exists(o))throw Error(`File ${o} already exists`);await r.promises.writeFile(o,"","utf-8"),t(eI(o)),e(tz).openPath(o),await ta(e,t,o),t(eS(n))},nZ=async(e,t,n,i)=>{let o=f().join(n,i);if(await r.promises.exists(o))throw Error(`File ${o} already exists`);await ey(r.promises,o),t(eS(n))};var nJ=n("42133");let nX=e=>"object"==typeof e&&null!==e&&"read"in e,n0=e=>{let{isSearchable:t,isDisabled:n,actionPerformed:r,...i}=e,o=nX(n)?(0,er.Wg)(n,()=>!0):n,a=nX(t)?(0,er.Wg)(t,()=>!1):t;return(0,Q.cn)((e,t)=>{let{setSelf:n}=t,r=t=>nX(t)?e(t):t;return{...i,isDisabled:r(o),isSearchable:r(a),actionPerformed:n}},async function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r({get:e,set:t},...i)})},n1=new nJ.C(`{count, plural,
    =1 {1 file}
    other {# files}
  }`,"en-US"),n2=new nJ.C(`{count, plural,
    =1 {1 directory}
    other {# directories}
  }`,"en-US"),n5=n0({id:tx.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async e=>{let{get:t,set:n}=e,r=await t(nu),i=t(eq).current,o=t(eW).current;if(0===r.length)return;let a=nz(r,e=>e.path),s=a.filter(e=>"file"===e.type).map(e=>e.path),l=a.filter(e=>"project"===e.type||"dir"===e.type).map(e=>e.path);if(l.length>0){let e=1===l.length&&0===s.length?f().basename(l[0]):null;await o?.confirm({title:"Delete",okText:"Delete",message:et.jsxs("div",{style:{width:354},children:["Delete"," ",e?`"${e}"`:[{count:l.length,message:n2},{count:s.length,message:n1}].filter(e=>{let{count:t}=e;return t>0}).map(e=>{let{message:t,count:n}=e;return t.format({count:n})}).join(" and "),"?",et.jsx("br",{}),"All files and subdirectories in",e?` "${e}" `:" the selected directories ","will be deleted. ",et.jsx("br",{}),"You might not be able to fully undo this operation!"]})})&&await Promise.all([...l.map(e=>nW(t,n,e)),nq(t,n,s)])}else i?.open(e=>{let{close:t}=e;return et.jsx(n6,{filePaths:s,close:t})}).then(e=>{e&&requestAnimationFrame(()=>{nq(t,n,s)})})}});function n6(e){let{close:t,filePaths:n}=e;return(0,et.jsx)(nG.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(nK.b,{header:"Delete",content:(0,et.jsxs)("form",{id:"delete_dialog_form",onSubmit:e=>{e.preventDefault()},style:{padding:"0.75rem 1rem"},children:[(0,et.jsxs)("div",{style:{marginBottom:".5rem"},children:[1===n.length?`Delete file "${f().basename(n[0])}"`:`Delete ${n.length} files`,"?"]}),(0,et.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,et.jsx)(nH.X,{isDisabled:!0,children:"Safe delete (with usage search)"}),(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,et.jsx)(nH.X,{isDisabled:!0,children:"Search in comments and strings"}),(0,et.jsx)(nH.X,{isDisabled:!0,children:"Search for text occurrences"})]})]})]}),footer:(0,et.jsx)(nK.b.Footer,{left:(0,et.jsx)(nU,{onPress:()=>tA()}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:()=>t(),children:"Cancel"}),(0,et.jsx)(n$.z,{autoFocus:!0,type:"submit",form:"delete_dialog_form",variant:"default",onPress:()=>{t(!0)},children:"Ok"})]})})})})}let n4=n0({id:tx.$.COPY,title:"Copy",description:"Copy to clipboard",icon:(0,et.jsx)(O.vq,{icon:"actions/copy"}),isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async()=>{tA()}}),n7=n0({id:tx.$.CUT,title:"Cut",description:"Cut to clipboard",icon:(0,et.jsx)(O.vq,{icon:"actions/menu-cut"}),isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async()=>{tA()}}),n3=n0({id:tx.$.PASTE,title:"Paste",description:"Paste from clipboard",icon:(0,et.jsx)(O.vq,{icon:"actions/menu-paste"}),isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async()=>{tA()}}),{SELECT_IN_PROJECT_VIEW:n8}={SELECT_IN_PROJECT_VIEW:"SelectInProjectView"};function n9(){let e=(0,C.Dv)(nh),t=(0,na.x)({treeRef:e}),n=function(){let e=(0,C.Dv)(tL),t=nx();return[{id:n8,title:"Select Opened File",icon:(0,et.jsx)(O.vq,{icon:"general/locate"}),actionPerformed:()=>{e&&t(e.filePath)},isDisabled:!e,description:"Selects a context file in the Project View"},(0,C.Dv)(n5),(0,C.Dv)(n7),(0,C.Dv)(n4),(0,C.Dv)(n3)]}();return(0,et.jsx)(nt.n,{headerContent:"Project",actions:[...t,...n],additionalActions:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(ns.K,{actionId:n8}),(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]}),children:(0,et.jsx)(nN,{})})}n9.__docgenInfo={description:"",methods:[],displayName:"ProjectToolWindow"};var re=n("87508"),rt=n("98454"),rn=n("79926"),rr=n("89639");function ri(e){let{children:t}=e,[n,r]=(0,g.useState)(!1);return((0,g.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(e)},[]),n)?(0,et.jsx)(et.Fragment,{children:t}):null}ri.__docgenInfo={description:"",methods:[],displayName:"Delayed",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var ro=n("61262");let ra=e=>e;function rs(e,t){return t?e?e.path!==t.path?(0,m.dirname)(e.path)===(0,m.dirname)(t.path)?ra({type:"RENAMED",before:e,after:t}):ra({type:"MOVED",before:e,after:t}):ra({type:"MODIFIED",before:e,after:t}):ra({type:"ADDED",after:t}):ra({type:"DELETED",before:e})}rs.Unversioned=e=>ra({type:"UNVERSIONED",after:e});let rl={ADDED:"ADDED",DELETED:"DELETED",MOVED:"MODIFIED",RENAMED:"MODIFIED",MODIFIED:"MODIFIED",UNVERSIONED:"UNKNOWN"};function rc(e,t){return e?.path===t?.path&&e.isDir===t.isDir}rs.fileStatus=function(e){return rl[e.type]??"NOT_CHANGED"},rs.path=function(e){return rs.revision(e).path},rs.content=function(e){return"after"in e?e.after.content():"before"in e?e.before.content():Promise.resolve("")},rs.isAddition=function(e){return"ADDED"===e.type},rs.isDeletion=function(e){return"DELETED"===e.type},rs.isRename=function(e){return"RENAMED"===e.type},rs.isMove=function(e){return"MOVED"===e.type},rs.isModified=function(e){return"MODIFIED"===e.type},rs.isUnversioned=function(e){return"UNVERSIONED"===e.type},rs.revision=function(e){return"after"in e?e.after:e.before},rs.equals=function(e,t){let n="before"in e&&"before"in t?rc(e.before,t.before):"before"in e=="before"in t,r="after"in e&&"after"in t?rc(e.after,t.after):"after"in e=="after"in t;return n&&r};let rd=(0,er.xu)(e=>(0,Q.cn)(t=>Object.entries(t(tn(e))).map(t=>{let[n,r]=t,i={path:f().join(e,n),isDir:!1,content(){throw Error("Not implemented")}};return"ADDED"===r?rs(null,i):"MODIFIED"===r?rs(i,i):"DELETED"===r?rs(i,null):"UNKNOWN"===r?rs.Unversioned(i):null}).filter(e=>null!=e))),ru=(0,Q.cn)(e=>e(e9).map(t=>{let{dir:n}=t;return e(rd(n))}).flat()),rh=async(e,t,n,i)=>{let o=eD(e,t),a=(await Promise.all(n.filter(e=>!rs.revision(e).isDir).map(async t=>{let n=await e(te(rs.path(t)));if(n)return{repoRoot:n,change:t,relativePath:f().relative(n,rs.path(t))}}))).filter(e=>null!=e),s=(0,ro.Z)(e=>{let{repoRoot:t}=e;return t},a);await Promise.all(Object.entries(s).map(async a=>{let[s,l]=a,{toReset:c=[],toCheckout:d=[]}=(0,ro.Z)(e=>{let{change:{type:t}}=e;return"ADDED"!==t||i?"toCheckout":"toReset"},l);if(await Promise.allSettled(c.map(e=>{let{relativePath:t}=e;return(0,A.us)({fs:r,dir:s,filepath:t})})),d.length>0&&(await A.ZP.resolveRef({fs:r,dir:s,ref:"HEAD"}).catch(()=>null)?await (0,A.JE)({fs:r,dir:s,force:!0,filepaths:d.map(e=>{let{relativePath:t,change:{type:n}}=e;return t})}):await Promise.all(d.filter(e=>{let{change:t}=e;return"ADDED"===t.type}).map(e=>{let{change:t}=e,n=rs.path(t);return r.promises.unlink(n)}))),i){let t=e(tz);n.filter(rs.isAddition).forEach(e=>{t.closePath(rs.path(e))})}nz(l.flatMap(e=>{let{change:t}=e;return"MODIFIED"===t.type?[]:"MOVED"===t.type?[t.before.path,t.after.path]:rs.path(t)})).map(f().dirname).forEach(e=>t(eS(e))),await Promise.allSettled(l.map(async n=>{let{relativePath:i,change:a}=n,l=rs.path(a);await o(l),await (0,A.us)({fs:r,dir:s,filepath:i}),await ta(e,t,l)}))}))},rp=()=>(0,eP.lV)(rh),rm=(0,Q.cn)([{id:"some-UUID",name:"Changes",comment:"last modified commit message",changes:[],active:!0},{id:"some-other-UUID",name:"Some other changelist",comment:"Some empty changelist for testing",changes:[],active:!1}]),rf=(0,Q.cn)(e=>e(rm).find(e=>e.active)??null),rg=(0,Q.cn)(e=>e(ru).filter(rs.isUnversioned)),rA=()=>(0,eP.lV)((0,g.useCallback)((e,t,n)=>{let r=e(rm),i=r.find(e=>{let{id:t}=e;return t===n});i&&t(rm,r.map(e=>({...e,active:e===i})))},[]));function rx(){let e=(0,C.Dv)(ru),t=(0,C.b9)(rm);return(0,g.useEffect)(()=>{t(t=>{let n=e.filter(e=>!rs.isUnversioned(e)),r=t.map(e=>({...e,changes:e.changes.map(e=>n.find(t=>rs.equals(t,e))).filter(e=>null!=e)})),i=r.flatMap(e=>{let{changes:t}=e;return t}),o=n.filter(e=>!i.find(t=>rs.equals(e,t)));return(r.find(e=>{let{active:t}=e;return t})??r[0]).changes.push(...o),r})},[e]),null}var ry=n("20619");let rj=e=>{let{getPath:t,mapNode:n=eN.Z,createDirectoryNode:r=e=>e,shouldCollapseDirectories:i=!1}=e;return e=>{let o={},a=e.map(n).map(e=>{let n=t(e);return X(n.startsWith("/")?n:`/${n}`).reduce((e,t)=>{o[t]||(o[t]=r({type:"directory",dirPath:t,parentNodePath:"",children:[]})),rv(e)&&(e.parentNodePath=t);let n=o[t];return n.children=n.children.includes(e)?n.children:[e,...n.children],n},e)}),s=(0,ry.Z)(a);return i?s.map(e=>(function e(t,n){let{children:r,dirPath:i,parentNodePath:o}=n;return 1===n.children.length&&rv(n.children[0])?(i=n.children[0].dirPath,r=n.children[0].children.map(n=>rv(n)?e(t,{...n,parentNodePath:i}):n),e(t,t({type:"directory",dirPath:i,parentNodePath:o,children:r}))):{...n,children:r.map(n=>rv(n)?e(t,n):n)}})(r,e)):s}};function rv(e){return"type"in e&&"directory"===e.type}let rw={ROLLBACK:"ChangesView.Revert",REFRESH:"ChangesView.Refresh",SHELVE_SILENTLY:"ChangesView.ShelveSilently",SHELVE:"ChangesView.Shelve",UNSHELVE_SILENTLY:"ChangesView.UnshelveSilently",NEW_CHANGELIST:"ChangesView.NewChangeList",ADD_UNVERSIONED:"ChangesView.AddUnversioned",RENAME_CHANGELIST:"ChangesView.Rename",REMOVE_CHANGELIST:"ChangesView.RemoveChangeList",SET_DEFAULT_CHANGELIST:"ChangesView.SetDefault",MOVE_TO_ANOTHER_CHANGELIST:"ChangesView.Move",GROUP_BY_DIRECTORY:"ChangesView.GroupBy.Directory",CREATE_PATCH_FROM_CHANGES:"ChangesView.CreatePatchFromChanges",SHOW_DIFF:"Diff.ShowDiff",SHOW_DIFF_STANDALONE:"Diff.ShowStandaloneDiff",CHECKIN_FILES:"CheckinFiles",CHECKIN_PROJECT:"CheckinProject",JUMP_TO_SOURCE:tx.$.EDIT_SOURCE,GROUP_CHANGES_VIEW_POPUP_MENU:"ChangesViewPopupMenu",GIT_ADD:"Git.Add",GIT_INIT:"Git.Init",GIT_PUSH:"Vcs.Push",GIT_CLONE:"Git.Clone",GIT_CREATE_NEW_BRANCH:"Git.CreateNewBranch",GIT_BRANCHES:"Git.Branches",GIT_LOG_HIDE_BRANCHES:"Git.Log.Hide.Branches",GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH:"Git.Log.Branches.Navigate.Log.To.Selected.Branch",GIT_UPDATE_SELECTED:"Git.Update.Selected",FOCUS_TEXT_FILTER:"Vcs.Log.FocusTextFilter",MATCH_CASE:"Vcs.Log.MatchCaseAction",REG_EXP:"Vcs.Log.EnableFilterByRegexAction",COPY_REVISION_NUMBER:"Vcs.CopyRevisionNumberAction",LOG_REFRESH:"Vcs.Log.Refresh",SHOW_DETAILS:"Vcs.Log.ShowDetailsAction",SHOW_DIFF_PREVIEW:"Vcs.Log.ShowDiffPreview",VCS_LOG_CONTEXT_MENU:"Vcs.Log.ContextMenu",PRESENTATION_SETTINGS:"Vcs.PresentationSettings",FILE_HISTORY_PRESENTATION_SETTINGS:"Vcs.FileHistory.PresentationSettings",COMPARE_WITH_LOCAL:"Vcs.ShowDiffWithLocal",CopyPathFromRepositoryRootProvider:"CopyPathFromRepositoryRootProvider"},rb=(e,t)=>`${e}_${t}`,rC=e=>rb("change",rs.path(e)),rE=function(e,t){return void 0===t&&(t=!0),{type:"change",key:rC(e),change:e,showPath:t}},rS=e=>"children"in e,rD=e=>"change"===e.type,rI=e=>rS(e)?e.children:null,rP={id:"repository",title:"Repository",isAvailable:(0,Q.cn)(e=>e(e9).length>1),groupFn:(0,Q.cn)(e=>t=>e(e9).map(e=>{var n;return void 0===(n=t.filter(t=>rs.path(t.change)?.startsWith(e.dir)))&&(n=[]),{type:"repo",key:rb("repo",e.dir),repository:e,children:n}}))},rk={id:"directory",title:"Directory",isAvailable:!0,useShortcutOf:rw.GROUP_BY_DIRECTORY,groupFn:rj({shouldCollapseDirectories:!0,createDirectoryNode:e=>{var t,n;let{dirPath:r,parentNodePath:i,children:o}=e;return void 0===(t=o)&&(t=[]),void 0===n&&(n=""),{type:"directory",key:n+rb("directory",r),dirPath:r,parentNodePath:i,children:t}},mapNode:e=>rE(e.change,!1),getPath:e=>rs.path(e.change)})},rT=[rP,rk],rR=(0,Q.cn)(e=>rT.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable)),rB=(e,t)=>{if(0===e.length||0===t.length)return t;let n=e.slice(1),r=t.filter(rD),i=t.filter(rS),o=e[0](r);return[...i,...o].forEach(e=>{e.children=rB(n,e.children)}),o.filter(e=>e.children.length>0)},rN=e=>{let{get:t,isActive:n,groupings:r}=e;return e=>{let i=e=>nX(e)?t(e):e,o=r.filter(e=>{let{id:t,isAvailable:r}=e;return i(r)&&i(n(t))}).map(e=>{let{groupFn:t}=e;return i(t)}).map(t=>e?function(){return t(...arguments).map(t=>({...t,key:`${e}:${t.key}`}))}:t);return e=>rB(o,e)}};var rO=n("64374"),rF=n("69611"),rL=n("66095");let r_=(0,Q.cn)(!1),rM=(0,Q.cn)({height:500}),rG=(0,Q.cn)([]),rK=(0,Q.cn)(e=>{let t=e(rG),{rootNodes:n}=e(r4),r=n.filter(e=>"changelist"===e.type&&t.some(t=>e.changeList.changes.includes(t)));return 0===r.length?n.filter(e=>"changelist"===e.type&&e.changeList.active):r}),rH=(0,Q.cn)(e=>{let t=e(rG),n=e(rK),r=(0,rO.Bp)(e=>rS(e)?e.children:null,e=>e.key,n,t.map(rC));return new Set(r.length?r:(0,rO.Om)(e=>rS(e)?e.children:null,e=>e.key,n))});function r$(e){let t=new Map,n=new Map,r=new Set;return(0,rO.Ck)(rI,(e,i)=>{if(n.set(e.key,e),"children"in e&&r.add(e.key),!i)return 1;let o=i.reduce((e,t)=>e+t,0);return t.set(e.key,o),o},e),{rootNodes:e,fileCountsMap:t,byKey:n,expandAllKeys:r}}let rV=e=>({type:"changelist",key:rb("changelist",e.id),changeList:e,children:e.changes.map(e=>rE(e))}),rU=(0,Q.cn)(!1),rz=(0,Q.cn)(!1),rQ=(0,er.xu)(e=>(0,Q.cn)(!0)),rq=(0,Q.cn)(new Set([])),rW=(0,Q.cn)(e=>{let t=e(rq);if("all"===t){let{rootNodes:t}=e(r4);return new Set((0,rO.eA)(e=>"children"in e?e.children:[],(e,t)=>{let n=t??[];return n.push(e),n},t).flat().map(e=>e.key))}return t}),rY=(0,Q.cn)(e=>{let t=e(rW),{byKey:n}=e(r4);return new Set([...t].map(e=>n.get(e)).filter(e=>null!=e))}),rZ=(0,Q.cn)(e=>{let t=e(rY),n=new Set,r=e=>{e&&("change"===e.type&&n.add(e.change),rS(e)&&e.children.forEach(r))};return t.forEach(r),n}),rJ=(0,Q.cn)(e=>{let t=e(rY),n=e(rm),r=new Set,i=e=>{if(e){if("changelist"===e.type&&r.add(e.changeList),"change"===e.type){let t=n.find(t=>t.changes.includes(e.change));t&&r.add(t)}rS(e)&&e.children.forEach(i)}};return t.forEach(i),r}),rX=(0,Q.cn)(new Set([])),r0=(0,Q.cn)(e=>{let t=e(rX);return e(ru).filter(e=>t.has(rC(e)))}),r1=(0,Q.cn)((e,t)=>{let{setSelf:n}=t,{rootNodes:r}=e(r4),i=e(rX);return new rF.f({items:i,...(0,rL.y)(n)},{rootNodes:r,getChildren:e=>rS(e)?e.children:null,getKey:e=>e.key})},(e,t,n)=>{t(rX,n)}),r2=(0,er.qs)(e=>new Set(e(r4).rootNodes.map(e=>[e.key,...e.children.map(e=>e.key)]).flat())),r5=(0,Q.cn)(e=>e(rR).map(t=>({...t,isActive:e(rQ(t.id))}))),r6=(e,t)=>({...e,children:t(e.children)}),r4=(0,Q.cn)(e=>{let t=(0,nb.Z)(e=>{let{active:t}=e;return!t},e(rm)).map(rV),n=rN({get:e,groupings:rT,isActive:rQ}),r=e(rg),i=t.map(e=>r6(e,n(e.key)));if(r.length>0){let e={key:"unversioned",type:"unversioned",children:r.map(e=>rE(e))};i.push(r6(e,n("unversioned")))}return r$(i)}),r7=(0,er.xu)(e=>(0,Q.cn)("horizontal"===e?.4:.3)),r3=(0,Q.cn)(!1),r8=(0,Q.cn)(""),r9=(0,Q.cn)(""),ie=(0,Q.cn)(null),it=(0,Q.cn)(e=>{let t=e(eV);return e(ru).filter(e=>t.some(t=>rs.path(e).startsWith(t)))}),ir=(e,t,n)=>{let r=(n?e(ru).filter(e=>n.some(t=>rs.path(e).startsWith(t))):e(it)).map(rC);if(t(rX,new Set(r)),r.length>0){let n=(0,rO.Bp)(e=>rS(e)?e.children:null,e=>e.key,e(r4).rootNodes,r);t(r2,e=>new Set([...e??new Set,...n])),t(rq,new Set([r[0]]))}},ii=function(e,t,n){void 0===n&&(n=!0);let r=e(eV),i=e(rZ);t(rG,(n&&r.length>0?e(it):null)??[...i]),t(r_,!0)};var io=n("50907"),ia=n("51726");let is=()=>0==[...(0,C.Dv)(rq)].length?null:(0,et.jsx)(nS.C,{"aria-label":"Changes actions",actions:[(0,I.BH)(rw.CHECKIN_FILES),(0,I.BH)(rw.ROLLBACK),(0,I.BH)(rw.JUMP_TO_SOURCE),new nD.P,(0,I.BH)(rw.SHELVE),new nD.P,(0,I.BH)(rw.NEW_CHANGELIST),(0,I.BH)(rw.RENAME_CHANGELIST),(0,I.BH)(rw.REMOVE_CHANGELIST),(0,I.BH)(rw.SET_DEFAULT_CHANGELIST),(0,I.BH)(rw.MOVE_TO_ANOTHER_CHANGELIST),new nD.P,(0,I.BH)(tx.$.REFRESH)].filter(e=>null!=e)});is.__docgenInfo={description:"",methods:[],displayName:"ChangesViewTreeContextMenu"};var il=n("84174");async function ic(e,t){let n=await Promise.all(t.map(t=>e(t).catch(()=>!1)));return t.filter((e,t)=>n[t])}async function id(e){let{fs:t,dir:n,localBranchName:r}=e,i=await A.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.merge`}),o=await A.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.remote`});return i&&o?`${o}/${i.replace(/^refs\/heads\//,"")}`:null}let iu=(0,er.xu)(e=>ea(async t=>{let{}=t;return Promise.all((await A.ZP.listBranches({fs:r,dir:e})).map(async t=>({name:t,trackingBranch:await id({fs:r,dir:e,localBranchName:t})})))})),ih=(0,er.xu)(e=>ea(()=>A.ZP.listRemotes({fs:r,dir:e}))),ip=(0,er.xu)(e=>ea(async t=>{let n=await t(ih(e));return(await Promise.all(n.map(t=>{let{remote:n}=t;return A.ZP.listBranches({fs:r,dir:e,remote:n}).then(e=>e.filter(e=>"HEAD"!==e).map(e=>({name:e,remote:n})))}))).flat()})),im=(0,er.xu)(e=>ea(async t=>{let n=await t(ig(e)),r=await t(iu(e));return 0===r.length&&n&&(r=r.concat({name:n,trackingBranch:null})),{repoRoot:e,currentBranch:r.find(e=>e.name===n)||null,localBranches:r,remoteBranches:await t(ip(e))}})),ig=(0,er.xu)(e=>ea(()=>A.ZP.currentBranch({fs:r,dir:e,fullname:!1}))),iA=(0,Q.cn)(async e=>Promise.all(e(e9).map(t=>{let{dir:n}=t;return e(im(n))}))),ix=(0,er.xu)(e=>(0,Q.cn)(async t=>{let n=await t(te(e)),r=n?await t(im(n)):null;return console.log(`repo root for ${e}`,n,n&&r),n&&r?.currentBranch?.name||null})),iy=[{branchType:"LOCAL",branchName:"master"},{branchType:"REMOTE",branchName:"origin/master"}];function ij(e){return e?.map.entry.flatMap(e=>e?.value.list["branch-info"].map(t=>{let{"@source":n,"@repo":r}=t;return{branchType:e["@type"],branchName:n,repoRoot:r}}))||[]}function iv(e){return{map:{entry:Object.entries((0,ro.Z)(e=>{let{branchType:t}=e;return t},e)).map(e=>{let[t,n]=e;return{"@type":t,value:{list:{"branch-info":n.map(e=>({"@repo":e.repoRoot,"@source":e.branchName}))}}}})}}}let iw=eT.z.object({"branch-storage":eT.z.object({map:(s=eT.z.enum(["LOCAL","REMOTE"]),l=eT.z.object({list:e7(eT.z.object({"@repo":eT.z.string(),"@source":eT.z.string()}),"branch-info")}),eT.z.object({entry:e4(eT.z.object({"@type":s,value:l}))}))})}),ib=eX({schema:eT.z.object({"favorite-branches":iw.optional(),"exclude-from-favorite":iw.optional()}).optional(),componentName:"Git.Settings",read:e=>({branches:ij(e?.["favorite-branches"]?.["branch-storage"]),excludedBranches:ij(e?.["exclude-from-favorite"]?.["branch-storage"])}),write:(e,t)=>{let n={...t};return e.branches.length>0?n["favorite-branches"]={"branch-storage":iv(e.branches)}:delete n["favorite-branches"],e.excludedBranches.length>0?n["exclude-from-favorite"]={"branch-storage":iv(e.excludedBranches)}:delete n["exclude-from-favorite"],n}},{branches:[],excludedBranches:[]}),iC=(0,il.R)(ib,e=>e.prop("branches")),iE=(0,il.R)(ib,e=>e.prop("excludedBranches")),iS=(0,er.xu)(e=>(0,Q.cn)(t=>iI(t(iC),t(iE),e)),eO.Z);function iD(e){return iy.some(t=>{let{branchType:n,branchName:r}=t;return r===e.branchName&&n===e.branchType})}let iI=(e,t,n)=>!!e.find((0,eO.Z)(n))||!t.find((0,eO.Z)(n))&&iD(n);function iP(){return(0,eP.lV)((0,g.useCallback)(function(e,t,n,r){void 0===r&&(r=!iI(e(iC),e(iE),n));let i=e=>e.filter(e=>!(0,eO.Z)(e,n)),o=e=>e.some((0,eO.Z)(n))?e:e.concat(n);r?(t(iE,i),iD(n)||t(iC,o)):(t(iC,i),iD(n)&&t(iE,o))},[]))}function ik(){let e=(0,C.Dv)(iC),t=(0,C.Dv)(iE);return{isFavorite:n=>iI(e,t,n),toggleFavorite:iP()}}let iT=e=>{let{repo:t}=e,n=(0,C.Dv)(ix(t.dir));return(0,et.jsx)(et.Fragment,{children:n})};iT.__docgenInfo={description:"",methods:[],displayName:"RepoCurrentBranchName",props:{repo:{required:!0,tsType:{name:"VcsDirectoryMapping"},description:""}}};let iR=y.zo.span`
  width: 14px;
  height: 14px;
  align-self: center;
  margin-right: 0.2rem;
  position: relative;

  //  after pseudo element is used to create the color mixing implemented here:
  //  https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/VcsLogColorManagerImpl.java#L60
  &&:after {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.75;
    background: ${e=>{let{theme:t}=e;return t.color("Table.background")||(t.dark?"#3C3F41":"#fff")}};
  }
`,iB=e=>{let t=(0,C.Dv)(e9).findIndex(t=>t.dir===e),n=(0,td.Fg)(),r=[n.commonColors.red,n.commonColors.blue];return r[t%r.length]??r[0]},iN=g.forwardRef((e,t)=>{let{rootPath:n,...r}=e;return(0,et.jsx)(iR,{ref:t,...r,style:{...r.style,backgroundColor:iB(n)}})});iN.__docgenInfo={description:"",methods:[],displayName:"RepoColorIcon",props:{rootPath:{required:!0,tsType:{name:"string"},description:""}}};let iO=y.zo.span`
  display: inline-flex;
  align-self: center;
  height: 1.1rem;
  line-height: 1.1rem;
  padding: 0 0.25rem;

  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(`color-mix(in srgb, ${t.color("VersionControl.Log.Commit.currentBranchBackground",t.dark?"rgb(63, 71, 73)":"rgb(228, 250, 255)")}, ${t.color("VersionControl.RefLabel.backgroundBase",t.dark?"#fff":"#000")} ${(t.value("VersionControl.RefLabel.backgroundBrightness")??.08)*100}%)`)}};
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("VersionControl.RefLabel.foreground",t.dark?"#909090":"#7a7a7a"))}};
`,iF=new nJ.C(`{fileCount, plural,
    =0 {No files}
    =1 {1 file}
    other {# files}
  }`,"en-US");function iL(e){return iF.format({fileCount:e})}let i_=e=>{let{node:t}=e;return(0,et.jsx)(nj.e.Hint,{children:t.showPath&&f().dirname(rs.path(t.change))})},iM={repo:(e,t)=>{let{fileCount:n}=t;return{textValue:f().basename(e.repository.dir),rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(iN,{rootPath:e.repository.dir}),(0,et.jsx)(nv.J,{}),(0,et.jsx)(nj.e.Hint,{children:iL(n)}),(0,et.jsx)(iO,{children:(0,et.jsx)(iT,{repo:e.repository})})]})}},directory:(e,t)=>{let{fileCount:n}=t;return{textValue:e.parentNodePath?f().relative(e.parentNodePath,e.dirPath):e.dirPath,rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(O.vq,{icon:W}),(0,et.jsx)(nv.J,{}),(0,et.jsx)(nj.e.Hint,{children:iL(n)})]})}},change:e=>({textValue:f().basename(rs.path(e.change)),rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(O.vq,{icon:Z(rs.path(e.change))}),(0,et.jsx)(tm,{status:rs.fileStatus(e.change),children:(0,et.jsx)(nv.J,{})}),rs.isRename(e.change)?` - renamed from ${f().basename(e.change.before.path)}`:rs.isMove(e.change)&&` - moved from ${f().relative(f().dirname(e.change.after.path),f().dirname(e.change.before.path)).replace(/(\.\.\/){2,}[!.]/g,"..")}/`,(0,et.jsx)(i_,{node:e})]})})},iG=(e,t)=>{let n={...iM,...t,...e},r=e=>{let{node:t,fileCountsMap:r}=e,{textValue:i,rendered:o}=(0,n[t.type])(t,{fileCount:r.get(t.key)||0,dirCount:0});return{key:t.key,childItems:rS(t)?t.children:[],hasChildItems:rS(t)&&t.children?.length>0,textValue:i,children:o}};return{getItemProps:r,getTextValue:(e,t)=>{let{fileCountsMap:r}=t;return(0,n[e.type])(e,{fileCount:r.get(e.key)||0,dirCount:0}).textValue},itemRenderer:e=>{let{fileCountsMap:t}=e;return e=>(0,et.jsx)(B.c,{...r({node:e,fileCountsMap:t})})}}};function iK(){let e=(0,C.Dv)(ti);return(0,et.jsx)(et.Fragment,{children:e&&(0,et.jsx)(ri,{children:", updating..."})})}let iH=iG({changelist:(e,t)=>{let{fileCount:n}=t;return{textValue:e.changeList.name,rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)("span",{style:{fontWeight:e.changeList.active?"bold":void 0},children:(0,et.jsx)(nv.J,{})}),(0,et.jsxs)(nj.e.Hint,{children:[iL(n),(0,et.jsx)(iK,{})]})]})}},unversioned:(e,t)=>{let{fileCount:n}=t;return{textValue:"Unversioned Files",rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(nv.J,{}),(0,et.jsxs)(nj.e.Hint,{children:[iL(n),(0,et.jsx)(iK,{})]})]})}}}),i$=e=>{let{treeRef:t}=e,{rootNodes:n,fileCountsMap:r,byKey:i}=(0,C.Dv)(r4),[o,a]=(0,C.KO)(rq),[s,l]=(0,C.KO)(r2),c=(0,C.Dv)(r1),{openPath:d}=tQ(),u=(0,eP.lV)((0,g.useCallback)((e,t,n)=>{let r=e(r4).byKey.get(n);return r?.type==="change"&&d(rs.path(r.change)),r},[])),h=ez("all"===o?[]:[...o].flatMap(e=>{let t=i.get(e);return t?function e(t){return t?.type==="directory"?[t.dirPath]:t?.type==="change"?[rs.path(t.change)]:rS(t)?t.children.flatMap(e):[]}(t):[]}));return(0,et.jsx)(T.X,{renderMenu:()=>(0,et.jsx)(is,{}),style:{height:"100%"},children:(0,et.jsx)(io.G,{"aria-label":"Commit changes tree",treeRef:t,items:n,selectionMode:"multiple",selectedKeys:o,expandedKeys:s,onExpandedChange:l,onSelectionChange:a,onAction:u,nestedSelection:c,fillAvailableSpace:!0,autoFocus:"first",...h,children:e=>{let t=iH.getItemProps({fileCountsMap:r,node:e});return(0,et.jsxs)(B.c,{...t,children:[e.children?.length!==0&&(0,et.jsx)(ia.x,{selectionState:c.getSelectionState(e),onToggle:()=>c.toggle(e)}),t.children]})}})})};i$.__docgenInfo={description:"TODO: unversioned files\nTODO: show diff/source on double click (on action to be more precise)",methods:[],displayName:"ChangeViewTree",props:{treeRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"TreeRefValue"}],raw:"RefObject<TreeRefValue>"},description:""}}};var iV=n("15397"),iU=n("39664"),iz=n("51837");let iQ=()=>{let e=[(0,I.BH)(rw.NEW_CHANGELIST),(0,I.BH)(rw.RENAME_CHANGELIST),(0,I.BH)(rw.REMOVE_CHANGELIST),(0,I.BH)(rw.SET_DEFAULT_CHANGELIST),(0,I.BH)(rw.MOVE_TO_ANOTHER_CHANGELIST)].filter(e=>null!=e);return(0,et.jsx)(iU.p,{renderMenu:t=>{let{menuProps:n}=t;return(0,et.jsx)(nS.C,{actions:e,children:e=>(0,et.jsx)(iz.w,{...n,...e})})},children:(0,et.jsx)(O.vq,{icon:"vcs/changelist.svg"})})};iQ.__docgenInfo={description:"",methods:[],displayName:"ChangeListsActionButton"};var iq=n("83556"),iW=n("12152");function iY(e){let{groupings:t,onToggle:n}=e;return 1===t.length&&t[0].icon?(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:`Group By ${t[0].title}`}),children:(0,et.jsx)(iq.hU,{isPressed:t[0].isActive,onPress:()=>n(t[0].id),children:t[0].icon})}):(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Group By"}),children:(0,et.jsx)(iU.p,{renderMenu:e=>{let{menuProps:r}=e;return(0,et.jsx)(R.v2,{...r,selectedKeys:t.filter(e=>{let{isActive:t}=e;return t}).map(e=>{let{id:t}=e;return t}),onAction:e=>{let r=t.find(t=>{let{id:n}=t;return n===e})?.id;r&&n(r)},children:(0,et.jsx)(iW.$,{title:"Group By",children:t.map(e=>{let{id:t,title:n}=e;return(0,et.jsx)(B.c,{children:n},t)})})})},children:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"})})})}iY.__docgenInfo={description:"",methods:[],displayName:"GroupByActionButton",props:{groupings:{required:!0,tsType:{name:"Array",elements:[{name:"Grouping",elements:[{name:"K"}],raw:"Grouping<K>"}],raw:"Array<Grouping<K>>"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: K) => void",signature:{arguments:[{name:"id",type:{name:"K"}}],return:{name:"void"}}},description:""}}};let iZ=()=>{let e=(0,C.Dv)(r5),t=(0,eP.lV)((0,g.useCallback)((e,t,n)=>{t(rQ(n),e=>!e)},[]));return(0,et.jsx)(iY,{groupings:e,onToggle:t})};iZ.__docgenInfo={description:"",methods:[],displayName:"ChangesGroupByActionButton"};let iJ=()=>{let[e,t]=(0,C.KO)(rz),[n,r]=(0,C.KO)(rU),i={showRelatedFiles:e,showIgnoredFiles:n};return(0,et.jsx)(iU.p,{renderMenu:e=>{let{menuProps:n}=e;return(0,et.jsxs)(R.v2,{...n,selectedKeys:Object.keys(i).filter(e=>i[e]),onAction:e=>{switch(e){case"showIgnoredFiles":return r(e=>!e);case"showRelatedFiles":return t(e=>!e)}},children:[(0,et.jsx)(B.c,{children:"Show Ignored Files"},"showIgnoredFiles"),(0,et.jsx)(B.c,{children:"Show Files Related to Active Changelist"},"showRelatedFiles")]})},children:(0,et.jsx)(O.vq,{icon:"actions/show.svg"})})};function iX(){return(0,et.jsxs)(iV.o,{border:"bottom",children:[(0,et.jsx)(ns.K,{actionId:tx.$.REFRESH}),(0,et.jsx)(ns.K,{actionId:rw.ROLLBACK}),(0,et.jsx)(ns.K,{actionId:rw.SHOW_DIFF}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Changelists"}),children:(0,et.jsx)(iQ,{})}),(0,et.jsx)(ns.K,{actionId:rw.SHELVE_SILENTLY}),(0,et.jsx)(iV.J,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Group By"}),children:(0,et.jsx)(iZ,{})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"View Options"}),children:(0,et.jsx)(iJ,{})}),(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]})}async function i0(e){let{updates:t,fs:n,dir:r,gitdir:i,...o}=e,a=await A.ZP.resolveRef({fs:n,dir:r,gitdir:i,ref:"HEAD"}),s=(await A.ZP.readTree({fs:n,dir:r,gitdir:i,oid:a})).tree,l=!1;if(await Promise.all(Object.entries(t).map(async e=>{let[t,o]=e,a=s.findIndex(e=>{let{path:n}=e;return n===t});if(null==o){a>-1&&(l=!0,s.splice(a,1));return}let c=s[a],d=await A.ZP.writeBlob({fs:n,dir:r,gitdir:i,blob:o});c?c.oid=d:s.push({type:"blob",mode:"100644",oid:d,path:t}),l=!0})),!l)throw Error("Nothing to commit!");let c=await A.ZP.writeTree({fs:n,dir:r,gitdir:i,tree:s}),d=await A.ZP.commit({...o,fs:n,dir:r,gitdir:i,tree:c});await Promise.all(Object.keys(t).map(e=>A.ZP.resetIndex({fs:n,dir:r,gitdir:i,filepath:e,ref:d})))}iJ.__docgenInfo={description:"",methods:[],displayName:"ViewOptionsActionButton"},iX.__docgenInfo={description:"",methods:[],displayName:"ChangesViewToolbar"};let i1=(0,Q.cn)([]),i2=(0,Q.cn)(e=>e(i1)[0]),i5=(0,Q.cn)(e=>e(i1).length),i6=0,i4=(e,t,n,r)=>{let{title:i,isCancelable:o=!1}=n,a=new ef.qf.cancelToken,s=++i6;t(i1,e=>[...e,{id:i6++,title:i,abortController:a,isCancelable:o,progress:{fraction:0,text:"",secondaryText:"",isIndeterminate:!1}}]);let l=e=>{t(i1,t=>t.map(t=>t.id===s?{...t,progress:{...t.progress,...e}}:t))},c="function"==typeof r?{run:r}:r;return Promise.resolve(c.run({setFraction(e){l({fraction:e})},setText(e){l({text:e})},setSecondaryText(e){l({secondaryText:e})},setIndeterminate(e){l({isIndeterminate:e})}},a.signal)).finally(()=>{t(i1,e=>e.filter(e=>e.id!==s)),c.onFinished?.()}),s},i7=()=>(0,eP.lV)(i4),i3=()=>(0,eP.lV)((0,g.useCallback)((e,t,n)=>{let r=e(i1).find(e=>e.id===n);r&&r.abortController.abort()},[])),i8={},i9=Object.fromEntries(Object.entries(A.ZP).map(e=>{let[t,n]=e;return"function"==typeof n?[t,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let[o,...a]=t;return n({fs:r,cache:i8,http:x.Z,...o},...a)}]:[t,n]}));var oe=n("89921"),ot=n("28286");let on=(e,t)=>t.commit.committer.timestamp-e.commit.committer.timestamp;async function or(e){let t=[],n={},r=[];for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];let s=(await Promise.all(o.flatMap(t=>{let{refs:n,notRefs:r,repoPath:i,isBare:o}=t,a=t=>async n=>{let r=await e.resolveRef({[o?"gitdir":"dir"]:i,ref:n,depth:3}).catch(e=>null);if(null===r)return null;let a=await e.readCommit({[o?"gitdir":"dir"]:i,oid:r});return{repoPath:i,isBare:o,commit:a,refs:new Set([n]),type:t}};return n.map(a("whitelist")).concat(r?.map(a("blacklist"))??[])}))).filter(e=>null!==e);(0,oe.Z)((e,t)=>{let{commit:n}=e,{commit:r}=t;return on(n,r)},s).forEach(e=>{let{commit:t,refs:n,repoPath:r,isBare:i,type:o}=e;return c(o,{repoPath:r,isBare:i},t,-1,n)});let l=(0,ot.Z)(e=>e.flatMap(e=>{let{notRefs:t}=e;return t??[]}),(0,ro.Z)(e=>e.repoPath,o));for(;r.length>0;){let{readCommitResult:n,repoPath:i,isBare:o,type:a,containingRefs:s}=r.shift();if("whitelist"===a){if(l[i]?.some(e=>s.has(e)))continue;t.push({repoPath:i,readCommitResult:n,containingRefs:s})}(await Promise.all(n.commit.parent.map(t=>e.readCommit({[o?"gitdir":"dir"]:i,oid:t})))).forEach(e=>{let t=r.findIndex(t=>{let{readCommitResult:n}=t;return on(n,e)>0});c(a,{repoPath:i,isBare:o},e,t,s)})}return t;function c(e,t,i,o,a){let{repoPath:s,isBare:l}=t;if(n[i.oid])n[i.oid].containingRefs=new Set([...n[i.oid].containingRefs,...a]);else{let t={type:e,readCommitResult:i,containingRefs:n[i.oid]?new Set([...n[i.oid].containingRefs,...a]):a,repoPath:s,isBare:l};n[i.oid]=t,r.splice(o>=0?o:r.length,0,t)}}}let oi=(0,er.xu)(e=>{let{repoRoot:t,ref:n}=e;return ea(()=>A.ZP.resolveRef({fs:r,dir:t,ref:n,depth:3}).catch(e=>null))},eO.Z),oo=(0,er.xu)(e=>(0,Q.cn)(()=>i9.readCommit(e)),eO.Z),oa=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return or({resolveRef:i9.resolveRef,readCommit:t=>e(oo(t))},...n)};var os=n("53783"),ol=n("13302");let oc=e=>`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear().toString().slice(-2)}`,od=e=>e.from&&e.to?`Between ${oc(e.from)} and ${oc(e.to)}`:e.from?`since ${oc(e.from)}`:e.to?`until ${oc(e.to)}`:"",ou=(0,Q.cn)(["MAIN"]),oh=(0,Q.cn)("MAIN"),op=(0,er.xu)(e=>(0,Q.cn)(t=>{let n=t(oy.searchQuery(e)),r=t(oy.user(e)),i=t(oy.date(e)),o=t(oy.branch(e)),a=[];return o?.length>0&&a.push({short:o.join(", "),long:`on ${o.join(", ")}`}),i&&a.push({short:od(i),long:`made ${od(i)}`}),n&&a.push({short:`'${n}'`,long:`containing '${n}'`}),r&&a.push({short:r,long:`by ${r}`}),`Log${a.length>0?": ":""}${1===a.length?a[0].short:a.map(e=>e.long).join(" ")}`})),om=[],of=e=>{let t=(0,er.xu)(t=>(0,er.rw)(e));return om.push(t),t},og=of(!1),oA=of(!0),ox=(0,Q.cn)(e=>e(oA(e(oh)))),oy={searchQuery:of(""),matchCase:of(!1),regExp:of(!1),user:of(null),date:of(null),branch:of([])},oj=(0,ol.Z)((e,t)=>(0,Q.cn)(t=>t(e(t(oh))),(t,n,r)=>{n(e(t(oh)),r)}),oy),ov=()=>(0,eP.lV)((0,g.useCallback)((e,t,n)=>{Object.values(oy).map(e=>e(n)).forEach(e=>t(e,er.td))},[])),ow=(e,t,n)=>{let r=e(ou);e(oh)===n&&t(oh,r[r.findIndex(e=>e===n)-1]||r[0]),t(ou,e=>e.filter(e=>e!==n)),om.forEach(e=>e.remove(n))};function ob(e,t,n){return(void 0===n&&(n={}),n.regExp)?new RegExp(t,n.matchCase?"":"i").test(e):n.matchCase?e.includes(t):e.toLowerCase().includes(t.toLowerCase())}let oC=ea(async e=>oa(e,...(await e(iA)).map(e=>{let{repoRoot:t,localBranches:n,remoteBranches:r}=e;return{repoPath:t,refs:["HEAD"].concat(n.map(e=>e.name)).concat(r.map(e=>`${e.remote}/${e.name}`))}}))),oE=(0,Q.cn)(async e=>{let t=e(oj.searchQuery),n=e(oj.branch),r={matchCase:e(oj.matchCase),regExp:e(oj.regExp)},i=e(oj.date),o=(await e(oC)).filter(e=>{let{containingRefs:t}=e;return!n?.length||n.some(e=>t.has(e))}).filter(e=>{let{readCommitResult:{commit:t}}=e;return(!i?.from||1e3*t.author.timestamp>i.from.getTime())&&(!i?.to||1e3*t.author.timestamp<i.to.getTime())}).filter(e=>{let{readCommitResult:{commit:n}}=e;return!t||ob(n.message,t,r)||ob(n.tree,t,{matchCase:!1})});return{rows:o,byOid:(0,os.Z)(e=>{let{readCommitResult:t}=e;return t.oid},o)}}),oS=(0,Q.cn)(async e=>{let t=await e(iA),n={},r=(e,t)=>{n[e]=n[e]||[],n[e].push(t)};for(let{repoRoot:n,localBranches:i,currentBranch:o}of((await Promise.all(t.map(t=>{let{repoRoot:n}=t;return e(oi({repoRoot:n,ref:"HEAD"}))}))).filter(e=>null!==e).forEach(e=>{r(e,{type:"head",name:"HEAD"})}),t))for(let t of i){let i=await e(oi({repoRoot:n,ref:t.name}));i&&r(i,{type:"localBranch",name:t.name,isCurrent:o?.name===t.name,trackingBranch:t.trackingBranch})}for(let{repoRoot:n,remoteBranches:i}of t)for(let t of i){let i=`${t.remote}/${t.name}`,o=await e(oi({repoRoot:n,ref:i}));o&&r(o,{type:"remoteBranch",name:i})}return n}),oD=(0,Q.cn)(new Set([])),oI=(0,Q.cn)(async e=>{let t=e(oD);return"all"===t?(await e(oE)).rows.map(e=>{let{readCommitResult:{oid:t}}=e;return t}):[...t].map(e=>`${e}`)}),oP=(0,Q.cn)(async e=>Promise.all((await e(oI)).map(async t=>(await e(oE)).byOid[t]))),ok=(0,Q.cn)(async e=>{let t=(await e(oI))[0];return t&&(await e(oE)).byOid[t]||null}),oT=(0,Q.cn)(!1),oR=(0,Q.cn)(!1),oB=(0,Q.cn)(!1),oN={id:"Default.Author",name:"Author"},oO={id:"Default.Hash",name:"Hash"},oF={id:"Date.Date",name:"Date"},oL=[oN.id,oF.id],o_=(0,er.xu)(e=>(0,Q.cn)(oL.includes(e))),oM=new nJ.C(`{count, plural,
    =1 {1 file committed}
    other {# files committed}
  }`,"en-US"),oG=y.zo.div`
  background: ${e=>{let{theme:t}=e;return t.dark?"#2b2b2b":"#fff"}};
  height: 100%;
  display: flex;
  flex-direction: column;
`,oK=y.zo.textarea`
  flex: 1;
  background: none;
  padding: 0.25rem 0.375rem;
  color: ${e=>{let{theme:t}=e;return t.dark?"#a9b7c6":"#000"}};
  font-family: inherit;
  border: none;
  resize: none;
  outline: none;
`,oH=y.zo.div`
  display: flex;
  gap: 0.3rem;
  padding: 0.4rem;
`,o$=y.zo.div`
  display: flex;
  align-items: center;
  padding: 0.125rem 0.5rem;
  gap: 0.25rem;
  position: sticky; // prevents commit message scroll jump when message is toggled on and off
  color: ${e=>{let{theme:t}=e;return t.commonColors.red}};
`;function oV(e){let{editorRef:t}=e,n=(0,g.useRef)(null),[i,o]=(0,C.KO)(r8),a=function(){let e=tc(),t=(0,S.L)(),n=i7();return(0,eP.lV)((0,g.useCallback)((i,o,a,s)=>{let l=n({title:"Committing...",isCancelable:!1},{run:async n=>{let{setIndeterminate:l}=n;l(!0);let c=(0,ro.Z)(e=>{let{repoRoot:t}=e;return t},(await Promise.all(a.map(async e=>{let t=rs.path(e),n=await i(te(t)),o=await r.promises.exists(t)?await r.promises.readFile(t):null;return n?{repoRoot:n,filePath:f().relative(n,t),content:o}:null}))).filter(e=>null!=e));await Promise.all(Object.entries(c).map(async e=>{let[t,n]=e,a=n.reduce((e,t)=>{let{filePath:n,content:r}=t;return{...e,[n]:"string"==typeof r?new TextEncoder().encode(r):r}},{});await i0({fs:r,dir:t,updates:a,message:s,author:{name:"Alireza",email:"alireza.mirian@gmail.com"}});let l=await i(ig(t));l&&o(oi({repoRoot:t,ref:l})),o(oi({repoRoot:t,ref:"HEAD"}))})).then(()=>{o(oC),e().catch(console.error),t.show({icon:"Info",body:(0,et.jsxs)(et.Fragment,{children:[`${oM.format({count:a.length})}: `,s.split("\n").flatMap((e,t)=>[(0,et.jsx)("br",{},t),e]).slice(1)]})})},e=>{t.show({icon:"Error",title:"Commit failed!",body:"Could not commit files."}),console.error("Commit error",e)})},onFinished:()=>{o(ie,null)}});o(ie,l)},[]))}(),s=(0,C.Dv)(r3),l=(0,S.L)(),[c,d]=(0,C.KO)(r9),u=(0,C.Dv)(ie);(0,g.useEffect)(()=>{i&&d("")},[i]);let h=(0,eP.lV)((0,g.useCallback)(e=>{let t=e(r0),n=e(r8);if(0===t.length){d("Select files to commit");return}if(!n){d("Specify commit message");return}if(e(r3)){l.show({icon:"Error",title:"Unsupported action",body:"Amending commits is not yet supported."});return}a(t,n)},[])),{hasFocus:p}=(0,nt.e)();return(0,g.useImperativeHandle)(t,()=>({focus:()=>{n.current?.focus()}}),[]),(0,et.jsxs)(oG,{children:[(0,et.jsx)(oK,{ref:n,value:i,onChange:e=>{o(e.target.value)},placeholder:"Commit Message","data-gramm":"false"}),c&&(0,et.jsxs)(o$,{children:[(0,et.jsx)(O.vq,{icon:"general/error.svg"})," ",c]}),(0,et.jsxs)(oH,{children:[(0,et.jsx)(n$.z,{preventFocusOnPress:!0,variant:p?"default":void 0,onPress:h,isDisabled:null!=u,mnemonic:"i",children:s?"Amend Commit":"Commit"}),(0,et.jsx)(n$.z,{preventFocusOnPress:!0,onPress:tA,mnemonic:"P",children:s?"Amend Commit and Push...":"Commit and Push..."})]})]})}oV.__docgenInfo={description:"Commit message and commit buttons shown in the bottom/right split view of the commit toolwindow",methods:[],displayName:"CommitView",props:{editorRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<{ focus: () => void }>",elements:[{name:"signature",type:"object",raw:"{ focus: () => void }",signature:{properties:[{key:"focus",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}]},description:""}}};var oU=n("78965");let oz=e=>{let{changes:t}=e,n=t.filter(e=>"MODIFIED"===rs.fileStatus(e)).length,r=t.filter(rs.isAddition).length,i=t.filter(rs.isDeletion).length;return(0,et.jsxs)(et.Fragment,{children:[r>0&&(0,et.jsxs)(tm,{status:"ADDED",children:[r," added"]}),n>0&&(0,et.jsxs)(tm,{status:"MODIFIED",children:[n," modified"]}),i>0&&(0,et.jsxs)(tm,{status:"DELETED",children:[i," deleted"]})]})};oz.__docgenInfo={description:"",methods:[],displayName:"ChangesSummary",props:{changes:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"AnyChange"}],raw:"ReadonlyArray<AnyChange>"},description:""}}};let oQ=y.zo.div`
  display: flex;
  padding: 0.125rem;
  position: relative;
`,oq=(0,y.zo)(nH.X)`
  padding-right: 0.625rem;
`,oW=y.zo.span`
  position: absolute;
  right: 0.5rem;
  top: 0.25rem;
  background: ${e=>{let{theme:t}=e;return t.color("Panel.background")}};
  z-index: 1;
`,oY=()=>{let e=(0,C.Dv)(r0);return(0,et.jsx)(oz,{changes:e})};function oZ(){let[e,t]=(0,C.KO)(r3),n=(0,C.b9)(o7);return(0,et.jsxs)(oQ,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(oU.h,{actionName:"Amend Commit",helpText:"Modify the latest commit of the current branch"}),children:r=>(0,et.jsx)("span",{...r,children:(0,et.jsx)(oq,{isSelected:e,onChange:e=>{t(e),n()},preventFocus:!0,mnemonic:"m",children:"Amend"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Show Commit Options"}),children:(0,et.jsx)(iq.hU,{onPress:tA,children:(0,et.jsx)(O.vq,{icon:"general/gear.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Commit Message History"}),children:(0,et.jsx)(iq.hU,{isDisabled:!0,onPress:tA,children:(0,et.jsx)(O.vq,{icon:"vcs/historyInline.svg"})})}),(0,et.jsx)(oW,{children:(0,et.jsx)(oY,{})})]})}oZ.__docgenInfo={description:"Amend checkbox, commit message history button, and summary of included changes, shown as a row\nbellow changes tree, in commit tool window.",methods:[],displayName:"CommitActionsRow"};let oJ=new nJ.C(`Delete {count, plural,
    =1 {Changelist}
    other {Changelists}
  }`,"en-US"),oX=new nJ.C(`{count, plural,
    =1 {1 selected file}
    other {# selected files}
  }`,"en-US"),o0=(0,Q.cn)(e=>[...e(rZ).values()].filter(e=>"DELETED"!==e.type).map(rs.path)),o1=n0({id:tx.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,Q.cn)(e=>0===e(o0).length),actionPerformed:async e=>{let{get:t,set:n}=e,r=t(o0),i=t(eW).current;0!==r.length&&await i?.confirm({title:"Delete",okText:"Delete",message:et.jsx("div",{style:{width:354},children:`Are you sure you want to delete ${oX.format({count:r.length})}?`})})&&(console.log(`deleting ${r}`),await nq(t,n,r))}}),o2=y.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,o5=y.zo.div`
  flex: 1;
  overflow: auto;
  position: relative;
`,o6=y.zo.div`
  position: absolute;
  right: 0.125rem;
  top: 0.125rem;
  z-index: 1;
`,o4=(0,Q.cn)(!1),o7=(0,Q.cn)(null,(e,t)=>{t(o4,!0)}),o3=()=>{let{state:{anchor:e}}=(0,rt.j)(),t=(0,g.useRef)(null),n=(0,g.useRef)(null),r=(0,rn.Ss)(e),i=(0,C.Dv)(ti),[o,a]=(0,C.KO)(r7(r)),[s,l]=(0,C.KO)(o4),c=function(){let e=(0,C.Dv)(rJ),t=rA(),n=[...e].filter(e=>!e.active),r=tc(),i=[{id:tx.$.REFRESH,title:"Refresh",icon:(0,et.jsx)(O.vq,{icon:"actions/refresh.svg"}),actionPerformed:r},{id:rw.SHELVE_SILENTLY,title:"Shelve Silently",icon:(0,et.jsx)(O.vq,{icon:"vcs/shelveSilent.svg"}),actionPerformed:tA},(0,C.Dv)(o1)];return 1===e.size&&i.push({id:rw.RENAME_CHANGELIST,title:"Edit Changelist...",description:"Edit name and description of selected changelist",icon:(0,et.jsx)(O.vq,{icon:"actions/edit.svg"}),actionPerformed:tA}),n.length>0&&i.push({id:rw.REMOVE_CHANGELIST,title:oJ.format({count:n.length}),description:"Remove changelist and move all changes to another",icon:(0,et.jsx)(O.vq,{icon:"general/remove.svg"}),actionPerformed:tA}),1===n.length&&i.push({title:"Set Active Changelist",description:"Set changelist to which new changes are placed by default",id:rw.SET_DEFAULT_CHANGELIST,icon:(0,et.jsx)(O.vq,{icon:"actions/selectall.svg"}),actionPerformed:()=>{t(n[0].id)}}),i}(),d=(0,na.x)({treeRef:t});return(0,g.useEffect)(()=>{s&&(setTimeout(()=>{n.current?.focus()}),l(!1))},[s]),(0,et.jsx)(rr.D,{orientation:r,innerView:(0,et.jsx)(I.DG,{actions:[...d,...c],children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(o2,{...n,children:[(0,et.jsx)(iX,{}),(0,et.jsxs)(o5,{children:[i&&(0,et.jsx)(ri,{children:(0,et.jsx)(o6,{children:(0,et.jsx)(en,{})})}),(0,et.jsx)(i$,{treeRef:t})]}),(0,et.jsx)(oZ,{})]})}}),innerViewMinSize:50,lastView:(0,et.jsx)(oV,{editorRef:n}),lastSize:o,onLastResize:a})};o3.__docgenInfo={description:"",methods:[],displayName:"ChangesViewSplitter"};let o8=y.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function o9(){let e=(0,I.DI)();return(0,et.jsx)(o8,{children:(0,et.jsxs)("div",{style:{textAlign:"center"},children:["To commit changes,"," ",(0,et.jsx)(tf.r,{onPress:()=>e(rw.GIT_INIT),children:"Create Git repository..."}),(0,et.jsx)("br",{}),"For recent changes, see"," ",(0,et.jsx)(tf.r,{onPress:tA,children:"Local History..."}),(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),(0,et.jsx)(O.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",(0,et.jsx)(tf.r,{onPress:tA,children:"Version Control integration"})," "]})})}o9.__docgenInfo={description:"",methods:[],displayName:"ChangesViewZeroState"};let ae=td.ZP.div.withConfig({displayName:"ChangesViewPane__StyledContainer",componentId:"sc-1pqba05-0"})(["display:flex;flex-direction:column;height:100%;"]),at=()=>{let e=(0,C.Dv)(e9);return(0,et.jsx)(ae,{children:e.length>0?(0,et.jsx)(o3,{}):(0,et.jsx)(o9,{})})};function an(e){let{branches:t}=e;return(0,et.jsx)("table",{style:{borderSpacing:0},children:t.map(e=>{let{branch:n,repoRoot:r}=e,i=n.trackingBranch?`${n.name} \u{2192} ${n.trackingBranch}`:t.length>1?`${n.name} (no tracking branch)`:"No tracking branch";return t.length>1?(0,et.jsxs)("tr",{children:[(0,et.jsxs)("td",{children:[f().basename(r),": \xa0"]}),(0,et.jsx)("td",{children:i})]},r):(0,et.jsx)("tr",{children:(0,et.jsx)("td",{children:i})},r)})})}at.__docgenInfo={description:"",methods:[],displayName:"ChangesViewPane"},an.__docgenInfo={description:"",methods:[],displayName:"TrackingBranchInfo",props:{branches:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ repoRoot: string; branch: LocalBranch }",signature:{properties:[{key:"repoRoot",value:{name:"string",required:!0}},{key:"branch",value:{name:"LocalBranch",required:!0}}]}}],raw:"Array<{ repoRoot: string; branch: LocalBranch }>"},description:""}}};let ar="Commit",ai=(0,Q.cn)(async e=>{let t=(await Promise.all(e(ru).map(t=>e(te(rs.path(t)))))).filter(e=>null!=e);return(await Promise.all(t.map(async t=>{let n=(await e(im(t))).currentBranch;return n?{repoRoot:t,branch:n}:null}))).filter(e=>null!=e)}),ao=()=>{let e=(0,C.Dv)(rQ("repository")),t=(0,C.Dv)(ai),n=!e&&t[0]?`Commit to ${t[0]?.branch?.name||"!"}`:"Commit";return(0,et.jsx)(re.y,{children:(0,et.jsx)(re.y.View,{tabContent:(0,et.jsx)(_.a,{isDisabled:e||0===t.length,tooltip:(0,et.jsx)(M.M,{actionName:(0,et.jsx)(an,{branches:t})}),children:(0,et.jsx)("span",{children:n})}),children:(0,et.jsx)(at,{})},"commit")})};ao.__docgenInfo={description:"",methods:[],displayName:"CommitToolWindow"};var aa=n("84824");let as=y.zo.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 2.0625rem;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
  flex-shrink: 0;
`,al=y.zo.div`
  flex-grow: 1;
`,ac=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  display: flex;
  flex-direction: column;
  justify-content: end;
  align-items: center;
  gap: 0.25rem;
  min-height: 37%;
  overflow: hidden;
`;var ad=n("76344");let au=e=>{let t=e.split("\n"),n=t.slice(1);return{subject:t[0],bodyAsString:n.join("\n"),body:(0,et.jsx)(et.Fragment,{children:n.map((e,t)=>(0,et.jsxs)(g.Fragment,{children:[t>0&&(0,et.jsx)("br",{}),e]},t))})}};function ah(e){return e.slice(0,8)}let ap=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}),am=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",hour12:!0}),af=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit"});function ag(e){return am.format(e).replace(" ","\u202F")}let aA=iG({commitParent:(c=e=>`Changes to ${ah(f().basename(e.oid))} ${e.subject.slice(0,50)}`,(e,t)=>{let{fileCount:n}=t;return{textValue:c(e),rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(nv.J,{}),(0,et.jsx)(nj.e.Hint,{children:iL(n)})]})}})},{repo:(e,t)=>{let{fileCount:n}=t;return{textValue:f().basename(e.repository.dir),rendered:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(iN,{rootPath:e.repository.dir}),(0,et.jsx)(nv.J,{}),(0,et.jsx)(nj.e.Hint,{children:iL(n)})]})}}}),ax={};async function ay(e){let{fromRef:t,toRef:n,...r}=e;return(await A.ZP.walk({...r,cache:ax,trees:[A.ZP.TREE({ref:t}),A.ZP.TREE({ref:n})],map:async function(e,t){let[n,i]=t,o=await i?.oid(),a=await n?.oid(),s=await i?.type(),l=await n?.type();if(o===a)return null;let c=o?{hash:o,path:f().join(r.dir||"",e),isDir:"tree"===s,content:async()=>new TextDecoder().decode(await i?.content()??new Uint8Array)}:null,d=a?{hash:a,path:f().join(r.dir||"",e),isDir:"tree"===l,content:async()=>new TextDecoder().decode(await n?.content()??new Uint8Array)}:null,u=c||d?rs(d,c):null;return!!u&&!rs.revision(u).isDir&&u}})||[]).filter(e=>e)}var aj=n("2834");async function av(e){return aw(function(e){let t=e.filter(rs.isDeletion),n=e.filter(rs.isAddition);return ab(new Map(t.map(e=>{let t=n.find(t=>{let{after:{hash:n}}=t;return n===e.before.hash});return t?[e,{to:t}]:null}).filter(e=>null!=e)),e)}(e))}async function aw(e){let t=e.filter(rs.isDeletion),n=e.filter(rs.isAddition),r=new Map,i=async e=>(r.get(e)||r.set(e,await rs.content(e)),r.get(e)??""),o=new Map;return await Promise.all(t.map(async e=>Promise.all(n.map(async t=>{let n=await aC(await i(e),await i(t)),r=o.get(e);n>=50&&(!r||n>r.similarity)&&o.set(e,{similarity:n,to:t})})))),ab(o,e)}function ab(e,t){let n=[...e.values()].map(e=>e.to);return t.map(t=>{if(rs.isDeletion(t)){let n=e.get(t);if(n)return rs(t.before,n?.to.after)}return t}).filter(e=>!n.includes(e))}async function aC(e,t){return new Promise((n,r)=>{(0,aj.Mp)(e,t,function(e,t){if(void 0===t&&(t=[]),e)return r(e);let{unchanged:i,total:o}=t.reduce((e,t)=>{let{total:n,unchanged:r}=e,i=t.count??0;return{total:n+i,unchanged:r+(t.added||t.removed?0:i)}},{total:0,unchanged:0});n(i/o*100)})})}let aE=(0,er.xu)(e=>(0,Q.cn)(()=>ay({fs:r,...e})),eO.Z),aS=(0,er.xu)(e=>(0,Q.cn)(async t=>av(await t(aE(e)))),eO.Z),aD="commitParent";function aI(e){let t=(0,er.xu)(e=>(0,Q.cn)(e===rk.id)),n=(0,Q.cn)(g.createRef()),r=(0,Q.cn)(new Set),i=(0,Q.cn)(new Set),o=n=>async r=>{let{oid:i,repoPath:o}=(await r(e))[0],{commit:a}=await r(oo({dir:o,oid:i})),s=a.parent;if(i&&s){let e=function(){return rN(...arguments)("")}({get:r,groupings:rT,isActive:t}),l=await Promise.all(s?.map(async t=>({type:aD,key:rb(aD,t),oid:t,subject:a.message||"",children:e([...await r(n({toRef:i,fromRef:t,dir:o}))].map(e=>rE(e)))}))),{expandAllKeys:c,fileCountsMap:d,...u}=r$(1===l.length?l[0].children:l.filter(e=>{let{children:t}=e;return t.length>0}));return(0,rO.kD)(e=>("directory"===e.type?"a_":"b_")+aA.getTextValue(e,{fileCountsMap:d}).toLowerCase(),{roots:u.rootNodes,getChildren:e=>"children"in e?e.children:null}),{...u,fileCountsMap:d,expandAllKeys:new Set([...c].filter(e=>!`${e}`.startsWith(aD)))}}return null},a=(0,Q.cn)(o(aE)),s=[(0,Q.cn)(o(aS)),a].map(er.n7);return{isGroupingActiveAtom:t,treeRefAtom:n,expandedKeysAtom:r,selectionAtom:i,changedFilesLoadableAtom:(0,Q.cn)(e=>e(s.find(t=>"hasData"===e(t).state)??s.slice(-1)[0]))}}let aP=aI((0,Q.cn)(e=>e(oP).then(e=>e.map(e=>{let{readCommitResult:{oid:t},repoPath:n}=e;return{oid:t,repoPath:n}})))),ak=y.zo.div`
  position: absolute;
  inset: 0;
  gap: 0.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`;function aT(e){let{treeShortcutHandlerProps:t}=e,n=(0,C.Dv)(nB(oP)),r=(0,C.Dv)(aP.treeRefAtom),i=!n?.length,o=(0,C.Dv)(aP.changedFilesLoadableAtom),a="hasData"===o.state?o.data:null,[s,l]=(0,C.KO)(aP.expandedKeysAtom),[c,d]=(0,C.KO)(aP.selectionAtom);return((0,g.useEffect)(()=>{l(a?.expandAllKeys??new Set),d(new Set)},[o.state]),i)?(0,et.jsx)(ac,{children:"Select commits to to view changes"}):(0,et.jsxs)("div",{...t,style:{height:"-webkit-fill-available",position:"relative"},children:["loading"===o.state&&(0,et.jsxs)(ak,{children:[(0,et.jsx)(en,{style:{width:"1.5rem"}}),"Loading..."]}),a&&(0,et.jsx)(ny.b,{"aria-label":"Commit changes",treeRef:r,items:a.rootNodes,selectionMode:"multiple",expandedKeys:s,onExpandedChange:l,selectedKeys:c,onSelectionChange:d,style:{paddingBottom:"1rem"},fillAvailableSpace:!0,children:aA.itemRenderer({fileCountsMap:a.fileCountsMap})}),n.length>1&&(0,et.jsx)(ad.S,{placement:"top",tooltip:(0,et.jsx)(nV.k,{helpText:(0,et.jsx)(et.Fragment,{children:"Showing diff for more than one commit is not currently supported. Only the first selected commit is taken into account."})}),children:e=>(0,et.jsx)("span",{...e,style:{position:"absolute",right:"0.5rem",bottom:"0.5rem"},children:(0,et.jsx)(O.vq,{icon:"general/warning"})})})]})}aT.__docgenInfo={description:"TODO: handle multiple selected commits (check Changes.ShowChangesFromParents https://github.com/JetBrains/intellij-community/blob/ac57611a0612bd65ba2a19c841a4f95b40591134/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/frame/VcsLogChangesBrowser.java#L255-L254)",methods:[],displayName:"CommitChangedFiles",props:{treeShortcutHandlerProps:{required:!0,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""}}};var aR=n("7228");let aB=(0,et.jsx)("path",{fill:"currentColor",d:"M4.2 4.8 C4.8627 4.8 5.4 5.3373 5.4 6 C5.4 6.6627 4.8627 7.2 4.2 7.2 C3.5373 7.2 3 6.6627 3 6 C3 5.3373 3.5373 4.8 4.2 4.8 ZM0.6 2.4 L0.6 7.2 L7.8 14.4 L12.6 9.6 L5.4 2.4 Z"}),aN={light:"#ffd100",dark:"#e1c731"},aO={light:"#3cb45c",dark:"#3cb45c"},aF={light:"#9f79b5",dark:"#9f79b5"},aL={light:"#7a7a7a",dark:"#999999"},a_={head:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.headIconColor",aN)},localBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.localBranchIconColor",aO)},remoteBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.remoteBranchIconColor",aF)},tag:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.tagIconColor",aL)}},aM=(0,y.zo)(iO)`
  border-radius: 3px;
  align-items: stretch;
  font-size: 0.75rem;
`,aG=y.zo.svg.attrs({viewBox:"0 0 14.5 14.5"})`
  width: 1rem;
  height: 1rem;
  stroke: rgba(0, 0, 0, 0.25);
  stroke-width: 0.5px;
  color: ${e=>{let{$type:t,theme:n}=e;return a_[t]({theme:n})}};
  z-index: 1; // for the right vertical order of grouped labels
  &:not(:first-child) {
    margin-right: -11px;
  }
`,aK=y.zo.span`
  display: inline-flex;
  flex-direction: row-reverse;
`,aH=y.zo.span`
  text-overflow: ellipsis;
  overflow: hidden;
`;function a$(e){let{type:t}=e;return(0,et.jsx)(aG,{$type:t,children:aB})}function aV(e){let{types:t}=e;return(0,et.jsx)(aK,{children:t.map((e,t)=>(0,et.jsx)(aG,{$type:e,children:aB},t))})}function aU(e){let{types:t,children:n}=e;return(0,et.jsxs)(aM,{children:[(0,et.jsx)(aV,{types:t}),(0,et.jsx)(aH,{children:n})]})}a$.__docgenInfo={description:"",methods:[],displayName:"RefIcon",props:{type:{required:!0,tsType:{name:'GitRef["type"]',raw:'GitRef["type"]'},description:""}}},aV.__docgenInfo={description:"",methods:[],displayName:"RefIconGroup",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""}}},aU.__docgenInfo={description:"",methods:[],displayName:"RefLabel",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};let az=y.zo.div`
  padding: 0.875rem;
  cursor: default;
`,aQ=y.zo.div`
  font-family: "JetBrains Mono", monospace;
  line-height: 1.125rem;
  margin-bottom: 1.25rem;
  margin-right: 1.1875rem;
`,aq=y.zo.div`
  font-weight: bold;
`,aW=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};
`,aY=y.zo.div`
  line-height: 1.2;
  display: flex;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`,aZ=(0,y.zo)(iN)`
  align-self: start;
`,aJ=y.zo.span`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`;function aX(){let e=(0,C.Dv)(nB(ok)),t=(0,C.Dv)(nB(oS)),n=(0,C.Dv)(e9).length>0;if(!e)return(0,et.jsx)(ac,{children:"No commits selected"});let{readCommitResult:{commit:r,oid:i},containingRefs:o,repoPath:a}=e,{subject:s,body:l}=au(r.message),c=[];r.committer.name!==r.author.name&&c.push((0,et.jsxs)(g.Fragment,{children:["by ",r.committer.name," ",(0,et.jsx)(a2,{email:r.committer.email})]},r.committer.email)),r.committer.timestamp!==r.author.timestamp&&c.push(a5(1e3*r.committer.timestamp));let d=t?.[i]||[],u=(0,ro.Z)(e=>e.type,d);return(0,et.jsxs)(az,{children:[(0,et.jsxs)(aQ,{children:[(0,et.jsx)(aq,{children:s}),l]}),(0,et.jsxs)(aY,{children:[n&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aR.u,{children:a}),children:e=>(0,et.jsx)(aZ,{...e,rootPath:a})}),(0,et.jsxs)("div",{children:[`${ah(i)} ${r.author.name} `,(0,et.jsx)(a2,{email:r.author.email})," ",`${a5(new Date(1e3*r.author.timestamp))}`,c.length>0&&(0,et.jsxs)(aW,{children:["committed ",c]})]})]}),d.length>0&&(0,et.jsxs)(aJ,{children:[(0,et.jsx)(a1,{refs:u.head}),(0,et.jsx)(a1,{refs:u.localBranch}),(0,et.jsx)(a1,{refs:u.remoteBranch}),(0,et.jsx)(a1,{refs:u.tag})]}),(0,et.jsxs)("div",{children:["In ",o.size," branches: ",[...o].join(", ")]})]})}let a0=y.zo.span`
  display: inline-flex;
  align-items: center;
`;function a1(e){let{refs:t}=e;return t?.length?(0,et.jsx)(et.Fragment,{children:t.map((e,n)=>{let r=`${e.name}${n===t.length-1?"":","}`;return 0===n?(0,et.jsxs)(a0,{children:[(0,et.jsx)(aV,{types:t.map(e=>{let{type:t}=e;return t}).slice(0,2)}),r]}):(0,et.jsx)("span",{children:r})})}):null}function a2(e){let{email:t}=e;return(0,et.jsx)("a",{href:`mailto:${t}`,style:{all:"unset"},children:(0,et.jsx)(tf.r,{children:`<${t}>`})})}function a5(e){return`on ${af.format(e)} at ${ag(e)}`}function a6(e,t){let n=(0,I.ol)().find(t=>{let{id:n}=t;return n===e});return(0,g.useMemo)(()=>{if(!n)return null;let{perform:e,id:r,...i}=n;return{...i,id:t,useShortcutsOf:r,isSearchable:!1,actionPerformed:t=>{e(t)}}},[n])}aX.__docgenInfo={description:"",methods:[],displayName:"CommitDetails"};let a4=(0,Q.cn)(.5),a7=y.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,a3=(0,Q.cn)(e=>rT.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable).map(t=>({...t,key:`groupBy:${t.id}`,isActive:e(aP.isGroupingActiveAtom(t.id))}))),a8="Vcs.log.detailsView.layout",a9="Vcs.log.detailsView.viewOptions",se=`${a8}.${rw.SHOW_DETAILS}`,st=`${a8}.${rw.SHOW_DIFF_PREVIEW}`,sn=e=>`Vcs.log.detailsView.groupBy.${e.id}`;function sr(e){let{tabKey:t}=e,[n,r]=(0,C.KO)(a4),i=(0,C.Dv)(oA(t)),o=(0,eP.lV)((0,g.useCallback)((e,t,n)=>{t(aP.isGroupingActiveAtom(n),e=>!e)},[])),a=(0,tD.w)(),s=(0,C.Dv)(a3),l=(0,C.Dv)(aP.treeRefAtom),c=[a({id:a9,title:"View Options",icon:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"}),children:[a({id:"Vcs.log.detailsView.groupBy",title:"Group By",menuPresentation:"titledSection",icon:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"}),children:s.map(e=>({id:sn(e),useShortcutsOf:e.useShortcutOf,title:e.title,actionPerformed:()=>{o(e.id)}}))}),a({id:a8,menuPresentation:"titledSection",title:"Layout",children:[a6(rw.SHOW_DETAILS,se),a6(rw.SHOW_DIFF_PREVIEW,st)].filter(e=>null!=e)})]}),...(0,na.x)({treeRef:l})];return(0,et.jsx)(I.DG,{actions:c,children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(a7,{children:[(0,et.jsxs)(as,{children:[(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Show Diff",shortcut:"\u2318D"}),children:(0,et.jsx)(iq.hU,{isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Revert Selected Changes"}),children:(0,et.jsx)(iq.hU,{isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"actions/rollback.svg"})})}),(0,et.jsx)(iU.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(sa,{menuProps:t})},children:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"})})]}),(0,et.jsx)(al,{}),(0,et.jsxs)(iV.o,{style:{flexShrink:0},children:[(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]})]}),(0,et.jsx)("div",{style:{flex:1,minHeight:0},children:i?(0,et.jsx)(rr.D,{orientation:"vertical",firstSize:n,onFirstResize:r,firstViewMinSize:10,firstView:(0,et.jsx)(aT,{treeShortcutHandlerProps:t}),innerView:(0,et.jsx)(aX,{})}):(0,et.jsx)(aT,{treeShortcutHandlerProps:t})})]})}})}let si={[se]:ox,...Object.fromEntries(rT.map(e=>[sn(e),aP.isGroupingActiveAtom(e.id)]))},so=(0,Q.cn)(e=>Object.entries(si).filter(t=>{let[,n]=t;return e(n)}).map(e=>{let[t]=e;return t}));function sa(e){let{menuProps:t}=e,n=(0,$.y)(a9),r=(0,C.Dv)(so);return n&&(0,et.jsx)(V.d,{actionGroup:n,children:e=>(0,et.jsx)(iz.w,{...t,...e,selectedKeys:r})})}sr.__docgenInfo={description:"",methods:[],displayName:"VcsLogDetailsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var ss=n("67074"),sl=n("66344"),sc=n("46377"),sd=n("88524"),su=n("51515");let sh=y.zo.button`
  all: unset;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding-left: 0.25rem;
  cursor: pointer;
  background: transparent;
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};

  line-height: 1.5;
  border-radius: 0.25rem;
  white-space: nowrap;
  border: 2px solid transparent;
  &:hover {
    color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  }
  &:focus-visible {
    border-color: ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
  }
`,sp=y.zo.span`
  margin-left: -1px;
  line-height: 1.2;
`,sm=y.zo.span`
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  max-width: 8.25rem;
  overflow: hidden;
  text-overflow: ellipsis;
`,sf=(0,y.zo)(sc.v)`
  &:focus-visible {
    outline: 2px solid
      ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
    outline-offset: -2px;
  }
`;function sg(e){let{label:t,value:n,onClear:r,...i}=e;return(0,et.jsx)(sd.b,{...i,children:(e,i)=>(0,et.jsxs)(sh,{...e,ref:i,children:[t,n?(0,et.jsxs)(et.Fragment,{children:[": ",(0,et.jsx)(sm,{children:n}),(0,et.jsx)(su.V,{onPress:r,children:(0,et.jsx)(sf,{icon:"actions/close",hoverIcon:"actions/closeHovered"})})]}):(0,et.jsx)(sp,{children:(0,et.jsx)(O.vq,{icon:"general/arrowDownSmall.svg"})})]})})}sg.__docgenInfo={description:"",methods:[],displayName:"VcsFilterDropdown",props:{label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let sA=y.zo.span.attrs({role:"button"})`
  display: inline-flex;
`;function sx(e){let{onClick:t,isFavorite:n,isCurrent:r}=e;return(0,et.jsx)(sA,{onPointerUp:e=>{e.stopPropagation()},onClick:t,children:r?(0,et.jsx)(sc.v,{icon:n?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg",hoverIcon:n?"nodes/favorite.svg":"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}):n?(0,et.jsx)(O.vq,{icon:"nodes/favorite.svg"}):(0,et.jsx)(sc.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"})})}function sy(e){let{tabKey:t}=e,[n,r]=(0,C.KO)(oy.branch(t)),i=(0,eP.oC)(oy.branch(t));return(0,et.jsx)(sg,{value:n.length>0?n.join("|"):null,onClear:i,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(sw,{menuProps:t,onBranchesSelected:r})},label:"Branch"})}sx.__docgenInfo={description:"",methods:[],displayName:"BranchFavoriteButton",props:{isCurrent:{required:!1,tsType:{name:"boolean"},description:""},isFavorite:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let sj=e=>Object.entries((0,ro.Z)(e=>{let{branchName:t}=e;return t},e)).map(e=>{let[t,n]=e;return{branchName:t,repoRoots:n.map(e=>e.repoRoot)}}),sv=(0,Q.cn)(async e=>{let t=await e(iA),n=t.flatMap(e=>{let{remoteBranches:t,repoRoot:n}=e;return t.map(e=>({repoRoot:n,branchName:`${e.remote}/${e.name}`}))});return{localBranches:sj(t.flatMap(e=>{let{localBranches:t,repoRoot:n}=e;return t.map(e=>({repoRoot:n,branchName:e.name}))})),remoteBranches:sj(n)}});function sw(e){let{menuProps:t,onBranchesSelected:n}=e,[r,i]=(0,g.useState)([]),{toggleFavorite:o,isFavorite:a}=ik(),{localBranches:s=[],remoteBranches:l=[]}=(0,C.Dv)(nB(sv))||{},c=(0,ro.Z)(e=>{let{branchName:t}=e;return t.split("/")[0]},l);(0,g.useEffect)(()=>{let e=(e,t)=>t.filter(t=>{let{branchName:n,repoRoots:r}=t;return r.some(t=>a({branchType:e,branchName:n,repoRoot:t}))}).map(t=>{let{branchName:n,repoRoots:r}=t;return{branchType:e,branchName:n,repoRoots:r}});i([{branchType:"LOCAL",branchName:"HEAD",repoRoots:[]}].concat(e("LOCAL",s)).concat(e("REMOTE",l)))},[]);let d=e=>{let{branchName:t,branchType:n,repoRoots:r}=e;return(0,et.jsx)(B.c,{textValue:t,children:(0,et.jsx)(L._,{content:t,icon:(0,et.jsx)(sx,{isFavorite:"HEAD"===t||r.some(e=>a({branchType:n,repoRoot:e,branchName:t})),onClick:()=>{"HEAD"!==t&&r.forEach(e=>{o({branchType:n,repoRoot:e,branchName:t})})}})})},`branch:${t}`)};return(0,et.jsx)(iz.w,{...t,submenuBehavior:"toggleOnPress",autoFocus:"first",minWidth:250,onAction:e=>{let[t,i]=`${e}`.split(":");"branch"===t&&i?n([i]):"favorites"===t?n(r.map(e=>{let{branchName:t}=e;return t})):"select"===t&&tA()},children:[(0,et.jsx)(B.c,{children:"Select..."},"select"),(0,et.jsx)(B.c,{children:"Favorites"},"favorites"),...r.map(d),(0,et.jsx)(nD.i,{}),(0,et.jsx)(B.c,{title:"Local",children:s.map(e=>{let{branchName:t,repoRoots:n}=e;return d({branchType:"LOCAL",branchName:t,repoRoots:n})})},"local"),...Object.entries(c).map(e=>{let[t,n]=e;return(0,et.jsx)(B.c,{title:`${t}/...`,children:n.map(e=>{let{branchName:t,repoRoots:n}=e;return d({branchType:"REMOTE",branchName:t,repoRoots:n})})},`remote:${t}`)})]})}sy.__docgenInfo={description:"",methods:[],displayName:"BranchesFilterDropdown",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var sb=n("88808"),sC=n("74546"),sE=n("84244");function sS(e){var t;let n=function(e){let t=e.match("(\\w+)[\\p{Punct}\\s](\\w+)");return t?[t[1],t[2]]:null}(e);if(null!=n){let[e,t]=n;return e.toLowerCase()+" "+t.toLowerCase()}return(t=e).match("[ -~]*")?t.toLowerCase():t}let sD=(0,er.xu)(e=>(0,Q.cn)(async()=>({name:await A.ZP.getConfig({fs:r,dir:e,path:"user.name"})??"",email:await A.ZP.getConfig({fs:r,dir:e,path:"user.email"})??""}))),sI=y.zo.div`
  display: flex;
  height: 1.5rem;
  align-items: center;
  width: 100%;
  --column-width-1: 130px;
  --column-width-2: 130px;
  --column-width-3: 70px;
`,sP=y.zo.div`
  overflow: hidden;
  padding-left: 0.25rem;
`,sk=y.zo.div`
  ${e=>{let{$asOverlay:t}=e;return t?(0,y.iv)`
          flex-shrink: 0;
        `:(0,y.iv)`
          position: absolute;
          right: 0;
          top: 1px;
          max-width: calc(100% - 100px);
        `}};

  display: flex;
  gap: 0.25rem;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(t.color("List.background"))}};
`,sT=y.zo.div`
  position: relative;
  display: flex;
  gap: 0.25rem;
`,sR=y.zo.div`
  display: flex;
  align-items: center;
  margin: 0 0.25rem;
  font-size: 0.75rem;
`,sB=e=>{let{repoRoot:t,author:n}=e,r=(0,C.Dv)(sD(t)),i=(0,C.Dv)(oB),o=(0,C.Dv)(oj.user);return{fontWeight:i&&"*"!==o&&sS(r.name)===sS(n.name)?"bold":void 0}};function sN(e){var t;let{refs:n,readCommitResult:{oid:r,commit:{author:i,committer:o,message:a}},repoRoot:s}=e,l=(0,C.Dv)(oT),c=(0,C.Dv)(oR),d=(0,C.Dv)(o_(oN.id)),u=(0,C.Dv)(o_(oF.id)),h=(0,C.Dv)(o_(oO.id)),p=sB({author:i,repoRoot:s});return(0,et.jsxs)(sI,{children:[(0,et.jsx)(sP,{style:{flexBasis:"0%",flexGrow:1,flexShrink:1},children:(0,et.jsxs)(sT,{children:[n&&(0,et.jsx)(sF,{onLeft:c,refs:n}),(0,et.jsx)("span",{style:p,children:au(a).subject})]})}),d&&(0,et.jsxs)(sP,{style:{flexBasis:"auto",width:"var(--column-width-1)",flexShrink:1,...p},children:[i.name,o.name!==i.name&&"*"]}),u&&(0,et.jsx)(sP,{style:{flexBasis:"auto",width:"var(--column-width-2)",flexShrink:1,...p},children:(t=1e3*(l?o:i).timestamp,ap.format(t).replace(" ","\u202F"))}),h&&(0,et.jsx)(sP,{style:{flexBasis:"auto",width:"var(--column-width-3)",flexShrink:1,...p},children:ah(r)})]})}function sO(e){return`${e.type}${e.name}`}function sF(e){let{refs:t,onLeft:n}=e,{filteredRefs:r}=(0,g.useMemo)(()=>{let e=t.some(e=>"localBranch"===e.type&&e.isCurrent);return{filteredRefs:t.filter(n=>!("head"===n.type&&e||"remoteBranch"===n.type&&t.find(e=>"localBranch"===e.type&&e.trackingBranch===n.name)))}},[t]);return(0,et.jsx)(_.a,{placement:"bottom",delay:800,isDisabled:t.length<2,tooltip:(0,et.jsx)(aR.u,{withPointer:!0,children:t.map(e=>(0,et.jsxs)(sR,{children:[(0,et.jsx)(a$,{type:e.type}),e.name]},sO(e)))}),children:e=>{let{ref:i,...o}=e;return(0,et.jsx)(sk,{ref:i,$asOverlay:n,...o,children:r.filter(e=>"remoteBranch"!==e.type||!t.find(t=>"localBranch"===t.type&&t.trackingBranch===e.name)).map(e=>{let t=e.name,n=[e.type];return"localBranch"===e.type&&e.trackingBranch&&(n.unshift("remoteBranch"),t=`${e.trackingBranch.split("/")[0]} & ${e.name}`),"localBranch"===e.type&&e.isCurrent&&n.push("head"),(0,et.jsx)(aU,{types:n,children:t},sO(e))})})}})}sN.__docgenInfo={description:"",methods:[],displayName:"CommitsTableRow",props:{repoRoot:{required:!0,tsType:{name:"string"},description:""},readCommitResult:{required:!0,tsType:{name:"ReadCommitResult"},description:""},refs:{required:!0,tsType:{name:"union",raw:"GitRef[] | undefined",elements:[{name:"Array",elements:[{name:"GitRef"}],raw:"GitRef[]"},{name:"undefined"}]},description:""}}};let sL=(0,y.zo)(sb.ko)`
  position: absolute;
  width: 100%;
  z-index: 1;
`,s_=y.zo.div`
  position: relative;
  min-height: 0;
  flex: 1;
  ${sE.o} {
    // the default "min-width: min-content", which is necessary for sizing overlays (e.g. Popup) containing list/tree,
    // results in horizontally scrollable table. Probably not an issue when a proper Table component is implemented.
    min-width: unset;
  }
`,sM=g.createContext({});function sG(){let e=(0,C.Dv)(oh),t=ov(),{value:n,isLoading:r}=(0,C.Dv)(t6(oE,null)),i=n?.rows,o=(0,C.Dv)(nB(oS)),[a,s]=(0,C.KO)(oD);return(0,et.jsx)(sM.Provider,{value:o??{},children:(0,et.jsxs)(s_,{children:[r&&(0,et.jsx)(sL,{"aria-label":"Loading commits",isIndeterminate:!0}),i&&i.length>0&&(0,et.jsx)(sC.a,{"aria-label":"Commits list",items:i,fillAvailableSpace:!0,selectionMode:"multiple",selectedKeys:a,onSelectionChange:s,estimatedItemHeight:24,children:e=>{let{readCommitResult:t,repoPath:n}=e;return(0,et.jsx)(B.c,{textValue:t.commit.message,children:(0,et.jsx)(sM.Consumer,{children:e=>(0,et.jsx)(sN,{readCommitResult:t,repoRoot:n,refs:e[t.oid]})})},t.oid)}}),i&&0===i.length&&(0,et.jsxs)(ac,{children:["No commits matching filters",(0,et.jsx)(tf.r,{onPress:()=>t(e),children:"Reset filters"})]})]})})}sG.__docgenInfo={description:"",methods:[],displayName:"CommitsTable"};let sK=[{key:"commitTimestamp",name:"Commit Timestamp",atom:oT},{key:"referencesOnLeft",name:"References on the Left",atom:oR}],sH=[{key:"myCommits",name:"My Commits",atom:oB}],s$=[oN,oO,oF].map(e=>{let{name:t,id:n}=e;return{name:t,key:n,atom:o_(n)}}),sV=e=>{let[t,n]=(0,C.KO)(e.atom);return{...e,value:t,set:n}};function sU(){let e=sK.map(sV),t=sH.map(sV),n=s$.map(sV),r=e.concat(t).concat(n);return(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"View Options"}),children:(0,et.jsx)(iU.p,{renderMenu:i=>{let{menuProps:o}=i;return(0,et.jsxs)(iz.w,{...o,selectedKeys:r.filter(e=>{let{value:t}=e;return t}).map(e=>{let{name:t}=e;return t}),onAction:e=>{let t=r.find(t=>{let{name:n}=t;return n===e});t?t.set(e=>!e):tA()},children:[(0,et.jsxs)(iW.$,{title:"Show",children:[(0,et.jsx)(B.c,{children:"Compact References View"}),(0,et.jsx)(B.c,{children:"Tag Names"}),(0,et.jsx)(B.c,{children:"Long Edges"}),e.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(B.c,{children:t},n)}),(0,et.jsx)(B.c,{title:"Columns",children:n.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(B.c,{children:t},n)})})]}),(0,et.jsxs)(iW.$,{title:"Highlight",children:[t.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(B.c,{children:t},n)}),(0,et.jsx)(B.c,{children:"Merge Commits"}),(0,et.jsx)(B.c,{children:"Current Branch"}),(0,et.jsx)(B.c,{children:"Not Cherry-Picked Commits"})]})]})},children:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"})})})}sU.__docgenInfo={description:"",methods:[],displayName:"CommitsTableViewOptionsMenuIconButton"};let sz=(0,y.zo)(sl.M)`
  border-radius: 2px;
  width: 219px;
  margin-right: 0.0625rem;
  margin-left: 0.2rem;
`,sQ=y.zo.div`
  height: 100%;
  display: flex;
  flex-direction: column;
`,sq=(0,Q.cn)([]);function sW(e){var t;let{tabKey:n}=e,r=(0,C.Dv)(lC),[i,o]=(0,C.KO)(oy.searchQuery(n)),[a,s]=(0,C.KO)(oy.user(n)),l=(0,eP.oC)(oy.user(n)),[c,d]=(0,C.KO)(oy.date(n)),u=(0,eP.oC)(oy.date(n)),[h,p]=(0,C.KO)(sq),[m,f]=(0,g.useState)(i),A=(0,ty.k)(),x=(0,C.Dv)(oy.regExp(n)),y=(0,C.Dv)(oy.matchCase(n)),j=function(e){void 0===e&&(e=m),o(e),e&&!h.includes(e)&&p(t=>[e,...t.filter(t=>t!==e)])};(0,g.useEffect)(()=>{f(i)},[i]);let v=(0,eP.lV)((0,g.useCallback)((e,t)=>{let n=(0,ss.Z)();t(ou,e=>[...e,n]),Object.values(oy).forEach(r=>{t(r(n),e(r(e(oh))))}),t(oh,n)},[])),w=new Date,b=new Date;b.setDate(w.getDate()-7);let E=new Date;E.setDate(w.getDate()-1);let S=[{name:"Last 24 hours",value:{from:E}},{name:"Last 7 days",value:{from:b}}];return(0,et.jsxs)(sQ,{children:[(0,et.jsxs)(as,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Text or Hash Filter",shortcut:A(rw.FOCUS_TEXT_FILTER)}),children:(0,et.jsx)(sz,{inputRef:r,value:m,onChange:f,onSubmit:j,onBlur:()=>j(),onClear:()=>j(""),searchHistory:h,addonAfter:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(sc.R,{as:ns.K,excludeFromTabOrder:!1,actionId:rw.REG_EXP,children:(0,et.jsx)(sc.v,{icon:x?"actions/regexSelected":"actions/regex",hoverIcon:x?"actions/regexSelected":"actions/regexHovered"})}),(0,et.jsx)(sc.R,{as:ns.K,excludeFromTabOrder:!1,actionId:rw.MATCH_CASE,children:y?(0,et.jsx)(O.vq,{icon:"actions/matchCaseSelected"}):(0,et.jsx)(sc.v,{icon:"actions/matchCase",hoverIcon:"actions/matchCaseHovered"})})]})})}),(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(sy,{tabKey:n}),(0,et.jsx)(sg,{value:"*"===a?"me":a,onClear:l,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(R.v2,{...t,onAction:e=>{if("select"===e)return tA();s(`${e}`)},children:[(0,et.jsx)(B.c,{children:"Select..."},"select"),(0,et.jsx)(B.c,{children:"me"},"*")]})},label:"User"}),(0,et.jsx)(sg,{value:c&&((t=c).from&&t.to?`Between ${oc(t.from)} and ${oc(t.to)}`:t.from?`since ${oc(t.from)}`:t.to?`until ${oc(t.to)}`:""),onClear:u,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(R.v2,{...t,onAction:e=>{let t=S.find(t=>{let{name:n}=t;return n===e});t?d(t.value):tA()},children:[(0,et.jsx)(B.c,{children:"Select..."},"select"),...S.map(e=>{let{name:t}=e;return(0,et.jsx)(B.c,{children:t},t)})]})},label:"Date"}),(0,et.jsx)(sg,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(R.v2,{...t,onAction:tA,children:[(0,et.jsx)(B.c,{children:"Select in..."}),(0,et.jsx)(B.c,{children:"Select in Tree..."})]})},label:"Paths"}),(0,et.jsx)(iV.J,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Open New Git Log Tab"}),children:(0,et.jsx)(iq.hU,{"aria-label":"Checkout",onPress:v,children:(0,et.jsx)(O.vq,{icon:"actions/openNewTab.svg"})})})]}),(0,et.jsx)(al,{}),(0,et.jsxs)(iV.o,{style:{flexShrink:0},children:[(0,et.jsx)(ns.K,{actionId:rw.LOG_REFRESH}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Cherry-Pick"}),children:(0,et.jsx)(iq.hU,{isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"/platform/dvcs-impl/resources/icons/cherryPick.svg"})})}),(0,et.jsx)(sU,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Go To Hash/Branch/Tag",shortcut:"\u2318F"}),children:(0,et.jsx)(iq.hU,{children:(0,et.jsx)(O.vq,{icon:"actions/find"})})})]})]}),(0,et.jsx)(sG,{})]})}function sY(e,t){let n=e.flatMap(e=>{let{repoRoot:t,localBranches:n,currentBranch:r}=e;return n.map(e=>({repoRoot:t,isCurrent:r?.name===e.name,branch:e}))}),r=Object.entries((0,ro.Z)(e=>{let{branch:t}=e;return t.name},n)).map(t=>{let[n,r]=t,i=r.map(e=>{let{repoRoot:t}=e;return(0,m.basename)(t)});return{type:"localBranch",key:`localBranch:${i.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some(e=>{let{repoRoot:t,branch:n}=e;return iS({repoRoot:t,branchType:"LOCAL",branchName:n.name})}),isCurrent:r.some(e=>{let{isCurrent:t}=e;return t}),repos:i.length===e.length?null:i}});return t?sX(r):r}function sZ(e,t){let n=e.flatMap(e=>{let{repoRoot:t,remoteBranches:n}=e;return n.map(e=>({repoRoot:t,branch:e}))}),r=Object.entries((0,ro.Z)(e=>{let{branch:t}=e;return`${t.remote}/${t.name}`},n)).map(t=>{let[n,r]=t,i=r.map(e=>{let{repoRoot:t}=e;return(0,m.basename)(t)});return{type:"remoteBranch",key:`remoteBranch:${i.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some(e=>{let{repoRoot:t,branch:n}=e;return iS({repoRoot:t,branchType:"REMOTE",branchName:n.name})}),repos:i.length===e.length?null:i}});return t?sX(r):r}sW.__docgenInfo={description:"",methods:[],displayName:"VcsLogCommitsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let sJ=(0,Q.cn)(async e=>{let t=await e(iA),n=e(s0("directory")),r=e(s1)&&e(s0("repository"));return[{type:"head"},{type:"branchType",branchType:"LOCAL",children:r?t.map(e=>({type:"repository",key:`LOCAL:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:sY([e],n)})):sY(t,n)},{type:"branchType",branchType:"REMOTE",children:r?t.map(e=>({type:"repository",key:`REMOTE:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:sZ([e],n)})):sZ(t,n)}]}),sX=rj({shouldCollapseDirectories:!1,getPath:e=>e.name}),s0=(0,er.xu)(e=>(0,Q.cn)(!1)),s1=(0,Q.cn)(e=>e(e9).length>1),s2=of(g.createRef()),s5=of(new Set),s6=of(new Set),s4=of(""),s7=[{id:"directory",title:"Directory",icon:(0,et.jsx)(O.vq,{icon:"actions/GroupByPackage.svg"}),isActive:s0("directory"),isAvailable:!0},{id:"repository",title:"Repository",isActive:s0("repository"),isAvailable:s1}],s3=(0,Q.cn)(e=>s7.filter(t=>"boolean"!=typeof t.isAvailable?e(t.isAvailable):t.isAvailable).map(t=>({...t,isActive:e(s0(t.id))})));function s8(){let e=(0,eP.lV)((0,g.useCallback)((e,t)=>e=>{t(s0(e),e=>!e)},[])),t=(0,C.Dv)(s3);return(0,et.jsx)(iY,{groupings:t,onToggle:e})}s8.__docgenInfo={description:"",methods:[],displayName:"BranchesGroupByActionButton"};let s9={branchType:e=>{var t;return(0,et.jsx)(B.c,{textValue:(t=e.branchType)[0].toUpperCase()+t.slice(1).toLowerCase(),childItems:e.children,children:(0,et.jsx)(nv.J,{})},`${e.type}:${e.branchType}`)},localBranch:e=>(0,et.jsx)(B.c,{textValue:(0,m.basename)(e.name),children:(0,et.jsx)(nj.e,{children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:(0,et.jsx)(an,{branches:e.branches})}),children:t=>(0,et.jsxs)(nj.e.Group,{...t,children:[e.isCurrent?(0,et.jsx)(_.a,{tooltip:(0,et.jsxs)(aR.u,{children:["Current ",e.isFavorite&&"favorite ","branch"]}),children:t=>(0,et.jsx)(nj.e.Group,{...t,children:(0,et.jsx)(O.vq,{icon:e.isFavorite?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg"})})}):(0,et.jsx)(O.vq,{icon:"vcs/branchNode"}),(0,et.jsx)(nv.J,{}),e.repos&&(0,et.jsxs)(nj.e.Hint,{children:["(",e.repos.join(", "),")"]})]})})})},`${e.key}`),remoteBranch:e=>(0,et.jsx)(B.c,{textValue:(0,m.basename)(e.name),children:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(O.vq,{icon:e.isFavorite?"nodes/favorite.svg":"vcs/branchNode"}),(0,et.jsx)(nv.J,{}),e.repos&&(0,et.jsxs)(nj.e.Hint,{children:["(",e.repos.join(", "),")"]})]})},`${e.key}`),repository:e=>(0,et.jsx)(B.c,{textValue:(0,m.basename)(e.repoRoot),childItems:e.children,children:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(iN,{rootPath:e.repoRoot}),(0,et.jsx)(nv.J,{})]})},`${e.key}`),directory:e=>(0,et.jsx)(B.c,{textValue:(0,m.basename)(e.dirPath),childItems:e.children,children:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(O.vq,{icon:"nodes/folder.svg"}),(0,et.jsx)(nv.J,{})]})},`${e.type}_${e.parentNodePath}${e.dirPath}`),head:e=>(0,et.jsx)(B.c,{textValue:"HEAD (Current Branch)",children:(0,et.jsx)(nv.J,{})},`${e.type}`)},le=e=>{let[t,n,r]=e.split(":");return"head"===t?"HEAD":"localBranch"===t||"remoteBranch"===t?r??null:null},lt=y.zo.input`
  all: unset;
  flex: 1;
  align-self: stretch;
`,ln=y.zo.div`
  min-width: 0; // don't outgrow the container
  flex-grow: 1; // fill the available space
  display: flex;
  flex-direction: column;
`,lr=y.zo.span`
  display: inline-flex;
  margin-top: -0.0625rem;
  margin-left: 0.7rem;
  margin-right: 0.25rem;
  cursor: text;
`;function li(e){let{tabKey:t}=e,n=(0,C.Dv)(nB(sJ)),[r,i]=(0,C.KO)(s5(t)),[o,a]=(0,C.KO)(s6(t)),[s,l]=(0,C.KO)(s4(t)),c=(0,C.Dv)(s2(t)),d=(0,g.useRef)(null),u=(0,g.useRef)(null),[h,p]=(0,g.useState)(!1),m=(0,C.b9)(oj.branch);return(0,et.jsxs)(ln,{children:[(0,et.jsxs)(as,{children:[(0,et.jsx)(lr,{children:(0,et.jsx)(O.vq,{icon:"actions/search"})}),(0,et.jsx)(lt,{ref:u,tabIndex:-1,value:s,onChange:e=>l(e.target.value),onFocus:()=>{p(!0)},onBlur:()=>{p(!1)}})]}),(0,et.jsx)(ny.b,{ref:d,treeRef:c,focusProxyRef:u,items:n??[],selectionMode:"multiple",selectedKeys:r,onSelectionChange:i,expandedKeys:o,onExpandedChange:a,onAction:e=>{let t=le(`${e}`);t&&m([t])},fillAvailableSpace:!0,showAsFocused:h,searchTerm:s,onSearchTermChange:l,keepSearchActiveOnBlur:!0,hideSpeedSearchPopup:!0,isSearchActive:!0,children:e=>s9[e.type](e)})]})}li.__docgenInfo={description:"",methods:[],displayName:"BranchesTree",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let lo="Git.DeleteBranch",la="Git.Compare.With.Current",ls="Git.Show.My.Branches",ll="Git.Fetch",lc="Git.Toggle.Favorite",ld=td.ZP.div.withConfig({displayName:"VcsBranchesView__StyledContainer",componentId:"sc-vamle4-0"})(["display:flex;height:100%;"]);function lu(e){let{tabKey:t}=e,n=(0,C.Dv)(s2(t)),r=[{id:rw.GIT_UPDATE_SELECTED,title:"Update Selected",icon:(0,et.jsx)(O.vq,{icon:"actions/checkOut"}),actionPerformed:()=>{tA()}},{id:lo,title:"Delete branch",icon:(0,et.jsx)(O.vq,{icon:"actions/gc"}),useShortcutsOf:"SafeDelete",actionPerformed:()=>{tA()}},{id:la,title:"Compare with current",icon:(0,et.jsx)(O.vq,{icon:"actions/diff"}),useShortcutsOf:rw.SHOW_DIFF,actionPerformed:()=>{tA()}},{id:ls,title:"Show My Branches",icon:(0,et.jsx)(O.vq,{icon:"actions/find"}),actionPerformed:()=>{tA()}},{id:ll,title:"Fetch All Remotes",icon:(0,et.jsx)(O.vq,{icon:"vcs/fetch"}),actionPerformed:()=>{tA()}},{id:lc,title:"Mark/Unmark as Favorite",icon:(0,et.jsx)(O.vq,{icon:"nodes/favorite"}),actionPerformed:()=>{tA()}},...(0,na.x)({treeRef:n})];return(0,et.jsx)(I.DG,{actions:r,children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(ld,{...n,children:[(0,et.jsx)(lp,{}),(0,et.jsx)(li,{tabKey:t})]})}})}let lh=(0,td.ZP)(iV.o).withConfig({displayName:"VcsBranchesView__StyledToolbar",componentId:"sc-vamle4-1"})(["height:100%;flex-shrink:0;"]);function lp(){return(0,et.jsxs)(lh,{border:"right",orientation:"vertical",children:[(0,et.jsx)(ns.K,{actionId:rw.GIT_LOG_HIDE_BRANCHES}),(0,et.jsx)(iV.J,{}),(0,et.jsx)(ns.K,{actionId:rw.GIT_CREATE_NEW_BRANCH}),(0,et.jsx)(ns.K,{actionId:rw.GIT_UPDATE_SELECTED}),(0,et.jsx)(ns.K,{actionId:lo}),(0,et.jsx)(ns.K,{actionId:la}),(0,et.jsx)(ns.K,{actionId:ls}),(0,et.jsx)(ns.K,{actionId:ll}),(0,et.jsx)(ns.K,{actionId:lc}),(0,et.jsx)(ns.K,{actionId:rw.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH}),(0,et.jsx)(iV.J,{}),(0,et.jsx)(s8,{}),(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]})}lu.__docgenInfo={description:"",methods:[],displayName:"VcsBranchesView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let lm=e=>{let t=nB(e);return n0({id:rw.COPY_REVISION_NUMBER,title:"Copy Revision Number",icon:(0,et.jsx)(O.vq,{icon:"actions/copy.svg"}),isDisabled:(0,Q.cn)(e=>!e(t)?.length),useShortcutsOf:tx.$.COPY_REFERENCE,actionPerformed:async t=>{let{get:n}=t,r=await n(e);tS()(r.join(" ")).catch(console.error)}})},lf=n0({id:rw.LOG_REFRESH,title:"Refresh",icon:(0,et.jsx)(O.vq,{icon:"actions/refresh.svg"}),useShortcutsOf:tx.$.REFRESH,actionPerformed:e=>{let{set:t}=e;t(oC)}}),lg=lm(oI),lA=()=>[(0,C.Dv)(lg),(0,C.Dv)(lf)],lx=y.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function ly(){let e=(0,I.DI)();return(0,et.jsx)(lx,{children:(0,et.jsxs)("div",{style:{textAlign:"center"},children:["To track changes to code:",(0,et.jsx)("br",{}),(0,et.jsx)(tf.r,{onPress:()=>e(rw.GIT_INIT),children:"Create Git repository..."}),(0,et.jsx)("br",{}),(0,et.jsx)(tf.r,{onPress:tA,children:"Use Local History..."}),(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),(0,et.jsx)(O.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",(0,et.jsx)(tf.r,{onPress:tA,children:"Version Control integration"})," "]})})}ly.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindowZeroState"};let lj=(0,Q.cn)(.25),lv=(0,Q.cn)(.35),lw=y.zo.span`
  margin: 0 0.5rem 0 0.125rem;
`,lb=y.zo.div`
  height: 100%;
  display: flex;
  &:focus-visible {
    outline: none;
  }
`,lC=(0,Q.cn)(g.createRef()),lE=()=>{let e=(0,C.Dv)(ou),[t,n]=(0,C.KO)(oh);return(0,C.Dv)(e9).length>0?(0,et.jsx)(re.y,{headerContent:(0,et.jsx)(lw,{children:"Git:"}),activeKey:t,onActiveKeyChange:e=>n(`${e}`),children:e.map(e=>(0,et.jsx)(re.y.View,{tabContent:(0,et.jsx)(lL,{tabKey:e}),children:(0,et.jsx)(lk,{tabKey:e})},e))}):(0,et.jsx)(nt.n,{headerContent:"Version Control",children:(0,et.jsx)(ly,{})})},lS=y.zo.button.attrs({tabIndex:-1})`
  box-sizing: border-box;
  all: unset;
  width: 1.71875rem;
  align-items: center;
  display: flex;
  flex-direction: column;
  padding: 0.5rem 0;
  gap: 0.625rem;
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  :disabled {
    color: ${e=>{let{theme:t}=e;return t.color("Button.disabledText")}};
  }
  &:hover {
    background: ${e=>{let{theme:t}=e;return t.color("ToolWindow.Button.hoverBackground",t.dark?"#0f0f0f28":"#55555528")}};
  }
`,lD=(0,y.zo)(lS)`
  border-right: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
`,lI=y.zo.span`
  writing-mode: vertical-lr;
  transform: rotateZ(180deg);
  font-size: 0.6875rem;
`;function lP(e){let{onPress:t}=e;return(0,et.jsxs)(lD,{onClick:t,children:[(0,et.jsx)(O.vq,{icon:"actions/arrowExpand"}),(0,et.jsx)(lI,{children:"Branches"})]})}function lk(e){let{tabKey:t}=e,[n,r]=(0,C.KO)(lj),[i,o]=(0,C.KO)(lv),a=[...lA(),(0,C.Dv)(lO),(0,C.Dv)(lR),(0,C.Dv)(lT),(0,C.Dv)(lB),(0,C.Dv)(lN),lF],[s,l]=(0,C.KO)(og(t)),c=s?{firstView:(0,et.jsx)(lu,{tabKey:t}),firstSize:n,onFirstResize:r,firstViewMinSize:85}:{};return(0,et.jsx)(I.DG,{actions:a,children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(lb,{...n,tabIndex:s?-1:0,children:[!s&&(0,et.jsx)(lP,{onPress:()=>l(!0)}),(0,et.jsx)(rr.D,{...c,innerView:(0,et.jsx)(sW,{tabKey:t}),innerViewMinSize:200,lastView:(0,et.jsx)(sr,{tabKey:t}),lastSize:i,onLastResize:o,lastViewMinSize:40})]})}})}let lT=n0({id:rw.MATCH_CASE,title:"Match Case",icon:(0,et.jsx)(O.vq,{icon:"actions/matchCase.svg"}),actionPerformed:e=>{let{get:t,set:n}=e;n(oy.matchCase(t(oh)),e=>!e)}}),lR=n0({id:rw.GIT_LOG_HIDE_BRANCHES,title:"Hide Git Branches",icon:(0,et.jsx)(O.vq,{icon:"actions/arrowCollapse"}),actionPerformed:e=>{let{get:t,set:n}=e;n(og(t(oh)),!1)}}),lB=n0({id:rw.REG_EXP,title:"Regex",icon:(0,et.jsx)(O.vq,{icon:"actions/regex"}),actionPerformed:e=>{let{get:t,set:n}=e;n(oy.regExp(t(oh)),e=>!e)}}),lN=n0({id:rw.SHOW_DETAILS,title:"Show Details",description:"Display details panel",actionPerformed:e=>{let{get:t,set:n}=e;n(oA(t(oh)),e=>!e)}}),lO=n0({id:rw.FOCUS_TEXT_FILTER,title:"Focus Text Filter",actionPerformed:e=>{let{get:t}=e;t(lC).current?.focus()}}),lF={id:rw.SHOW_DIFF_PREVIEW,title:"Show Diff Preview",description:"Show Diff Preview Panel",actionPerformed:()=>tA()};function lL(e){let{tabKey:t}=e,n=(0,eP.lV)(ow);return(0,et.jsx)(aa.v,{title:(0,C.Dv)(op(t)),closeButton:"MAIN"!==t&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Close Tab"}),children:(0,et.jsx)(K.W,{onPress:()=>n(t)})})})}lE.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindow"};let l_=[{id:"Project",title:"Project",icon:(0,et.jsx)(O.vq,{icon:"toolwindows/toolWindowProject"}),content:(0,et.jsx)(n9,{}),initialState:(0,ne.x5)({isVisible:!0,weight:.23})},{id:"Terminal",title:"Terminal",icon:(0,et.jsx)(O.vq,{icon:"toolwindows/toolWindowProject"}),content:(0,et.jsx)(nt.n,{headerContent:"Terminal",children:(0,et.jsx)(no,{})}),initialState:(0,ne.x5)({anchor:"bottom"})},{id:ar,title:"Commit",icon:(0,et.jsx)(O.vq,{icon:"toolwindows/toolWindowCommit"}),content:(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(ao,{})}),initialState:(0,ne.x5)({anchor:"left",isSplit:!0,isVisible:!1})},{id:"Version Control",title:"Version Control",icon:(0,et.jsx)(O.vq,{icon:"toolwindows/toolWindowChanges"}),content:(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(lE,{})}),initialState:(0,ne.x5)({anchor:"bottom",weight:.35})}];var lM=n("77298"),lG=n("29514"),lK=n("69842");let lH=(0,Q.cn)(!1),l$=(0,Q.cn)(null);var lV=n("83212"),lU=n("52973");let lz=td.ZP.div.withConfig({displayName:"TasksPopup__StyledPopupTitle",componentId:"sc-rjwznj-0"})(["flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;margin:0 0.625rem;"]);function lQ(){let e=(0,C.b9)(lH),t=(0,C.Dv)(i1),n=i3(),[r,i]=(0,C.KO)(l$);return(0,et.jsx)(lU.GI,{bounds:r||{width:300,left:window.innerWidth-300-150,top:window.innerHeight-80*t.length-30-100},onBoundsChange:e=>{i(e)},minHeight:100,minWidth:300,nonDismissable:!0,interactions:"all",children:(0,et.jsx)(lU.GI.Layout,{header:(0,et.jsxs)(lU.GI.Header,{hasControls:!0,children:[(0,et.jsx)(lz,{children:"Background Tasks"}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aR.u,{children:"Hide"}),children:(0,et.jsx)(iq.hU,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>e(!1),children:(0,et.jsx)(O.vq,{icon:"general/hideToolWindow"})})})]}),content:(0,et.jsx)(et.Fragment,{children:t.map((e,r)=>(0,et.jsxs)(g.Fragment,{children:[(0,et.jsx)(sb.ko,{style:{margin:".5rem 0.75rem"},name:e.title,isIndeterminate:e.progress.isIndeterminate,"aria-label":`Progress of ${e.title}`,details:e.progress.text||(e.progress.secondaryText?(0,et.jsx)(et.Fragment,{children:"\xa0"}):void 0),secondaryDetails:e.progress.secondaryText,value:e.progress.fraction,maxValue:1,button:e.isCancelable&&(0,et.jsx)(lK.b,{onPress:()=>n(e.id)})}),t[r+1]&&(0,et.jsx)(lV.lX,{})]},e.id))})})})}function lq(e){return(0,et.jsx)(sb.ko,{dense:!0,namePosition:"side",width:146,...e})}lQ.__docgenInfo={description:"",methods:[],displayName:"TasksPopup"};let lW=td.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__Spacer",componentId:"sc-vrkr3d-0"})(["width:0.5rem;"]),lY=td.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__StyledProgressBarButton",componentId:"sc-vrkr3d-1"})(["cursor:pointer;","{cursor:unset;}"],sb.ko.Container),lZ=()=>{let e=(0,C.Dv)(i2),t=(0,C.Dv)(i5),n=i3(),[r,i]=(0,C.KO)(lH);return(0,g.useEffect)(()=>{0===t&&i(!1)},[t]),(0,et.jsxs)(et.Fragment,{children:[e&&!r&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aR.u,{children:`${e.title}. Click to see all running background tasks.`}),children:(0,et.jsx)(su.V,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>{i(!0)},children:(0,et.jsx)(lY,{children:(0,et.jsx)(lq,{name:e.progress.text||e.title,isIndeterminate:e.progress.isIndeterminate,value:e.progress.fraction,maxValue:1,button:(0,et.jsx)(et.Fragment,{children:e.isCancelable&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aR.u,{children:"Cancel"}),children:(0,et.jsx)(lK.b,{small:!0,onPress:()=>n(e.id)})})})})})})}),(t>1||r)&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lW,{}),(0,et.jsxs)(tf.r,{onPress:()=>i(e=>!e),children:[r?"Hide processes":"Show all"," (",t,")"]})]}),r&&t>0&&(0,et.jsx)(lQ,{})]})};lZ.__docgenInfo={description:'Intentionally, "processes" haven\'t been abstracted as an extension point for different features, since the focus\nhere is not to create an IDE, but to demo UI components.',methods:[],displayName:"StatusBarTaskProgressBar"};var lJ=n("60947");let lX=(0,Q.cn)(async e=>{let t=e(tL)?.filePath;return(t&&await e(te(t)))??e(e9)[0]?.dir}),l0=(0,Q.cn)(async e=>{let t=await e(lX);return t?e(im(t)):null}),l1=(d=(0,Q.cn)(async e=>{let t=e(tL)?.filePath??await e(lX);return t?e(ix(t)):null}),(0,er.kv)(d,(e,t)=>e instanceof Promise?Promise.all([e,t]).then(e=>{let[t,n]=e;return t??n??t}):e??t??e)),l2=(0,Q.cn)(async e=>{let t=await e(l1);if(t)return{detached:!1,head:t};let n=await e(lX);if(n){let e=await (0,A.qq)({fs:r,dir:n,ref:"HEAD"}).catch(e=>null);return e?{detached:!0,head:e}:null}return null});var l5=n("80850"),l6=n("80842"),l4=n("70920");function l7(e,t){return e?.remoteBranches.some(e=>`${e.remote}/${e.name}`===t)?"CLASHING_WITH_REMOTE":e?.localBranches.some(e=>{let{name:n}=e;return n===t})?"EXISTING":null}let l3=RegExp(`(^\\.)|(^-)|(^/)|(\\.\\.)+|[ ~:^?*\\[\\\\]+|(@\\{)+|[${Array(32).fill(null).map((e,t)=>String.fromCharCode(t)).join("")}u007F]`);function l8(e){return e.replace(l3,"_")}let l9=y.zo.div`
  padding: 0.5rem 1rem;
`,ce=(0,y.zo)(l4.U)`
  width: 100%;
`,ct={EXISTING:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," already exists ",(0,et.jsx)("br",{})]}),CLASHING_WITH_REMOTE:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," clashes with remote branch ",(0,et.jsx)("br",{}),"with the same name"]})};function cn(e){let{branchName:t,repoRoot:n,close:i}=e,[o,a]=(0,g.useState)(t),[s,l]=(0,g.useState)(!1),c=(0,S.L)(),d=(0,C.Dv)(im(n)),u=function(){let e=iP();return(0,eP.lV)((0,g.useCallback)(async(t,n,i,o,a)=>{await (0,A.R_)({fs:r,dir:i,oldref:o,ref:a}),n(im(i));let s={branchType:"LOCAL",branchName:o,repoRoot:i};iI(t(iC),t(iE),s)&&(e(s,!1),e({...s,branchName:a},!0))},[]))}(),h=l7(d,o),p=h&&s?"error":"valid";return(0,et.jsx)(nG.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(nK.b,{header:`Rename branch ${t}`,content:(0,et.jsx)(l9,{children:(0,et.jsx)("form",{id:"branch_rename_form",onSubmit:e=>{e.preventDefault(),h?l(!0):u(d.repoRoot,t,o).catch(e=>{c.show({icon:"Error",title:"Unexpected error",body:`Could not rename branch ${t} to ${o}.`}),console.error("Branch rename error: ",e)}).then(()=>{i()})},children:(0,et.jsx)(ce,{labelPlacement:"above",label:"New branch name:",value:o,onChange:e=>{a(l8(e)),l(!0)},validationState:p,validationMessage:h&&"error"===p?ct[h]?.(t):void 0})})}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:i,children:"Cancel"}),(0,et.jsx)(n$.z,{variant:"default",type:"submit",form:"branch_rename_form",isDisabled:!!h&&s,children:"Rename"})]})})})})}cn.__docgenInfo={description:"",methods:[],displayName:"RenameBranchWindow",props:{branchName:{required:!0,tsType:{name:"string"},description:""},repoRoot:{required:!0,tsType:{name:"string"},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let cr=y.zo.div`
  box-sizing: border-box;
  padding: 0 0.375rem;
  display: flex;
  align-items: center;
  width: 100%;
`,ci=y.zo.div`
  flex: 1;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0 0.625rem;
`,co=(0,Q.cn)(void 0);function ca(e){let{close:t}=e,n=(0,C.Dv)(nB(iA)),[i,o]=(0,C.KO)(co),[a,s]=(0,g.useState)(i??{}),l=(0,I.BH)(rw.GIT_CREATE_NEW_BRANCH),c=(0,eP.lV)((0,g.useCallback)((e,t,n,i)=>(0,A.NA)({fs:r,dir:n,ref:i}).then(()=>{t(im(n))}),[])),d=(0,S.L)(),u=(0,w.S)(),h=(0,eP.lV)((0,g.useCallback)(async(e,t,n,i,o)=>{let a=eD(e,t);await (0,A.JE)({fs:r,dir:n,remote:o,ref:i}),console.log(`checked out branch ${i}`),t(im(n)),t(eS(n));let s=e(tO);t(tO,await ic(async e=>{let{filePath:t}=e,n=await r.promises.exists(t);return console.log(`updating the content of the file ${t}`,n),n&&await a(t),n},s))},[])),{isFavorite:p,toggleFavorite:m}=ik();if(!n)return null;let x=1===n.length?`Git Branches in ${f().basename(n[0].repoRoot)}`:"Git Branches";return(0,et.jsx)(lU.GI,{interactions:"all",minHeight:55,minWidth:300,bounds:a,onBoundsChange:(e,t)=>{"resize"===t&&o({width:e.width,height:e.height}),s(e)},children:(0,et.jsx)(l5.F,{header:(0,et.jsx)(lU.GI.Header,{hasControls:!0,children:(0,et.jsxs)(cr,{children:[(0,et.jsx)(ci,{children:x}),(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Fetch"}),children:(0,et.jsx)(iq.hU,{onPress:()=>{tA(),t()},children:(0,et.jsx)(O.vq,{icon:"vcs/fetch.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Restore Popup Size"}),children:(0,et.jsx)(iq.hU,{isDisabled:void 0===i,onPress:()=>{o(void 0),s(e=>{let{width:t,height:n,...r}=e;return{...r}})},children:(0,et.jsx)(O.vq,{icon:"general/fitContent.svg"})})})]})]})}),content:(0,et.jsxs)(iz.w,{"aria-label":x,submenuBehavior:"toggleOnPress",fillAvailableSpace:!0,autoFocus:"first",disabledKeys:n.flatMap(e=>{let{localBranches:t,repoRoot:n}=e;return t.filter(e=>{let{trackingBranch:t}=e;return!t}).map(e=>{let{name:t}=e;return`${n}/pull-${t}`})}),onAction:e=>{let[t,r,i]=`${e}`.split("//");async function o(e){try{await e()}catch(e){e instanceof A.D1.CheckoutConflictError?d.show({icon:"Error",title:"Git Checkout Problem",body:e.message}):d.show({icon:"Error",title:"Checkout failed",body:`Could not checkout branch ${r}`})}}if(e===l?.id)return l?.perform();switch(i){case"delete":return c(t,r).then(()=>{d.show({title:`Deleted branch: ${r}`,icon:"Info",actions:(0,et.jsx)(l6.g,{onPress:tA,children:"Restore"})})},()=>{d.show({title:`Could not deleted branch: ${r}`,icon:"Error"})});case"rename":return u.open(e=>{let{close:n}=e;return(0,et.jsx)(cn,{repoRoot:t,branchName:r,close:n})});case"checkout":return o(()=>h(t,r));case"remote-checkout":return function(){let e=n?.find(e=>{let{repoRoot:n}=e;return n===t})?.remoteBranches.find(e=>{let{name:t,remote:n}=e;return`${n}/${t}`===r});if(e)return o(()=>h(t,e.name,e.remote))}();default:return tA()}},onClose:t,children:[l&&(0,et.jsx)(B.c,{textValue:l.title,children:(0,et.jsx)(L._,{icon:l.icon,content:l.title})},l.id),(0,et.jsx)(B.c,{children:"Checkout Tag or Revision..."},"checkout_revision"),n.flatMap(e=>{let{remoteBranches:t,localBranches:r,repoRoot:i,currentBranch:o}=e,a=(e,t)=>n.length>1?`${e} in ${f().basename(t)}`:e,s=(e,t)=>[!t&&(0,et.jsx)(B.c,{children:`Compare with '${e}'`},`${i}//${e}//compare-with-branch`),(0,et.jsx)(B.c,{children:"Show Diff with Working Tree"},`${i}//${e}//show-diff-with-working-tree`),(0,et.jsx)(nD.i,{},"compare-actions-divider")],l=(e,t)=>t&&e!==t&&[(0,et.jsx)(B.c,{children:`Rebase '${t}' onto '${e}'`},`${i}//${e}//rebase-current-onto`),(0,et.jsx)(B.c,{children:`Merge '${e}' onto '${t}'`},`${i}//${e}//merge-into-current`),(0,et.jsx)(nD.i,{},"merge-actions-divider")];return[(0,et.jsx)(iW.$,{title:a("Local Branches",i),children:r.map(e=>{let{name:t,trackingBranch:n}=e,r=t===o?.name,a={branchName:t,branchType:"LOCAL",repoRoot:i};return(0,et.jsxs)(B.c,{textValue:t,title:(0,et.jsx)(L._,{content:t,icon:(0,et.jsx)(sx,{isFavorite:p(a),isCurrent:r,onClick:()=>{m(a)}}),shortcut:n&&(0,et.jsx)(nj.e.Hint,{$small:!0,children:n})}),children:[!r&&(0,et.jsx)(B.c,{children:"Checkout"},`${i}//${t}//checkout`),(0,et.jsx)(B.c,{children:`New Branch from '${t}'...`},`${i}//${t}//new-branch-from`),!r&&(0,et.jsx)(B.c,{children:`Checkout and rebase onto '${t}'`},`${i}//${t}//checkout-and-rebase-onto`),(0,et.jsx)(nD.i,{},"new-branch-actions-divider"),s(t,r),l(t,o?.name),(0,et.jsx)(B.c,{children:"Update"},`${i}//${t}//pull`),(0,et.jsx)(B.c,{children:"Push..."},`${i}//${t}//push`),(0,et.jsx)(nD.i,{},"push-divider"),(0,et.jsx)(B.c,{children:"Rename..."},`${i}//${t}//rename`),!r&&(0,et.jsx)(B.c,{children:"Delete"},`${i}//${t}//delete`)]},`${i}//${t}`)})},`${i}//local_branches`),(0,et.jsx)(iW.$,{title:a("Remote Branches",i),children:t.map(e=>{let t=`${e.remote}/${e.name}`,n={branchName:t,branchType:"REMOTE",repoRoot:i};return(0,et.jsxs)(B.c,{textValue:t,title:(0,et.jsx)(L._,{content:t,icon:(0,et.jsx)(sx,{isFavorite:p(n),onClick:()=>{m(n)}})}),children:[(0,et.jsx)(B.c,{children:"Checkout"},`${i}//${t}//remote-checkout`),(0,et.jsx)(B.c,{children:`New Branch from '${t}'...`},`${i}//${t}//new-branch-from`),(0,et.jsx)(B.c,{children:`Checkout and rebase onto '${t}'`},`${i}//${t}//checkout-and-rebase-onto`),(0,et.jsx)(nD.i,{},"new-branch-actions-divider"),s(t,!1),l(t,o?.name),(0,et.jsx)(B.c,{children:`Pull into '${t}' Using Merge`},`${i}//${t}//pull-into-using-merge`),(0,et.jsx)(B.c,{children:`Pull into '${t}' Using Rebase`},`${i}//${t}//pull-into-using-rebase`),(0,et.jsx)(nD.i,{}),(0,et.jsx)(B.c,{children:"Delete"},`${i}//${t}//delete`)]},`${i}//${t}`)})},`${i}//remote_branches`)]})]})})})}ca.__docgenInfo={description:"",methods:[],displayName:"BranchesPopup",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let cs=!1,cl=()=>{let e=(0,S.L)(),t=(0,C.Dv)(e9),n=(0,I.DI)();return async()=>{t.length<2&&!cs&&(cs=!0,e.showSticky({title:"Clone another repository",icon:(0,et.jsx)(O.vq,{icon:"actions/quickfixOffBulb.svg"}),body:"Git integration in the example app supports multiple repos within the same project. See it in action by cloning another repo",actions:(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(l6.g,{onPress:()=>{n("ExampleApp.cloneExampleRepo")},children:"Clone another repo"})})}))}};function cc(){let e=(0,C.Dv)(nB(l2)),t=cl();return e&&(0,et.jsx)(lJ.q,{placement:"top",onOpenChange:e=>{e||setTimeout(t,500)},popup:e=>{let{close:t}=e;return(0,et.jsx)(ca,{close:t})},children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:e.detached?"Git: Detached HEAD doesn't point to any branch":`Git Branch: ${e.head}`}),children:(0,et.jsx)(lG.V,{icon:(0,et.jsx)(O.vq,{icon:e.detached?"general/warning.svg":"vcs/branch.svg"}),label:e.head.slice(0,e.detached?8:void 0)})})})}cc.__docgenInfo={description:"",methods:[],displayName:"BranchPopupTrigger"};let cd=td.ZP.div.withConfig({displayName:"IdeStatusBar__StyledLastMessage",componentId:"sc-1hz1fp-0"})(["margin-left:0.75rem;cursor:pointer;"]),cu=()=>{let e=(0,C.Dv)(t_);return(0,et.jsx)(lM.A,{left:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(O.vq,{icon:"general/tbHidden.svg",role:"button",onClick:tA}),(0,et.jsx)(cd,{children:"Tooltip content or last message will show up here."})]}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lZ,{}),(0,et.jsx)(lG.V,{onPress:tA,label:"LF"}),(0,et.jsx)(lG.V,{onPress:tA,label:`${e.lineNumber},${e.column}`}),(0,et.jsx)(lG.V,{label:"UTF-8"}),(0,et.jsx)(sd.b,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(R.v2,{...t,onAction:tA,children:[(0,et.jsx)(B.c,{children:"Configure Indents for Typescript"}),(0,et.jsx)(B.c,{children:"Disable Indents Detection for Project"})]})},children:(e,t)=>(0,et.jsx)(lG.V,{...e,ref:t,label:"2 spaces"})}),(0,et.jsx)(sd.b,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(R.v2,{...t,onAction:tA,children:[(0,et.jsxs)(B.c,{title:"Compile",children:[(0,et.jsx)(B.c,{children:"packages/jui/tsconfig.json"}),(0,et.jsx)(B.c,{children:"packages/jui/src/StatusBar/StatusBar.stories.tsx"}),(0,et.jsx)(B.c,{children:"Compile All"})]}),(0,et.jsx)(nD.i,{}),(0,et.jsx)(B.c,{children:(0,et.jsx)(L._,{icon:(0,et.jsx)(O.vq,{icon:"javaee/updateRunningApplication.svg"}),content:"Restart Typescript Service"})}),(0,et.jsx)(B.c,{children:(0,et.jsx)(L._,{icon:(0,et.jsx)(O.vq,{icon:"general/settings.svg"}),content:"Configure Typescript..."})})]})},children:(e,t)=>(0,et.jsx)(lG.V,{...e,ref:t,label:"TypeScript 4.4.3"})}),(0,et.jsx)(cc,{}),(0,et.jsx)(lG.V,{icon:(0,et.jsx)(O.vq,{icon:"ide/readwrite.svg"})}),(0,et.jsx)(lG.V,{icon:(0,et.jsx)(O.vq,{icon:"ide/fatalError.svg"})})]})})};cu.__docgenInfo={description:"",methods:[],displayName:"IdeStatusBar"};var ch=n("91555");let cp=()=>(0,et.jsx)(R.v2,{disabledKeys:["showDiff"],"aria-label":"Context menu",onAction:tA,children:(0,et.jsx)(B.c,{textValue:"Show Diff",children:(0,et.jsx)(L._,{icon:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"}),content:"Show Diff"})},"showDiff")});cp.__docgenInfo={description:"",methods:[],displayName:"RollbackTreeContextMenu"};let cm=y.zo.div`
  box-sizing: border-box;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 0;
`,cf=y.zo.div`
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  flex: 1;
  overflow: auto;
`,cg=y.zo.div`
  &:not(:empty) {
    line-height: 1.5;
    padding-left: 0.375rem;
    margin-bottom: 0.75rem;
  }
`;function cA(){let e=(0,C.Dv)(rH),t=(0,C.Dv)(rG).map(rC),{fileCountsMap:n}=(0,C.Dv)(r4),[r,i]=(0,C.KO)(rM),o=(0,C.Dv)(rK),[a,s]=(0,g.useState)(new Set(t.slice(0,1))),[l,c]=(0,g.useState)(e),[d,u]=(0,g.useState)(new Set(t)),h=(0,ch.T)({rootNodes:o,getKey:e=>e.key,getChildren:e=>rS(e)?e.children:null},{selectedKeys:d,onSelectedKeysChange:u}),p=(0,C.Dv)(ru).filter(e=>d.has(rC(e))),m=rp(),f=(0,S.L)(),A=(0,C.b9)(r_),x=()=>A(!1),y=(0,g.useRef)(null),j=(0,na.x)({treeRef:y}),[v,w]=(0,g.useState)(!1),b=p.some(e=>"ADDED"===e.type);return(0,et.jsx)(nG.Du,{onClose:x,bounds:r,onBoundsChange:i,minHeight:200,minWidth:275,children:(0,et.jsx)(nK.b,{header:"Rollback changes",content:(0,et.jsx)(I.DG,{actions:j,children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(cm,{...t,children:[(0,et.jsxs)("div",{style:{display:"flex"},children:[(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(iq.hU,{isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"actions/diff"})}),(0,et.jsx)(iU.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(R.v2,{...t,selectedKeys:[],onAction:tA,children:(0,et.jsx)(iW.$,{title:"Group By",children:rT.map(e=>(0,et.jsx)(B.c,{children:e.title},e.id))})})},children:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"})})]}),(0,et.jsx)("span",{style:{flex:1}}),(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]})]}),(0,et.jsx)(cf,{children:(0,et.jsx)(T.X,{renderMenu:()=>(0,et.jsx)(cp,{}),style:{height:"100%"},children:(0,et.jsx)(io.G,{treeRef:y,items:o,selectionMode:"multiple",selectedKeys:a,onSelectionChange:s,expandedKeys:l,onExpandedChange:c,nestedSelection:h,fillAvailableSpace:!0,children:e=>{let t=iH.getItemProps({node:e,fileCountsMap:n});return(0,et.jsxs)(B.c,{...t,children:[e.children?.length!==0&&(0,et.jsx)(ia.x,{selectionState:h.getSelectionState(e),onToggle:()=>h.toggle(e)}),t.children]})}})})})]})}}),footer:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("div",{style:{padding:".5rem 0.75rem 0",display:"flex",flexDirection:"column"},children:[(0,et.jsx)(cg,{children:(0,et.jsx)(oz,{changes:p})}),(0,et.jsx)(nH.X,{isDisabled:!b,isSelected:v,onChange:w,mnemonic:"D",children:"Delete local copies of the added files"})]}),(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:x,mnemonic:"C",children:"Close"}),(0,et.jsx)(n$.z,{variant:"default",mnemonic:"R",isDisabled:0===p.length,onPress:()=>{m(p,v).catch(e=>{f.show({title:"Reverting changes failed",icon:"Error",body:"Could not revert selected changes. See console for more info"}),console.error("Git revert error:",e)}).finally(x)},children:"Rollback"})]})})]})})})}cA.__docgenInfo={description:"",methods:[],displayName:"RollbackWindow"};let cx=(0,Q.cn)(new ne.iC(Object.fromEntries(l_.map(e=>{let{id:t,initialState:n}=e;return[t,n]})),{removedFromSideBarIds:l_.filter(e=>{let{showStripeButton:t}=e;return!1===t}).map(e=>{let{id:t}=e;return t})}));var cy=n("31671"),cj=n("10879"),cv=n("98688");let cw=[{actionId:tx.$.EXPAND_SELECTION,title:"Press $shortcut to expand selection"},{actionId:tx.$.SHRINK_SELECTION,title:"Press $shortcut to shrink selection"}],cb=()=>{let e=(0,v.og)(),t=(0,g.useMemo)(()=>cw.map(t=>{let{actionId:n,title:r}=t;return{keyboardShortcut:e?.[n]?.find(e=>"keyboard"===e.type),title:r}}).filter(e=>{let{keyboardShortcut:t}=e;return t}).map(e=>{let{keyboardShortcut:t,title:n}=e;return n.replace("$shortcut",(0,cv.W)(t))}),[e]),[n,r]=(0,g.useState)(Math.floor(Math.random()*t.length));return{current:t[n],next:()=>{let e=Math.floor(Math.random()*(t.length-1)),i=e<n?e:e+1;console.log("changing index to",i,"tmpIndex",e),r(i)}}};var cC=n("48233"),cE=n("91346");let cS=g.forwardRef(function(e,t){let n=(0,cC.B)(t),{focusableProps:r}=(0,cE.k)({autoFocus:e.autoFocus},n);return(0,et.jsx)("input",{...(0,U.d)(r,e),ref:n})});cS.__docgenInfo={description:"",methods:[],displayName:"Input"};let cD={isOpen:(0,Q.cn)(!1),tab:(0,Q.cn)("All"),contextElement:(0,Q.cn)(null),initialSearchQuery:(0,er.xu)(e=>(0,Q.cn)("")),bounds:(0,Q.cn)(null)};function cI(e){let{hasContent:t,persistedBoundsAtom:n,noContentHeight:r,minHeight:i,...o}=e,a=(0,C.b9)(n),[s,l]=(0,g.useState)((0,C.Dv)(n)??{top:150,height:Math.max(200,window.innerHeight-300)}),c=(0,g.useRef)(s.height);return(0,g.useEffect)(()=>{l(e=>({...e,height:t?c.current:r}))},[t]),(0,et.jsx)(lU.GI,{...o,bounds:s,onBoundsChange:e=>{t&&(c.current=e.height,a(e)),l(e)},minHeight:t?i:r})}cI.__docgenInfo={description:"A special type of popup, where the content can be toggled on and off. Needed only for SearchEveryWhere at the moment,\nbut extracted as a component, to collocate related pieces, rather than leave them with the rest of the code in the\ncomponent.\n- Updates persisted {@param boundsState}, when the bounds are changed, only if the content is shown when the bounds\n  is changed.\n- Minimizes the popup into {@param noContentHeight}, when {@param hasContent} is `false`.\n- Restores the popup height to it's latest value, or based on content, when {@param hasContent} changes to `true`.\n- Returns the right to be applied based on the input {@param minHeight} and {@param hasContent}.",methods:[],displayName:"ContentAwarePopup",props:{hasContent:{required:!0,tsType:{name:"boolean"},description:"Whether the popup has content. If `false`, the popup is minimized to `noContentHeight`."},noContentHeight:{required:!0,tsType:{name:"number"},description:"The minimized height of the popup, when there is no content."},persistedBoundsAtom:{required:!0,tsType:{name:"WritableAtom",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]},{name:"tuple",raw:"[Partial<Bounds> | null]",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]}]},{name:"void"}],raw:"WritableAtom<\n  Partial<Bounds> | null,\n  [Partial<Bounds> | null],\n  void\n>"},description:"Persisted state of the popup bounds, in form of an atom."}}};var cP=n("12746"),ck=n("90297"),cT=n("81863");let cR=y.zo.span`
  width: 0.9375rem;
  margin-right: 0.25rem;
  display: inline-flex;
  justify-content: center;
`,cB=(0,y.zo)(nj.e)`
  // Going above 20px (which is the estimated list item height in the virtualizer) makes the tab crash when
  // running e2e tests only in local environment (both headed and headless, both against storybook dev server and
  // static server like in the CI pipeline), and only after upgrading styled-components to v6 🤯
  min-height: ${"Cypress"in window?"1.25rem":"1.375rem"};
  width: 100%;
  padding: 0;
`,cN=y.zo.span`
  color: ${e=>{let{theme:t,$disabled:n}=e;return n&&t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
`,cO=y.zo.div`
  flex: 1;
`;function cF(e){let{action:t,highlights:n}=e,{isSelected:r}=(0,g.useContext)(nw.k)||{};return(0,et.jsxs)(cB,{children:[(0,et.jsx)(cR,{children:t.icon}),(0,et.jsx)(cN,{$disabled:t.isDisabled,children:r?(0,et.jsx)(ck.x,{highlights:n,children:t.title}):t.title}),(0,et.jsx)(nj.e.Hint,{style:{fontSize:".85em",fontWeight:"bold"},children:t.shortcut}),(0,et.jsx)(cO,{}),(0,et.jsx)(nj.e.Hint,{style:{marginRight:"-0.375rem"},children:(function(e,t){let n=(0,cT.nf)(e)?e.parent:null,r=[];for(;n;)r.unshift(t?n[t]:n),n=n.parent;return r})(t,"title").join(" | ")})]})}cF.__docgenInfo={description:"UI of actions in SearchEverywhere list",methods:[],displayName:"ActionItem",props:{action:{required:!0,tsType:{name:"Action"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:""}}};let cL={id:"Actions",title:"Actions",actionId:tx.$.GO_TO_ACTION,use:e=>{let{everyWhereAutoSet:t}=e,n=(0,C.Dv)(cD.contextElement),[r,i]=(0,g.useState)(null),o=(0,g.useMemo)(()=>n?(0,I.C9)(n):[],[n]),a=r??t,s=[{id:tx.$.SHOW_INTENTION_ACTIONS,title:"Assign a shortcut",actionPerformed:tA}];return{search:e=>{let t=o.map(t=>({highlights:(0,cP.M)(t.title,e),action:t})).filter(t=>{let{action:n,highlights:r}=t;return r||(0,cP.M)(n.description||"",e)});return a?t:t.filter(e=>{let{action:t}=e;return!t.isDisabled})},searchDeps:[a],isEverywhere:a,toggleEverywhere:()=>{i(e=>!e)},searchAdvertiser:(0,et.jsx)(ty.i,{actionId:tx.$.SHOW_INTENTION_ACTIONS,children:e=>`Press ${e} to assign a shortcut`}),headerFilters:(0,et.jsx)(nH.X,{preventFocus:!0,isSelected:a,onChange:e=>{i(e)},mnemonic:"d",children:"Include disabled actions"}),actions:s,processSelectedItem(e){let{action:t}=e;t?.perform({event:null,element:n})},getKey:e=>{let{action:t}=e;return t.id},getItemText(e){let{action:{title:t}}=e;return t},renderItem(e){let{action:t,highlights:n}=e;return(0,et.jsx)(cF,{action:t,highlights:n})}}}};var c_=n("65617");function cM(e){let{file:t,matches:n}=e,{isSelected:r}=(0,g.useContext)(nw.k)||{},i=t.name,o=f().dirname(t.relativePath),[a,s]=(0,c_.Z)(e=>e.from>=o.length,n||[]),l=s.map(e=>{let{from:t,to:n}=e;return{from:t-o.length,to:n-o.length}});return(0,et.jsxs)(cB,{children:[(0,et.jsx)(cR,{children:(0,et.jsx)(O.vq,{icon:Z(t.path)})}),(0,et.jsx)(cN,{children:r?(0,et.jsx)(ck.x,{highlights:l,children:i}):i}),(0,et.jsx)(nj.e.Hint,{children:r?(0,et.jsx)(ck.x,{highlights:a,children:o}):o})]})}cM.__docgenInfo={description:"UI of paths in SearchEverywhere list.",methods:[],displayName:"FileItem",props:{file:{required:!0,tsType:{name:"ProjectFsItem"},description:""},matches:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:"matches on file.relativePath"}}};let cG={id:"Files",title:"Files",actionId:tx.$.GO_TO_FILE,use:()=>{let e=(0,C.Dv)(nB(eH))??[],{openPath:t}=tQ(),n=nx();return{search:t=>e.map(e=>({matches:(0,cP.M)(e.relativePath,t),file:e})).filter(e=>{let{matches:t}=e;return t?.length}),searchDeps:[],isEverywhere:!0,processSelectedItem(e){let{file:r}=e;r?.type==="file"&&t(r.path,!0),r?.type==="dir"&&n(r.path)},getKey(e){let{file:t}=e;return t.path},renderItem(e){let{file:t,matches:n}=e;return(0,et.jsx)(cM,{file:t,matches:n})},getItemText(e){let{file:{relativePath:t}}=e;return t}}}},cK="SearchEverywhere.PrevTab",cH="SearchEverywhere.NextTab",c$=y.zo.div`
  display: flex;
  width: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Header.background")}};
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,cV=y.zo.button`
  all: unset;
  background: ${e=>{let{theme:t,$selected:n}=e;return n&&t.color("SearchEverywhere.Tab.selectedBackground")}};
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Tab.selectedForeground")}};
  opacity: ${e=>{let{$disabled:t}=e;return t&&".5"}};
`,cU=y.zo.span`
  display: flex;
  padding: 0 0.75rem;
  height: 1.8rem;
  align-items: center;
`,cz=y.zo.div`
  line-height: normal;
  border-bottom: none;
`,cQ=y.zo.div`
  display: flex;
  flex-shrink: 0;
  height: 1.85rem;
  align-items: center;
  padding: 0 0.75rem 0;
  gap: 0.75rem;

  input {
    all: unset;
    flex: 1;
    line-height: 1.25;

    &::selection {
      color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}};
      background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
    }
  }
`,cq=y.zo.div`
  height: 24rem;
  flex: 1;
  min-height: 0; // for it to properly fill the remaining height and not to exceed that
`,cW=y.zo.hr`
  all: unset;
  height: 1px;
  width: 100%;
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,cY=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.infoForeground")}};
  white-space: nowrap;
`,cZ=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("SearchEverywhere.SearchField.infoForeground"))}};
  font-size: 0.7rem;
  min-height: 1.375rem;
`,cJ=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  position: absolute;
  text-align: center;
  width: 100%;
  top: 50%;
`,cX=[cL,cG],c0={},c1="LOAD_MORE_ITEM_KEY";function c2(){let e=(0,C.b9)(cD.isOpen),[t,n]=(0,C.KO)(cD.tab),[r,i]=(0,g.useState)(!1),[o,a]=(0,g.useState)((0,C.Dv)(cD.initialSearchQuery(t))),s=(0,C.b9)(cD.initialSearchQuery(t)),l=(0,ty.k)(),[c,d]=(0,g.useState)(new Set),u={};cX.forEach(e=>{u[e.id]={...e,...e.use({everyWhereAutoSet:r})}});let h=cX.filter(e=>""===t||e.id===t).map(e=>{let{id:t}=e;return u[t]}),[p,m]=(0,g.useState)(30),{searchResult:f}=(0,g.useMemo)(()=>({searchResult:h.flatMap(e=>e.search(o).map(t=>({key:`${e.id}_${e.getKey(t)}`,contributor:e,item:t})))}),[o,t,...h.flatMap(e=>{let{searchDeps:t}=e;return t})]),A=u[t],x=(0,g.useMemo)(()=>{let e=f.slice(0,p);return f.length>e.length&&e.push({key:c1,item:c0,contributor:null}),e},[p,f]),y=(0,g.useRef)(null),j=e=>{let t=y.current&&e.includes(y.current);A?.isEverywhere&&!t&&i(!1),a(e)};(0,g.useEffect)(()=>{o&&s(o)},[o,t]),(0,g.useEffect)(()=>{if(f[0]){let{key:e}=f[0];d(new Set([e])),S.current?.setFocusedKey(e),requestAnimationFrame(()=>{S.current?.setFocusedKey(e)})}m(30)},[f]);let v=[{id:cK,title:"Prev tab",description:"Switch to previous tab in Search Everywhere dialog",actionPerformed:()=>{let e=cX.findIndex(e=>{let{id:n}=e;return t===n});n(""===t?cX.slice(-1)[0].id:cX[e-1]?.id||"")}},{id:cH,title:"Next tab",description:"Switch to next tab in Search Everywhere dialog",actionPerformed:()=>{let e=cX.findIndex(e=>{let{id:n}=e;return t===n});n(cX[e+1]?.id||"")}}],w=cX.flatMap(e=>{let{id:r,actionId:i,title:o}=e;return i?[{id:i,title:`Find ${o}`,description:`Quickly go to ${o} by name`,actionPerformed:()=>{t!==r?n(r):A?.toggleEverywhere?.()}}]:[]}),b=()=>e(!1),E=(0,g.useRef)(null),S=(0,g.useRef)(null),D=e=>{if(e===c1){m(e=>e+30);let e=f[x.length+1];e&&setTimeout(()=>{d(new Set([e.key])),S.current?.setFocusedKey(e.key)})}else b(),setTimeout(()=>{let t=f.find(t=>t.key===e);t?.contributor.processSelectedItem(t.item)},50)},P=cb();return(0,et.jsx)(cI,{persistedBoundsAtom:cD.bounds,hasContent:!!o,noContentHeight:59,minWidth:670,minHeight:160,interactions:"all",onClose:b,children:(0,et.jsx)(I.DG,{actions:[...A?.actions||[],...w,...v],children:e=>{let{shortcutHandlerProps:r}=e;return(0,et.jsx)("div",{...r,style:{height:"inherit"},children:(0,et.jsx)(lU.GI.Layout,{header:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lU.GI.Header,{hasControls:!0,children:(0,et.jsxs)(c$,{children:[(0,et.jsx)("div",{style:{flex:1},children:(0,et.jsxs)(cy.m,{TabComponent:cV,TabsComponent:cz,selectedKey:t,onSelectionChange:e=>n(e),children:[(0,et.jsx)(B.c,{children:(0,et.jsx)(cU,{children:"All"})},""),cX.map(e=>{let t=l(e.actionId),n=(0,et.jsx)(cU,{children:e.title});return(0,et.jsx)(B.c,{children:t?(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aR.u,{children:t}),children:(0,et.jsx)("span",{children:n})}):n},e.id)})]})}),A?.headerFilters,(0,et.jsx)(iq.hU,{style:{margin:"0 0.5rem"},isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"actions/moveToLeftBottom"})})]})}),(0,et.jsxs)(cQ,{children:[(0,et.jsx)(O.vq,{icon:"actions/search"}),(0,et.jsx)(cj.MT,{contain:!0,children:(0,et.jsx)(cS,{ref:E,autoFocus:!0,onFocus:e=>{e.target.select()},value:o,onChange:e=>j(e.currentTarget.value)})}),(0,et.jsx)(cY,{children:A?.searchAdvertiser})]})]}),content:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(cW,{}),o&&(0,et.jsxs)(cq,{children:[(0,et.jsx)(sC.a,{focusProxyRef:E,selectionManagerRef:S,items:x,selectionMode:"single",showAsFocused:!0,shouldFocusWrap:!0,fillAvailableSpace:!0,selectedKeys:c,onSelectionChange:d,onAction:D,children:e=>{let{key:t,item:n,contributor:r}=e;if(t===c1)return(0,et.jsx)(B.c,{children:(0,et.jsx)(cZ,{children:"...more"})},c1);let i=r.getItemText(n);return(0,et.jsx)(B.c,{textValue:i,"aria-label":i,children:r.renderItem(n)},t)}}),0===f.length&&(0,et.jsx)(cJ,{children:"No actions with such name found"})]})]}),footer:(0,et.jsxs)(lU.GI.Hint,{children:[P.current," ",(0,et.jsx)(tf.r,{onPress:P.next,children:"Next Tip"})]})})})}})})}c2.__docgenInfo={description:"TODO: implement history navigation",methods:[],displayName:"SearchEverywherePopup"};let c5=async(e,t,n)=>{let i=await A.ZP.findRoot({fs:r,filepath:n});await A.ZP.add({fs:r,dir:i,filepath:f().relative(i,n)}),await ta(e,t,n)};var c6=n("58249"),c4=n("65465");let c7=(0,y.zo)(c6.I)`
  width: 20.5rem;
  /**
     * To have the validation box shadow not clipped by the popup.
     * Maybe it should be an option on input to make sure margin is always in sync with the box-shadow thickness
     */
  margin: 3px;

  input {
    padding-top: 1px;
    padding-bottom: 1px;
  }
`,c3=(0,y.zo)(lU.GI.Header)`
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.border()}};
`;function c8(e){let{title:t,inputName:n="Name",onSubmit:r,validationMessage:i,validationType:o="error",value:a,onChange:s}=e,[l,c]=(0,g.useState)(!1);return(0,et.jsx)(lU.GI,{children:(0,et.jsx)(l5.F,{header:(0,et.jsx)(c3,{children:t}),content:(0,et.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},onMouseDown:()=>{c(!0)},children:(0,et.jsx)(ad.S,{isOpen:!!i&&!l,placement:"top start",offset:6,crossOffset:-6,tooltip:(0,et.jsx)(c4.p,{type:o,children:i}),children:(0,et.jsx)(c7,{appearance:"embedded",validationState:i?o:void 0,placeholder:n,value:a,onChange:e=>{c(!1),s(e.target.value)}})})})})})}c8.__docgenInfo={description:"A simple Popup with an input, used in actions such as create file, or create directory",methods:[],displayName:"NewItemPopup",props:{inputName:{defaultValue:{value:'"Name"',computed:!1},required:!1,tsType:{name:"string"},description:""},validationType:{defaultValue:{value:'"error"',computed:!1},required:!1,tsType:{name:"union",raw:'"error" | "warning"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{name:"newValue",type:{name:"string"}}],return:{name:"void"}}},description:""},validationMessage:{required:!1,tsType:{name:"string"},description:""}}};let c9=n0({id:"NewFile",icon:(0,et.jsx)(O.vq,{icon:"fileTypes/text"}),title:"File",description:"Create new file",isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async e=>{let{get:t}=e,n=t(eV);if(0===n.length)return;let i=t(eQ).current,o=(await r.promises.stat(n[0])).isDirectory()?n[0]:f().dirname(n[0]);if(!i)throw Error("Could not find popup manager");i.show(e=>{let{close:t}=e;return(0,et.jsx)(de,{close:t,destinationDir:o})})}});function de(e){let{destinationDir:t,close:n}=e,r=(0,eP.lV)((0,g.useCallback)(async(e,t,r,i)=>{let o=f().join(r,i),a=e(tz),s=e(eq).current,l=await e(te(o));await nY(e,t,r,i),n(),a.focus(),await dn(()=>document.activeElement instanceof HTMLTextAreaElement),l&&s?.open(e=>{let{close:t}=e;return et.jsx(dt,{filepath:o,close:t})})},[n])),[i,o]=(0,g.useState)(""),[a,s]=(0,g.useState)(""),l=async()=>{let e=f().join(t,i),n=await ej(e);n?.isFile()?s(`A file with the name '${f().basename(i)}' already exists`):n?.isDirectory()?s(`A directory with the name '${f().basename(i)}' already exists`):await r(t,i)};return(0,et.jsx)(c8,{title:"New File",onSubmit:()=>{i&&l()},value:i,onChange:e=>{s(""),o(e)},validationMessage:a})}function dt(e){let{close:t,filepath:n}=e,r=(0,eP.lV)(c5);return(0,et.jsx)(nG.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(nK.b,{header:"Add File to Git",content:(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"0.75rem 0.75rem 0rem"},children:[(0,et.jsx)(O.vq,{icon:"general/questionDialog.svg",size:32}),(0,et.jsxs)("div",{children:["Do you want to add the following file to Git?",(0,et.jsx)("br",{}),n,(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),"If you choose Cancel, you can still add it later manually."]})]})}),footer:(0,et.jsx)(nK.b.Footer,{left:(0,et.jsx)(nH.X,{isDisabled:!0,children:"Don't ask again"}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(n$.z,{autoFocus:!0,variant:"default",onPress:()=>{r(n).then(t)},children:"Add"})]})})})})}async function dn(e,t){void 0===t&&(t=2e3),!e()&&!(t<0)&&(await new Promise(e=>setTimeout(e,50)),await dn(e,t-50))}let dr=e=>{let t=(0,g.useRef)(null),n=(0,g.useRef)(e);return n.current=e,function(){t.current?.abort(),t.current=new ef.qf.cancelToken;for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];(0,ef.qf)(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return n.current(...r)})(t.current,...r)}},di=n0({id:"NewDir",icon:(0,et.jsx)(O.vq,{icon:W}),title:"Directory",description:"Create new directory",isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async e=>{let{get:t}=e,n=t(eV);if(0===n.length)return;let i=t(eQ).current,o=(await r.promises.stat(n[0])).isDirectory()?n[0]:f().dirname(n[0]);if(!i)throw Error("Could not find popup manager");i.show(e=>{let{close:t}=e;return(0,et.jsx)(da,{close:t,destinationDir:o})})}});function da(e){let{destinationDir:t,close:n}=e,r=(0,eP.lV)(nZ),[i,o]=(0,g.useState)(""),[a,s]=(0,g.useState)(null),l=dr(function*(e,t){s((yield ds(e,t)))});(0,g.useEffect)(()=>{l(t,i)},[t,i]);let c=async()=>{null==await ds(t,i)&&(await r(t,i),n())};return(0,et.jsx)(c8,{title:"New Directory",onSubmit:()=>{i&&c()},value:i,onChange:o,validationMessage:a?.message,validationType:a?.type})}let ds=async function(e,t){let n=f().join(e,t);if(!t)return null;if(t.includes("."))return{type:"warning",message:'Note: "." in the name is treated as a regular character. Use "/" instead if you mean to create nested directories'};let r=await ej(n);return r?.isFile()?{type:"error",message:`A file with the name '${t}' already exists`}:r?.isDirectory()?{type:"error",message:`A directory with the name '${t}' already exists`}:null},dl=n0({id:"CopyFileName",title:"File Name",isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async e=>{let{get:t}=e;if(tA(),0===t(eV).length)return}}),dc=n0({id:"CopyAbsolutePath",title:"Absolute Path",isDisabled:(0,Q.cn)(e=>!e(eU)),useShortcutsOf:"CopyPaths",actionPerformed:async e=>{let{get:t}=e;if(tA(),0===t(eV).length)return}}),dd=n0({id:rw.CopyPathFromRepositoryRootProvider,title:"Path From Repository Root",isDisabled:(0,Q.cn)(e=>!e(eU)),actionPerformed:async e=>{let{get:t}=e;if(tA(),0===t(eV).length)return}});var du=n("45890");let dh=(0,Q.cn)(async()=>{let e=await fetch("https://api.github.com/repos/alirezamirian/jui/tags");if(!e.ok)throw e;let t=await e.json();return(0,tR.Z)([(0,tB.Z)((0,du.Z)("date"))],await Promise.all(t.map(async e=>{let t=await fetch(`https://api.github.com/repos/alirezamirian/jui/commits/${e.commit.sha}`);if(!t.ok)throw t;let n=await t.json(),r=e.name.replace(/^docs\//,"");return{name:r,url:`https://alirezamirian.github.io/jui/-/${r}/example-app`,date:new Date(n.commit.author.date)}})))}),dp=n0({id:"example-app.switchVersion",icon:(0,et.jsx)(O.vq,{icon:"fileTypes/text"}),title:"Switch version",description:"Change to other versions of this demo app",actionPerformed:async e=>{let{get:t}=e,n=t(eQ).current;if(!n)throw Error("Could not find popup manager");try{let e=await t(dh);n.show(t=>{let{close:n}=t;return(0,et.jsx)(dm,{close:n,tags:e})})}catch(e){tg.value?.show({icon:"Error",title:"Could not fetch versions",body:(e=>{if(e instanceof Response){let t=e.headers.get("x-ratelimit-reset");return`Github API rate limit is reached. Try again ${t?`after ${new Date(1e3*parseInt(t)).toLocaleTimeString()}`:"later"}.`}return"Unexpected error happened while fetching versions data."})(e)})}}});function dm(e){let{tags:t,close:n}=e;return(0,et.jsx)(lU.GI,{children:(0,et.jsx)(l5.F,{header:(0,et.jsx)(lU.GI.Header,{children:(0,et.jsx)("div",{style:{padding:"0 .5rem"},children:"Switch demo app version"})}),content:(0,et.jsx)(iz.w,{items:t,fillAvailableSpace:!0,onAction:e=>{window.location.href=`${e}`,n()},children:e=>(0,et.jsx)(B.c,{textValue:e.name,children:(0,et.jsx)(L._,{content:e.name,shortcut:(0,et.jsx)(nj.e.Hint,{children:e.date.toLocaleDateString()})})},e.url)})})})}let df=(e,t,n,r)=>{let{element:i}=n;i&&(t(cD.isOpen,!0),t(cD.tab,r),t(cD.contextElement,i))},dg=g.createContext(null),dA=()=>{let e=(0,g.useContext)(dg);return{open:t=>{e?.current?.changeState(e=>e.show(t)),e?.current?.focus(t)}}},dx=()=>{let e=(0,eP.lV)(ii),t=tc();return[function(){let e=(0,eP.lV)(ir),t=dA(),n=(0,C.b9)(o7),r=(0,C.Dv)(eV),i=(0,C.Dv)(nB(eH)),o=nz(r),a=(0,C.Dv)(ru),s=o.some(e=>a.find(t=>(function(e,t){let n=f().relative(e,t);return!n||!n.startsWith("..")&&!f().isAbsolute(n)})(e,rs.path(t)))),l=o.every(e=>i?.some(t=>"dir"===t.type&&t.path===e));return{id:rw.CHECKIN_FILES,title:l?dj.format({count:o.length}):dy.format({count:o.length}),isDisabled:!s,actionPerformed:()=>{e(),t.open(ar),n()}}}(),function(){let e=dA(),t=(0,C.b9)(o7),n=(0,eP.lV)((0,g.useCallback)((e,t)=>{let n=e(rX),r=n.values().next().value;if(0===n.size){let n=e(rf)?.changes.map(rC);t(rX,new Set(n)),r=n?.[0]}if(r){let{rootNodes:n}=e(r4);t(r2,new Set([...e(r2),...(0,rO.Bp)(e=>rS(e)?e.children:null,e=>e.key,n,[r])])),t(rq,new Set([r]))}},[]));return{id:rw.CHECKIN_PROJECT,title:"Commit",actionPerformed:()=>{n(),e.open(ar),t()}}}(),function(){let e=tQ(),t=(0,C.Dv)(rZ);return{id:rw.JUMP_TO_SOURCE,title:"Jump to source",icon:(0,et.jsx)(O.vq,{icon:"actions/editSource.svg"}),actionPerformed:()=>{[...t].forEach((t,n,r)=>{let i=rs.path(t);i||e.openPath(i,n===r.length-1)})}}}(),{id:rw.ROLLBACK,title:"Rollback...",icon:(0,et.jsx)(O.vq,{icon:"actions/rollback.svg"}),actionPerformed:t=>{e(!!t)}},{id:rw.REFRESH,title:"Refresh VCS Changes",description:"Refresh VCS Changes",icon:(0,et.jsx)(O.vq,{icon:"actions/refresh.svg"}),actionPerformed:t},{id:rw.SHOW_DIFF,title:"Show Diff",description:"Compare files or revisions.",icon:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"}),actionPerformed:tA},{id:rw.SHELVE,title:"Shelve Changes...",description:"Save changes to an external patch file and remove them from the code",icon:(0,et.jsx)(O.vq,{icon:"vcs/shelve.svg"}),actionPerformed:tA},...function(){let e=(0,C.Dv)(rZ),t=[{id:rw.NEW_CHANGELIST,title:"New Changelist...",description:"Create new changelist",icon:(0,et.jsx)(O.vq,{icon:"general/add.svg"}),actionPerformed:tA}];return e.size>0&&t.push({title:"Move to Another Changelist...",description:"Move selected changes to another changelist",id:rw.MOVE_TO_ANOTHER_CHANGELIST,actionPerformed:tA}),t}()]},dy=new nJ.C(`{count, plural,
    =1 {Commit File...}
    other {Commit Files...}
  }`,"en-US"),dj=new nJ.C(`{count, plural,
    =1 {Commit Directory...}
    other {Commit Directories...}
  }`,"en-US"),dv=(0,Q.cn)(async e=>ic(async t=>{let n=await e(te(t));if(n){let i=await A.ZP.isIgnored({fs:r,dir:n,filepath:f().relative(n,t)}),o=await r.promises.stat(t).then(e=>e.isFile()).catch(()=>!1)&&await e(to(t))==="NOT_CHANGED";return!i&&!o}return!1},e(eV))),dw=(0,Q.cn)(async e=>0===(await e(dv)).length),db=n0({id:rw.GIT_ADD,title:"Add",icon:(0,et.jsx)(O.vq,{icon:"general/add.svg"}),useShortcutsOf:rw.ADD_UNVERSIONED,isDisabled:dw,actionPerformed:async e=>{let{get:t,set:n}=e,r=await t(dv);await Promise.all(r.map(e=>c5(t,n,e)))}}),dC=n0({id:rw.GIT_INIT,title:"Create Git Repository...",actionPerformed:async e=>{let{get:t,set:n}=e,i=t(eG),o=t(eV)[0],a=await ej(o),s=a?.isDirectory()?o:i.path;await A.ZP.init({fs:r,dir:s}),n(e9,e=>e.filter(e=>e.dir!==s).concat({vcs:"Git",dir:s})),await tl(t,n)}});var dE=n("28353"),dS=n("49407");let dD=eT.z.object({"@name":eT.z.enum(["visitedUrls"]),list:e7(eT.z.object({option:e4(eT.z.union([eT.z.object({"@name":eT.z.enum(["url"]),"@value":eT.z.string()}),eT.z.object({"@name":eT.z.enum(["userName"]),"@value":eT.z.string()})]))}),"UrlAndUserName")}),dI=eT.z.object({"@name":eT.z.enum(["cloneParentDir"]),"@value":eT.z.string()}),dP=eX({storageFile:"vcs.xml",componentName:"GitRememberedInputs",schema:eT.z.object({option:e4(eT.z.union([dD,dI]))}),read:function(e){let{option:t}=void 0===e?{option:[]}:e;return{visitedUrls:t?.find(e=>"visitedUrls"===e["@name"])?.list.UrlAndUserName.map(e=>{let{option:t}=e;return{url:t.find(e=>"url"===e["@name"])?.["@value"],username:t.find(e=>"userName"===e["@name"])?.["@value"]}}).filter(e=>e.url)??[],cloneParentDir:t?.find(e=>"cloneParentDir"===e["@name"])?.["@value"]??""}},write:(e,t)=>({...t,option:t.option?.map(t=>"cloneParentDir"===t["@name"]&&e.cloneParentDir?{"@name":"cloneParentDir","@value":e.cloneParentDir}:"visitedUrls"===t["@name"]&&e.visitedUrls?{"@name":"visitedUrls",list:{UrlAndUserName:e.visitedUrls.map(e=>{let{url:t,username:n}=e;return{option:[{"@name":"url","@value":t},{"@name":"userName","@value":n??""}]}})}}:t)??[]})},{visitedUrls:[],cloneParentDir:""}),dk=(0,il.R)(dP,e=>e.path("visitedUrls")),dT=(0,il.R)(dP,e=>e.path("cloneParentDir"));function dR(e,t){let n="function"==typeof e?e:t,r="object"==typeof e?e:null;return function(e,t){let i=Object.fromEntries(Object.entries(r??{}).map(n=>{let[r,i]=n;return[r.replace(/(.*?)(Callback)?$/,"$1"),function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return i(e,t,...r)}]}));for(var o=arguments.length,a=Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];return n({get:e,set:t,...i},...a)}}var dB=n("20298");let dN=y.zo.div`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,dO=new Map,dF=dR((e,t,n)=>{let{get:r}=e;return new Promise((e,n)=>{r(eq).current?.open(e=>{let{close:n}=e,r=dM.find(e=>e.canHandle(t))?.component??dG;return et.jsx(r,{callback:n,url:t})}).then(t=>{t?e(t):n()})})}),dL=["repo","gist","read:org","workflow","read:user","user:email"],d_=new URLSearchParams;d_.set("description","JUI GitHub Integration"),d_.set("scopes","repo,gist,read:org,workflow,read:user,user:email");let dM=[{component:function(e){let{callback:t,url:n}=e,r=URL.parse(n),i=r?.host,o=r?.pathname?.split("/").find(Boolean)??"",[a,s]=(0,g.useState)("");return(0,et.jsx)(nG.Du,{defaultBounds:{width:634},minHeight:"content",minWidth:500,children:(0,et.jsx)(nK.b,{header:"Login to Github",content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(dE.O,{children:(0,et.jsx)("form",{id:"credentials",onSubmit:e=>{e.preventDefault(),t({username:o,password:a})},children:(0,et.jsxs)(dN,{children:[(0,et.jsx)(l4.U,{label:"Server:",inputProps:{readOnly:!0},labelPlacement:"before",value:i}),(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,et.jsx)(l4.U,{label:"Token:",labelPlacement:"before",inputProps:{type:"password"},contextHelp:`The following scopes must be granted to the token: [${dL.join(", ")}]`,value:a,onChange:s}),(0,et.jsx)(n$.z,{href:`https://github.com/settings/tokens/new?${d_.toString()}`,target:"_blank",children:"Generate..."})]})]})})})}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(dB.h,{children:[(0,et.jsx)(n$.z,{variant:"default",type:"submit",form:"credentials",children:"Log In"}),(0,et.jsx)(n$.z,{onPress:()=>t(),children:"Cancel"})]})})})})},canHandle:e=>e.startsWith("https://github")}];function dG(e){let{url:t,callback:n}=e,r=URL.parse(t),[i,o]=(0,g.useState)(r?.username??""),[a,s]=(0,g.useState)("");return(0,et.jsx)(nG.Du,{children:(0,et.jsx)(nK.b,{header:`Login to ${r?.hostname??t}`,content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(dE.O,{children:(0,et.jsx)("form",{id:"credentials",onSubmit:e=>{e.preventDefault(),n({username:i,password:a})},children:(0,et.jsxs)(dN,{children:[(0,et.jsx)(l4.U,{label:"Username:",labelPlacement:"before",value:i,onChange:o}),(0,et.jsx)(l4.U,{label:"Password:",labelPlacement:"before",inputProps:{type:"password"},value:a,onChange:s}),(0,et.jsx)(nH.X,{mnemonic:"R",children:"Remember"})]})})})}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(dB.h,{children:[(0,et.jsx)(n$.z,{variant:"default",type:"submit",form:"credentials",children:"Log In"}),(0,et.jsx)(n$.z,{onPress:()=>n(),children:"Cancel"})]})})})})}let dK=dR({createTaskCallback:i4,gitAuthenticateCallback:dF},(e,t)=>{let{createTask:n,gitAuthenticate:r}=e,{title:i,run:o,...a}=t;return n({title:i},{...a,run:e=>{let{setIndeterminate:t,setFraction:n,setSecondaryText:i}=e;function a(e,r,o){void 0===r&&(r=1),void 0===o&&(o=1);let a=e.total*r/o;if(a){let t=e.loaded/a;n(t),i(`${e.phase}: ${Math.round(100*t)}% ${e.loaded}/${a}`)}else i(e.phase),t(!0)}return a.part=(e,t)=>n=>a(n,e,t),o({onProgress:a,onAuth:(e,t)=>dO.get(e)??r(e,t),onAuthFailure:e=>{dO.delete(e)},onAuthSuccess:(e,t)=>{dO.set(e,t)},onMessage:e=>{console.log("git message:",e)}})}})}),dH="https://cors.isomorphic-git.org";async function d$(e){return(0,A.fq)({http:x.Z,corsProxy:e.url?.match(/^https?:\/\/localhost/)?void 0:dH,...e})}async function dV(e){await (0,A.d9)({singleBranch:!0,fs:r,http:x.Z,corsProxy:dH,...e})}let dU=dR({createGitTaskCallback:dK},(e,t)=>{let{set:n,createGitTask:r}=e,{url:i,dir:o,onSuccess:a}=t;r({title:`Cloning source repository ${i}`,onFinished:a,run:async e=>{await dV({dir:o,url:i,singleBranch:!1,...e}).then(()=>{n(e9,e=>e.find(e=>e.dir===o)?e:e.concat({vcs:"Git",dir:o})),n(eS(f().resolve(o,"..")))},e=>{console.log("e",e),tg.value?.show({icon:"Error",title:"Clone failed",body:`Failed to clone git repo "${i} into ${o}: ${e}"`})})}})});var dz=n("28872"),dQ=n("88109"),dq=n("75486"),dW=n("15239"),dY=n("49827"),dZ=n("41379");let dJ=y.zo.div`
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${dq.s}; // FIXME: OS-dependant style?
`,dX=(0,y.zo)(dW.w)`
  min-width: 120px;
  margin: ${dY.TU}px 0;
`;async function d0(e){return r.promises.readdir(e).then(async t=>(await Promise.all(t.map(async t=>{let n=f().join(e,t);return{fullPath:n,stat:await r.promises.stat(n)}}))).filter(e=>{let{stat:t}=e;return t.isDirectory()}).map(e=>{let{fullPath:t}=e;return t}))}function d1(e){let{value:t,onChange:n,defaultValue:r,...i}=e,[o,a]=(0,dQ.z)(t,r??"",n),[s,l]=(0,g.useState)(!1),c=(0,g.useRef)(null),d=(0,g.useRef)(null),[u,h]=(0,g.useState)(""),[p,m]=(0,g.useState)([]),A=()=>{j({clientX:(v?.x??0)+function(e){let t=e.selectionStart??e.value.length,n=window.getComputedStyle(e),r=document.createElement("span");r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.style.font=n.font,r.style.fontSize=n.fontSize,r.style.fontWeight=n.fontWeight,r.style.fontFamily=n.fontFamily,r.style.letterSpacing=n.letterSpacing,r.style.border=n.border,r.style.paddingLeft=n.paddingLeft,r.textContent=e.value.substring(0,t),document.body.appendChild(r);let i=r.offsetWidth;return document.body.removeChild(r),i}(c.current),clientY:(v?.y??0)+(v?.height??0)+2}),h(o.slice(0,c.current?.selectionStart??void 0))};(0,g.useEffect)(()=>{s&&A()},[s,o]);let x=(0,dZ.D)(s);(0,g.useEffect)(()=>{let e=u.split(f().sep),t=e.slice(0,-1).join(f().sep)||"/",n=e.length>1?e.slice(-1)[0]:"",r=!1;return d0(t).then(e=>{if(r)return;let t=e.map(e=>{let t=f().basename(e);return{fullPath:e,textValue:t}}).filter(e=>{let{textValue:t}=e;return!n||t.toLowerCase().includes(n.toLowerCase())});m(t),t.length>0&&!x&&c.current?.value.indexOf(u)===0&&c.current.setSelectionRange(u.length,c.current.value.length,"backward")}),()=>{r=!0}},[u]);let[y,j]=(0,g.useState)({clientX:0,clientY:0}),v=c.current?.getBoundingClientRect();return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(I.DG,{actions:[{id:tx.$.CODE_COMPLETION,title:"Autocomplete path",actionPerformed:()=>{A(),l(!0)}}],children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsx)(l4.U,{...i,value:o,onChange:a,inputRef:(0,dz.l)(c,i.inputRef),inputProps:(0,U.d)(i.inputProps??{},t,{onKeyDown:e=>{"Escape"===e.key&&l(!1)},onBlur:()=>{l(!1)}}),addonAfter:(0,et.jsxs)(et.Fragment,{children:[i.addonAfter,(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Browse... (\u21E7\u23CE)"}),children:e=>(0,et.jsx)(sc.v,{...e,style:{marginRight:".2rem"},role:"button",onClick:tA,icon:"general/openDisk.svg"})})]})})}}),s&&(0,et.jsx)(H.Z,{onClose:()=>{l(!1)},origin:y,disableAutoFocus:!0,children:(0,et.jsx)(dJ,{children:(0,et.jsx)(dX,{ref:d,focusProxyRef:c,"aria-label":"Directories",shouldFocusOnHover:!0,shouldUseVirtualFocus:!0,autoFocus:"first",onAction:e=>{a(f().join(`${e}`,f().sep))},items:p,children:e=>{let{fullPath:t}=e;return(0,et.jsx)(B.c,{textValue:t,children:(0,et.jsxs)(nj.e,{children:[(0,et.jsx)(O.vq,{icon:W}),f().basename(t)]})},t)}})})})]})}d1.__docgenInfo={description:"",methods:[],displayName:"PathInputField",props:{value:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"string"},description:""}}};let d2=n0({id:rw.GIT_CLONE,title:"Clone...",actionPerformed:async e=>{let{get:t}=e,n=t(eq);n.current?.open(e=>{let{close:t}=e;return et.jsx(d4,{close:t})})}}),d5=n0({id:"ExampleApp.cloneExampleRepo",title:"Clone another repository...",isSearchable:!1,actionPerformed:e=>{let{get:t}=e,n=t(eq);n.current?.open(e=>{let{close:t}=e;return et.jsx(d4,{close:t,url:"https://github.com/thurwitz/example-branches.git"})})}}),d6=y.zo.div`
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.75rem;
`;function d4(e){let{close:t,url:n}=e,[r,i]=(0,g.useState)(n??""),[o,a]=(0,C.KO)(dT),[s,l]=(0,C.KO)(dk),[c,d]=(0,g.useState)(""),[u,h]=(0,g.useState)(!0),[p,m]=(0,g.useState)(!1),A=(0,g.useRef)(null),x=(0,g.useRef)(null),y=function(e){e=d8(d8(e.trim(),"git clone"),"hg clone");try{return new URL(e),null}catch(t){if(d3.test(e))return null}return"Repository URL is a malformed URL"}(r),[j,v]=(0,g.useState)(""),w=(0,eP.lV)(dU);(0,g.useEffect)(()=>{if(u){let e=r.split(/\/{1,2}/).pop()?.replace(/\.git$/,"")??"";d(e?f().join(o,e):o)}},[o,r,u]);let b=async e=>{e.preventDefault(),m(!0);let n=await d7(c);if(n){v(n),x.current?.focus();return}if(y){A.current?.focus();return}a(f().dirname(c)),l(e=>e.find(e=>e.url===r)?e:e.concat({url:r})),w({url:r,dir:c,onSuccess:()=>{l(e=>e.map(e=>{let{url:t}=e;return t}).includes(r)?e:[...e,{url:r,username:""}])}}),t()};return(0,et.jsx)(nG.Du,{minWidth:600,minHeight:"content",children:(0,et.jsx)(nK.b,{header:"Get from Version Control",content:(0,et.jsx)(dE.O,{children:(0,et.jsx)("form",{id:"clone_form",onSubmit:b,children:(0,et.jsxs)(d6,{children:[(0,et.jsx)(dS.C,{inputRef:A,autoFocus:!0,label:"URL:",value:r,validationState:y&&p?"error":"valid",validationMessage:p&&y,onValueChange:e=>{i(e)},items:s,children:e=>{let{url:t}=e;return(0,et.jsx)(B.c,{children:t},t)}}),(0,et.jsx)(d1,{inputRef:x,label:"Directory:",value:c,validationState:j&&p?"error":"valid",validationMessage:p&&j,onChange:e=>{d(e),h(!1),v("")}})]})})}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(n$.z,{variant:"default",isDisabled:!c||!r,type:"submit",form:"clone_form",children:"Clone"})]})})})})}async function d7(e){let t=await ej(e);return t?t.isDirectory()?(await r.promises.readdir(e)).length>0?"The directory already exists and is not empty":null:"Destination is not a directory":null}let d3=RegExp("^git@[\\w.-]+:[\\w./-]+\\.git$");function d8(e,t){return e.startsWith(t)?e.slice(t.length):e}var d9=n("77694");let ue=eT.z.union([eT.z.string(),eT.z.number()]).transform(Number),ut=eT.z.object({state:e4(eT.z.object({"@x":ue,"@y":ue,"@width":ue,"@height":ue,"@key":eT.z.string(),"@timestamp":ue,screen:eT.z.object({"@x":ue,"@y":ue,"@width":ue,"@height":ue})}))}),un=eX({storageFile:eY.PRODUCT_WORKSPACE_FILE,componentName:"WindowStateProjectService",schema:ut.optional(),read:e=>e?.state.reduce((e,t)=>Object.assign(e,{[t["@key"]]:{bounds:{left:t["@x"],top:t["@y"],width:t["@width"],height:t["@height"]},screen:{left:t.screen["@x"],top:t.screen["@y"],width:t.screen["@width"],height:t.screen["@height"]},timestamp:t["@timestamp"]}}),{})??{},write:e=>({state:Object.entries(e).map(e=>{let[t,n]=e;return{"@key":t,"@x":n.bounds.left,"@y":n.bounds.top,"@width":n.bounds.width,"@height":n.bounds.height,"@timestamp":n.timestamp,screen:{"@x":n.screen.left,"@y":n.screen.top,"@width":n.screen.width,"@height":n.screen.height}}})})});function ur(e){return(0,m.basename)(e.dir)}let ui=y.zo.div`
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 1rem 0.875rem 0.25rem;
  gap: 0.6rem;
`,uo=y.zo.div`
  margin-left: -0.25rem; // to align with the field. Maybe something to look into in checkbox.
  display: flex;
  gap: 0.75rem;
`,ua={EXISTING:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," already exists. ",(0,et.jsx)("br",{}),"Change the name or overwrite existing branch"]}),CLASHING_WITH_REMOTE:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," clashes with remote branch ",(0,et.jsx)("br",{}),"with the same name"]})};function us(e){let{close:t}=e,[n,i]=(0,g.useState)(!0),[o,a]=(0,g.useState)(!1),s=(0,C.Dv)(l0),[l,c]=(0,g.useState)(!1),d=(0,S.L)(),u=(0,eP.lV)((0,g.useCallback)(function(e,t,n,i,o){return void 0===o&&(o=!0),(0,A.WY)({fs:r,dir:n,checkout:o,ref:i}).then(()=>{t(im(n))})},[])),h=s?.currentBranch?.name,[p,m]=(0,g.useState)(h||""),f=l7(s,p),x=!f||"EXISTING"===f&&o,y=!x&&l?"error":"valid",j=()=>{x&&s?.repoRoot?u(s.repoRoot,p,n).catch(e=>{e instanceof A.D1.AlreadyExistsError?d.show({icon:"Error",title:"Unimplemented action",body:"Overwrite option is currently not supported."}):d.show({icon:"Error",title:"Unexpected error",body:`Could not create branch ${p}.`}),console.error("Branch creation error: ",e)}).then(()=>{t()}):c(!0)};return(0,et.jsx)(nG.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(nK.b,{header:"Create New Branch",content:(0,et.jsxs)(ui,{id:"create_branch_form",as:"form",onSubmit:e=>{e.preventDefault(),j()},children:[(0,et.jsx)(l4.U,{autoFocus:!0,autoSelect:!0,value:p,onChange:e=>{m(l8(e)),c(!0)},validationState:y,validationMessage:"error"===y&&f&&ua[f](p),label:"New branch name:",labelPlacement:"above"}),(0,et.jsxs)(uo,{children:[(0,et.jsx)(nH.X,{mnemonic:"C",isSelected:n,onChange:i,children:"Checkout branch"}),(0,et.jsx)(nH.X,{isSelected:o,isDisabled:!l||"EXISTING"!==f,onChange:a,mnemonic:"r",children:"Overwrite existing branch"})]})]}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(n$.z,{variant:"default",type:"submit",form:"create_branch_form",isDisabled:"error"===y,children:"Create"})]})})})})}us.__docgenInfo={description:"",methods:[],displayName:"CreateNewBranchWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let ul=n0({id:rw.GIT_CREATE_NEW_BRANCH,title:"New Branch\u2026",description:"Create new branch starting from the selected commit",icon:(0,et.jsx)(O.vq,{icon:"general/add.svg"}),actionPerformed:e=>{let{get:t}=e;t(eq).current?.open(e=>{let{close:t}=e;return et.jsx(us,{close:t})})}}),uc=e=>(0,ek.j)(e,(t,n)=>(n(e,er.td),()=>{n(e,er.td)})),ud=e=>(0,ek.j)(e,(t,n)=>(n(e),()=>{n(e)})),uu=(0,Q.cn)(async e=>{let t=e(uE),n=await e(uw);return("all"===t?n.map(e=>{let{key:t}=e;return t}):[...t]).flatMap(e=>{let{repo:t,commit:r}=uf(e);return t&&r?[{repoPath:t,oid:r}]:t?n.find(t=>t.key===e)?.children.map(e=>{let{commit:{repoPath:t,readCommitResult:{oid:n}}}=e;return{repoPath:t,oid:n}}):void 0}).filter(e=>void 0!=e)}),uh=aI(uu),up=e=>JSON.stringify(e,null),um=e=>uf(e)?.repo,uf=e=>JSON.parse(`${e}`),ug={repo:function(e){let{commits:t,...n}=e;return{type:"repo",key:up({repo:n.repo.dir}),children:t.map(ug.commit),...n}},commit:function(e){return{type:"commit",key:up({repo:e.repoPath,commit:e.readCommitResult.oid}),commit:e}}},uA=(0,er.xu)(e=>(0,Q.cn)(async t=>{let n=await t(ig(e));return n?{type:"branch",ref:n}:{type:"commit",ref:await (0,A.qq)({fs:r,dir:e,ref:"HEAD"})}})),ux=(0,er.xu)(e=>uc((0,er.qs)(async t=>{let{currentBranch:n}=await t(im(e)),r=n?.trackingBranch;return r?r.split("/")[0]:(await t(ih(e)))[0]?.remote??null}))),uy=(0,er.xu)(e=>uc((0,er.qs)(async t=>{let{currentBranch:n}=await t(im(e)),r=n?.trackingBranch;return r?.split("/").slice(1).join("/")??n?.name??"detached"}))),uj=(0,er.xu)(e=>(0,Q.cn)(async t=>{let{remoteBranches:n}=await t(im(e)),r=await t(uy(e)),i=await t(ux(e));return n.some(e=>e.remote===i&&e.name===r)})),uv=(0,er.xu)(e=>{let{repoPath:t}=e;return nB(ud((0,er.Cv)(async e=>{let{remoteBranches:n}=await e(im(t)),r=await e(uA(t)),i=await e(ux(t)),o=await e(uy(t)),a=await e(uj(t)),s=n.filter(e=>e.remote===i).map(e=>`${i}/${e.name}`);return await oa(e,{repoPath:t,refs:[r.ref],notRefs:a?[`${i}/${o}`]:s})})))},eO.Z),uw=nR((0,Q.cn)(e=>Promise.all(e(e9).map(async t=>{let n=await e(ux(t.dir)),r=await e(uy(t.dir)),i=await e(uA(t.dir)),o=await e(uj(t.dir));return ug.repo({repo:t,source:i,target:{remote:n,branch:r,isNew:!o},commits:e(uv({repoPath:t.dir}))??[]})}))));async function ub(e){let t=e(e9);return 1===t.length?[t[0].dir]:e(lX).then(e=>e?[e]:[])}let uC=(0,ek.j)((0,Q.cn)([]),(e,t)=>{ub(e).then(e=>t(uC,e))}),uE=(0,ek.j)((0,Q.cn)(new Set),(e,t)=>{ub(e.peek).then(async t=>new Set([t[0]?up({repo:t[0]}):(await e.peek(uw))[0].key])).then(e=>{t(uE,e)})}),uS=(0,Q.cn)(async e=>(await Promise.all(e(uC).map(async t=>{let n=await e(ux(t));if(null===n)return null;let r=(await e(ih(t))).find(e=>{let{remote:t}=e;return t===n})?.url,i=await e(uy(t));return{dir:t,url:r,remote:n,remoteRef:i,isNew:!await e(uj(t))}}))).filter(e=>null!==e)),uD=y.zo.form`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 0.75rem;
`;function uI(e){let{dir:t,close:n}=e,[i,o]=(0,g.useState)(!1),a=(0,C.Dv)(ih(t)).map(e=>{let{remote:t}=e;return t}),s=(0,C.b9)(ih(t)),l=a.find(e=>"origin"===e),[c,d]=(0,g.useState)(l?"":"origin"),[u,h]=(0,g.useState)(""),[p,m]=(0,g.useState)(null),[f,x]=(0,g.useState)(!1),y=c?a.includes(c)?`Remote name '${c}' is already used`:null:"Remote name cannot be empty",v=p??(u?null:"Remote URL cannot be empty"),w=dr(function*(e){if(o(!0),e.preventDefault(),u&&c){x(!0);try{yield d$({url:u})}catch(e){m(`${e}`);return}finally{x(!1)}yield(0,A.wb)({fs:r,remote:c,url:u,dir:t}),s(),n({name:c,url:u})}});return(0,et.jsx)(nG.Du,{minWidth:375,minHeight:"content",children:(0,et.jsx)(nK.b,{header:`Define Remote in ${ur({dir:t})}`,content:(0,et.jsx)(dE.O,{children:(0,et.jsxs)(uD,{id:"add-remote-form",onSubmit:w,children:[(0,et.jsx)(l4.U,{label:"Name:",labelPlacement:"before",autoFocus:!c,value:c,onChange:d,validationState:i&&y?"error":"valid",validationMessage:i&&y}),(0,et.jsx)(l4.U,{label:"URL:",labelPlacement:"before",autoFocus:!!c,value:u,addonAfter:f&&(0,et.jsx)(j.TK,{size:j.wT}),onChange:e=>{h(e),m(null)},validationState:i&&v?"error":"valid",validationMessage:i&&v})]})}),footer:(0,et.jsx)(nK.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:()=>n(),children:"Cancel"}),(0,et.jsx)(n$.z,{type:"submit",form:"add-remote-form",variant:"default",isDisabled:i&&(!u||!c),children:"OK"})]})})})})}function uP(){let e=(0,w.S)();return t=>e.open(e=>{let{close:n}=e;return(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(uI,{dir:t,close:n})})})}let uk=y.zo.span`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.dark?"#6ba65d":"#00b53d")}};
  position: relative;
  z-index: 0;
  background: transparent;
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    z-index: -1;
    background: currentColor;
    opacity: 0.15;
    @container style(--jui-foreground) {
      background: var(--jui-foreground);
      opacity: ${e=>{let{theme:t}=e;return t.dark?.3:.2}};
    }
  }
  line-height: 1;
  padding: 1px 2px;
  font-size: 0.77em;
  border-radius: 0.125rem;
`,uT=(0,y.zo)(nj.e)`
  opacity: ${e=>{let{$included:t}=e;return!t&&.85}};
`,uR=async(e,t,n)=>{let r=n.split(":").slice(-1)[0],i=e(uC);t(uC,i.includes(r)?i.filter(e=>e!==r):i.concat(r))},uB=nB(uu),uN=n0({id:rw.CREATE_PATCH_FROM_CHANGES,title:"Create Patch...",description:"Create a patch from the selected changes",isDisabled:(0,Q.cn)(e=>0==[...e(uB)??[]].length),icon:(0,et.jsx)(O.vq,{icon:"vcs/patch.svg"}),actionPerformed:()=>{tA()}}),uO=n0({id:rw.COMPARE_WITH_LOCAL,title:"Compare with Local",description:"Compare version in selected revision with current version",isDisabled:(0,Q.cn)(e=>0==[...e(uB)??[]].length),actionPerformed:()=>{tA()}}),uF=(0,y.zo)(T.X)`
  box-sizing: border-box;
  height: 100%;
  padding-top: 0.5rem;
`,uL=lm((0,Q.cn)(async e=>(await e(uu)).map(e=>{let{oid:t}=e;return t})));function u_(){let e=(0,C.Dv)(uw),t=(0,eP.lV)(uR),[n,r]=(0,C.KO)(uE),i={id:rw.VCS_LOG_CONTEXT_MENU,title:"",isSearchable:!1,children:[(0,C.Dv)(uL),(0,C.Dv)(uN),"divider",(0,C.Dv)(uO),"divider",(0,C.Dv)(ul)],actionPerformed:()=>{}};return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(I.DG,{actions:[i],children:i=>{let{shortcutHandlerProps:o}=i;return(0,et.jsx)(uF,{renderMenu:()=>(0,et.jsx)(uM,{}),...o,children:(0,et.jsx)(ny.b,{fillAvailableSpace:!0,items:e,selectionMode:"multiple",selectedKeys:n,onSelectionChange:r,defaultExpandedKeys:e.map((0,du.Z)("key")),onNodeKeyDown:(e,n)=>{" "===e.key&&n.value&&t("repo"===n.value.type?n.value.repo.dir:n.value.commit.repoPath)},children:t=>{switch(t.type){case"repo":return(0,et.jsx)(B.c,{childItems:t.children,textValue:t.repo.dir,children:(0,et.jsx)(uU,{node:t,hasCheckbox:e.length>1})},t.key);case"commit":return(0,et.jsx)(B.c,{children:(0,et.jsx)(uK,{node:t})},t.key)}}})})}})})}function uM(){let e=(0,$.y)(rw.VCS_LOG_CONTEXT_MENU);return e&&(0,et.jsx)(V.d,{actionGroup:e})}let uG=y.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  font-style: italic;
  margin-top: 1.25rem;
`;function uK(e){var t;let{node:n}=e,{oid:r,commit:i}=n.commit.readCommitResult,{subject:o,body:a}=au(n.commit.readCommitResult.commit.message),s=uH(n.key);return(0,et.jsx)(_.a,{tooltip:(0,et.jsxs)(aR.u,{children:[ah(r)," ",(t=i.committer.timestamp,af.format(t)),","," ",ag(i.committer.timestamp)," by"," ",i.committer.name," ",o,a,(0,et.jsx)(uG,{children:"Select to show commit details"})]}),children:e=>(0,et.jsx)(uT,{...e,style:{paddingLeft:".5rem",opacity:s},children:o})})}function uH(e){let t=(0,g.useContext)(nw.k);if(!((0,C.Dv)(uC).includes(um(e))||t?.isSelected&&t?.isContainerFocused))return u$}let u$=.35,uV=y.zo.input`
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  outline: none;
  flex: 1;
  margin-right: -0.5rem;
  ::selection {
    background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
  }
`;function uU(e){let{node:{source:t,target:n,repo:r,key:i},hasCheckbox:o}=e,a=(0,C.Dv)(uC),s=(0,eP.lV)(uR),l=(0,C.b9)(uy(r.dir)),c=(0,C.b9)(ux(r.dir)),d=uH(i),[u,h]=(0,g.useState)(!1),[p,m]=(0,g.useState)(n.branch),f=()=>{h(!1),setTimeout(()=>{l(p)})},A=uP();return(0,et.jsxs)(nj.e,{style:{flex:1},children:[o&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(ia.x,{onToggle:()=>s(r.dir),selectionState:a.includes(r.dir)?"Selected":"NotSelected"}),(0,et.jsx)("span",{style:{minWidth:115,opacity:d},children:ur(r)})]}),!u&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("span",{style:{opacity:d},children:["commit"===t.type?ah(t.ref):t.ref," ","\u2192"," ",n.remote&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(sd.b,{elementType:"a",renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(uz,{repoPath:r.dir,menuProps:t})},children:(0,et.jsx)(tf.r,{children:n.remote})})," ",":"," ",(0,et.jsx)(tf.r,{onPress:()=>{m(n.branch),h(!0)},preventFocusOnPress:!0,children:n.branch})]})]}),n.remote&&n.isNew&&(0,et.jsx)(uk,{children:"New"}),!n.remote&&(0,et.jsx)(tf.r,{onPress:()=>{A(r.dir).then(e=>{e&&c(e.name)})},children:"Define remote"})]}),u&&(0,et.jsx)(uV,{autoFocus:!0,value:p,onChange:e=>m(e.target.value),onFocus:e=>{e.target.select()},onPointerDown:e=>{e.stopPropagation()},onBlur:f,onKeyDown:e=>{e.stopPropagation(),"Escape"===e.key&&h(!1),"Enter"===e.key&&f()}})]})}function uz(e){let{menuProps:t,repoPath:n}=e,r=(0,C.Dv)(ih(n)),i=(0,C.b9)(ux(n)),o=uP();return(0,et.jsx)(R.v2,{...t,autoFocus:"first",onAction:e=>{"addRemote"===e?o(n).then(e=>{e&&i(e.name)}):setTimeout(()=>{i(`${e}`.split(":").slice(1).join(":"))})},children:r.map(e=>(0,et.jsx)(B.c,{children:e.remote},`remote:${e.remote}`)).concat([(0,et.jsx)(nD.i,{},"divider"),(0,et.jsx)(B.c,{children:"Define remote"},"addRemote")])})}u_.__docgenInfo={description:"",methods:[],displayName:"PushLogTree"},eX({componentName:"PropertiesComponent",storageFile:eY.WORKSPACE_FILE,schema:eT.z.object({property:e4(eT.z.object({"@name":eT.z.string(),"@value":eT.z.string()}))}).optional(),read:e=>Object.fromEntries(e?.property.map(e=>{let{"@name":t,"@value":n}=e;return[t,n]})??[]),write:(e,t)=>({property:(t?.property||[]).concat(Object.entries(e).map(e=>{let[t,n]=e;return{"@name":t,"@value":n}}))})},{});let uQ=eT.z.object({keyToString:eT.z.record(eT.z.string(),eT.z.string()),keyToStringList:eT.z.record(eT.z.string(),eT.z.array(eT.z.string()))}),uq=e=>eX({...e,schema:eT.z.object({[e0]:eT.z.string()}).optional(),read:e=>{try{return console.log('state?.["#text"]',e?.[e0]),uQ.parse(JSON.parse(e?.[e0]??"{}"))}catch(e){return{keyToString:{},keyToStringList:{}}}},write:(e,t)=>({[e0]:JSON.stringify(e,null,2)})},{keyToString:{},keyToStringList:{}}),uW=uq({componentName:"PropertyService",storageFile:eY.NON_ROAMABLE_FILE}),uY=uq({componentName:"PropertiesComponent",storageFile:eY.WORKSPACE_FILE}),uZ=e=>{let t=(0,il.R)(e,e=>e.prop("keyToString"));return{number:(e,n)=>{let r=(0,il.R)(t,t=>t.prop(e)),i=(0,Q.cn)(e=>{let t=Number(e(r));return Number.isNaN(t)?n:t},(e,t,n)=>{t(r,String("function"==typeof n?n(e(i)):n))});return i}}};uZ(uY);let uJ={...uZ(uW)},uX=y.zo.div`
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
`,u0=y.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,u1=(0,Q.cn)(g.createRef()),u2=(0,Q.cn)(new Set([])),u5=(0,Q.cn)(e=>rT.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable).map(t=>({...t,key:`groupBy:${t.id}`,isActive:e(uh.isGroupingActiveAtom(t.id))}))),u6="Vcs.push.detailsView.viewOptions",u4=e=>`Vcs.push.detailsView.groupBy.${e.id}`;function u7(){let e=(0,C.Dv)(u1),t=(0,C.Dv)(u5),n=(0,eP.lV)((0,g.useCallback)((e,t,n)=>{t(uh.isGroupingActiveAtom(n),e=>!e)},[])),[r,i]=(0,g.useState)(new Set),[o,a]=(0,C.KO)(u2),s=(0,tD.w)(),l=0==[...o].length,c=[...(0,na.x)({treeRef:e}),s({id:u6,title:"View Options",icon:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"}),children:[s({id:"Vcs.push.detailsView.groupBy",title:"Group By",menuPresentation:"titledSection",icon:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"}),children:t.map(e=>({id:u4(e),useShortcutsOf:e.useShortcutOf,title:e.title,actionPerformed:()=>{n(e.id)}}))})]}),{id:rw.SHOW_DIFF,title:"Show Diff",description:"Compare files or revisions.",icon:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"}),isDisabled:l,actionPerformed:tA},{id:rw.SHOW_DIFF_STANDALONE,title:"Show Diff in a New Tab or Window",description:"Open diff for each selection in a new tab or window",icon:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"}),isDisabled:l,actionPerformed:tA}],d=(0,C.Dv)(uh.changedFilesLoadableAtom),u="hasData"===d.state?d.data:null;return(0,g.useEffect)(()=>{e.current?.expandAll()},[(0,C.Dv)(uE),u]),(0,et.jsx)(I.DG,{actions:c,children:t=>{let{shortcutHandlerProps:n}=t;return(0,et.jsxs)(u0,{...n,children:[(0,et.jsxs)(uX,{children:[(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Show Diff",shortcut:"\u2318D"}),children:(0,et.jsx)(iq.hU,{isDisabled:!0,children:(0,et.jsx)(O.vq,{icon:"actions/diff.svg"})})}),(0,et.jsx)(nD.i,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(M.M,{actionName:"Group By"}),children:(0,et.jsx)(iU.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(he,{menuProps:t})},children:(0,et.jsx)(O.vq,{icon:"actions/groupBy.svg"})})})]}),(0,et.jsxs)(iV.o,{children:[(0,et.jsx)(ns.K,{actionId:tx.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tx.$.COLLAPSE_ALL})]})]}),u&&(0,et.jsx)(T.X,{renderMenu:()=>(0,et.jsx)(u3,{}),children:t=>(0,et.jsx)("div",{...t,style:{height:"100%"},children:(0,et.jsx)(ny.b,{"aria-label":"Commit changes",treeRef:e,items:u.rootNodes,selectionMode:"multiple",expandedKeys:r,onExpandedChange:i,selectedKeys:o,onSelectionChange:a,style:{paddingBottom:"1rem"},fillAvailableSpace:!0,children:aA.itemRenderer({fileCountsMap:u.fileCountsMap})})})})]})}})}function u3(){return(0,et.jsx)(nS.C,{actions:[(0,I.BH)(rw.SHOW_DIFF),(0,I.BH)(rw.SHOW_DIFF_STANDALONE)].filter(e=>null!==e)})}let u8={...Object.fromEntries(rT.map(e=>[u4(e),uh.isGroupingActiveAtom(e.id)]))},u9=(0,Q.cn)(e=>Object.entries(u8).filter(t=>{let[,n]=t;return e(n)}).map(e=>{let[t]=e;return t}));function he(e){let{menuProps:t}=e,n=(0,$.y)(u6),r=(0,C.Dv)(u9);return n&&(0,et.jsx)(V.d,{actionGroup:n,children:e=>(0,et.jsx)(iz.w,{...t,...e,selectedKeys:r})})}u7.__docgenInfo={description:"",methods:[],displayName:"PushLogDetails"};let ht=uJ.number("Vcs.Push.Splitter.Tree.Proportion",.5),hn=(u="Vcs.Push.Dialog.v2",(0,Q.cn)(e=>{let t=e(un);return t instanceof Promise?t.then(e=>e?.[u]):t?.[u]},(e,t,n)=>t(un,e=>({...e,[u]:n})))),hr=dR({createGitTaskCallback:dK},async e=>{let{get:t,set:n,createGitTask:i}=e,o=await t(uS),a=t(e9).length>1;function s(e){let{remoteRef:n,remote:r,dir:i,source:o,isNew:a}=e,s=t(uv({repoPath:i}))?.length;return s?`Pushed ${a?o:`${new nJ.C(`{count, plural,
                        =1 {commit}
                        other {# commits}
                          }`,"en-US").format({count:s})}`} to${a?" new branch":""} ${r}/${n}`:"Everything is up to date"}i({title:"Pushing...",run:async e=>{let{onProgress:n,...i}=e,l=new Map;for(let e of o)await A.ZP.push({fs:r,http:x.Z,onProgress:n.part(o.indexOf(e),o.length),...i,...e}).then(e=>(console.log("push result",e),e)).catch(t=>{console.error("Git push error. args:",e,"error:",t),l.set(e.dir,t)});let c=!a&&0===l.size,d={...o[0],source:await t(ig(o[0].dir))};tg.value?.showSticky({icon:l.size>0?"Error":"Info",title:l.size>0?l.size<o.length?"Push partially failed":"Push failed":c?s(d):"Push successful",body:!c&&o.map(e=>{let{dir:t,url:n,remote:r}=e,i=l.get(t);return et.jsxs("div",{children:[a&&et.jsxs(et.Fragment,{children:[ur({dir:t}),": "]}),i?function(e){var t;let{error:n,url:r}=e;return`${(t=n)instanceof A.D1.HttpError?`remote: ${t.data.response}`:"Unknown error occurred while pushing"} ${n instanceof A.D1.HttpError&&401===n.data.statusCode?`Authentication failed for '${r}'`:""}`}({error:i,url:n??r}):s(d)]},t)}),actions:et.jsx(et.Fragment,{children:et.jsx(l6.g,{onPress:tA,children:"Show details in console"})})})},onFinished:()=>{o.map(e=>{let{dir:t}=e;n(im(t))})}})});function hi(e){let{close:t}=e,n=(0,C.Dv)(e9),[r,i]=(0,C.KO)(ht),[o,a]=(0,C.KO)(hn);return(0,et.jsx)(nG.Du,{bounds:o?.bounds??{width:800,height:520},onBoundsChange:e=>{a({bounds:e,screen:{left:window.screenX,top:window.screenY,width:window.outerWidth,height:window.outerHeight},timestamp:Date.now()})},children:(0,et.jsx)(nK.b,{header:1===n.length?`Push commits to ${ur(n[0])}`:"Push commits",content:(0,et.jsx)(rr.D,{firstSize:r,onFirstResize:i,firstView:(0,et.jsx)(u_,{}),innerView:(0,et.jsx)(u7,{})}),footer:(0,et.jsx)(ha,{close:t})})})}let ho=(0,er.Wg)((0,Q.cn)(e=>e(uS).then(e=>e.length>0)),()=>!1);function ha(e){let{close:t}=e,[n,r]=(0,g.useState)(!1),i=(0,eP.lV)(hr),o=(0,C.Dv)(ho);return(0,et.jsx)(nK.b.Footer,{hasBorder:!0,left:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nU,{onPress:()=>tA()}),(0,et.jsx)(nH.X,{mnemonic:"t",isSelected:n,onChange:r,children:"Push tags"}),(0,et.jsxs)(d9.L,{isDisabled:!n,selectedKey:"all",style:{width:145},children:[(0,et.jsx)(B.c,{children:"All"},"all"),(0,et.jsx)(B.c,{children:"Current Branch"},"currentBranch")]})]}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(n$.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(n$.z,{isDisabled:!o,variant:"default",mnemonic:"P",onPress:()=>{i(),t()},children:"Push"})]})})}hi.__docgenInfo={description:"",methods:[],displayName:"GitPushWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let hs=n0({id:rw.GIT_PUSH,title:"Push...",icon:(0,et.jsx)(O.vq,{icon:"vcs/push.svg"}),isDisabled:(0,Q.cn)(e=>0===e(e9).length),actionPerformed:async e=>{let{get:t,set:n}=e,r=t(eq).current;r?.open(e=>{let{close:t}=e;return et.jsx(hi,{close:t})})}}),hl=n0({id:rw.GIT_BRANCHES,title:"Branches\u2026",icon:(0,et.jsx)(O.vq,{icon:"vcs/branch.svg"}),actionPerformed:e=>{let{get:t}=e;t(eQ).current?.show(e=>{let{close:t}=e;return et.jsx(ca,{close:t})})}});async function hc(e){return new Promise(t=>setTimeout(t,e))}let hd=y.zo.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
`,hu=e=>{let{height:t}=e,n=(0,g.useRef)(null),[r,i]=(0,C.KO)(cx),o=(0,C.Dv)(r_),a=(0,C.Dv)(cD.isOpen);return(0,C.Dv)(eQ).current=(0,b.U)(),(0,C.Dv)(eq).current=(0,w.S)(),(0,C.Dv)(eW).current=(0,E.i)(),(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(rx,{}),(0,et.jsxs)(S.a,{disablePortal:!0,children:[(0,et.jsx)(hp,{}),(0,et.jsx)(hm,{}),(0,et.jsx)(dg.Provider,{value:n,children:(0,et.jsxs)(hd,{style:{height:t},children:[(0,et.jsx)(hh,{children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(D.u,{ref:n,toolWindowsState:r,onToolWindowStateChange:e=>{i(e)},windows:l_,containerProps:t,children:(0,et.jsx)(t7,{})}),(0,et.jsx)(cu,{})]})}}),a&&(0,et.jsx)(c2,{}),o&&(0,et.jsx)(cA,{})]})})]})]})};function hh(e){let t=[...function(){let e=(0,eP.lV)(df),t=(0,tD.w)(),n=(0,C.Dv)(c9),r=t({id:nI,title:"New...",description:"Create new class, interface, file or directory",isSearchable:!0,children:[n,(0,C.Dv)(di)]}),i=t({id:nP,title:"Copy Path/Reference...",menuPresentation:"none",children:[t({id:"CopyFileReference",title:"Copy File Reference",isSearchable:!1,menuPresentation:"section",children:[(0,C.Dv)(dc),(0,C.Dv)(dl),(0,C.Dv)(dd)]})]});return[{id:tx.$.GO_TO_ACTION,title:"Find Action",description:"Quickly navigate to action by name",actionPerformed:t=>{e(t,"Actions")}},{id:tx.$.GO_TO_FILE,title:"Go to file",description:"Quickly navigate to file by name",actionPerformed:t=>{e(t,"Files")}},r,i,(0,C.Dv)(dp)]}(),...function(){let e=(0,C.Dv)(dC);return[...dx(),(0,C.Dv)(db),(0,C.Dv)(d2),(0,C.Dv)(hs),(0,C.Dv)(d5),...0===(0,C.Dv)(e9).length?[e]:[],(0,C.Dv)(ul),(0,C.Dv)(hl),{id:rw.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH,title:"Navigate Log to Selected Branch Head",useShortcutsOf:"SelectIn",icon:(0,et.jsx)(O.vq,{icon:"general/locate.svg"}),actionPerformed:()=>{tA()}}]}(),...function(){let e=i7();return[{id:"AddTestProcessAction",title:"Add Test Process",actionPerformed:()=>{e({title:"Test process",isCancelable:!0},async(e,t)=>{let{setText:n,setSecondaryText:r,setFraction:i}=e;n("Welcome!"),await (0,ef.qf)(function*(){for(let t=0;t<1e3;t++){var e;n((e=t)/10==Math.round(e/10)?"":"Found: "+Math.round(e/20)+"1"),i(t/1e3),yield hc(100),r("Bla bla bla")}})(t)})}}]}()];return(0,et.jsx)(I.DG,{...e,actions:t,useCapture:!0})}function hp(){return tg.value=(0,S.L)(),null}function hm(){return!function(){let e=(0,S.L)(),t=i7();(0,g.useEffect)(()=>{let n=setTimeout(()=>{void 0==ev.get()&&e.showSticky({title:"Switch to IndexedDB filesystem",body:"By default an in-memory filesystem is used to have a faster git clone. But it means all changes will be lost upon refresh. You can switch in the background to a persistence fs implementation which uses IndexedDB to store files.",actions:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(l6.g,{onPress:()=>{t({title:"Switching to IndexedDB FS",isCancelable:!0},async(e,t)=>{let{setIndeterminate:n,setText:r}=e;r("Copying ..."),n(!0),await ew({cancelSignal:t,onCopy:e=>{r(`Copying ${f().dirname(e)}`)}}).then(()=>{ev.set("yes")}).catch(()=>{})})},children:"Switch to IndexedDB FS"}),(0,et.jsx)(l6.g,{onPress:()=>ev.set("no"),children:"Don't ask again"})]})})},3e3);return()=>clearTimeout(n)},[])}(),null}hu.__docgenInfo={description:"",methods:[],displayName:"Project",props:{height:{required:!0,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""}}};var hf=n("75522"),hg=n("90406");let hA={".idea/vcs.xml":`<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="GitRememberedInputs">
    <option name="visitedUrls">
      <list>
        <UrlAndUserName>
          <option name="url" value="https://github.com/alirezamirian/jui.git"></option>
          <option name="userName" value=""></option>
        </UrlAndUserName>
        <UrlAndUserName>
          <option name="url" value="https://github.com/thurwitz/example-branches.git"></option>
          <option name="userName" value=""></option>
        </UrlAndUserName>
      </list>
    </option>
    <option name="cloneParentDir" value="/workspace"></option>
  </component>
  <component name="VcsDirectoryMappings"></component>
</project>

`};async function hx(e){try{if(!(await r.promises.stat(e)).isDirectory())return console.info(`Already cloned repo was not found. "${e}" is not a directory.`),!1;let t=await r.promises.readdir(e);if(1===t.length&&".git"===t[0])return console.info(`Already cloned repo was not found at "${e}". ".git" folder exists, but it's not successfully unpacked.`),!1}catch(t){return console.info(`Already cloned repo was not found at "${e}".`),!1}return!0}let hy=async()=>{await ey(r.promises,eM.path),await Promise.all(Object.entries(hA).map(async e=>{let[t,n]=e,i=f().join(eM.path,t);!await r.promises.exists(i)&&(await ey(r.promises,f().dirname(i)),await r.promises.writeFile(i,n,"utf-8"))}))},hj=(0,y.zo)(hg.e)`
  min-width: ${e=>{let{minWidth:t}=e;return t?`${t}px`:""}};
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`,hv=e=>{let{children:t,autoCloneSampleRepo:n=!1}=e,[i,o]=(0,g.useState)(null),[a,s]=(0,g.useState)("uninitialized");(0,g.useEffect)(()=>{async function e(e,t){await hx(e)||(s("cloning"),await dV({dir:e,url:t,onProgress:o}))}(async function t(){let t=window.INITIALIZE_APP??hy;try{await t({fs:r,git:A.ZP,path:f(),projectDir:eM.path}),n&&await e(e_.path,e_.url),console.log("demo repo initialized"),s("initialized")}catch(e){console.error("could not initialize the demo repo",e),s("error")}})()},[]);let l=i?.total?i.loaded/i.total:0;switch(a){case"uninitialized":return null;case"initialized":return(0,et.jsx)(et.Fragment,{children:t});case"cloning":return(0,et.jsx)(hj,{minWidth:450,children:(0,et.jsx)(lU.GI.Layout,{header:"Cloning sample git repository",content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(sb.ko,{name:`Cloning repository ${e_.url}`,isIndeterminate:!i,details:l?`${i?.phase}: ${Math.round(100*l)}% ${i?.loaded}/${i?.total}`:i?.phase,"aria-label":"Progress of cloning sample repo",value:i?i.loaded/i.total:0,maxValue:1})})})});case"error":return(0,et.jsx)(hf.a,{type:"error",heading:"Something went wrong!",body:"Could not initialize example app",buttons:(0,et.jsx)(n$.z,{variant:"default",onPress:()=>{window.location.reload()},children:"Reload"})})}};hv.__docgenInfo={description:"",methods:[],displayName:"ProjectInitializer",props:{autoCloneSampleRepo:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};let hw={ActivateProjectWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit1",modifiers:["Meta"]}}],ActivateCommitWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit0",modifiers:["Meta"]}}],ActivateVersionControlWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit9",modifiers:["Meta"]}}],ActivateTerminalWindow:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Alt"]}}],[rw.ROLLBACK]:[{type:"keyboard",firstKeyStroke:{code:"KeyZ",modifiers:["Alt","Meta"]}}],[rw.SHOW_DIFF]:[{type:"keyboard",firstKeyStroke:{code:"KeyD",modifiers:["Meta"]}}],[rw.SHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyH",modifiers:["Meta","Shift"]}}],[rw.UNSHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyU",modifiers:["Meta","Alt"]}}],[rw.GIT_PUSH]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyK"}}],[cK]:[{type:"keyboard",firstKeyStroke:{code:"Tab",modifiers:["Shift"]}}],[cH]:[{type:"keyboard",firstKeyStroke:{code:"Tab"}}],[rw.RENAME_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"F2"}}],[rw.MOVE_TO_ANOTHER_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyM"}}],[rw.SET_DEFAULT_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}],[rw.REMOVE_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}],[rw.CHECKIN_PROJECT]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyK"}}],[rw.ADD_UNVERSIONED]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"KeyA"}}],[rw.FOCUS_TEXT_FILTER]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyL"}}],[rw.GROUP_BY_DIRECTORY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"KeyP"}}],SafeDelete:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Backspace"}}],CopyPaths:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyC"}}],[tI]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyV"}}],[nI]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[tP]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[tk.EXPAND_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Equal"}}],[tk.EXPAND_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Equal"}}],[tk.EXPAND_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Equal"}}],...[1,2,3,4,5].reduce((e,t)=>(e[tk[`EXPAND_ALL_TO_LEVEL${t}`]]=[{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Digit${t}`}},{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Numpad${t}`}}],e),{}),[tk.COLLAPSE_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadSubtract"}}],[tk.COLLAPSE_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadSubtract"}}],[tk.COLLAPSE_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadSubtract"}}]};window.git=A.ZP,window.fs=r,window.path=m,window.http=x.Z;let hb=y.zo.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: ${e=>{let{$height:t}=e;return t??"100vh"}};
`,hC=e=>{let{height:t,autoCloneSampleRepo:n}=e;return(0,et.jsx)(g.Suspense,{fallback:(0,et.jsx)(hb,{children:(0,et.jsx)(j.TK,{})}),children:(0,et.jsx)(eC,{children:(0,et.jsx)(hv,{autoCloneSampleRepo:n,children:(0,et.jsx)(v.ur,{keymap:hw,children:(0,et.jsx)(w.f,{children:(0,et.jsx)(b.q,{children:(0,et.jsx)(hu,{height:t})})})})})})})};hC.__docgenInfo={description:"Example app root component. It expects ThemeProvider to be provided based on where it's rendered.",methods:[],displayName:"App",props:{height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},autoCloneSampleRepo:{required:!1,tsType:{name:"boolean"},description:""}}};let hE=hC},13775:function(e,t,n){var r={"./simpleWorker.js":"57772","./simpleWorker":"57772"};function i(e){return Promise.resolve().then(function(){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])})}i.keys=()=>Object.keys(r),i.id="13775",e.exports=i},56755:function(e,t,n){var r={"./treeViewsDndService.js":["61860"],"./textResourceConfiguration":["16576"],"./unicodeTextModelHighlighter.js":["83969"],"./findSectionHeaders":["43631"],"./languageFeaturesService":["99423"],"./model.js":["65041"],"./editorSimpleWorker":["66298"],"./editorBaseApi":["79375"],"./editorWorker":["30363"],"./editorWorkerHost.js":["76679"],"./semanticTokensDto":["21982"],"./semanticTokensDto.js":["21982"],"./semanticTokensStyling.js":["76567"],"./textResourceConfiguration.js":["16576"],"./editorWorker.js":["30363"],"./languagesAssociations":["41356"],"./markerDecorationsService":["1022"],"./languageFeatureDebounce":["69060"],"./model":["65041"],"./resolverService":["91223"],"./languagesRegistry":["33550"],"./markerDecorations.js":["52919"],"./semanticTokensProviderStyling":["45960"],"./semanticTokensProviderStyling.js":["45960"],"./languageService.js":["44718"],"./semanticTokensStylingService":["29922"],"./getIconClasses.js":["75154"],"./languageFeatures.js":["35921"],"./modelService.js":["94657"],"./languagesRegistry.js":["33550"],"./languageFeatures":["35921"],"./markerDecorationsService.js":["1022"],"./textModelSync/textModelSync.impl.js":["13423"],"./languageService":["44718"],"./editorSimpleWorker.js":["66298"],"./markerDecorations":["52919"],"./textModelSync/textModelSync.protocol":["66828","9348"],"./findSectionHeaders.js":["43631"],"./treeSitterParserService":["40143"],"./treeViewsDnd":["55247"],"./languagesAssociations.js":["41356"],"./treeViewsDnd.js":["55247"],"./unicodeTextModelHighlighter":["83969"],"./editorWorkerHost":["76679"],"./textModelSync/textModelSync.impl":["13423"],"./languageFeatureDebounce.js":["69060"],"./editorBaseApi.js":["79375"],"./textModelSync/textModelSync.protocol.js":["66828","9348"],"./languageFeaturesService.js":["99423"],"./getIconClasses":["75154"],"./treeSitterParserService.js":["40143"],"./semanticTokensStylingService.js":["29922"],"./semanticTokensStyling":["76567"],"./treeViewsDndService":["61860"],"./modelService":["94657"],"./resolverService.js":["91223"]};function i(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(i)})}i.keys=()=>Object.keys(r),i.id="56755",e.exports=i},57011:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="57011",e.exports=t}}]);
//# sourceMappingURL=6422.158c85d7.js.map