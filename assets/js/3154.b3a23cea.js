(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["3154"],{81649:function(e,t,n){"use strict";let r,o,i,a,s,l,c,d,u;n.r(t),n.d(t,{default:()=>pA,App:()=>px});var p,h,m=n("21023"),f=n.n(m),g=n("2784"),y=n("31128"),b=n("47040"),v=n("63631"),w=n("69190"),x=n("37044"),A=n("76826"),j=n("63981"),T=n("40145"),C=n("82540"),S=n("52761"),k=n("44668"),R=n("42181"),E=n("61741"),I=n("28266"),P=n("88089"),N=n("89349"),D=n("32396"),M=n("47386"),B=n("39472"),F=n("79532"),O=n("57385"),_=n("17560"),L=n("90046"),z=n("30775"),$=n("28818"),q=n("36588"),K=n("2533"),H=n("29362"),V=n("1554"),W=n("6771"),U=n("2362");let G="fileTypes/text",Q="nodes/folder",Z={editorconfig:"nodes/editorconfig",js:"fileTypes/javaScript",gitignore:"vcs/ignore_file",archive:"fileTypes/archive",as:"fileTypes/as",config:"fileTypes/config",css:"fileTypes/css",dtd:"fileTypes/dtd",hpr:"fileTypes/hprof",htaccess:"fileTypes/htaccess",html:"fileTypes/html",idl:"fileTypes/idl",java:"fileTypes/java",jfr:"fileTypes/jfr",json:"fileTypes/json",jsp:"fileTypes/jsp",jspx:"fileTypes/jspx",manifest:"fileTypes/manifest",properties:"fileTypes/properties",txt:"fileTypes/text",wsdl:"fileTypes/wsdlFile",xhtml:"fileTypes/xhtml",xml:"fileTypes/xml",xsd:"fileTypes/xsdFile",yaml:"fileTypes/yaml"},Y=e=>Z[J(e)]||G,J=e=>e.split(".").pop()||"";function X(e,t){return void 0===t&&(t=f().sep),function e(t,n,r){void 0===r&&(r=[]);let o=f().dirname(t);return o!==n?[o].concat(e(o,n,r)):r}(e,t)}var ee=n("72516"),et=n("52322");let en=e=>(0,et.jsx)(ee.E,{...e,src:"data:image/gif;base64,R0lGODlhEAAQAPejANra2tHR0cjIyNjY2NnZ2dLS0tbW1rS0tM/Pz7KyssnJydfX19TU1M3Nzby8vK+vr8HBwcTExLi4uMbGxsrKyrW1tcvLy9PT06mpqcPDw87OzqWlpaysrKKiorGxsZ2dnb29vbu7u8XFxaqqqszMzL+/v9XV1bOzs8LCwsfHx6SkpI6Ojrm5ucDAwLq6up6enpubm76+vpKSkp+fn9DQ0JaWlmRkZJqamn9/f6ioqK6urre3t6urq6ampq2trZOTk5iYmEBAQKenp4mJiba2tpGRkYaGhqOjo7CwsICAgJWVlXR0dNvb26CgoJmZmaGhoXd3d1hYWGtra1lZWY+Pj4KCgoyMjG1tbZCQkJeXlzk5OVBQUG5ubnFxcZycnISEhGhoaE1NTYqKinV1dVtbW42NjV5eXk9PT2JiYjw8PIWFhVpaWj09PUtLS3h4eFNTU2dnZ0hISEpKSk5OTmxsbGlpaTg4OHx8fIiIiEdHR1VVVXZ2dl9fX1xcXEVFRUZGRnNzc4ODg3BwcFZWVpSUlH19fWpqakJCQjc3NzQ0NHt7ez4+PouLi29vb2NjY1JSUoGBgXl5eWZmZlFRUWFhYV1dXUFBQX5+foeHh0RERGVlZXp6emBgYENDQzU1NTY2NklJSVRUVHJyctvb2wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQCjACwAAAAAEAAQAAAIvQBHCRylQeCMOQMTDmyw6MOoMokEolCgUKCNOAEgjkLggeJAHhxGgVhUZUUiABJ2ABi1QKCbTGBA/Dgh0AALBAWIjGgJ4MUkPQQSMpkwgsOEhAVAVNQQY4BADE6cAKkosIXVCTa2aKU66oPXHgMvpKhIg0hLgQA2OFpS0QGhGy0E4iBTKIOPGAIbZCFBQsUPGqNGHBjVgA4WDFBMiHE4KoBCKlc0jIAyaoeauAoHSDkSmDKADyyoalhZARPVgAAh+QQFBQCjACwAAAAAEAAQAAAItABHCRyFQGAHPQMTDtSQ58moImkE7iGkUKCULQ8j8vCkJOGDB6NK5MEkI82COXMEDhCI40yXElkqCEyhJ8AFBx5WjupAxoxCAAoSnFCgsERFGhkG6njBtKJAESIiUODSp6rTUTmyghwooGIBBzoFjmiEoyKEFxsiCBwCxsiEBBAEIuigAYGPFwVGPZBA0M2NB18M1Ogh8IJCIIpoIPkyyoEMtQoJuBkxarHAHjGc0hDoQobTgAAh+QQJBQCjACwAAAAAEAAQAAAIuABHCRxFQ+CGSgMTDkTwZsOoGn8EKsqiUOAYMgUgjvLBBkjCEydGoXizIkvEQXoGjGogcEifTSg+SBAogMwDB5zsaBCYA46hikUQHfI48AKKiglwFBx1YsMGFRUFKhAgoIEiKVijjvLAdcdABhYqMjiaEEkhRhVFYHggQOAPKDIUSBAhMACPAAEqYGAwqgKIUQGMHCEiY0EHJAL5JnyCJ8AOGaMgvGhb0YiHUY8FPsgQNYDAEh+iBgQAIfkECQUAowAsAAAAABAAEAAACLcARwkcOEqAEIIIBdaQMMrLFIEYaCQcVUXKAhgPD+R5QHDBhIJ8YDgkQEkSwgN1GFFw8oKChBBhQkCgY2SghzFSJA4MMCTIGSQEDTBESGWFCYEkeIwYgSChgqIrIlTAQVVEwh1Bglj6MHABioQkBAAgyELMEAMECYhIsKPpKAlfmiCQUKEACRIcTDBw0EKgAQqjGPzwEKLDAB8sJo7iUMOAgw6jUuQIMPEAhFGPBU4YoFhggQgTAwIAIfkEBQUAowAsAAAAABAAEAAACL8ARwkcVUDgA1EDEw4sQOfBqA5mBA5polAgHkAMII468OZJQgchRqW44uWImQFg4AwYhUDgDShUUmAoIdDClQotuMhpCeAEpCoEEgK4IefNjIQmUlQkMqTgKAcJPHioKPCH1Q0yjGilOoqN1zcDDbRUCKFKgIEAQtSgqLAGokw3BPaQsUEDCgsCGbhgEILPpwyjSogYdeHFAQgYBhwAIXBwwgRNGKDAMEqBBw0VCcxgPHkUAAd4KzIAMErA1IoBAQAh+QQFBQCjACwAAAAAEAAQAAAIugBHCRzFQGCFKgMTDryAg8goHl0E/sihUGANNSYgjmKhieJACBBGUUjSQ6ObPQRG0RAoRMwHCgkyCGxwh0WGTWsCCAxR5AcAhR3WUNqQ0ICFii6KDMzgwgWLigJv3HAy4gmQq1BHtdnKZ+CCAhUzDAErkAmKDT4q3jh0ZobABB08BBCAQCCENSBAwLEUYZQICqNMcHCQ4kAAP2gETlAYQoeBwqOc2BFSEQCHvgIOjCIABwZUAwJJuIAaEAAh+QQFBQCjACwAAAAAEAAQAAAIuABHCRxlQmCIFQMTDmSwwsGoBEkEfnigUGCHHwYgjoqxhOLACSJGNVih40QSAmqqCCwgEAkQIQ1YpBCIAA+ICUbAsGQC4cWMihjqcOGRcIGGijGcXBCYokWLEhUFPmnSRAcHFVijjorC1dDAAUsVisCiMMWDChVnzFmjQiALDiwuWAggEAWaEiUEhZkwSkGDUQYqoCijZVQYr6MEKIRQIQXhUR8OjYhaQfGKwqOu/Ky4gMCoGY+iBgQAIfkEBQUAowAsAAAAABAAEAAACLYARwkcZUBgCSADEw404aTFqB1WBKo4oFAghg+jJESEkITiQAUKRiFwUkHjKCplBF4QSKTDAwQxKAgMUASCACpLVo6KICRHRR1jIiFJOIBGRQhNGAikEKFpRYE9Nmw4cYKD1aejbGgdk1CpwhQ1dC6tEKLikSk2MAiMcSIGAy8JBEaoAwEClCgCRpFAMEpAmkZYghQY1EVgyISCFgkoEmRUkzY+Ki5II2YUY4FLOjzNO6pDlKcBAQAh+QQFBQCjACwAAAAAEAAQAAAIsgBHCRy1QGCEDQMTDlzQQ8SoGDAE6gihUOABDAsgjpqAxUXCBiRGBRDioETEDzcEMhAIwoeEAhEaCCzwQoQFGF9WjlKQIEHFCmqG7FBYoKIIDCYENhDAtKJEHy5dVJjqdNSSq4EGBkBRkcIMnaMAZPEzpeKIOoAeCISjBY2DGQcEThgTIUIgMBRGecGw88+eGmFGOboj0IJCKHkUAB7VY43Pin6ojMoSeNSlHE7zMnbkNCAAIfkEBQUAowAsAAAAABAAEAAACLIARwkcOEqAD4IIBepQMCqDCoEHSiQcxQLJAIejFMCQOFCDhlEXHkBwCGDDEQCjTAiEcADEhRQIBDIQIqCBCiwqAVjYISGhiyI/QhAMcCGhACQGBHZYwXTiqBMnEoDYoqWq0yRYyxDMkNBCD5UDb7Qxk/DBmEsHBNIJAibGkR0CBeCYMMHKEhKjZvAYRWHLHRhRLlxRI7ABwkKTLAAeNUITkYQDzhAatRiAkYNdBY64MjEgACH5BAUFAKMALAAAAAAQABAAAAi3AEcJHDVAoIUTAxMOHHDAwqgJHAS6yKBQYAwiDyOSUEFxYI4co0IciABxlI6IowwIFISITwgKAQSaeGABAY8bKkcB8QOq4EAmJbx8aKHQRUUKRBYIVCFDRpGKAiVIbTEoiFWoo6xozTKwQISKDTjkFPgilKSKByANYSEQkJxGLYSwHUUBjwAFSpJoGHVExygLU740scHAzQqBexMGIkPiiY1RD7oYrTjFySjHAlckgEpCoA4oUAMCACH5BAUFAKMALAAAAAAQABAAAAitAEcJHKVBYAMJAxMObGAHxigFCQTGmKBQIKdOASAS5EFxIAYMoxzYwaHxQMSES9jYcIDFg0ADBxoESHBkIAw5ZypmONIjg8IQFRu4GChEidGKAkGAcBChUpynSEcZVTIjoYiKCFwmfELmSkUJjGQ4EBjp0R4UI8aOsoCFgoUPYhCMEuKSBBoxKriYqKJEIA2FQ2w02MBl1Ik7IJCieTGKsMAaRJA2ADAqAQ6kAQEAOw==",darkSrc:"data:image/gif;base64,R0lGODlhEAAQAPe2AEZGRkdHR09PT0lJSX19fVBQUIWFhXx8fEtLS11dXVhYWFJSUlFRUXNzc0pKSnd3d2JiYl5eXltbW1VVVUxMTHl5eU5OToqKil9fX1xcXIGBgWBgYG1tbYKCgldXV4iIiI2NjXBwcGdnZ0hISFRUVHZ2dlpaWmRkZFlZWWhoaGVlZWNjY2xsbGFhYZeXl3p6epqampubm3R0dFNTU3Jyck1NTYCAgGZmZnh4eH9/f7CwsM3NzVZWVqSkpJ2dnX5+fpGRkWpqao+Pj5OTk3FxcW5uboaGhpCQkPHx8YeHh29vb2tra4SEhLy8vJKSkmlpadLS0o6Ojrm5uYODg5iYmIyMjOHh4XV1dZWVlYmJiZaWlsLCwnt7e6urq+zs7LW1tampqebm5qGhoaenp97e3sjIyNTU1Pn5+ZycnODg4Lu7u7Kysre3t7+/v/X19cbGxtnZ2YuLi8vLy66urqCgoNjY2MrKyqamptbW1pSUlOnp6aioqM7OzqKioqysrNra2qWlpcXFxaqqqvT09MfHx+fn58TExK+vr7i4uMzMzOTk5LGxsfb29kVFRcDAwOvr69XV1b29vZ6env7+/rq6usPDw9fX17a2tujo6Pr6+vv7+9DQ0J+fn+/v78HBweLi4qOjo62trbOzs76+vs/Pz5mZme3t7erq6rS0tNvb2/Dw8P39/eXl5dHR0e7u7tPT093d3dzc3N/f3+Pj48nJyfz8/EVFRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQC2ACwAAAAAEAAQAAAIvABtCbQ1Q+AHKwMTDiQx6IKtGJMEikigUKAdTAUg2ppAgOLAFy9s3Rg0BiIAGVcA2HIgUJQrQzew0BCIgMYEBjIMsASQJU2qEQkbtWCiYUNCASIqTggyQOABIUeOVBR4Q4SICHKsaJ1qC4hXIwMtZKi4gAZLgQA6JKJUMUiMITcEhsKjY0OFuLZ4YPHg4QOaBbYIzJwQCMYPKRR6CBHIQCGaLSQO21IiSEXFEYYMBJZiC0AUDlNJqAwxZmpAACH5BAUFALYALAAAAAAQABAAAAitAG0JtLVAoIE/AxMOnPHIiC0XjAR+yaNQ4JY0DyNyWTUk4YMHtk6c6gNxgBUrCv18inQCiBKBEv7MEFDkwACDkFopBBDhwIsMClVUnCFUII4LSCsKhMBUgiMzUJXaSkL1R0ITFQuwuDmQgKM5FVUI+QBBIKgydxLIKGuLxAUSJHIcKWDrAQdbM9gAwdEFARUDAgUoHPJlwYMutoL4aKGUjdXDBkUoLWiLRQylAQEAIfkECQUAtgAsAAAAABAAEAAACLgAbQm0xUCgBigDEw5cQKaDLSdeBB46olCgFDMCINrCMUhIQho0bLUggwZIxD9/BtgiIRAUpDUQ4rAQaAJKiRQ7Ms0QmINWoAAKXWjq5HGgBQgVG3QpaKvBlClMKgqMQFUBqjdYpdoiwPXKwBoKKgq4obDEmj4VNzD5kUBgKSkwTBTBIHCBjQULShiwYItGCoJgkhDx4aDKAYF8E2a5UyCED1sqjmSoGGDPA1uOBR5AWrGAwBtFFQYEACH5BAkFALYALAAAAAAQABAAAAi3AG0JHGhLgg2CCAUO4WCrSh2BBBgktAWmkgMQD4k8KkFwQIKCm0A4HLGDEEIiZegoOHJBAYsUip60cNRjYAlKhiQOLEAHiRUZBBEUSQgjBgKBPAgoXZAQRSkYMDAQ0UE1QkIOSJCoujDQAYSEJjAEIMiixx0HBEdAOFBigkAlfi7MUNJAgAIFGmoI4PBEIAIUtizEwMECxAgNISba+kGFwhIQtiIYYZpQxglbjwVuGKBYYIGvCQMCACH5BAUFALYALAAAAAAQABAAAAi5AG0JtCVA4IMmAxMOLFDpgS0jUASKSaJQYA81NQxEJELGSMInQWxlqARC44g3ZUbYWiDwCCIfGX6oEOjBU4gTbTCxBNBgjp8ACQFEKUTmQ0IKGSoWEVNA4JMSUCsKxIJFi4YYYLJKteWma6yBCGZUbLGnqUAAS6hUqehEkykQAg34MDLhhAKBFogIeEKq1gZbIv5aOFJChYEBFTgIjKDwAYgahkUS8FAxgJCQkQFwkCDVAgBbCbhIDQgAIfkEBQUAtgAsAAAAABAAEAAACLgAbQm0ZUFgCD8DEw60sCiELQJtBGrJoVCiIAoQbbFIRHHgihO2UOjocCDiJSkCGQhkAkiIgistBE5Ys2TDGksqbS3xEaOiETx8NCREoKBiECoCBK7gwKFIRYFRogg5EMeF1ae2CmndNNBBzoQYxCQdeCJLx4QgOln5ILACiAoLIkwQCMHMjRuEVEWw1UKCrRodOGx4wcCLHIEZFBaxQQHDC1tRMp1NqGGFLce2Aryp8pSCQBQ0ngYEACH5BAUFALYALAAAAAAQABAAAAi5AG0JtEVBYAoqAxMOpBBDhC0aYwQakaFQoAEtCIhEPLGI4sAECWxNgFFCYwA6fQLYEiDwgRMbE1hIELgAzQkJPpqwtHUizgUACl+o+VIioQMSFVdkqSEwgQoVNyoK1ECVRo4PWKXassOVzcABOxNKAGJhYCMMBDwm1ACF0AGBIWyEKGBiQdNRLVosemXCVgYPthBUSOEkjAAolwQqUJgCB4rCtqaQKaoQQAUMtiDbWqNBKgKVNnZIDQgAIfkEBQUAtgAsAAAAABAAEAAACKcAbQkcaEsEFoIIBWq5YStED4EGGiS01QGIA4e2VuiQODBDBlsktMhQ8lCSGIQNQBwg8cSEQAYxVgiMNLCFEQMJKwh8QHDAjIkEJUBYIXNihw5TGlQ42gHojqeUCFpImGEIwgw4QiRkUifRD4EsuHAQEIcjBkMQIHyBI8GWCR5u3USigsRWqiYCUSBUM8gEXVtJwuBIOIARJ1su6tqSwmSiS1sG8EwMCAAh+QQFBQC2ACwAAAAAEAAQAAAIswBtCbTlQGCLDwMTDkTwYYOtJ3kEcmGhUOADJg8jYuBEcaACBbYYfGCRIuKRIQJrCGShoQGDFTwECoiCQQGQLiobJeDCpSINQXdCKGRQEYMNCgI9RFhaUeCLF1w40KhAtamtJli7DGTQoiKKCyoFAjjiBU9FAoSa4BAY6IwcER+E2kqACAMGMGVAXiBgC8WpS04U2dqhI6nCL3pQBLalwVKDpo9g2AIi2NacH01B2rIhp2lAACH5BAUFALYALAAAAAAQABAAAAiwAG0JHGgrQQ6CCG05sJHAlooLAq+ISGiLCIEBJyBKyDNxIA8etgrYEJHRVpIsAikITPGCQ4ENJARaMJCBxwc6KgGYKHElIQdJMZYQZFAgYYYKCAQagMGUoi0ZV648SXOmqlMdWMUMfJnQwxSVA0GwIpUQh5pFDQQ6QhJIBZMiAiUcSpCAThOQSV7YUvDpEAg4FraMETgB4Zw0Hv7aOiBHCcVZWGwptnVHb1eBB7ZQDAgAIfkEBQUAtgAsAAAAABAAEAAACLYAbQm0NUCgBBwDEw4cUMGErRYdBCpZoVAghwe2NkREcYHiwB8/bKWosEKjrRwaANhCILCJJj4pEswQWIMAChI5sLC0JcRLmBEKUwwBciNhgSAVUTRwILCDi6cVJSpRogIOkqtRbfXY6iIhhooTDuwUmAVWmYoNDgEqIlAKplEnbCwRiAKQBBMudEywxQSjB0t7PuyowUaSQBIK9+DhkWSHrQdt5lasI8RWY4E+rkTlIRAHoqgBAQAh+QQFBQC2ACwAAAAAEAAQAAAIrgBtCbQ1Q6CCBgMTDpyQqYqtCAcEBtmgUCAfUwwg2vIwheLAAxFFnBEEEUCFFwoRubEjggpCWxQeeFhQwaHAKmHSVDwR58MKhSkqeigyMMeQoxUlBlkCAYqep0ltwZgaZaCABBVJPFBoBJKnikV6oAkiUJQsNhAIBN3oA4WCKIAK2pBhi8cOMVO2UAilReAChX0STchrqwGqtQlH8Llgq8MWWwCwEEk6QaCMOUkDAgA7"});en.__docgenInfo={description:"",methods:[],displayName:"LoadingGif"};var er=n("42615");let eo=new WeakMap,ei=new WeakSet;function ea(e,t){let n=(0,U.cn)(0),r=(0,U.cn)((t,r)=>{t(n);let o=new Set,i=e(function(){let e=arguments.length<=0?void 0:arguments[0];return ei.has(e)&&o.add(e),t(...arguments)},r);return eo.set(i,o),i},function(e,o){for(var i=arguments.length,a=Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];if(0===a.length){let t=e(r);for(let e of eo.get(t)??[])o(e);o(n,e=>e+1)}else if(t)return t(e,o,...a)});return ei.add(r),r}var es=n("22633"),el=n("42378"),ec=n.n(el);async function ed(){return await em(e=>{es.FileSystem.InMemory.Create({},e)})}async function eu(e){void 0===e&&(e="bfs-local-fs");let t=await em(t=>{es.FileSystem.IndexedDB.Create({storeName:e},t)});return await new Promise(e=>t.init(t.store,e)),t}function ep(e){es.initialize(e);let t=es.BFSRequire("fs");return t.promises=ec()({...t,exists:(e,n)=>t.exists(e,e=>n(null,e))}),t}let eh=e=>{let t=new(es.BFSRequire("fs")).FS;return t.initialize(e),t};function em(e){return new Promise((t,n)=>{e((e,r)=>{if(e||!r)return n(e);t(r)})})}var ef=n("67481");async function eg(e){let{source:t,target:n,cancelSignal:r,...o}=e;await ey(r,{...o,source:ec()(t),target:ec()(n),rootDir:"/"})}let ey=(0,ef.qf)(function*(e,t){let{source:n,target:r,rootDir:o,onCopy:i,force:a}=t;for(let s of yield n.readdir(o)){let l=f().join(o,s),c=yield n.stat(l);if(c.isFile()||c.isSymbolicLink()){if(!a&&(yield eb(r,l)))return;i?.(l);let e=yield n.readFile(l);yield ev(r,f().dirname(l)),yield r.writeFile(l,e)}else c.isDirectory()?yield ey(e,{...t,rootDir:f().join(o,s)}):console.warn("unsupported file system item skipped, when copying:",c)}}),eb=async(e,t)=>await e.exists(t)&&!(await e.stat(t)).isDirectory();async function ev(e,t){let n=await e.stat(t).catch(e=>"ENOENT"!==e.code&&Promise.reject(e));if(!1===n){let n=f().dirname(t);n!==f().dirname(n)&&await ev(e,n),await e.mkdir(t).catch(e=>"EEXIST"===e.code?Promise.resolve():Promise.reject(e))}else if(!n.isDirectory())throw Error(`path is not a directory, but already exists: ${t}`)}let ew=e=>r.promises.stat(e).catch(()=>null),ex=(o="demo_app_use_persistent_fs",{get:()=>localStorage.getItem(o),set:e=>localStorage.setItem(o,e)});async function eA(e){let{onCopy:t=console.log,cancelSignal:n}=void 0===e?{}:e;if(!(r.getRootFS()instanceof es.FileSystem.InMemory)){console.log("Already on persistent fs. Nothing to do.");return}console.log("Creating IndexedDB FS"),console.time("creating db");let o=await eu();await eg({source:r,target:await eh(o),cancelSignal:n,force:!0,onCopy:t}),console.timeEnd("creating db"),ep(o),console.log("FS switched to IndexedDB backend",o)}let ej=function(e){let t,n="pending",r=e.then(e=>{n="success",t=e},e=>{n="error",t=e});return{read:()=>{switch(n){case"pending":throw r;case"error":throw t;default:return t}}}}(("yes"===ex.get()?eu():ed()).then(ep).then(e=>(window.fs=e,r=e)).catch(e=>{throw console.log("could not initialize FS:",e),e})),eT=e=>{let{children:t}=e;return ej.read(),t},eC=async e=>{let t;try{t=await r.promises.readdir(e)}catch(e){return null}return(await Promise.all(t.map(t=>{let n=`${e}/${t}`;return r.promises.stat(n).then(e=>({...e,type:e.isDirectory()?"dir":"file",filePath:n}))}))).map(e=>({type:e.type,name:(0,m.basename)(e.filePath),path:e.filePath,lastModification:e.mtimeMs,size:e.size}))},eS=(0,er.xu)(e=>{let t=ea(()=>eC(e));return t.debugLabel=`DirContent(${e})`,t}),ek=(e,t)=>async e=>{await t(eR(e))},eR=(0,er.xu)(e=>{let t=async()=>e?await r.promises.exists(e)?r.promises.readFile(e,{encoding:"utf8"}):null:"",n=(0,er.wm)(t);return(0,U.cn)(async e=>e(n),async function(o,i){let a=(arguments.length<=2?void 0:arguments[2])??"";if((arguments.length<=2?0:arguments.length-2)==0)return i(n,t());i(n,Promise.resolve(a)),e&&await r.promises.writeFile(e,a??"","utf8").catch(e=>{console.error("failed to sync the file back to the fs",e)})})});var eE=n("98738"),eI=n("23949"),eP=n("91924");function eN(e){return Array.isArray(e)?1===e[1]?["DELETED","NOT_CHANGED","MODIFIED"][e[2]]:0===e[1]&&0!==e[3]?"ADDED":"UNKNOWN":"modified"===e||"*modified"===e?"MODIFIED":"deleted"===e||"*deleted"===e?"DELETED":"added"===e?"ADDED":"unmodified"===e?"NOT_CHANGED":"UNKNOWN"}var eD=n("22215"),eM=n("59118"),eB=n("90187"),eF=n("14129");let eO=e=>{let{path:t}=e;return!t.split("/").includes(".git")},e_={path:"/workspace/jui",url:"https://github.com/alirezamirian/jui.git"},eL={name:"Workspace",path:"/workspace"},ez=(0,U.cn)(eL),e$=(0,er.xu)(e=>(0,U.cn)(t=>f().join(t(ez).path,e))),eq=(0,U.cn)(async e=>{let t=e(ez);return e(eK(t.path))}),eK=(0,er.xu)(e=>(0,U.cn)(async t=>{let n=await t(eS(e)),r=[],o=async n=>{if("dir"===n.type){if(eO(n)){let e=await t(eS(n.path));e&&e.forEach(o)}}else r.push({...n,relativePath:f().relative(e,n.path)})};return await Promise.all((n||[]).map(e=>o(e))),r})),eH=(0,U.cn)([]),eV=(0,U.cn)(e=>e(eH).length>0),eW=(p=[],i=null,function(e,t){void 0===t&&(t="unknown");let n=function(e,t){let n=(0,T.oR)(void 0),r=(0,T.b9)(e);return(0,g.useCallback)(t=>{let o=n.get(e),i="function"==typeof t?t(o):t;return i!==o&&r(i),i},[T.b9,n])}(eH),r=(0,g.useRef)();return(0,g.useEffect)(()=>{i===r.current&&n(t=>(0,eB.Z)(e,t)?t:e)},[e]),(0,eF.L)({onFocusWithin:t=>{r.current=t.currentTarget,i=t.currentTarget,n(e)},onBlurWithin:e=>{!(e.relatedTarget instanceof Element&&e.relatedTarget?.closest("[data-overlay-container], [role=menu]"))&&n(p)}}).focusWithinProps}),eU=(0,U.cn)((0,g.createRef)()),eG=(0,U.cn)((0,g.createRef)()),eQ=(0,U.cn)((0,g.createRef)()),eZ=((h={}).WORKSPACE_FILE="$WORKSPACE_FILE$",h.PRODUCT_WORKSPACE_FILE="$PRODUCT_WORKSPACE_FILE$",h.NON_ROAMABLE_FILE="other.xml",h),eY=(0,er.xu)(e=>(0,U.cn)(t=>{let n=f().join(t(ez).path,".idea");switch(e){case eZ.PRODUCT_WORKSPACE_FILE:case eZ.WORKSPACE_FILE:return f().join(n,"workspace.xml");case eZ.NON_ROAMABLE_FILE:return f().join("/user/test/.JUIExample2025.1","options",e);default:return f().join(n,e)}})),eJ=(0,er.xu)(e=>{let t;let n=(0,U.cn)(null),o=(0,U.cn)(t=>e3(t(eY(e)))),i=null;return(0,U.cn)(e=>e(n)??e(o),async(a,s,l)=>{let c=a(eY(e)),d=a(n)??await a(o);s(n,e=>l(e??d)),null!==i&&clearTimeout(i),t||(t=ev(r.promises,f().dirname(c))),i=setTimeout(()=>{t.then(()=>{var e;return s(eR(c),(e=a(n),new eD.XMLBuilder(e2).build(e)))})},1e3)})});function eX(e,t){let n=(0,U.cn)(e),r=function(e){let{storageFile:t=eZ.WORKSPACE_FILE,componentName:n,schema:r,...o}=e,i="write"in o?o.write:e=>e,a="read"in o?o.read:eM.Z;return(0,U.cn)(async e=>{let o=await e(eJ(t)),i=o?.project.component.find(e=>e["@name"]===n),s=r.safeParse(i);return s.error&&console.error(`Error parsing persisted state for component ${n} in file ${t}:`,s.error),await a(s.data)??void 0},async(e,r,o)=>{if("update"===o.type)return r(eJ(t),e=>{let{value:t}=o,r=[...e.project.component],a=r.findIndex(e=>e["@name"]===n);return r.splice(a,a>=0?1:0,{"@name":n,...i(t,r[a])}),{...e,project:{...e.project,component:r}}})})}(t),o=(0,eI.v)((e,t)=>{e.peek(r).then(e=>{void 0!==e&&t(n,e)})});return(0,U.cn)(e=>(e(o),e(n)),async(e,t,o)=>{let i="function"==typeof o?o(await e(n)):o;t(n,i),await t(r,{type:"update",value:i})})}eX({x:2},{componentName:"test",storageFile:"test.xml",schema:eP.z.object({whatever:eP.z.number()}).optional(),read:e=>({x:e?.whatever??2}),write:(e,t)=>({...t,whatever:e.x})}),eX({y:3},{componentName:"test2",storageFile:"test.xml",schema:eP.z.object({y:eP.z.number()})});let e0="__cdata",e1={attributeNamePrefix:"@",ignoreAttributes:!1,cdataPropName:e0,isArray:(e,t)=>"project.component"===t},e2={format:!0,attributeNamePrefix:"@",cdataPropName:e0,ignoreAttributes:!1},e5={"?xml":{"@version":"1.0","@encoding":"UTF-8"},project:{"@version":"4",component:[]}};async function e3(e){let t=new eD.XMLParser(e1);if(!await r.promises.exists(e))return e5;let n=await r.promises.readFile(e,{encoding:"utf8"}),o=Object.assign({...e5},t.parse(n));return o.project.component=o.project.component??[],o}let e8=e=>eP.z.union([e,e.array()]).transform(e=>Array.isArray(e)?e:[e]),e4=(e,t)=>{let n=e8(e);return eP.z.object({[t]:n})},e6=async e=>{let{filepath:t,...n}=e;return y.ZP.statusMatrix({...n,filepaths:[t]}).then(e=>e[0])},e7=()=>Promise.all(["/workspace/jui","/workspace"].map(async e=>{if(await r.promises.exists(e))return y.ZP.findRoot({fs:r,filepath:e}).catch(()=>null)})).then(e=>[...new Set(e.filter(e=>null!=e))].map(e=>({dir:e,vcs:"Git"}))),e9=eX([],{componentName:"VcsDirectoryMappings",schema:eP.z.object({mapping:e8(eP.z.object({"@directory":eP.z.string(),"@vcs":eP.z.enum(["Git"])})).optional()}).optional(),storageFile:"vcs.xml",read:e=>e?.mapping?.map(e=>({dir:e["@directory"],vcs:e["@vcs"]}))??e7(),write:(e,t)=>({...t||{},mapping:e?.map(e=>{let{vcs:t,dir:n}=e;return{"@directory":n,"@vcs":t}})??[]})}),te=(0,er.xu)(e=>(0,U.cn)(()=>(0,y.AY)({fs:r,filepath:e}).catch(()=>null))),tt=async e=>{console.time(`statusMatrix ${e}`);let t=await (0,y.ks)({fs:r,dir:e});console.timeEnd(`statusMatrix ${e}`);let n={};return t.forEach(e=>{n[e[0]]=eN(e)}),n},tn=(0,er.xu)(e=>{let t=(0,U.cn)({});return(0,eI.j)(t,(n,r)=>{tt(e).then(e=>{r(t,e)})})}),tr=(0,er.xu)(e=>(0,U.cn)(!1)),to=(0,U.cn)(e=>e(e9).some(t=>{let{dir:n}=t;return e(tr(n))})),ti=(0,er.xu)(e=>ea(async t=>{let n=await t(te(e));if(n){let o=m.relative(n,e),i=t(tn(n));return i[o]||console.log("file status missing in repo status state, fetching individually",e),i[o]??eN(await e6({fs:r,dir:n,filepath:o}))}return"NOT_CHANGED"})),ta=async(e,t,n)=>{let o=await e(te(n));if(o){let e=m.relative(o,n),i=await y.ZP.statusMatrix({fs:r,dir:o,filepaths:[e]});t(tn(o),t=>{let n={...t};return 0===i.length&&delete n[e],i.forEach(e=>{n[e[0]]=eN(e)}),n})}},ts=()=>(0,eE.lV)(ta),tl=async(e,t)=>{e(e9)?.forEach(e=>{let{dir:n}=e;t(tr(n),!0),tt(n).then(e=>{console.log("setting repo status for git dirs:",n,e),t(tn(n),e)}).finally(()=>{t(tr(n),!1)})})},tc=()=>(0,eE.lV)(tl);var td=n("20569");let tu=e=>{let t=(0,td.Fg)();switch(e){case"MODIFIED":return t.dark?"#6897bb":"#0032a0";case"ADDED":return t.dark?"#629755":"#0a7700";case"DELETED":return t.dark?"#6c6c6c":"#616161";case"UNKNOWN":return t.dark?"#d1675a":"#993300"}},tp=e=>tu((0,T.Dv)((0,er.Wg)(ti(e)))??"NOT_CHANGED"),th=e=>{let{children:t,filepath:n}=e,r=tp(n);return(0,et.jsx)("span",{style:{color:r},children:t})},tm=e=>{let{children:t,status:n}=e,r=(0,td.Fg)().currentForegroundAware(tu(n));return(0,et.jsx)("span",{style:{color:r},children:t})};th.__docgenInfo={description:"",methods:[],displayName:"FileStatusColor"},tm.__docgenInfo={description:"",methods:[],displayName:"StatusColor"};var tf=n("89076");let tg={value:null};function ty(){tg.value?.show({icon:"Warning",title:"Unimplemented action",body:"This action is not implemented yet.",actions:et.jsx(et.Fragment,{children:et.jsx(tf.r,{onPress:ty,children:"Read more..."})})})}var tb=n("26357"),tv=n("79955");let tw=v.zo.div.attrs({tabIndex:-1})`
  display: flex;
  flex-direction: column;
  height: inherit;
  justify-content: center;
  padding: 0 25%;
  font-size: 1rem;
  outline: none;
`,tx=v.zo.div`
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
`,tA=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.linkForegroundEnabled}};
`;function tj(){return(0,et.jsxs)(tw,{"data-testid":"EditorZeroState",children:[(0,et.jsx)(tT,{actionId:tb.$.GO_TO_FILE}),(0,et.jsx)(tT,{actionId:tb.$.GO_TO_ACTION})]})}function tT(e){let{actionId:t}=e,n=(0,tv.k)(),r=(0,R.BH)(t);return(0,et.jsxs)(tx,{children:[r?.title,(0,et.jsx)(tA,{children:n(t)})]})}tj.__docgenInfo={description:"",methods:[],displayName:"EditorZeroState"};var tC=n("34273"),tS=n.n(tC),tk=n("48813");let tR="PasteMultiple",tE="Generate",tI={EXPAND_REGION:"ExpandRegion",EXPAND_REGION_RECURSIVELY:"ExpandRegionRecursively",EXPAND_ALL_REGIONS:"ExpandAllRegions",EXPAND_ALL_TO_LEVEL:"ExpandToLevel",EXPAND_ALL_TO_LEVEL1:"ExpandToLevel1",EXPAND_ALL_TO_LEVEL2:"ExpandToLevel2",EXPAND_ALL_TO_LEVEL3:"ExpandToLevel3",EXPAND_ALL_TO_LEVEL4:"ExpandToLevel4",EXPAND_ALL_TO_LEVEL5:"ExpandToLevel5",COLLAPSE_REGION:"CollapseRegion",COLLAPSE_REGION_RECURSIVELY:"CollapseRegionRecursively",COLLAPSE_ALL_REGIONS:"CollapseAllRegions",COLLAPSE_DOC_COMMENTS:"CollapseDocComments",TOGGLE_FOLDING:"ToggleFolding",EDITOR_LANG_POPUP_MENU:"EditorLangPopupMenu",CompareClipboardWithSelection:"CompareClipboardWithSelection"};function tP(e){return e.event?e.event?.type?.includes("key")?"keyboard":"mouse":""}var tN=n("35848"),tD=n("68811");let tM=(0,U.cn)((e,t)=>{let{setSelf:n}=t;return e=>function(){let{get:t,set:r}=n();for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e(t,r,...i)}},(e,t)=>({get:e,set:t})),tB=(0,eI.j)((0,U.cn)([]),(e,t)=>{e.peek(eq).then(n=>{t(tB,(0,tN.Z)([(0,tD.Z)(t=>t.path===e(e$("README.md"))),(0,tD.Z)(e=>e.path.endsWith(".ts")),(0,tD.Z)(e=>e.path.endsWith(".js"))],n.filter(e=>"file"===e.type)).filter(e=>!e.path.includes(".idea")).slice(0,12).map(e=>({filePath:e.path,editorState:{cursorPos:{lineNumber:0,column:0}}})))})}),tF=(0,U.cn)(0),tO=(0,U.cn)(e=>{let t=e(tB);return t[e(tF)]||t[0]||null}),t_=(0,U.cn)(new W.Ly(0,0)),tL=(0,U.cn)(null),tz=function(e,t,n,r){void 0===r&&(r=!0);let o=e(tB),i=o.findIndex(e=>e.filePath===n),a=e=>{t(tF,e)};if(i>-1)a(i);else{let e=o.length;t(tB,e=>[...e,{filePath:n,editorState:{cursorPos:{lineNumber:0,column:0}}}]),a(e)}r&&setTimeout(()=>{e(tL)?.focus()})},t$=(e,t,n)=>t(tB,e=>e.filter((e,t)=>t!==n)),tq=(e,t,n)=>{let r=e(tB).findIndex(e=>e.filePath===n);r>-1&&(t$(e,t,r),t(tF,Math.max(r-1,0)))},tK=(e,t,n)=>{t(tB,e=>e.filter((e,t)=>t===n))},tH=(e,t,n)=>{let r=e(tB).length;n>=0&&n<r&&t(tF,n)},tV=(e,t)=>{e(tL)?.focus()},tW=(a=(e,t)=>{let{getCallback:n}=t;return{openPath:n(tz),closeTab:n(t$),select:n(tH),focus:n(tV),closeOtherTabs:n(tK),closePath:n(tq)}},(0,U.cn)((e,t)=>{let n=e(tM);return a(e,Object.assign(t,{getCallback:n}))})),tU=()=>(0,T.Dv)(tW),tG=()=>[(0,T.Dv)(tB),(0,T.Dv)(tW)];var tQ=n("54695");let tZ=JSON.parse('{"nG":[{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#808080"}},{"scope":"constant.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["constant.numeric"],"settings":{"foreground":"#6897BB"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#FFC66D"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#BABABA"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.heading","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#A9B7C6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#FFC66D"}},{"scope":"meta.preprocessor","settings":{"foreground":"#CC7832"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9876AA"}},{"scope":"meta.diff.header","settings":{"foreground":"#CC7832"}},{"scope":"storage","settings":{"foreground":"#ff0000"}},{"scope":"storage.type","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["keyword.other.phpdoc.php","keyword.other.type.php","storage.type.class.jsdoc","entity.name.type.instance.jsdoc","variable.other.jsdoc"],"settings":{"foreground":"#808080"}},{"scope":"storage.modifier","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"string","settings":{"foreground":"#6A8759"}},{"scope":"string.tag","settings":{"foreground":"#6A8759"}},{"scope":"string.value","settings":{"foreground":"#6A8759"}},{"scope":"string.regexp","settings":{"foreground":"#6A8759"}},{"name":"JavaScript string interpolation ${}","scope":["punctuation.definition.template-expression.begin.js","punctuation.definition.template-expression.begin.ts","punctuation.definition.template-expression.end.ts","punctuation.definition.template-expression.end.js"],"settings":{"foreground":"#A9B7C6"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.property","support.variable.property.dom","entity.other.inherited-class"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.object","variable.other.object.property","support.class.dom","meta.function-call","entity.name.type.module"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable.other.readwrite","variable.other.constant.ts","variable.parameter","variable.other.readwrite.alias"],"settings":{"foreground":"#A9B7C6"}},{"scope":"keyword","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.operator","settings":{"foreground":"#A9B7C6"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],"settings":{"foreground":"#CC7832"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.metatag.php","punctuation.section.embedded.end.metatag.php"],"settings":{"foreground":"#CC7832"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9876AA"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Source Python","scope":["source.python"],"settings":{"foreground":"#A9B7C6"}},{"name":"Magic function python","scope":["support.function.magic.python"],"settings":{"foreground":"#9876AA"}},{"name":"Self keyword python","scope":["variable.language.special.self.python","variable.parameter.function.language.special.self.python"],"settings":{"foreground":"#9876AA","fontStyle":""}},{"name":"Function declarations Python","scope":["entity.name.function.python","meta.function-call.generic.python"],"settings":{"foreground":"#FFC66D"}},{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#FFC66D"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references","scope":["support.class","entity.name.class","support.type","entity.name.type"],"settings":{"foreground":"#FFC66D"}},{"name":"Arrow Function","scope":["storage.type.function.arrow"],"settings":{"foreground":"#A9B7C6"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Variable and parameter name","scope":["meta.definition.variable.name","support.variable"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable"],"settings":{"foreground":"#9876AA"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key","meta.object-literal.key entity.name.function"],"settings":{"foreground":"#9876AA"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}}]}').nG.flatMap(e=>{let{scope:t,settings:n}=e;return[].concat(t).flatMap(e=>e.split(" ")).map(e=>{let t={token:e};return Object.keys(n).forEach(e=>{let r=n[e];r&&(t[e]=r)}),t})}),tY=()=>{let e=(0,tQ.useMonaco)(),t=(0,td.Fg)(),[n,r]=(0,g.useState)(void 0);return(0,g.useLayoutEffect)(()=>{if(e){let n=`jui-theme-${t.name.replace(" ","")}`,o=t.dark?"#dcdcdc":"#000";e.editor.defineTheme(n,{base:t.dark?"vs-dark":"vs",inherit:!0,colors:t.dark?{"editor.background":"#2B2B2B","editor.lineHighlightBackground":"#323232","editorLineNumber.foreground":"#606366","editorActiveLineNumber.foreground":"#a4a3a3","editorIndentGuide.background":"#373737","editorIndentGuide.activeBackground":"#505050","editorGutter.background":t.dark?"#313335":"#f0f0f0","editorBracketHighlight.foreground1":o,"editorBracketHighlight.foreground2":o,"editorBracketHighlight.foreground3":o,"editorBracketHighlight.foreground4":o,"editorBracketMatch.background":"#43454b","editorBracketMatch.border":"#00000000"}:{},rules:tZ}),r(n)}},[e,t]),n},tJ=(0,v.zo)(tQ.default)`
  .monaco-editor {
    .margin-view-overlays .line-numbers {
      text-align: left;
      padding-left: 7px;
    }

    .scrollbar .slider {
      border-radius: 0.25rem;
    }
  }
`,tX=e=>{let t=tY();return(0,et.jsx)(et.Fragment,{children:t&&(0,et.jsx)(tJ,{...e,options:{minimap:{enabled:!1},lineHeight:22,showFoldingControls:"always",guides:{indentation:!0},overviewRulerBorder:!1,fontFamily:"JetBrains Mono",fontSize:13,scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:8,verticalSliderSize:8,horizontalSliderSize:8,horizontal:"auto",vertical:"visible",alwaysConsumeMouseWheel:!1},...e.options},theme:t})})};function t0(e,t,n){return(t.has(n)?t:t.set(n,e())).get(n)}tX.__docgenInfo={description:"Monaco Editor styled to look like Intellij Platform's editor.\nTODO:\n - folding controls appearance is different and should be changed\n - highlighting pairs of parens, brackets, etc. is different.\n - context menu look different.\n - selection look different.\n - BUG: height is more than necessary. Needs investigation first.",methods:[],displayName:"Editor"};let t1=new WeakMap,t2=(e,t,n)=>{let r=t0(()=>"object"==typeof n?new WeakMap:new Map,t1,t);return t0(e,r,n)},t5={};function t3(e,t){return t2(()=>{let n=(0,U.cn)(async t=>({value:await t(e),isLoading:!1})),r=(0,er.Wg)(n,e=>{let n=void 0===e?t:e.value;return void 0!==n?{value:n,isLoading:!0}:void 0});return(0,U.cn)(e=>e(r)??e(n))},e,t??t5)}let t8=t3((0,U.cn)(async e=>{let t=e(tO);return{...t,content:await e(eR(t?.filePath??null))}})),t4=()=>{let[e,t]=tG(),n=(0,g.useRef)(),[r,o]=(0,g.useState)(!1),[i,a]=(0,g.useState)(null),s=(0,R.BH)(E.xm),l=(0,T.b9)(t_),{value:{content:c,filePath:d},isLoading:u}=(0,T.Dv)(t8),p=(0,I.d)({closePath:t.closePath,closeOthersTabs:t.closeOtherTabs}),h=(0,T.b9)(tL),f=(0,T.b9)(eR(d??null)),y=ts(),b=function(e){let t=(0,tk.w)(),n=e.current,r=n?.getSelection(),o=r?n?.getModel()?.getValueInRange(r):"";return t({id:"EditorPopupMenu",title:"Editor Popup Menu",description:"Editor Popup Menu",children:[t({id:"ShowIntentionsGroup",title:"Show Intentions Group",isSearchable:!1,menuPresentation:"section",children:[{id:"ShowIntentionActions",title:"Show Context Actions",icon:(0,et.jsx)(B.vq,{icon:"actions/intentionBulbGrey.svg"}),actionPerformed:()=>{ty()}}]}),o?{id:tb.$.COPY,title:"Copy",icon:(0,et.jsx)(B.vq,{icon:"actions/copy"}),actionPerformed:()=>{let e=n?.getSelection(),t=e?n?.getModel()?.getValueInRange(e):"";t&&tS()(t)}}:null,{id:tb.$.PASTE,title:"Paste",icon:(0,et.jsx)(B.vq,{icon:"actions/menu-paste"}),actionPerformed:()=>{n?.focus(),n?.trigger("keyboard","editor.action.clipboardPasteAction",{})}},t({id:"Copy.Paste.Special",title:"Copy / Paste Special",description:"Copy / Paste Special Editor Actions",menuPresentation:"submenu",children:[{id:tb.$.COPY_REFERENCE,title:"Copy Reference",description:"Copy reference to selected class, method or function, or a relative path to selected file",actionPerformed:()=>{ty()}},{id:tR,title:"Paste from history",description:"Paste from recent clipboards",actionPerformed:()=>{ty()}}]}),"divider",t({id:"FoldingGroup",title:"Folding",menuPresentation:"submenu",children:[{id:tI.EXPAND_REGION,title:"Expand",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.unfold",{})}},{id:tI.EXPAND_REGION_RECURSIVELY,title:"Expand Recursively",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.unfoldRecursively",{})}},{id:tI.EXPAND_ALL_REGIONS,title:"Expand All",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.unfoldAll",{})}},"divider",{id:tI.COLLAPSE_REGION,title:"Collapse",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.fold",{})}},{id:tI.COLLAPSE_REGION_RECURSIVELY,title:"Collapse Recursively",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.foldRecursively",{})}},{id:tI.COLLAPSE_ALL_REGIONS,title:"Collapse All",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.foldAll",{})}},"divider",t({id:tI.EXPAND_ALL_TO_LEVEL,title:"Expand all to level",menuPresentation:"submenu",children:[1,2,3,4,5].map(t=>({id:tI[`EXPAND_ALL_TO_LEVEL${t}`],title:`${t}`,actionPerformed:n=>{e.current?.trigger(tP(n),`editor.foldLevel${t}`,{})}}))}),"divider",{id:tI.COLLAPSE_DOC_COMMENTS,title:"Collapse Doc Comments",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.foldAllBlockComments",{})}},"divider",{id:tI.TOGGLE_FOLDING,title:"Toggle Folding",actionPerformed:t=>{e.current?.trigger(tP(t),"editor.toggleFold",{})}}]}),t({id:"EditorLangPopupMenu",title:"EditorLangPopupMenu",menuPresentation:"section",children:[{id:tE,title:"Generate...",actionPerformed:()=>{ty()}}]}),"divider",{id:tI.CompareClipboardWithSelection,title:"Compare with Clipboard",description:"Compare current selection with clipboard",icon:(0,et.jsx)(B.vq,{icon:"actions/diffWithClipboard.svg"}),actionPerformed:()=>{ty()}}].filter(e=>null!=e)})}(n),v=function(e){void 0===e&&(e=""),o(!1),f(e),d&&y(d).catch(e=>{console.error("Could not update file status",e)})},w=eW(d?[d]:[]);return(0,et.jsx)(R.DG,{actions:[b],children:f=>{let{shortcutHandlerProps:g}=f;return(0,et.jsxs)(t7,{...(0,V.d)(w,g,{onFocus:()=>{o(!0),h({focus:()=>n.current?.focus()})}}),children:[e.length>0?(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(P.X,{renderMenu:()=>(0,et.jsxs)(N.v2,{onAction:ty,children:[(0,et.jsx)(D.c,{children:"Close"},"close"),(0,et.jsx)(D.c,{children:"Close Other tabs"},"closeOthers"),(0,et.jsx)(D.c,{children:"Close all tabs"},"closeAll"),(0,et.jsx)(D.c,{children:"Close tabs to the left"},"closeLeft"),(0,et.jsx)(D.c,{children:"Close tabs to the right"},"closeRight")]}),children:(0,et.jsx)(M.s,{items:e,active:r,selectedKey:d,onSelectionChange:n=>{t.select(e.findIndex(e=>e.filePath===n))},noBorders:!0,children:t=>{let n=m.basename(t.filePath),r=(0,et.jsx)(B.vq,{icon:Y(t.filePath)});return(0,et.jsx)(F.E,{textValue:n,inOverflowMenu:(0,et.jsx)(O._,{content:n,icon:r}),children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:t.filePath}),children:(0,et.jsx)(z.X,{icon:r,title:(0,et.jsx)(th,{filepath:t.filePath,children:n}),closeButton:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Close. Alt-Click to Close Others"}),children:(0,et.jsx)($.W,{onPress:n=>{n.altKey?p.current.closeOthersTabs(e.indexOf(t)):p.current.closePath(t.filePath)}})}),containerProps:{onDoubleClick:()=>{s?.perform()}}})})},t.filePath)}})}),"string"==typeof c?(0,et.jsx)(tX,{height:"100%",path:d,options:{contextmenu:!1},onMount:(e,t)=>{var r;e.focus(),e.onContextMenu(e=>{e.event.preventDefault(),Promise.resolve().then(()=>{a(e)})}),e.onDidScrollChange(()=>{a(null)}),(r=t).languages.typescript.typescriptDefaults.setCompilerOptions({jsx:W.Mj.typescript.JsxEmit.React}),r.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1}),n.current=e,e.onDidChangeCursorPosition(e=>{l(e.position)}),e.onDidChangeModel(()=>{})},onChange:v,value:c??""}):c&&"UNSUPPORTED CONTENT"]}):(0,et.jsx)(tj,{}),u&&(0,et.jsx)(t9,{}),i&&(0,et.jsx)(q.Z,{origin:i.event.browserEvent,onClose:()=>a(null),children:(0,et.jsx)(t6,{})})]})}})};function t6(){let e=(0,K.y)("EditorPopupMenu");return e?(0,et.jsx)(H.d,{actionGroup:e,children:e=>(0,et.jsx)(N.v2,{autoFocus:!0,...e})}):null}let t7=v.zo.div`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.color("Editor.background",t.isUnderDarcula()?"rgb(40,40,40)":t.commonColors.panelBackground)}};
`,t9=(0,v.zo)(en)`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`;t4.__docgenInfo={description:"Used as main content in the main ToolWindows. Shows currently opened files tabs and the editor.\n\nTODO: preserve editor state when switching between tabs\nTODO: support multiple editors in split view.",methods:[],displayName:"FileEditor"};var ne=n("45630"),nt=n("59683"),nn=n("29902");let nr=()=>(0,g.useMemo)(()=>({theme:{background:"rgb(43,43,43)",selection:"#214283"},fontFamily:"sans-serif",letterSpacing:-8,fontSize:12,lineHeight:1.3,cursorStyle:"block",cursorBlink:!0,cursorWidth:8,rendererType:"dom"}),[]),no=(0,td.ZP)(nn.O).withConfig({displayName:"Terminal__StyledXterm",componentId:"sc-19jke66-0"})(["height:100%;background:rgb(43,43,43);"]),ni=()=>{let[e,t]=(0,g.useState)(""),n=(0,g.useRef)(null),r=nr();return(0,g.useEffect)(()=>{setTimeout(()=>{n.current?.terminal.resize(80,10),n.current?.terminal.write("$ ")},3e3)},[]),(0,et.jsx)(no,{ref:n,options:r,onData:r=>{let o=r.charCodeAt(0);if(13===o)e.length>0&&n.current?.terminal.write("\r\nYou typed: '"+e+"'"),n.current?.terminal.write("\r\n"+"$ "),t("");else{if(o<32||127===o)return;n.current?.terminal.write(r),t(e+r)}}})};ni.__docgenInfo={description:"",methods:[],displayName:"Terminal"};var na=n("96730"),ns=n("19295");let nl=(0,U.cn)(!0),nc=(0,er.qs)(e=>new Set(e(e9).flatMap(e=>{let{dir:t}=e;return X(t).concat(t)}).concat(e(ez).path))),nd=(0,U.cn)(new Set([])),nu=(0,U.cn)(async e=>{let t=e(nd),n=(await e(nh)).byKey;return[..."all"===t?n.keys():t].map(e=>n.get(`${e}`)).filter(e=>null!=e)}),np=(0,U.cn)(g.createRef()),nh=(0,U.cn)(e=>nf(e(ez),e));function nm(e){e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}async function nf(e,t){let n=await t(eS(e.path)),r=new Map,o=e=>async n=>{let i={...n,parent:e};if("dir"===n.type){if(eO(n)){let e={...i,children:[]};return e.children=(await Promise.all((await t(eS(n.path))??[]).map(o(e)))).filter(e=>null!=e),nm(e.children),r.set(e.path,e),e}return null}return r.set(i.path,i),i},i=(await Promise.all((n||[]).map(o(null)))).filter(e=>null!=e);nm(i);let a={type:"project",path:e.path,name:e.name,parent:null,children:i};return r.set(a.path,a),{root:a,byKey:r}}(0,U.cn)("name");let ng=(e,t,n)=>{let r=e(nc);t(nc,new Set([...r,...[e(ez).path].concat(X(n))]))},ny=(e,t,n)=>{let r=e(np)?.current;r?.replaceSelection(n),r?.focus(n)},nb=()=>{let e=(0,eE.lV)(ng),t=(0,eE.lV)(ny);return n=>{e(n),setTimeout(()=>{t(n)})}};var nv=n("76164"),nw=n("3414"),nx=n("38626"),nA=n("12550"),nj=n("10463");let nT=(0,td.ZP)(w.TK).withConfig({displayName:"DefaultSuspense__Loading",componentId:"sc-1n9vzm7-0"})(["width:fit-content;display:block;margin:auto;"]),nC=e=>{let{fallback:t=(0,et.jsx)(nT,{}),children:n}=e;return(0,et.jsx)(g.Suspense,{fallback:t,children:n})};nC.__docgenInfo={description:"",methods:[],displayName:"DefaultSuspense",props:{fallback:{defaultValue:{value:"<Loading />",computed:!1},required:!1}}};var nS=n("88710"),nk=n("39985");let nR="NewElement",nE="CopyReferencePopupGroup";function nI(e){let{getActionContext:t}=e;return(0,et.jsx)(nS.C,{"aria-label":"Project Tree actions",actionContext:t,actions:[{...(0,R.BH)(nR),title:"New",shortcut:void 0},new nk.P,(0,R.BH)(tb.$.CUT),(0,R.BH)(tb.$.COPY),(0,R.BH)(nE),(0,R.BH)(tb.$.PASTE),new nk.P,(0,R.BH)(tb.$.DELETE),new nk.P].filter(e=>null!=e)})}nI.__docgenInfo={description:"",methods:[],displayName:"ProjectViewContextMenu",props:{getActionContext:{required:!0,tsType:{name:"signature",type:"function",raw:"() => ActionContext",signature:{arguments:[],return:{name:"ActionContext"}}},description:""}}};let nP=e=>{let t=new WeakMap;return n=>{let r=t.get(n);return void 0===r&&(r=e(n),t.set(n,r)),r}},nN=nP(e=>{let t=(0,er.Wg)(e,e=>e);return(0,U.cn)(n=>n(t)??n(e))}),nD=nP(e=>(0,er.Wg)(e,e=>e??null)),nM=()=>{let e=(0,T.Dv)(ez),t=tU(),n=(0,g.useRef)(null),r=(0,T.b9)(np);(0,g.useLayoutEffect)(()=>{r(n)},[n]);let o=(0,T.Dv)(nN(nh)),[i,a]=(0,T.KO)(nc),[s,l]=(0,T.KO)(nd),c=(0,T.KO)(nl)?(0,nj.Z)(e=>"dir"===e.type?1:2):eM.Z,d=eW("all"===s?[]:[...s].filter(e=>"string"==typeof e)),u=(0,g.useRef)(null),p=(0,g.useRef)(),h=()=>({element:p.current?u.current?.querySelector(`[data-key="${CSS.escape(p.current)}"]`)??null:null,event:null});return(0,et.jsx)(nC,{children:o.root&&(0,et.jsx)(P.X,{ref:u,style:{height:"100%"},onOpen:e=>{let{target:t}=e;return p.current=t?.closest("[data-key]")?.dataset.key},renderMenu:()=>(0,et.jsx)(nI,{getActionContext:h}),children:(0,et.jsx)(nv.b,{"aria-label":"Project structure tree",treeRef:n,...d,items:[o.root],onAction:e=>{o.byKey?.get(`${e}`)?.type==="file"&&t.openPath(`${e}`)},fillAvailableSpace:!0,autoFocus:!0,selectionMode:"multiple",selectedKeys:s,onSelectionChange:l,expandedKeys:i,onExpandedChange:a,children:t=>(0,et.jsx)(D.c,{textValue:t.name,childItems:"children"in t?c(t.children):void 0,children:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(nL,{node:t}),"project"===t.type?(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)("b",{children:(0,et.jsx)(nx.J,{})}),(0,et.jsx)(nw.e.Hint,{children:e.path})]}):(0,et.jsx)(nB,{node:t})]})},t.path)})})})},nB=e=>{let{node:t}=e;return"dir"===t.type?(0,et.jsx)(nF,{node:t}):(0,et.jsx)(nO,{node:t})},nF=e=>{let{}=e;return(0,et.jsx)(nx.J,{})},nO=e=>{let{node:t}=e,n=(0,g.useContext)(nA.k);return n?.isSelected&&n?.isContainerFocused?(0,et.jsx)(nx.J,{}):(0,et.jsx)(th,{filepath:t.path,children:(0,et.jsx)(nx.J,{})})},n_={project:"nodes/folder",dir:Q,file:G};function nL(e){let{node:t}=e,n="file"===t.type?Y(t.name):n_[t.type]??null;return(0,et.jsx)(et.Fragment,{children:n&&(0,et.jsx)(B.vq,{icon:n})})}nM.__docgenInfo={description:"",methods:[],displayName:"ProjectViewPane"};var nz=n("66899"),n$=n("22188"),nq=n("39060"),nK=n("44233"),nH=n("39");function nV(e){let{tooltip:t="Show help contents",...n}=e;return(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(nH.k,{helpText:t}),children:(0,et.jsx)(nK.z,{variant:"icon","aria-label":"Help","aria-description":"Show help contents",...n,children:(0,et.jsx)("span",{style:{fontSize:18},children:"?"})})})}function nW(e,t){return void 0===t&&(t=eM.Z),e.filter(n=>{let r=t(n);return!e.find(e=>{var o;return e!==n&&(o=t(e),r.startsWith(o+f().sep))})})}nV.__docgenInfo={description:"",methods:[],displayName:"HelpButton",props:{tooltip:{defaultValue:{value:'"Show help contents"',computed:!1},required:!1,tsType:{name:"string"},description:""}}};let nU=async(e,t,n)=>{try{await r.promises.unlink(n);let o=await e(te(n));o&&(await y.ZP.remove({fs:r,dir:o,filepath:f().relative(o,n)}),await ta(e,t,n))}catch(e){console.error(`error in deleting file ${n}`,e)}finally{e(tW).closePath(n),t(eS(f().dirname(n))),t(eR(n))}},nG=async(e,t,n)=>Promise.all(n.map(n=>nU(e,t,n))),nQ=async(e,t,n)=>{let o=async i=>{let a=await r.promises.readdir(i);await Promise.all(a.map(async n=>{let a=f().resolve(i,n),s=await r.promises.stat(a);s.isFile()?await nU(e,t,a):s.isDirectory()&&await o(a)})),await r.promises.rmdir(i),t(eS(n))};try{await o(n)}catch(e){console.error(`error in deleting directory ${n}`,e)}finally{t(eS(f().dirname(n)))}},nZ=async(e,t,n,o)=>{let i=f().join(n,o);if(await ev(r.promises,f().dirname(i)),await r.promises.exists(i))throw Error(`File ${i} already exists`);await r.promises.writeFile(i,"","utf-8"),t(eR(i)),e(tW).openPath(i),await ta(e,t,i),t(eS(n))},nY=async(e,t,n,o)=>{let i=f().join(n,o);if(await r.promises.exists(i))throw Error(`File ${i} already exists`);await ev(r.promises,i),t(eS(n))};var nJ=n("42133");let nX=e=>"object"==typeof e&&null!==e&&"read"in e,n0=e=>{let{isSearchable:t,isDisabled:n,actionPerformed:r,...o}=e,i=nX(n)?(0,er.Wg)(n,()=>!0):n,a=nX(t)?(0,er.Wg)(t,()=>!1):t;return(0,U.cn)((e,t)=>{let{setSelf:n}=t,r=t=>nX(t)?e(t):t;return{...o,isDisabled:r(i),isSearchable:r(a),actionPerformed:n}},async function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return r({get:e,set:t},...o)})},n1=new nJ.C(`{count, plural,
    =1 {1 file}
    other {# files}
  }`,"en-US"),n2=new nJ.C(`{count, plural,
    =1 {1 directory}
    other {# directories}
  }`,"en-US"),n5=n0({id:tb.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async e=>{let{get:t,set:n}=e,r=await t(nu),o=t(eG).current,i=t(eQ).current;if(0===r.length)return;let a=nW(r,e=>e.path),s=a.filter(e=>"file"===e.type).map(e=>e.path),l=a.filter(e=>"project"===e.type||"dir"===e.type).map(e=>e.path);if(l.length>0){let e=1===l.length&&0===s.length?f().basename(l[0]):null;await i?.confirm({title:"Delete",okText:"Delete",message:et.jsxs("div",{style:{width:354},children:["Delete"," ",e?`"${e}"`:[{count:l.length,message:n2},{count:s.length,message:n1}].filter(e=>{let{count:t}=e;return t>0}).map(e=>{let{message:t,count:n}=e;return t.format({count:n})}).join(" and "),"?",et.jsx("br",{}),"All files and subdirectories in",e?` "${e}" `:" the selected directories ","will be deleted. ",et.jsx("br",{}),"You might not be able to fully undo this operation!"]})})&&await Promise.all([...l.map(e=>nQ(t,n,e)),nG(t,n,s)])}else o?.open(e=>{let{close:t}=e;return et.jsx(n3,{filePaths:s,close:t})}).then(e=>{e&&requestAnimationFrame(()=>{nG(t,n,s)})})}});function n3(e){let{close:t,filePaths:n}=e;return(0,et.jsx)(nz.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(n$.b,{header:"Delete",content:(0,et.jsxs)("form",{id:"delete_dialog_form",onSubmit:e=>{e.preventDefault()},style:{padding:"0.75rem 1rem"},children:[(0,et.jsxs)("div",{style:{marginBottom:".5rem"},children:[1===n.length?`Delete file "${f().basename(n[0])}"`:`Delete ${n.length} files`,"?"]}),(0,et.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,et.jsx)(nq.X,{isDisabled:!0,children:"Safe delete (with usage search)"}),(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,et.jsx)(nq.X,{isDisabled:!0,children:"Search in comments and strings"}),(0,et.jsx)(nq.X,{isDisabled:!0,children:"Search for text occurrences"})]})]})]}),footer:(0,et.jsx)(n$.b.Footer,{left:(0,et.jsx)(nV,{onPress:()=>ty()}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:()=>t(),children:"Cancel"}),(0,et.jsx)(nK.z,{autoFocus:!0,type:"submit",form:"delete_dialog_form",variant:"default",onPress:()=>{t(!0)},children:"Ok"})]})})})})}let n8=n0({id:tb.$.COPY,title:"Copy",description:"Copy to clipboard",icon:(0,et.jsx)(B.vq,{icon:"actions/copy"}),isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async()=>{ty()}}),n4=n0({id:tb.$.CUT,title:"Cut",description:"Cut to clipboard",icon:(0,et.jsx)(B.vq,{icon:"actions/menu-cut"}),isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async()=>{ty()}}),n6=n0({id:tb.$.PASTE,title:"Paste",description:"Paste from clipboard",icon:(0,et.jsx)(B.vq,{icon:"actions/menu-paste"}),isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async()=>{ty()}}),{SELECT_IN_PROJECT_VIEW:n7}={SELECT_IN_PROJECT_VIEW:"SelectInProjectView"};function n9(){let e=(0,T.Dv)(np),t=(0,na.x)({treeRef:e}),n=function(){let e=(0,T.Dv)(tO),t=nb();return[{id:n7,title:"Select Opened File",icon:(0,et.jsx)(B.vq,{icon:"general/locate"}),actionPerformed:()=>{e&&t(e.filePath)},isDisabled:!e,description:"Selects a context file in the Project View"},(0,T.Dv)(n5),(0,T.Dv)(n4),(0,T.Dv)(n8),(0,T.Dv)(n6)]}();return(0,et.jsx)(nt.n,{headerContent:"Project",actions:[...t,...n],additionalActions:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(ns.K,{actionId:n7}),(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]}),children:(0,et.jsx)(nM,{})})}n9.__docgenInfo={description:"",methods:[],displayName:"ProjectToolWindow"};var re=n("87508"),rt=n("98454"),rn=n("79926"),rr=n("89639");function ro(e){let{children:t}=e,[n,r]=(0,g.useState)(!1);return((0,g.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},500);return()=>clearTimeout(e)},[]),n)?(0,et.jsx)(et.Fragment,{children:t}):null}ro.__docgenInfo={description:"",methods:[],displayName:"Delayed",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var ri=n("61262");let ra=e=>e;function rs(e,t){return t?e?e.path!==t.path?(0,m.dirname)(e.path)===(0,m.dirname)(t.path)?ra({type:"RENAMED",before:e,after:t}):ra({type:"MOVED",before:e,after:t}):ra({type:"MODIFIED",before:e,after:t}):ra({type:"ADDED",after:t}):ra({type:"DELETED",before:e})}rs.Unversioned=e=>ra({type:"UNVERSIONED",after:e});let rl={ADDED:"ADDED",DELETED:"DELETED",MOVED:"MODIFIED",RENAMED:"MODIFIED",MODIFIED:"MODIFIED",UNVERSIONED:"UNKNOWN"};function rc(e,t){return e?.path===t?.path&&e.isDir===t.isDir}rs.fileStatus=function(e){return rl[e.type]??"NOT_CHANGED"},rs.path=function(e){return rs.revision(e).path},rs.content=function(e){return"after"in e?e.after.content():"before"in e?e.before.content():Promise.resolve("")},rs.isAddition=function(e){return"ADDED"===e.type},rs.isDeletion=function(e){return"DELETED"===e.type},rs.isRename=function(e){return"RENAMED"===e.type},rs.isMove=function(e){return"MOVED"===e.type},rs.isModified=function(e){return"MODIFIED"===e.type},rs.isUnversioned=function(e){return"UNVERSIONED"===e.type},rs.revision=function(e){return"after"in e?e.after:e.before},rs.equals=function(e,t){let n="before"in e&&"before"in t?rc(e.before,t.before):"before"in e=="before"in t,r="after"in e&&"after"in t?rc(e.after,t.after):"after"in e=="after"in t;return n&&r};let rd=(0,er.xu)(e=>(0,U.cn)(t=>Object.entries(t(tn(e))).map(t=>{let[n,r]=t,o={path:f().join(e,n),isDir:!1,content(){throw Error("Not implemented")}};return"ADDED"===r?rs(null,o):"MODIFIED"===r?rs(o,o):"DELETED"===r?rs(o,null):"UNKNOWN"===r?rs.Unversioned(o):null}).filter(e=>null!=e))),ru=(0,U.cn)(e=>e(e9).map(t=>{let{dir:n}=t;return e(rd(n))}).flat()),rp=async(e,t,n,o)=>{let i=ek(e,t),a=(await Promise.all(n.filter(e=>!rs.revision(e).isDir).map(async t=>{let n=await e(te(rs.path(t)));if(n)return{repoRoot:n,change:t,relativePath:f().relative(n,rs.path(t))}}))).filter(e=>null!=e),s=(0,ri.Z)(e=>{let{repoRoot:t}=e;return t},a);await Promise.all(Object.entries(s).map(async a=>{let[s,l]=a,{toReset:c=[],toCheckout:d=[]}=(0,ri.Z)(e=>{let{change:{type:t}}=e;return"ADDED"!==t||o?"toCheckout":"toReset"},l);if(await Promise.allSettled(c.map(e=>{let{relativePath:t}=e;return(0,y.us)({fs:r,dir:s,filepath:t})})),d.length>0&&(await y.ZP.resolveRef({fs:r,dir:s,ref:"HEAD"}).catch(()=>null)?await (0,y.JE)({fs:r,dir:s,force:!0,filepaths:d.map(e=>{let{relativePath:t,change:{type:n}}=e;return t})}):await Promise.all(d.filter(e=>{let{change:t}=e;return"ADDED"===t.type}).map(e=>{let{change:t}=e,n=rs.path(t);return r.promises.unlink(n)}))),o){let t=e(tW);n.filter(rs.isAddition).forEach(e=>{t.closePath(rs.path(e))})}nW(l.flatMap(e=>{let{change:t}=e;return"MODIFIED"===t.type?[]:"MOVED"===t.type?[t.before.path,t.after.path]:rs.path(t)})).map(f().dirname).forEach(e=>t(eS(e))),await Promise.allSettled(l.map(async n=>{let{relativePath:o,change:a}=n,l=rs.path(a);await i(l),await (0,y.us)({fs:r,dir:s,filepath:o}),await ta(e,t,l)}))}))},rh=()=>(0,eE.lV)(rp),rm=(0,U.cn)([{id:"some-UUID",name:"Changes",comment:"last modified commit message",changes:[],active:!0},{id:"some-other-UUID",name:"Some other changelist",comment:"Some empty changelist for testing",changes:[],active:!1}]),rf=(0,U.cn)(e=>e(rm).find(e=>e.active)??null),rg=(0,U.cn)(e=>e(ru).filter(rs.isUnversioned)),ry=()=>(0,eE.lV)((0,g.useCallback)((e,t,n)=>{let r=e(rm),o=r.find(e=>{let{id:t}=e;return t===n});o&&t(rm,r.map(e=>({...e,active:e===o})))},[]));function rb(){let e=(0,T.Dv)(ru),t=(0,T.b9)(rm);return(0,g.useEffect)(()=>{t(t=>{let n=e.filter(e=>!rs.isUnversioned(e)),r=t.map(e=>({...e,changes:e.changes.map(e=>n.find(t=>rs.equals(t,e))).filter(e=>null!=e)})),o=r.flatMap(e=>{let{changes:t}=e;return t}),i=n.filter(e=>!o.find(t=>rs.equals(e,t)));return(r.find(e=>{let{active:t}=e;return t})??r[0]).changes.push(...i),r})},[e]),null}var rv=n("20619");let rw=e=>{let{getPath:t,mapNode:n=eM.Z,createDirectoryNode:r=e=>e,shouldCollapseDirectories:o=!1}=e;return e=>{let i={},a=e.map(n).map(e=>{let n=t(e);return X(n.startsWith("/")?n:`/${n}`).reduce((e,t)=>{i[t]||(i[t]=r({type:"directory",dirPath:t,parentNodePath:"",children:[]})),rx(e)&&(e.parentNodePath=t);let n=i[t];return n.children=n.children.includes(e)?n.children:[e,...n.children],n},e)}),s=(0,rv.Z)(a);return o?s.map(e=>(function e(t,n){let{children:r,dirPath:o,parentNodePath:i}=n;return 1===n.children.length&&rx(n.children[0])?(o=n.children[0].dirPath,r=n.children[0].children.map(n=>rx(n)?e(t,{...n,parentNodePath:o}):n),e(t,t({type:"directory",dirPath:o,parentNodePath:i,children:r}))):{...n,children:r.map(n=>rx(n)?e(t,n):n)}})(r,e)):s}};function rx(e){return"type"in e&&"directory"===e.type}let rA={ROLLBACK:"ChangesView.Revert",REFRESH:"ChangesView.Refresh",SHELVE_SILENTLY:"ChangesView.ShelveSilently",SHELVE:"ChangesView.Shelve",UNSHELVE_SILENTLY:"ChangesView.UnshelveSilently",NEW_CHANGELIST:"ChangesView.NewChangeList",ADD_UNVERSIONED:"ChangesView.AddUnversioned",RENAME_CHANGELIST:"ChangesView.Rename",REMOVE_CHANGELIST:"ChangesView.RemoveChangeList",SET_DEFAULT_CHANGELIST:"ChangesView.SetDefault",MOVE_TO_ANOTHER_CHANGELIST:"ChangesView.Move",GROUP_BY_DIRECTORY:"ChangesView.GroupBy.Directory",CREATE_PATCH_FROM_CHANGES:"ChangesView.CreatePatchFromChanges",SHOW_DIFF:"Diff.ShowDiff",SHOW_DIFF_STANDALONE:"Diff.ShowStandaloneDiff",CHECKIN_FILES:"CheckinFiles",CHECKIN_PROJECT:"CheckinProject",JUMP_TO_SOURCE:tb.$.EDIT_SOURCE,GROUP_CHANGES_VIEW_POPUP_MENU:"ChangesViewPopupMenu",GIT_ADD:"Git.Add",GIT_INIT:"Git.Init",GIT_PUSH:"Vcs.Push",GIT_CLONE:"Git.Clone",GIT_CREATE_NEW_BRANCH:"Git.CreateNewBranch",GIT_BRANCHES:"Git.Branches",GIT_LOG_HIDE_BRANCHES:"Git.Log.Hide.Branches",GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH:"Git.Log.Branches.Navigate.Log.To.Selected.Branch",GIT_UPDATE_SELECTED:"Git.Update.Selected",FOCUS_TEXT_FILTER:"Vcs.Log.FocusTextFilter",MATCH_CASE:"Vcs.Log.MatchCaseAction",REG_EXP:"Vcs.Log.EnableFilterByRegexAction",COPY_REVISION_NUMBER:"Vcs.CopyRevisionNumberAction",LOG_REFRESH:"Vcs.Log.Refresh",SHOW_DETAILS:"Vcs.Log.ShowDetailsAction",SHOW_DIFF_PREVIEW:"Vcs.Log.ShowDiffPreview",VCS_LOG_CONTEXT_MENU:"Vcs.Log.ContextMenu",PRESENTATION_SETTINGS:"Vcs.PresentationSettings",FILE_HISTORY_PRESENTATION_SETTINGS:"Vcs.FileHistory.PresentationSettings",COMPARE_WITH_LOCAL:"Vcs.ShowDiffWithLocal",CopyPathFromRepositoryRootProvider:"CopyPathFromRepositoryRootProvider"},rj=(e,t)=>`${e}_${t}`,rT=e=>rj("change",rs.path(e)),rC=function(e,t){return void 0===t&&(t=!0),{type:"change",key:rT(e),change:e,showPath:t}},rS=e=>"children"in e,rk=e=>"change"===e.type,rR=e=>rS(e)?e.children:null,rE={id:"repository",title:"Repository",isAvailable:(0,U.cn)(e=>e(e9).length>1),groupFn:(0,U.cn)(e=>t=>e(e9).map(e=>{var n;return void 0===(n=t.filter(t=>rs.path(t.change)?.startsWith(e.dir)))&&(n=[]),{type:"repo",key:rj("repo",e.dir),repository:e,children:n}}))},rI={id:"directory",title:"Directory",isAvailable:!0,useShortcutOf:rA.GROUP_BY_DIRECTORY,groupFn:rw({shouldCollapseDirectories:!0,createDirectoryNode:e=>{var t,n;let{dirPath:r,parentNodePath:o,children:i}=e;return void 0===(t=i)&&(t=[]),void 0===n&&(n=""),{type:"directory",key:n+rj("directory",r),dirPath:r,parentNodePath:o,children:t}},mapNode:e=>rC(e.change,!1),getPath:e=>rs.path(e.change)})},rP=[rE,rI],rN=(0,U.cn)(e=>rP.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable)),rD=(e,t)=>{if(0===e.length||0===t.length)return t;let n=e.slice(1),r=t.filter(rk),o=t.filter(rS),i=e[0](r);return[...o,...i].forEach(e=>{e.children=rD(n,e.children)}),i.filter(e=>e.children.length>0)},rM=e=>{let{get:t,isActive:n,groupings:r}=e;return e=>{let o=e=>nX(e)?t(e):e,i=r.filter(e=>{let{id:t,isAvailable:r}=e;return o(r)&&o(n(t))}).map(e=>{let{groupFn:t}=e;return o(t)}).map(t=>e?function(){return t(...arguments).map(t=>({...t,key:`${e}:${t.key}`}))}:t);return e=>rD(i,e)}};var rB=n("64374"),rF=n("69611"),rO=n("66095");let r_=(0,U.cn)(!1),rL=(0,U.cn)({height:500}),rz=(0,U.cn)([]),r$=(0,U.cn)(e=>{let t=e(rz),{rootNodes:n}=e(r8),r=n.filter(e=>"changelist"===e.type&&t.some(t=>e.changeList.changes.includes(t)));return 0===r.length?n.filter(e=>"changelist"===e.type&&e.changeList.active):r}),rq=(0,U.cn)(e=>{let t=e(rz),n=e(r$),r=(0,rB.Bp)(e=>rS(e)?e.children:null,e=>e.key,n,t.map(rT));return new Set(r.length?r:(0,rB.Om)(e=>rS(e)?e.children:null,e=>e.key,n))});function rK(e){let t=new Map,n=new Map,r=new Set;return(0,rB.Ck)(rR,(e,o)=>{if(n.set(e.key,e),"children"in e&&r.add(e.key),!o)return 1;let i=o.reduce((e,t)=>e+t,0);return t.set(e.key,i),i},e),{rootNodes:e,fileCountsMap:t,byKey:n,expandAllKeys:r}}let rH=e=>({type:"changelist",key:rj("changelist",e.id),changeList:e,children:e.changes.map(e=>rC(e))}),rV=(0,U.cn)(!1),rW=(0,U.cn)(!1),rU=(0,er.xu)(e=>(0,U.cn)(!0)),rG=(0,U.cn)(new Set([])),rQ=(0,U.cn)(e=>{let t=e(rG);if("all"===t){let{rootNodes:t}=e(r8);return new Set((0,rB.eA)(e=>"children"in e?e.children:[],(e,t)=>{let n=t??[];return n.push(e),n},t).flat().map(e=>e.key))}return t}),rZ=(0,U.cn)(e=>{let t=e(rQ),{byKey:n}=e(r8);return new Set([...t].map(e=>n.get(e)).filter(e=>null!=e))}),rY=(0,U.cn)(e=>{let t=e(rZ),n=new Set,r=e=>{e&&("change"===e.type&&n.add(e.change),rS(e)&&e.children.forEach(r))};return t.forEach(r),n}),rJ=(0,U.cn)(e=>{let t=e(rZ),n=e(rm),r=new Set,o=e=>{if(e){if("changelist"===e.type&&r.add(e.changeList),"change"===e.type){let t=n.find(t=>t.changes.includes(e.change));t&&r.add(t)}rS(e)&&e.children.forEach(o)}};return t.forEach(o),r}),rX=(0,U.cn)(new Set([])),r0=(0,U.cn)(e=>{let t=e(rX);return e(ru).filter(e=>t.has(rT(e)))}),r1=(0,U.cn)((e,t)=>{let{setSelf:n}=t,{rootNodes:r}=e(r8),o=e(rX);return new rF.f({items:o,...(0,rO.y)(n)},{rootNodes:r,getChildren:e=>rS(e)?e.children:null,getKey:e=>e.key})},(e,t,n)=>{t(rX,n)}),r2=(0,er.qs)(e=>new Set(e(r8).rootNodes.map(e=>[e.key,...e.children.map(e=>e.key)]).flat())),r5=(0,U.cn)(e=>e(rN).map(t=>({...t,isActive:e(rU(t.id))}))),r3=(e,t)=>({...e,children:t(e.children)}),r8=(0,U.cn)(e=>{let t=(0,nj.Z)(e=>{let{active:t}=e;return!t},e(rm)).map(rH),n=rM({get:e,groupings:rP,isActive:rU}),r=e(rg),o=t.map(e=>r3(e,n(e.key)));if(r.length>0){let e={key:"unversioned",type:"unversioned",children:r.map(e=>rC(e))};o.push(r3(e,n("unversioned")))}return rK(o)}),r4=(0,er.xu)(e=>(0,U.cn)("horizontal"===e?.4:.3)),r6=(0,U.cn)(!1),r7=(0,U.cn)(""),r9=(0,U.cn)(""),oe=(0,U.cn)(null),ot=(0,U.cn)(e=>{let t=e(eH);return e(ru).filter(e=>t.some(t=>rs.path(e).startsWith(t)))}),on=(e,t,n)=>{let r=(n?e(ru).filter(e=>n.some(t=>rs.path(e).startsWith(t))):e(ot)).map(rT);if(t(rX,new Set(r)),r.length>0){let n=(0,rB.Bp)(e=>rS(e)?e.children:null,e=>e.key,e(r8).rootNodes,r);t(r2,e=>new Set([...e??new Set,...n])),t(rG,new Set([r[0]]))}},or=function(e,t,n){void 0===n&&(n=!0);let r=e(eH),o=e(rY);t(rz,(n&&r.length>0?e(ot):null)??[...o]),t(r_,!0)};var oo=n("50907"),oi=n("51726");let oa=()=>0==[...(0,T.Dv)(rG)].length?null:(0,et.jsx)(nS.C,{"aria-label":"Changes actions",actions:[(0,R.BH)(rA.CHECKIN_FILES),(0,R.BH)(rA.ROLLBACK),(0,R.BH)(rA.JUMP_TO_SOURCE),new nk.P,(0,R.BH)(rA.SHELVE),new nk.P,(0,R.BH)(rA.NEW_CHANGELIST),(0,R.BH)(rA.RENAME_CHANGELIST),(0,R.BH)(rA.REMOVE_CHANGELIST),(0,R.BH)(rA.SET_DEFAULT_CHANGELIST),(0,R.BH)(rA.MOVE_TO_ANOTHER_CHANGELIST),new nk.P,(0,R.BH)(tb.$.REFRESH)].filter(e=>null!=e)});oa.__docgenInfo={description:"",methods:[],displayName:"ChangesViewTreeContextMenu"};var os=n("84174");async function ol(e,t){let n=await Promise.all(t.map(t=>e(t).catch(()=>!1)));return t.filter((e,t)=>n[t])}async function oc(e){let{fs:t,dir:n,localBranchName:r}=e,o=await y.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.merge`}),i=await y.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.remote`});return o&&i?`${i}/${o.replace(/^refs\/heads\//,"")}`:null}let od=(0,er.xu)(e=>ea(async t=>{let{}=t;return Promise.all((await y.ZP.listBranches({fs:r,dir:e})).map(async t=>({name:t,trackingBranch:await oc({fs:r,dir:e,localBranchName:t})})))})),ou=(0,er.xu)(e=>ea(()=>y.ZP.listRemotes({fs:r,dir:e}))),op=(0,er.xu)(e=>ea(async t=>{let n=await t(ou(e));return(await Promise.all(n.map(t=>{let{remote:n}=t;return y.ZP.listBranches({fs:r,dir:e,remote:n}).then(e=>e.filter(e=>"HEAD"!==e).map(e=>({name:e,remote:n})))}))).flat()})),oh=(0,er.xu)(e=>ea(async t=>{let n=await t(om(e)),r=await t(od(e));return 0===r.length&&n&&(r=r.concat({name:n,trackingBranch:null})),{repoRoot:e,currentBranch:r.find(e=>e.name===n)||null,localBranches:r,remoteBranches:await t(op(e))}})),om=(0,er.xu)(e=>ea(()=>y.ZP.currentBranch({fs:r,dir:e,fullname:!1}))),of=(0,U.cn)(async e=>Promise.all(e(e9).map(t=>{let{dir:n}=t;return e(oh(n))}))),og=(0,er.xu)(e=>(0,U.cn)(async t=>{let n=await t(te(e)),r=n?await t(oh(n)):null;return console.log(`repo root for ${e}`,n,n&&r),n&&r?.currentBranch?.name||null})),oy=[{branchType:"LOCAL",branchName:"master"},{branchType:"REMOTE",branchName:"origin/master"}];function ob(e){return e?.map.entry.flatMap(e=>e?.value.list["branch-info"].map(t=>{let{"@source":n,"@repo":r}=t;return{branchType:e["@type"],branchName:n,repoRoot:r}}))||[]}function ov(e){return{map:{entry:Object.entries((0,ri.Z)(e=>{let{branchType:t}=e;return t},e)).map(e=>{let[t,n]=e;return{"@type":t,value:{list:{"branch-info":n.map(e=>({"@repo":e.repoRoot,"@source":e.branchName}))}}}})}}}let ow=eP.z.object({"branch-storage":eP.z.object({map:(s=eP.z.enum(["LOCAL","REMOTE"]),l=eP.z.object({list:e4(eP.z.object({"@repo":eP.z.string(),"@source":eP.z.string()}),"branch-info")}),eP.z.object({entry:e8(eP.z.object({"@type":s,value:l}))}))})}),ox=eX({branches:[],excludedBranches:[]},{schema:eP.z.object({"favorite-branches":ow.optional(),"exclude-from-favorite":ow.optional()}).optional(),componentName:"Git.Settings",read:e=>({branches:ob(e?.["favorite-branches"]?.["branch-storage"]),excludedBranches:ob(e?.["exclude-from-favorite"]?.["branch-storage"])}),write:(e,t)=>{let n={...t};return e.branches.length>0?n["favorite-branches"]={"branch-storage":ov(e.branches)}:delete n["favorite-branches"],e.excludedBranches.length>0?n["exclude-from-favorite"]={"branch-storage":ov(e.excludedBranches)}:delete n["exclude-from-favorite"],n}}),oA=(0,os.R)(ox,e=>e.prop("branches")),oj=(0,os.R)(ox,e=>e.prop("excludedBranches")),oT=(0,er.xu)(e=>(0,U.cn)(t=>oS(t(oA),t(oj),e)),eB.Z);function oC(e){return oy.some(t=>{let{branchType:n,branchName:r}=t;return r===e.branchName&&n===e.branchType})}let oS=(e,t,n)=>!!e.find((0,eB.Z)(n))||!t.find((0,eB.Z)(n))&&oC(n);function ok(){return(0,eE.lV)((0,g.useCallback)(function(e,t,n,r){void 0===r&&(r=!oS(e(oA),e(oj),n));let o=e=>e.filter(e=>!(0,eB.Z)(e,n)),i=e=>e.some((0,eB.Z)(n))?e:e.concat(n);r?(t(oj,o),oC(n)||t(oA,i)):(t(oA,o),oC(n)&&t(oj,i))},[]))}function oR(){let e=(0,T.Dv)(oA),t=(0,T.Dv)(oj);return{isFavorite:n=>oS(e,t,n),toggleFavorite:ok()}}let oE=e=>{let{repo:t}=e,n=(0,T.Dv)(og(t.dir));return(0,et.jsx)(et.Fragment,{children:n})};oE.__docgenInfo={description:"",methods:[],displayName:"RepoCurrentBranchName",props:{repo:{required:!0,tsType:{name:"VcsDirectoryMapping"},description:""}}};let oI=v.zo.span`
  width: 14px;
  height: 14px;
  align-self: center;
  margin-right: 0.2rem;
  position: relative;

  //  after pseudo element is used to create the color mixing implemented here:
  //  https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/VcsLogColorManagerImpl.java#L60
  &&:after {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.75;
    background: ${e=>{let{theme:t}=e;return t.color("Table.background")||(t.dark?"#3C3F41":"#fff")}};
  }
`,oP=e=>{let t=(0,T.Dv)(e9).findIndex(t=>t.dir===e),n=(0,td.Fg)(),r=[n.commonColors.red,n.commonColors.blue];return r[t%r.length]??r[0]},oN=g.forwardRef((e,t)=>{let{rootPath:n,...r}=e;return(0,et.jsx)(oI,{ref:t,...r,style:{...r.style,backgroundColor:oP(n)}})});oN.__docgenInfo={description:"",methods:[],displayName:"RepoColorIcon",props:{rootPath:{required:!0,tsType:{name:"string"},description:""}}};let oD=v.zo.span`
  display: inline-flex;
  align-self: center;
  height: 1.1rem;
  line-height: 1.1rem;
  padding: 0 0.25rem;

  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(`color-mix(in srgb, ${t.color("VersionControl.Log.Commit.currentBranchBackground",t.dark?"rgb(63, 71, 73)":"rgb(228, 250, 255)")}, ${t.color("VersionControl.RefLabel.backgroundBase",t.dark?"#fff":"#000")} ${(t.value("VersionControl.RefLabel.backgroundBrightness")??.08)*100}%)`)}};
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("VersionControl.RefLabel.foreground",t.dark?"#909090":"#7a7a7a"))}};
`,oM=new nJ.C(`{fileCount, plural,
    =0 {No files}
    =1 {1 file}
    other {# files}
  }`,"en-US");function oB(e){return oM.format({fileCount:e})}let oF=e=>{let{node:t}=e;return(0,et.jsx)(nw.e.Hint,{children:t.showPath&&f().dirname(rs.path(t.change))})},oO={repo:(e,t)=>{let{fileCount:n}=t;return{textValue:f().basename(e.repository.dir),rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(oN,{rootPath:e.repository.dir}),(0,et.jsx)(nx.J,{}),(0,et.jsx)(nw.e.Hint,{children:oB(n)}),(0,et.jsx)(oD,{children:(0,et.jsx)(oE,{repo:e.repository})})]})}},directory:(e,t)=>{let{fileCount:n}=t;return{textValue:e.parentNodePath?f().relative(e.parentNodePath,e.dirPath):e.dirPath,rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(B.vq,{icon:Q}),(0,et.jsx)(nx.J,{}),(0,et.jsx)(nw.e.Hint,{children:oB(n)})]})}},change:e=>({textValue:f().basename(rs.path(e.change)),rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(B.vq,{icon:Y(rs.path(e.change))}),(0,et.jsx)(tm,{status:rs.fileStatus(e.change),children:(0,et.jsx)(nx.J,{})}),rs.isRename(e.change)?` - renamed from ${f().basename(e.change.before.path)}`:rs.isMove(e.change)&&` - moved from ${f().relative(f().dirname(e.change.after.path),f().dirname(e.change.before.path)).replace(/(\.\.\/){2,}[!.]/g,"..")}/`,(0,et.jsx)(oF,{node:e})]})})},o_=(e,t)=>{let n={...oO,...t,...e},r=e=>{let{node:t,fileCountsMap:r}=e,{textValue:o,rendered:i}=(0,n[t.type])(t,{fileCount:r.get(t.key)||0,dirCount:0});return{key:t.key,childItems:rS(t)?t.children:[],hasChildItems:rS(t)&&t.children?.length>0,textValue:o,children:i}};return{getItemProps:r,getTextValue:(e,t)=>{let{fileCountsMap:r}=t;return(0,n[e.type])(e,{fileCount:r.get(e.key)||0,dirCount:0}).textValue},itemRenderer:e=>{let{fileCountsMap:t}=e;return e=>(0,et.jsx)(D.c,{...r({node:e,fileCountsMap:t})})}}};function oL(){let e=(0,T.Dv)(to);return(0,et.jsx)(et.Fragment,{children:e&&(0,et.jsx)(ro,{children:", updating..."})})}let oz=o_({changelist:(e,t)=>{let{fileCount:n}=t;return{textValue:e.changeList.name,rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)("span",{style:{fontWeight:e.changeList.active?"bold":void 0},children:(0,et.jsx)(nx.J,{})}),(0,et.jsxs)(nw.e.Hint,{children:[oB(n),(0,et.jsx)(oL,{})]})]})}},unversioned:(e,t)=>{let{fileCount:n}=t;return{textValue:"Unversioned Files",rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(nx.J,{}),(0,et.jsxs)(nw.e.Hint,{children:[oB(n),(0,et.jsx)(oL,{})]})]})}}}),o$=e=>{let{treeRef:t}=e,{rootNodes:n,fileCountsMap:r,byKey:o}=(0,T.Dv)(r8),[i,a]=(0,T.KO)(rG),[s,l]=(0,T.KO)(r2),c=(0,T.Dv)(r1),{openPath:d}=tU(),u=(0,eE.lV)((0,g.useCallback)((e,t,n)=>{let r=e(r8).byKey.get(n);return r?.type==="change"&&d(rs.path(r.change)),r},[])),p=eW("all"===i?[]:[...i].flatMap(e=>{let t=o.get(e);return t?function e(t){return t?.type==="directory"?[t.dirPath]:t?.type==="change"?[rs.path(t.change)]:rS(t)?t.children.flatMap(e):[]}(t):[]}));return(0,et.jsx)(P.X,{renderMenu:()=>(0,et.jsx)(oa,{}),style:{height:"100%"},children:(0,et.jsx)(oo.G,{"aria-label":"Commit changes tree",treeRef:t,items:n,selectionMode:"multiple",selectedKeys:i,expandedKeys:s,onExpandedChange:l,onSelectionChange:a,onAction:u,nestedSelection:c,fillAvailableSpace:!0,autoFocus:"first",...p,children:e=>{let t=oz.getItemProps({fileCountsMap:r,node:e});return(0,et.jsxs)(D.c,{...t,children:[e.children?.length!==0&&(0,et.jsx)(oi.x,{selectionState:c.getSelectionState(e),onToggle:()=>c.toggle(e)}),t.children]})}})})};o$.__docgenInfo={description:"TODO: unversioned files\nTODO: show diff/source on double click (on action to be more precise)",methods:[],displayName:"ChangeViewTree",props:{treeRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"TreeRefValue"}],raw:"RefObject<TreeRefValue>"},description:""}}};var oq=n("15397"),oK=n("39664"),oH=n("51837");let oV=()=>{let e=[(0,R.BH)(rA.NEW_CHANGELIST),(0,R.BH)(rA.RENAME_CHANGELIST),(0,R.BH)(rA.REMOVE_CHANGELIST),(0,R.BH)(rA.SET_DEFAULT_CHANGELIST),(0,R.BH)(rA.MOVE_TO_ANOTHER_CHANGELIST)].filter(e=>null!=e);return(0,et.jsx)(oK.p,{renderMenu:t=>{let{menuProps:n}=t;return(0,et.jsx)(nS.C,{actions:e,children:e=>(0,et.jsx)(oH.w,{...n,...e})})},children:(0,et.jsx)(B.vq,{icon:"vcs/changelist.svg"})})};oV.__docgenInfo={description:"",methods:[],displayName:"ChangeListsActionButton"};var oW=n("83556"),oU=n("12152");function oG(e){let{groupings:t,onToggle:n}=e;return 1===t.length&&t[0].icon?(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:`Group By ${t[0].title}`}),children:(0,et.jsx)(oW.hU,{isPressed:t[0].isActive,onPress:()=>n(t[0].id),children:t[0].icon})}):(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Group By"}),children:(0,et.jsx)(oK.p,{renderMenu:e=>{let{menuProps:r}=e;return(0,et.jsx)(N.v2,{...r,selectedKeys:t.filter(e=>{let{isActive:t}=e;return t}).map(e=>{let{id:t}=e;return t}),onAction:e=>{let r=t.find(t=>{let{id:n}=t;return n===e})?.id;r&&n(r)},children:(0,et.jsx)(oU.$,{title:"Group By",children:t.map(e=>{let{id:t,title:n}=e;return(0,et.jsx)(D.c,{children:n},t)})})})},children:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"})})})}oG.__docgenInfo={description:"",methods:[],displayName:"GroupByActionButton",props:{groupings:{required:!0,tsType:{name:"Array",elements:[{name:"Grouping",elements:[{name:"K"}],raw:"Grouping<K>"}],raw:"Array<Grouping<K>>"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: K) => void",signature:{arguments:[{name:"id",type:{name:"K"}}],return:{name:"void"}}},description:""}}};let oQ=()=>{let e=(0,T.Dv)(r5),t=(0,eE.lV)((0,g.useCallback)((e,t,n)=>{t(rU(n),e=>!e)},[]));return(0,et.jsx)(oG,{groupings:e,onToggle:t})};oQ.__docgenInfo={description:"",methods:[],displayName:"ChangesGroupByActionButton"};let oZ=()=>{let[e,t]=(0,T.KO)(rW),[n,r]=(0,T.KO)(rV),o={showRelatedFiles:e,showIgnoredFiles:n};return(0,et.jsx)(oK.p,{renderMenu:e=>{let{menuProps:n}=e;return(0,et.jsxs)(N.v2,{...n,selectedKeys:Object.keys(o).filter(e=>o[e]),onAction:e=>{switch(e){case"showIgnoredFiles":return r(e=>!e);case"showRelatedFiles":return t(e=>!e)}},children:[(0,et.jsx)(D.c,{children:"Show Ignored Files"},"showIgnoredFiles"),(0,et.jsx)(D.c,{children:"Show Files Related to Active Changelist"},"showRelatedFiles")]})},children:(0,et.jsx)(B.vq,{icon:"actions/show.svg"})})};function oY(){return(0,et.jsxs)(oq.o,{border:"bottom",children:[(0,et.jsx)(ns.K,{actionId:tb.$.REFRESH}),(0,et.jsx)(ns.K,{actionId:rA.ROLLBACK}),(0,et.jsx)(ns.K,{actionId:rA.SHOW_DIFF}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Changelists"}),children:(0,et.jsx)(oV,{})}),(0,et.jsx)(ns.K,{actionId:rA.SHELVE_SILENTLY}),(0,et.jsx)(oq.J,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Group By"}),children:(0,et.jsx)(oQ,{})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"View Options"}),children:(0,et.jsx)(oZ,{})}),(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]})}async function oJ(e){let{updates:t,fs:n,dir:r,gitdir:o,...i}=e,a=await y.ZP.resolveRef({fs:n,dir:r,gitdir:o,ref:"HEAD"}),s=(await y.ZP.readTree({fs:n,dir:r,gitdir:o,oid:a})).tree,l=!1;if(await Promise.all(Object.entries(t).map(async e=>{let[t,i]=e,a=s.findIndex(e=>{let{path:n}=e;return n===t});if(null==i){a>-1&&(l=!0,s.splice(a,1));return}let c=s[a],d=await y.ZP.writeBlob({fs:n,dir:r,gitdir:o,blob:i});c?c.oid=d:s.push({type:"blob",mode:"100644",oid:d,path:t}),l=!0})),!l)throw Error("Nothing to commit!");let c=await y.ZP.writeTree({fs:n,dir:r,gitdir:o,tree:s}),d=await y.ZP.commit({...i,fs:n,dir:r,gitdir:o,tree:c});await Promise.all(Object.keys(t).map(e=>y.ZP.resetIndex({fs:n,dir:r,gitdir:o,filepath:e,ref:d})))}oZ.__docgenInfo={description:"",methods:[],displayName:"ViewOptionsActionButton"},oY.__docgenInfo={description:"",methods:[],displayName:"ChangesViewToolbar"};let oX=(0,U.cn)([]),o0=(0,U.cn)(e=>e(oX)[0]),o1=(0,U.cn)(e=>e(oX).length),o2=0,o5=(e,t,n,r)=>{let{title:o,isCancelable:i=!1}=n,a=new ef.qf.cancelToken,s=++o2;t(oX,e=>[...e,{id:o2++,title:o,abortController:a,isCancelable:i,progress:{fraction:0,text:"",secondaryText:"",isIndeterminate:!1}}]);let l=e=>{t(oX,t=>t.map(t=>t.id===s?{...t,progress:{...t.progress,...e}}:t))},c="function"==typeof r?{run:r}:r;return Promise.resolve(c.run({setFraction(e){l({fraction:e})},setText(e){l({text:e})},setSecondaryText(e){l({secondaryText:e})},setIndeterminate(e){l({isIndeterminate:e})}},a.signal)).finally(()=>{t(oX,e=>e.filter(e=>e.id!==s)),c.onFinished?.()}),s},o3=()=>(0,eE.lV)(o5),o8=()=>(0,eE.lV)((0,g.useCallback)((e,t,n)=>{let r=e(oX).find(e=>e.id===n);r&&r.abortController.abort()},[])),o4=(0,er.xu)(e=>{let{repoRoot:t,ref:n}=e;return ea(()=>y.ZP.resolveRef({fs:r,dir:t,ref:n,depth:3}).catch(e=>null))},eB.Z);var o6=n("53783"),o7=n("13302");let o9=e=>`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear().toString().slice(-2)}`,ie=e=>e.from&&e.to?`Between ${o9(e.from)} and ${o9(e.to)}`:e.from?`since ${o9(e.from)}`:e.to?`until ${o9(e.to)}`:"",it=(0,U.cn)(["MAIN"]),ir=(0,U.cn)("MAIN"),io=(0,er.xu)(e=>(0,U.cn)(t=>{let n=t(id.searchQuery(e)),r=t(id.user(e)),o=t(id.date(e)),i=t(id.branch(e)),a=[];return i?.length>0&&a.push({short:i.join(", "),long:`on ${i.join(", ")}`}),o&&a.push({short:ie(o),long:`made ${ie(o)}`}),n&&a.push({short:`'${n}'`,long:`containing '${n}'`}),r&&a.push({short:r,long:`by ${r}`}),`Log${a.length>0?": ":""}${1===a.length?a[0].short:a.map(e=>e.long).join(" ")}`})),ii=[],ia=e=>{let t=(0,er.xu)(t=>(0,er.rw)(e));return ii.push(t),t},is=ia(!1),il=ia(!0),ic=(0,U.cn)(e=>e(il(e(ir)))),id={searchQuery:ia(""),matchCase:ia(!1),regExp:ia(!1),user:ia(null),date:ia(null),branch:ia([])},iu=(0,o7.Z)((e,t)=>(0,U.cn)(t=>t(e(t(ir))),(t,n,r)=>{n(e(t(ir)),r)}),id),ip=()=>(0,eE.lV)((0,g.useCallback)((e,t,n)=>{Object.values(id).map(e=>e(n)).forEach(e=>t(e,er.td))},[])),ih=(e,t,n)=>{let r=e(it);e(ir)===n&&t(ir,r[r.findIndex(e=>e===n)-1]||r[0]),t(it,e=>e.filter(e=>e!==n)),ii.forEach(e=>e.remove(n))};var im=n("89921"),ig=n("28286");let iy={},ib=(e,t)=>t.commit.committer.timestamp-e.commit.committer.timestamp;async function iv(e){let t=[],n={},r=[];for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];let s=(await Promise.all(i.flatMap(e=>{let{refs:t,notRefs:n,repoPath:r,isBare:o}=e,i=e=>async t=>{let n=await y.ZP.resolveRef({...d({repoPath:r,isBare:o}),ref:t,depth:3}).catch(e=>null);if(null===n)return null;let i=await y.ZP.readCommit({...d({repoPath:r,isBare:o}),oid:n});return{repoPath:r,isBare:o,commit:i,refs:new Set([t]),type:e}};return t.map(i("whitelist")).concat(n?.map(i("blacklist"))??[])}))).filter(e=>null!==e);(0,im.Z)((e,t)=>{let{commit:n}=e,{commit:r}=t;return ib(n,r)},s).forEach(e=>{let{commit:t,refs:n,repoPath:r,isBare:o,type:i}=e;return c(i,{repoPath:r,isBare:o},t,-1,n)});let l=(0,ig.Z)(e=>e.flatMap(e=>{let{notRefs:t}=e;return t??[]}),(0,ri.Z)(e=>e.repoPath,i));for(;r.length>0;){let{readCommitResult:e,repoPath:n,isBare:o,type:i,containingRefs:a}=r.shift();if("whitelist"===i){if(l[n]?.some(e=>a.has(e)))continue;t.push({repoPath:n,readCommitResult:e,containingRefs:a})}(await Promise.all(e.commit.parent.map(e=>y.ZP.readCommit({...d({repoPath:n,isBare:o}),oid:e})))).forEach(e=>{let t=r.findIndex(t=>{let{readCommitResult:n}=t;return ib(n,e)>0});c(i,{repoPath:n,isBare:o},e,t,a)})}return t;function c(e,t,o,i,a){let{repoPath:s,isBare:l}=t;if(n[o.oid])n[o.oid].containingRefs=new Set([...n[o.oid].containingRefs,...a]);else{let t={type:e,readCommitResult:o,containingRefs:n[o.oid]?new Set([...n[o.oid].containingRefs,...a]):a,repoPath:s,isBare:l};n[o.oid]=t,r.splice(i>=0?i:r.length,0,t)}}function d(t){let{repoPath:n,isBare:r}=t;return{fs:e,cache:iy,[r?"gitdir":"dir"]:n}}}function iw(e,t,n){return(void 0===n&&(n={}),n.regExp)?new RegExp(t,n.matchCase?"":"i").test(e):n.matchCase?e.includes(t):e.toLowerCase().includes(t.toLowerCase())}let ix=ea(async e=>iv(r,...(await e(of)).map(e=>{let{repoRoot:t,localBranches:n,remoteBranches:r}=e;return{repoPath:t,refs:["HEAD"].concat(n.map(e=>e.name)).concat(r.map(e=>`${e.remote}/${e.name}`))}}))),iA=(0,U.cn)(async e=>{let t=e(iu.searchQuery),n=e(iu.branch),r={matchCase:e(iu.matchCase),regExp:e(iu.regExp)},o=e(iu.date),i=(await e(ix)).filter(e=>{let{containingRefs:t}=e;return!n?.length||n.some(e=>t.has(e))}).filter(e=>{let{readCommitResult:{commit:t}}=e;return(!o?.from||1e3*t.author.timestamp>o.from.getTime())&&(!o?.to||1e3*t.author.timestamp<o.to.getTime())}).filter(e=>{let{readCommitResult:{commit:n}}=e;return!t||iw(n.message,t,r)||iw(n.tree,t,{matchCase:!1})});return{rows:i,byOid:(0,o6.Z)(e=>{let{readCommitResult:t}=e;return t.oid},i)}}),ij=(0,U.cn)(async e=>{let t=await e(of),n={},r=(e,t)=>{n[e]=n[e]||[],n[e].push(t)};for(let{repoRoot:n,localBranches:o,currentBranch:i}of((await Promise.all(t.map(t=>{let{repoRoot:n}=t;return e(o4({repoRoot:n,ref:"HEAD"}))}))).filter(e=>null!==e).forEach(e=>{r(e,{type:"head",name:"HEAD"})}),t))for(let t of o){let o=await e(o4({repoRoot:n,ref:t.name}));o&&r(o,{type:"localBranch",name:t.name,isCurrent:i?.name===t.name,trackingBranch:t.trackingBranch})}for(let{repoRoot:n,remoteBranches:o}of t)for(let t of o){let o=`${t.remote}/${t.name}`,i=await e(o4({repoRoot:n,ref:o}));i&&r(i,{type:"remoteBranch",name:o})}return n}),iT=(0,U.cn)(new Set([])),iC=(0,U.cn)(async e=>{let t=e(iT);return"all"===t?(await e(iA)).rows.map(e=>{let{readCommitResult:{oid:t}}=e;return t}):[...t].map(e=>`${e}`)}),iS=(0,U.cn)(async e=>Promise.all((await e(iC)).map(async t=>(await e(iA)).byOid[t]))),ik=(0,U.cn)(async e=>{let t=(await e(iC))[0];return t&&(await e(iA)).byOid[t]||null}),iR=(0,U.cn)(!1),iE=(0,U.cn)(!1),iI=(0,U.cn)(!1),iP={id:"Default.Author",name:"Author"},iN={id:"Default.Hash",name:"Hash"},iD={id:"Date.Date",name:"Date"},iM=[iP.id,iD.id],iB=(0,er.xu)(e=>(0,U.cn)(iM.includes(e))),iF=new nJ.C(`{count, plural,
    =1 {1 file committed}
    other {# files committed}
  }`,"en-US"),iO=v.zo.div`
  background: ${e=>{let{theme:t}=e;return t.dark?"#2b2b2b":"#fff"}};
  height: 100%;
  display: flex;
  flex-direction: column;
`,i_=v.zo.textarea`
  flex: 1;
  background: none;
  padding: 0.25rem 0.375rem;
  color: ${e=>{let{theme:t}=e;return t.dark?"#a9b7c6":"#000"}};
  font-family: inherit;
  border: none;
  resize: none;
  outline: none;
`,iL=v.zo.div`
  display: flex;
  gap: 0.3rem;
  padding: 0.4rem;
`,iz=v.zo.div`
  display: flex;
  align-items: center;
  padding: 0.125rem 0.5rem;
  gap: 0.25rem;
  position: sticky; // prevents commit message scroll jump when message is toggled on and off
  color: ${e=>{let{theme:t}=e;return t.commonColors.red}};
`;function i$(e){let{editorRef:t}=e,n=(0,g.useRef)(null),[o,i]=(0,T.KO)(r7),a=function(){let e=tc(),t=(0,S.L)(),n=o3();return(0,eE.lV)((0,g.useCallback)((o,i,a,s)=>{let l=n({title:"Committing...",isCancelable:!1},{run:async n=>{let{setIndeterminate:l}=n;l(!0);let c=(0,ri.Z)(e=>{let{repoRoot:t}=e;return t},(await Promise.all(a.map(async e=>{let t=rs.path(e),n=await o(te(t)),i=await r.promises.exists(t)?await r.promises.readFile(t):null;return n?{repoRoot:n,filePath:f().relative(n,t),content:i}:null}))).filter(e=>null!=e));await Promise.all(Object.entries(c).map(async e=>{let[t,n]=e,a=n.reduce((e,t)=>{let{filePath:n,content:r}=t;return{...e,[n]:"string"==typeof r?new TextEncoder().encode(r):r}},{});await oJ({fs:r,dir:t,updates:a,message:s,author:{name:"Alireza",email:"alireza.mirian@gmail.com"}});let l=await o(om(t));l&&i(o4({repoRoot:t,ref:l})),i(o4({repoRoot:t,ref:"HEAD"}))})).then(()=>{i(ix),e().catch(console.error),t.show({icon:"Info",body:(0,et.jsxs)(et.Fragment,{children:[`${iF.format({count:a.length})}: `,s.split("\n").flatMap((e,t)=>[(0,et.jsx)("br",{},t),e]).slice(1)]})})},e=>{t.show({icon:"Error",title:"Commit failed!",body:"Could not commit files."}),console.error("Commit error",e)})},onFinished:()=>{i(oe,null)}});i(oe,l)},[]))}(),s=(0,T.Dv)(r6),l=(0,S.L)(),[c,d]=(0,T.KO)(r9),u=(0,T.Dv)(oe);(0,g.useEffect)(()=>{o&&d("")},[o]);let p=(0,eE.lV)((0,g.useCallback)(e=>{let t=e(r0),n=e(r7);if(0===t.length){d("Select files to commit");return}if(!n){d("Specify commit message");return}if(e(r6)){l.show({icon:"Error",title:"Unsupported action",body:"Amending commits is not yet supported."});return}a(t,n)},[])),{hasFocus:h}=(0,nt.e)();return(0,g.useImperativeHandle)(t,()=>({focus:()=>{n.current?.focus()}}),[]),(0,et.jsxs)(iO,{children:[(0,et.jsx)(i_,{ref:n,value:o,onChange:e=>{i(e.target.value)},placeholder:"Commit Message","data-gramm":"false"}),c&&(0,et.jsxs)(iz,{children:[(0,et.jsx)(B.vq,{icon:"general/error.svg"})," ",c]}),(0,et.jsxs)(iL,{children:[(0,et.jsx)(nK.z,{preventFocusOnPress:!0,variant:h?"default":void 0,onPress:p,isDisabled:null!=u,mnemonic:"i",children:s?"Amend Commit":"Commit"}),(0,et.jsx)(nK.z,{preventFocusOnPress:!0,onPress:ty,mnemonic:"P",children:s?"Amend Commit and Push...":"Commit and Push..."})]})]})}i$.__docgenInfo={description:"Commit message and commit buttons shown in the bottom/right split view of the commit toolwindow",methods:[],displayName:"CommitView",props:{editorRef:{required:!0,tsType:{name:"ReactRefObject",raw:"React.RefObject<{ focus: () => void }>",elements:[{name:"signature",type:"object",raw:"{ focus: () => void }",signature:{properties:[{key:"focus",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}}]},description:""}}};var iq=n("78965");let iK=e=>{let{changes:t}=e,n=t.filter(e=>"MODIFIED"===rs.fileStatus(e)).length,r=t.filter(rs.isAddition).length,o=t.filter(rs.isDeletion).length;return(0,et.jsxs)(et.Fragment,{children:[r>0&&(0,et.jsxs)(tm,{status:"ADDED",children:[r," added"]}),n>0&&(0,et.jsxs)(tm,{status:"MODIFIED",children:[n," modified"]}),o>0&&(0,et.jsxs)(tm,{status:"DELETED",children:[o," deleted"]})]})};iK.__docgenInfo={description:"",methods:[],displayName:"ChangesSummary",props:{changes:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"AnyChange"}],raw:"ReadonlyArray<AnyChange>"},description:""}}};let iH=v.zo.div`
  display: flex;
  padding: 0.125rem;
  position: relative;
`,iV=(0,v.zo)(nq.X)`
  padding-right: 0.625rem;
`,iW=v.zo.span`
  position: absolute;
  right: 0.5rem;
  top: 0.25rem;
  background: ${e=>{let{theme:t}=e;return t.color("Panel.background")}};
  z-index: 1;
`,iU=()=>{let e=(0,T.Dv)(r0);return(0,et.jsx)(iK,{changes:e})};function iG(){let[e,t]=(0,T.KO)(r6),n=(0,T.b9)(i5);return(0,et.jsxs)(iH,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(iq.h,{actionName:"Amend Commit",helpText:"Modify the latest commit of the current branch"}),children:r=>(0,et.jsx)("span",{...r,children:(0,et.jsx)(iV,{isSelected:e,onChange:e=>{t(e),n()},preventFocus:!0,mnemonic:"m",children:"Amend"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Show Commit Options"}),children:(0,et.jsx)(oW.hU,{onPress:ty,children:(0,et.jsx)(B.vq,{icon:"general/gear.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Commit Message History"}),children:(0,et.jsx)(oW.hU,{isDisabled:!0,onPress:ty,children:(0,et.jsx)(B.vq,{icon:"vcs/historyInline.svg"})})}),(0,et.jsx)(iW,{children:(0,et.jsx)(iU,{})})]})}iG.__docgenInfo={description:"Amend checkbox, commit message history button, and summary of included changes, shown as a row\nbellow changes tree, in commit tool window.",methods:[],displayName:"CommitActionsRow"};let iQ=new nJ.C(`Delete {count, plural,
    =1 {Changelist}
    other {Changelists}
  }`,"en-US"),iZ=new nJ.C(`{count, plural,
    =1 {1 selected file}
    other {# selected files}
  }`,"en-US"),iY=(0,U.cn)(e=>[...e(rY).values()].filter(e=>"DELETED"!==e.type).map(rs.path)),iJ=n0({id:tb.$.DELETE,title:"Delete",description:"Delete selected item",isDisabled:(0,U.cn)(e=>0===e(iY).length),actionPerformed:async e=>{let{get:t,set:n}=e,r=t(iY),o=t(eQ).current;0!==r.length&&await o?.confirm({title:"Delete",okText:"Delete",message:et.jsx("div",{style:{width:354},children:`Are you sure you want to delete ${iZ.format({count:r.length})}?`})})&&(console.log(`deleting ${r}`),await nG(t,n,r))}}),iX=v.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,i0=v.zo.div`
  flex: 1;
  overflow: auto;
  position: relative;
`,i1=v.zo.div`
  position: absolute;
  right: 0.125rem;
  top: 0.125rem;
  z-index: 1;
`,i2=(0,U.cn)(!1),i5=(0,U.cn)(null,(e,t)=>{t(i2,!0)}),i3=()=>{let{state:{anchor:e}}=(0,rt.j)(),t=(0,g.useRef)(null),n=(0,g.useRef)(null),r=(0,rn.Ss)(e),o=(0,T.Dv)(to),[i,a]=(0,T.KO)(r4(r)),[s,l]=(0,T.KO)(i2),c=function(){let e=(0,T.Dv)(rJ),t=ry(),n=[...e].filter(e=>!e.active),r=tc(),o=[{id:tb.$.REFRESH,title:"Refresh",icon:(0,et.jsx)(B.vq,{icon:"actions/refresh.svg"}),actionPerformed:r},{id:rA.SHELVE_SILENTLY,title:"Shelve Silently",icon:(0,et.jsx)(B.vq,{icon:"vcs/shelveSilent.svg"}),actionPerformed:ty},(0,T.Dv)(iJ)];return 1===e.size&&o.push({id:rA.RENAME_CHANGELIST,title:"Edit Changelist...",description:"Edit name and description of selected changelist",icon:(0,et.jsx)(B.vq,{icon:"actions/edit.svg"}),actionPerformed:ty}),n.length>0&&o.push({id:rA.REMOVE_CHANGELIST,title:iQ.format({count:n.length}),description:"Remove changelist and move all changes to another",icon:(0,et.jsx)(B.vq,{icon:"general/remove.svg"}),actionPerformed:ty}),1===n.length&&o.push({title:"Set Active Changelist",description:"Set changelist to which new changes are placed by default",id:rA.SET_DEFAULT_CHANGELIST,icon:(0,et.jsx)(B.vq,{icon:"actions/selectall.svg"}),actionPerformed:()=>{t(n[0].id)}}),o}(),d=(0,na.x)({treeRef:t});return(0,g.useEffect)(()=>{s&&(setTimeout(()=>{n.current?.focus()}),l(!1))},[s]),(0,et.jsx)(rr.D,{orientation:r,innerView:(0,et.jsx)(R.DG,{actions:[...d,...c],children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(iX,{...n,children:[(0,et.jsx)(oY,{}),(0,et.jsxs)(i0,{children:[o&&(0,et.jsx)(ro,{children:(0,et.jsx)(i1,{children:(0,et.jsx)(en,{})})}),(0,et.jsx)(o$,{treeRef:t})]}),(0,et.jsx)(iG,{})]})}}),innerViewMinSize:50,lastView:(0,et.jsx)(i$,{editorRef:n}),lastSize:i,onLastResize:a})};i3.__docgenInfo={description:"",methods:[],displayName:"ChangesViewSplitter"};let i8=v.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function i4(){let e=(0,R.DI)();return(0,et.jsx)(i8,{children:(0,et.jsxs)("div",{style:{textAlign:"center"},children:["To commit changes,"," ",(0,et.jsx)(tf.r,{onPress:()=>e(rA.GIT_INIT),children:"Create Git repository..."}),(0,et.jsx)("br",{}),"For recent changes, see"," ",(0,et.jsx)(tf.r,{onPress:ty,children:"Local History..."}),(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),(0,et.jsx)(B.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",(0,et.jsx)(tf.r,{onPress:ty,children:"Version Control integration"})," "]})})}i4.__docgenInfo={description:"",methods:[],displayName:"ChangesViewZeroState"};let i6=td.ZP.div.withConfig({displayName:"ChangesViewPane__StyledContainer",componentId:"sc-1pqba05-0"})(["display:flex;flex-direction:column;height:100%;"]),i7=()=>{let e=(0,T.Dv)(e9);return(0,et.jsx)(i6,{children:e.length>0?(0,et.jsx)(i3,{}):(0,et.jsx)(i4,{})})};function i9(e){let{branches:t}=e;return(0,et.jsx)("table",{style:{borderSpacing:0},children:t.map(e=>{let{branch:n,repoRoot:r}=e,o=n.trackingBranch?`${n.name} \u{2192} ${n.trackingBranch}`:t.length>1?`${n.name} (no tracking branch)`:"No tracking branch";return t.length>1?(0,et.jsxs)("tr",{children:[(0,et.jsxs)("td",{children:[f().basename(r),": \xa0"]}),(0,et.jsx)("td",{children:o})]},r):(0,et.jsx)("tr",{children:(0,et.jsx)("td",{children:o})},r)})})}i7.__docgenInfo={description:"",methods:[],displayName:"ChangesViewPane"},i9.__docgenInfo={description:"",methods:[],displayName:"TrackingBranchInfo",props:{branches:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ repoRoot: string; branch: LocalBranch }",signature:{properties:[{key:"repoRoot",value:{name:"string",required:!0}},{key:"branch",value:{name:"LocalBranch",required:!0}}]}}],raw:"Array<{ repoRoot: string; branch: LocalBranch }>"},description:""}}};let ae="Commit",at=(0,U.cn)(async e=>{let t=(await Promise.all(e(ru).map(t=>e(te(rs.path(t)))))).filter(e=>null!=e);return(await Promise.all(t.map(async t=>{let n=(await e(oh(t))).currentBranch;return n?{repoRoot:t,branch:n}:null}))).filter(e=>null!=e)}),an=()=>{let e=(0,T.Dv)(rU("repository")),t=(0,T.Dv)(at),n=!e&&t[0]?`Commit to ${t[0]?.branch?.name||"!"}`:"Commit";return(0,et.jsx)(re.y,{children:(0,et.jsx)(re.y.View,{tabContent:(0,et.jsx)(_.a,{isDisabled:e||0===t.length,tooltip:(0,et.jsx)(L.M,{actionName:(0,et.jsx)(i9,{branches:t})}),children:(0,et.jsx)("span",{children:n})}),children:(0,et.jsx)(i7,{})},"commit")})};an.__docgenInfo={description:"",methods:[],displayName:"CommitToolWindow"};var ar=n("84824");let ao=v.zo.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  height: 2.0625rem;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
  flex-shrink: 0;
`,ai=v.zo.div`
  flex-grow: 1;
`,aa=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  display: flex;
  flex-direction: column;
  justify-content: end;
  align-items: center;
  gap: 0.25rem;
  min-height: 37%;
  overflow: hidden;
`;var as=n("76344");let al=e=>{let t=e.split("\n"),n=t.slice(1);return{subject:t[0],bodyAsString:n.join("\n"),body:(0,et.jsx)(et.Fragment,{children:n.map((e,t)=>(0,et.jsxs)(g.Fragment,{children:[t>0&&(0,et.jsx)("br",{}),e]},t))})}};function ac(e){return e.slice(0,8)}let ad=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit",hour:"numeric",minute:"numeric",hour12:!0}),au=new Intl.DateTimeFormat([],{hour:"numeric",minute:"numeric",hour12:!0}),ap=new Intl.DateTimeFormat([],{day:"numeric",month:"numeric",year:"2-digit"});function ah(e){return au.format(e).replace(" ","\u202F")}let am=o_({commitParent:(c=e=>`Changes to ${ac(f().basename(e.oid))} ${e.subject.slice(0,50)}`,(e,t)=>{let{fileCount:n}=t;return{textValue:c(e),rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(nx.J,{}),(0,et.jsx)(nw.e.Hint,{children:oB(n)})]})}})},{repo:(e,t)=>{let{fileCount:n}=t;return{textValue:f().basename(e.repository.dir),rendered:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(oN,{rootPath:e.repository.dir}),(0,et.jsx)(nx.J,{}),(0,et.jsx)(nw.e.Hint,{children:oB(n)})]})}}}),af={};async function ag(e){let{fromRef:t,toRef:n,...r}=e;return(await y.ZP.walk({...r,cache:af,trees:[y.ZP.TREE({ref:t}),y.ZP.TREE({ref:n})],map:async function(e,t){let[n,o]=t,i=await o?.oid(),a=await n?.oid(),s=await o?.type(),l=await n?.type();if(i===a)return null;let c=i?{hash:i,path:f().join(r.dir||"",e),isDir:"tree"===s,content:async()=>new TextDecoder().decode(await o?.content()??new Uint8Array)}:null,d=a?{hash:a,path:f().join(r.dir||"",e),isDir:"tree"===l,content:async()=>new TextDecoder().decode(await n?.content()??new Uint8Array)}:null,u=c||d?rs(d,c):null;return!!u&&!rs.revision(u).isDir&&u}})||[]).filter(e=>e)}var ay=n("2834");async function ab(e){return av(function(e){let t=e.filter(rs.isDeletion),n=e.filter(rs.isAddition);return aw(new Map(t.map(e=>{let t=n.find(t=>{let{after:{hash:n}}=t;return n===e.before.hash});return t?[e,{to:t}]:null}).filter(e=>null!=e)),e)}(e))}async function av(e){let t=e.filter(rs.isDeletion),n=e.filter(rs.isAddition),r=new Map,o=async e=>(r.get(e)||r.set(e,await rs.content(e)),r.get(e)??""),i=new Map;return await Promise.all(t.map(async e=>Promise.all(n.map(async t=>{let n=await ax(await o(e),await o(t)),r=i.get(e);n>=50&&(!r||n>r.similarity)&&i.set(e,{similarity:n,to:t})})))),aw(i,e)}function aw(e,t){let n=[...e.values()].map(e=>e.to);return t.map(t=>{if(rs.isDeletion(t)){let n=e.get(t);if(n)return rs(t.before,n?.to.after)}return t}).filter(e=>!n.includes(e))}async function ax(e,t){return new Promise((n,r)=>{(0,ay.Mp)(e,t,function(e,t){if(void 0===t&&(t=[]),e)return r(e);let{unchanged:o,total:i}=t.reduce((e,t)=>{let{total:n,unchanged:r}=e,o=t.count??0;return{total:n+o,unchanged:r+(t.added||t.removed?0:o)}},{total:0,unchanged:0});n(o/i*100)})})}let aA=(0,er.xu)(e=>(0,U.cn)(()=>ag({fs:r,...e})),eB.Z),aj=(0,er.xu)(e=>(0,U.cn)(async t=>ab(await t(aA(e)))),eB.Z),aT="commitParent";function aC(e){let t=(0,er.xu)(e=>(0,U.cn)(e===rI.id)),n=(0,U.cn)(g.createRef()),o=(0,U.cn)(new Set),i=(0,U.cn)(new Set),a=n=>async o=>{let{oid:i,repoPath:a}=(await o(e))[0],{commit:s}=await (0,y.Bj)({fs:r,dir:a,oid:i}),l=s.parent;if(i&&l){let e=function(){return rM(...arguments)("")}({get:o,groupings:rP,isActive:t}),r=await Promise.all(l?.map(async t=>({type:aT,key:rj(aT,t),oid:t,subject:s.message||"",children:e([...await o(n({toRef:i,fromRef:t,dir:a}))].map(e=>rC(e)))}))),{expandAllKeys:c,fileCountsMap:d,...u}=rK(1===r.length?r[0].children:r.filter(e=>{let{children:t}=e;return t.length>0}));return(0,rB.kD)(e=>("directory"===e.type?"a_":"b_")+am.getTextValue(e,{fileCountsMap:d}).toLowerCase(),{roots:u.rootNodes,getChildren:e=>"children"in e?e.children:null}),{...u,fileCountsMap:d,expandAllKeys:new Set([...c].filter(e=>!`${e}`.startsWith(aT)))}}return null},s=(0,U.cn)(a(aA)),l=[(0,U.cn)(a(aj)),s].map(er.n7);return{isGroupingActiveAtom:t,treeRefAtom:n,expandedKeysAtom:o,selectionAtom:i,changedFilesLoadableAtom:(0,U.cn)(e=>e(l.find(t=>"hasData"===e(t).state)??l.slice(-1)[0]))}}let aS=aC((0,U.cn)(e=>e(iS).then(e=>e.map(e=>{let{readCommitResult:{oid:t},repoPath:n}=e;return{oid:t,repoPath:n}})))),ak=v.zo.div`
  position: absolute;
  inset: 0;
  gap: 0.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`;function aR(e){let{treeShortcutHandlerProps:t}=e,n=(0,T.Dv)(nD(iS)),r=(0,T.Dv)(aS.treeRefAtom),o=!n?.length,i=(0,T.Dv)(aS.changedFilesLoadableAtom),a="hasData"===i.state?i.data:null,[s,l]=(0,T.KO)(aS.expandedKeysAtom),[c,d]=(0,T.KO)(aS.selectionAtom);return((0,g.useEffect)(()=>{l(a?.expandAllKeys??new Set),d(new Set)},[i.state]),o)?(0,et.jsx)(aa,{children:"Select commits to to view changes"}):(0,et.jsxs)("div",{...t,style:{height:"-webkit-fill-available",position:"relative"},children:["loading"===i.state&&(0,et.jsx)(ro,{children:(0,et.jsxs)(ak,{children:[(0,et.jsx)(en,{style:{width:"1.5rem"}}),"Loading..."]})}),a&&(0,et.jsx)(nv.b,{"aria-label":"Commit changes",treeRef:r,items:a.rootNodes,selectionMode:"multiple",expandedKeys:s,onExpandedChange:l,selectedKeys:c,onSelectionChange:d,style:{paddingBottom:"1rem"},fillAvailableSpace:!0,children:am.itemRenderer({fileCountsMap:a.fileCountsMap})}),n.length>1&&(0,et.jsx)(as.S,{placement:"top",tooltip:(0,et.jsx)(nH.k,{helpText:(0,et.jsx)(et.Fragment,{children:"Showing diff for more than one commit is not currently supported. Only the first selected commit is taken into account."})}),children:e=>(0,et.jsx)("span",{...e,style:{position:"absolute",right:"0.5rem",bottom:"0.5rem"},children:(0,et.jsx)(B.vq,{icon:"general/warning"})})})]})}aR.__docgenInfo={description:"TODO: handle multiple selected commits (check Changes.ShowChangesFromParents https://github.com/JetBrains/intellij-community/blob/ac57611a0612bd65ba2a19c841a4f95b40591134/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/frame/VcsLogChangesBrowser.java#L255-L254)",methods:[],displayName:"CommitChangedFiles",props:{treeShortcutHandlerProps:{required:!0,tsType:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>"},description:""}}};var aE=n("7228");let aI=(0,et.jsx)("path",{fill:"currentColor",d:"M4.2 4.8 C4.8627 4.8 5.4 5.3373 5.4 6 C5.4 6.6627 4.8627 7.2 4.2 7.2 C3.5373 7.2 3 6.6627 3 6 C3 5.3373 3.5373 4.8 4.2 4.8 ZM0.6 2.4 L0.6 7.2 L7.8 14.4 L12.6 9.6 L5.4 2.4 Z"}),aP={light:"#ffd100",dark:"#e1c731"},aN={light:"#3cb45c",dark:"#3cb45c"},aD={light:"#9f79b5",dark:"#9f79b5"},aM={light:"#7a7a7a",dark:"#999999"},aB={head:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.headIconColor",aP)},localBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.localBranchIconColor",aN)},remoteBranch:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.remoteBranchIconColor",aD)},tag:e=>{let{theme:t}=e;return t.color("VersionControl.GitLog.tagIconColor",aM)}},aF=(0,v.zo)(oD)`
  border-radius: 3px;
  align-items: stretch;
  font-size: 0.75rem;
`,aO=v.zo.svg.attrs({viewBox:"0 0 14.5 14.5"})`
  width: 1rem;
  height: 1rem;
  stroke: rgba(0, 0, 0, 0.25);
  stroke-width: 0.5px;
  color: ${e=>{let{type:t,theme:n}=e;return aB[t]({theme:n})}};
  z-index: 1; // for the right vertical order of grouped labels
  &:not(:first-child) {
    margin-right: -11px;
  }
`,a_=v.zo.span`
  display: inline-flex;
  flex-direction: row-reverse;
`,aL=v.zo.span`
  text-overflow: ellipsis;
  overflow: hidden;
`;function az(e){let{type:t}=e;return(0,et.jsx)(aO,{type:t,children:aI})}function a$(e){let{types:t}=e;return(0,et.jsx)(a_,{children:t.map((e,t)=>(0,et.jsx)(aO,{type:e,children:aI},t))})}function aq(e){let{types:t,children:n}=e;return(0,et.jsxs)(aF,{children:[(0,et.jsx)(a$,{types:t}),(0,et.jsx)(aL,{children:n})]})}az.__docgenInfo={description:"",methods:[],displayName:"RefIcon",props:{type:{required:!0,tsType:{name:'GitRef["type"]',raw:'GitRef["type"]'},description:""}}},a$.__docgenInfo={description:"",methods:[],displayName:"RefIconGroup",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""}}},aq.__docgenInfo={description:"",methods:[],displayName:"RefLabel",props:{types:{required:!0,tsType:{name:"Array",elements:[{name:'GitRef["type"]',raw:'GitRef["type"]'}],raw:'Array<GitRef["type"]>'},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};let aK=v.zo.div`
  padding: 0.875rem;
  cursor: default;
`,aH=v.zo.div`
  font-family: "JetBrains Mono", monospace;
  line-height: 1.125rem;
  margin-bottom: 1.25rem;
  margin-right: 1.1875rem;
`,aV=v.zo.div`
  font-weight: bold;
`,aW=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};
`,aU=v.zo.div`
  line-height: 1.2;
  display: flex;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`,aG=(0,v.zo)(oN)`
  align-self: start;
`,aQ=v.zo.span`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 0.25rem;
  margin-bottom: 0.75rem;
`;function aZ(){let e=(0,T.Dv)(nD(ik)),t=(0,T.Dv)(nD(ij)),n=(0,T.Dv)(e9).length>0;if(!e)return(0,et.jsx)(aa,{children:"No commits selected"});let{readCommitResult:{commit:r,oid:o},containingRefs:i,repoPath:a}=e,{subject:s,body:l}=al(r.message),c=[];r.committer.name!==r.author.name&&c.push((0,et.jsxs)(g.Fragment,{children:["by ",r.committer.name," ",(0,et.jsx)(aX,{email:r.committer.email})]},r.committer.email)),r.committer.timestamp!==r.author.timestamp&&c.push(a0(1e3*r.committer.timestamp));let d=t?.[o]||[],u=(0,ri.Z)(e=>e.type,d);return(0,et.jsxs)(aK,{children:[(0,et.jsxs)(aH,{children:[(0,et.jsx)(aV,{children:s}),l]}),(0,et.jsxs)(aU,{children:[n&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aE.u,{children:a}),children:e=>(0,et.jsx)(aG,{...e,rootPath:a})}),(0,et.jsxs)("div",{children:[`${ac(o)} ${r.author.name} `,(0,et.jsx)(aX,{email:r.author.email})," ",`${a0(new Date(1e3*r.author.timestamp))}`,c.length>0&&(0,et.jsxs)(aW,{children:["committed ",c]})]})]}),d.length>0&&(0,et.jsxs)(aQ,{children:[(0,et.jsx)(aJ,{refs:u.head}),(0,et.jsx)(aJ,{refs:u.localBranch}),(0,et.jsx)(aJ,{refs:u.remoteBranch}),(0,et.jsx)(aJ,{refs:u.tag})]}),(0,et.jsxs)("div",{children:["In ",i.size," branches: ",[...i].join(", ")]})]})}let aY=v.zo.span`
  display: inline-flex;
  align-items: center;
`;function aJ(e){let{refs:t}=e;return t?.length?(0,et.jsx)(et.Fragment,{children:t.map((e,n)=>{let r=`${e.name}${n===t.length-1?"":","}`;return 0===n?(0,et.jsxs)(aY,{children:[(0,et.jsx)(a$,{types:t.map(e=>{let{type:t}=e;return t}).slice(0,2)}),r]}):(0,et.jsx)("span",{children:r})})}):null}function aX(e){let{email:t}=e;return(0,et.jsx)("a",{href:`mailto:${t}`,style:{all:"unset"},children:(0,et.jsx)(tf.r,{children:`<${t}>`})})}function a0(e){return`on ${ap.format(e)} at ${ah(e)}`}function a1(e,t){let n=(0,R.ol)().find(t=>{let{id:n}=t;return n===e});return(0,g.useMemo)(()=>{if(!n)return null;let{perform:e,id:r,...o}=n;return{...o,id:t,useShortcutsOf:r,isSearchable:!1,actionPerformed:t=>{e(t)}}},[n])}aZ.__docgenInfo={description:"",methods:[],displayName:"CommitDetails"};let a2=(0,U.cn)(.5),a5=v.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,a3=(0,U.cn)(e=>rP.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable).map(t=>({...t,key:`groupBy:${t.id}`,isActive:e(aS.isGroupingActiveAtom(t.id))}))),a8="Vcs.log.detailsView.layout",a4="Vcs.log.detailsView.viewOptions",a6=`${a8}.${rA.SHOW_DETAILS}`,a7=`${a8}.${rA.SHOW_DIFF_PREVIEW}`,a9=e=>`Vcs.log.detailsView.groupBy.${e.id}`;function se(e){let{tabKey:t}=e,[n,r]=(0,T.KO)(a2),o=(0,T.Dv)(il(t)),i=(0,eE.lV)((0,g.useCallback)((e,t,n)=>{t(aS.isGroupingActiveAtom(n),e=>!e)},[])),a=(0,tk.w)(),s=(0,T.Dv)(a3),l=(0,T.Dv)(aS.treeRefAtom),c=[a({id:a4,title:"View Options",icon:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"}),children:[a({id:"Vcs.log.detailsView.groupBy",title:"Group By",menuPresentation:"titledSection",icon:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"}),children:s.map(e=>({id:a9(e),useShortcutsOf:e.useShortcutOf,title:e.title,actionPerformed:()=>{i(e.id)}}))}),a({id:a8,menuPresentation:"titledSection",title:"Layout",children:[a1(rA.SHOW_DETAILS,a6),a1(rA.SHOW_DIFF_PREVIEW,a7)].filter(e=>null!=e)})]}),...(0,na.x)({treeRef:l})];return(0,et.jsx)(R.DG,{actions:c,children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(a5,{children:[(0,et.jsxs)(ao,{children:[(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Show Diff",shortcut:"\u2318D"}),children:(0,et.jsx)(oW.hU,{isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Revert Selected Changes"}),children:(0,et.jsx)(oW.hU,{isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"actions/rollback.svg"})})}),(0,et.jsx)(oK.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(sr,{menuProps:t})},children:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"})})]}),(0,et.jsx)(ai,{}),(0,et.jsxs)(oq.o,{style:{flexShrink:0},children:[(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]})]}),(0,et.jsx)("div",{style:{flex:1,minHeight:0},children:o?(0,et.jsx)(rr.D,{orientation:"vertical",firstSize:n,onFirstResize:r,firstViewMinSize:10,firstView:(0,et.jsx)(aR,{treeShortcutHandlerProps:t}),innerView:(0,et.jsx)(aZ,{})}):(0,et.jsx)(aR,{treeShortcutHandlerProps:t})})]})}})}let st={[a6]:ic,...Object.fromEntries(rP.map(e=>[a9(e),aS.isGroupingActiveAtom(e.id)]))},sn=(0,U.cn)(e=>Object.entries(st).filter(t=>{let[,n]=t;return e(n)}).map(e=>{let[t]=e;return t}));function sr(e){let{menuProps:t}=e,n=(0,K.y)(a4),r=(0,T.Dv)(sn);return n&&(0,et.jsx)(H.d,{actionGroup:n,children:e=>(0,et.jsx)(oH.w,{...t,...e,selectedKeys:r})})}se.__docgenInfo={description:"",methods:[],displayName:"VcsLogDetailsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var so=n("67074"),si=n("66344"),sa=n("46377"),ss=n("88524"),sl=n("51515");let sc=v.zo.button`
  all: unset;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding-left: 0.25rem;
  cursor: pointer;
  background: transparent;
  color: ${e=>{let{theme:t}=e;return t.commonColors.label({disabled:!0})}};

  line-height: 1.5;
  border-radius: 0.25rem;
  white-space: nowrap;
  border: 2px solid transparent;
  &:hover {
    color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  }
  &:focus-visible {
    border-color: ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
  }
`,sd=v.zo.span`
  margin-left: -1px;
  line-height: 1.2;
`,su=v.zo.span`
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  max-width: 8.25rem;
  overflow: hidden;
  text-overflow: ellipsis;
`,sp=(0,v.zo)(sa.v)`
  &:focus-visible {
    outline: 2px solid
      ${e=>{let{theme:t}=e;return t.commonColors.focusRing({focused:!0})}};
    outline-offset: -2px;
  }
`;function sh(e){let{label:t,value:n,onClear:r,...o}=e;return(0,et.jsx)(ss.b,{...o,children:(e,o)=>(0,et.jsxs)(sc,{...e,ref:o,children:[t,n?(0,et.jsxs)(et.Fragment,{children:[": ",(0,et.jsx)(su,{children:n}),(0,et.jsx)(sl.V,{onPress:r,children:(0,et.jsx)(sp,{icon:"actions/close",hoverIcon:"actions/closeHovered"})})]}):(0,et.jsx)(sd,{children:(0,et.jsx)(B.vq,{icon:"general/arrowDownSmall.svg"})})]})})}sh.__docgenInfo={description:"",methods:[],displayName:"VcsFilterDropdown",props:{label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let sm=v.zo.span.attrs({role:"button"})`
  display: inline-flex;
`;function sf(e){let{onClick:t,isFavorite:n,isCurrent:r}=e;return(0,et.jsx)(sm,{onPointerUp:e=>{e.stopPropagation()},onClick:t,children:r?(0,et.jsx)(sa.v,{icon:n?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg",hoverIcon:n?"nodes/favorite.svg":"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}):n?(0,et.jsx)(B.vq,{icon:"nodes/favorite.svg"}):(0,et.jsx)(sa.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"})})}function sg(e){let{tabKey:t}=e,[n,r]=(0,T.KO)(id.branch(t)),o=(0,eE.oC)(id.branch(t));return(0,et.jsx)(sh,{value:n.length>0?n.join("|"):null,onClear:o,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(sv,{menuProps:t,onBranchesSelected:r})},label:"Branch"})}sf.__docgenInfo={description:"",methods:[],displayName:"BranchFavoriteButton",props:{isCurrent:{required:!1,tsType:{name:"boolean"},description:""},isFavorite:{required:!0,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let sy=e=>Object.entries((0,ri.Z)(e=>{let{branchName:t}=e;return t},e)).map(e=>{let[t,n]=e;return{branchName:t,repoRoots:n.map(e=>e.repoRoot)}}),sb=(0,U.cn)(async e=>{let t=await e(of),n=t.flatMap(e=>{let{remoteBranches:t,repoRoot:n}=e;return t.map(e=>({repoRoot:n,branchName:`${e.remote}/${e.name}`}))});return{localBranches:sy(t.flatMap(e=>{let{localBranches:t,repoRoot:n}=e;return t.map(e=>({repoRoot:n,branchName:e.name}))})),remoteBranches:sy(n)}});function sv(e){let{menuProps:t,onBranchesSelected:n}=e,[r,o]=(0,g.useState)([]),{toggleFavorite:i,isFavorite:a}=oR(),{localBranches:s=[],remoteBranches:l=[]}=(0,T.Dv)(nD(sb))||{},c=(0,ri.Z)(e=>{let{branchName:t}=e;return t.split("/")[0]},l);(0,g.useEffect)(()=>{let e=(e,t)=>t.filter(t=>{let{branchName:n,repoRoots:r}=t;return r.some(t=>a({branchType:e,branchName:n,repoRoot:t}))}).map(t=>{let{branchName:n,repoRoots:r}=t;return{branchType:e,branchName:n,repoRoots:r}});o([{branchType:"LOCAL",branchName:"HEAD",repoRoots:[]}].concat(e("LOCAL",s)).concat(e("REMOTE",l)))},[]);let d=e=>{let{branchName:t,branchType:n,repoRoots:r}=e;return(0,et.jsx)(D.c,{textValue:t,children:(0,et.jsx)(O._,{content:t,icon:(0,et.jsx)(sf,{isFavorite:"HEAD"===t||r.some(e=>a({branchType:n,repoRoot:e,branchName:t})),onClick:()=>{"HEAD"!==t&&r.forEach(e=>{i({branchType:n,repoRoot:e,branchName:t})})}})})},`branch:${t}`)};return(0,et.jsx)(oH.w,{...t,submenuBehavior:"toggleOnPress",autoFocus:"first",minWidth:250,onAction:e=>{let[t,o]=`${e}`.split(":");"branch"===t&&o?n([o]):"favorites"===t?n(r.map(e=>{let{branchName:t}=e;return t})):"select"===t&&ty()},children:[(0,et.jsx)(D.c,{children:"Select..."},"select"),(0,et.jsx)(D.c,{children:"Favorites"},"favorites"),...r.map(d),(0,et.jsx)(nk.i,{}),(0,et.jsx)(D.c,{title:"Local",children:s.map(e=>{let{branchName:t,repoRoots:n}=e;return d({branchType:"LOCAL",branchName:t,repoRoots:n})})},"local"),...Object.entries(c).map(e=>{let[t,n]=e;return(0,et.jsx)(D.c,{title:`${t}/...`,children:n.map(e=>{let{branchName:t,repoRoots:n}=e;return d({branchType:"REMOTE",branchName:t,repoRoots:n})})},`remote:${t}`)})]})}sg.__docgenInfo={description:"",methods:[],displayName:"BranchesFilterDropdown",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};var sw=n("88808"),sx=n("74546"),sA=n("84244");function sj(e){var t;let n=function(e){let t=e.match("(\\w+)[\\p{Punct}\\s](\\w+)");return t?[t[1],t[2]]:null}(e);if(null!=n){let[e,t]=n;return e.toLowerCase()+" "+t.toLowerCase()}return(t=e).match("[ -~]*")?t.toLowerCase():t}let sT=(0,er.xu)(e=>(0,U.cn)(async()=>({name:await y.ZP.getConfig({fs:r,dir:e,path:"user.name"})??"",email:await y.ZP.getConfig({fs:r,dir:e,path:"user.email"})??""}))),sC=v.zo.div`
  display: flex;
  height: 1.5rem;
  align-items: center;
  width: 100%;
  --column-width-1: 130px;
  --column-width-2: 130px;
  --column-width-3: 70px;
`,sS=v.zo.div`
  overflow: hidden;
  padding-left: 0.25rem;
`,sk=v.zo.div`
  ${e=>{let{asOverlay:t}=e;return t?(0,v.iv)`
          flex-shrink: 0;
        `:(0,v.iv)`
          position: absolute;
          right: 0;
          top: 1px;
          max-width: calc(100% - 100px);
        `}};

  display: flex;
  gap: 0.25rem;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(t.color("List.background"))}};
`,sR=v.zo.div`
  position: relative;
  display: flex;
  gap: 0.25rem;
`,sE=v.zo.div`
  display: flex;
  align-items: center;
  margin: 0 0.25rem;
  font-size: 0.75rem;
`,sI=e=>{let{repoRoot:t,author:n}=e,r=(0,T.Dv)(sT(t)),o=(0,T.Dv)(iI),i=(0,T.Dv)(iu.user);return{fontWeight:o&&"*"!==i&&sj(r.name)===sj(n.name)?"bold":void 0}};function sP(e){var t;let{refs:n,readCommitResult:{oid:r,commit:{author:o,committer:i,message:a}},repoRoot:s}=e,l=(0,T.Dv)(iR),c=(0,T.Dv)(iE),d=(0,T.Dv)(iB(iP.id)),u=(0,T.Dv)(iB(iD.id)),p=(0,T.Dv)(iB(iN.id)),h=sI({author:o,repoRoot:s});return(0,et.jsxs)(sC,{children:[(0,et.jsx)(sS,{style:{flexBasis:"0%",flexGrow:1,flexShrink:1},children:(0,et.jsxs)(sR,{children:[n&&(0,et.jsx)(sD,{onLeft:c,refs:n}),(0,et.jsx)("span",{style:h,children:al(a).subject})]})}),d&&(0,et.jsxs)(sS,{style:{flexBasis:"auto",width:"var(--column-width-1)",flexShrink:1,...h},children:[o.name,i.name!==o.name&&"*"]}),u&&(0,et.jsx)(sS,{style:{flexBasis:"auto",width:"var(--column-width-2)",flexShrink:1,...h},children:(t=1e3*(l?i:o).timestamp,ad.format(t).replace(" ","\u202F"))}),p&&(0,et.jsx)(sS,{style:{flexBasis:"auto",width:"var(--column-width-3)",flexShrink:1,...h},children:ac(r)})]})}function sN(e){return`${e.type}${e.name}`}function sD(e){let{refs:t,onLeft:n}=e,{filteredRefs:r}=(0,g.useMemo)(()=>{let e=t.some(e=>"localBranch"===e.type&&e.isCurrent);return{filteredRefs:t.filter(n=>!("head"===n.type&&e||"remoteBranch"===n.type&&t.find(e=>"localBranch"===e.type&&e.trackingBranch===n.name)))}},[t]);return(0,et.jsx)(_.a,{placement:"bottom",delay:800,isDisabled:t.length<2,tooltip:(0,et.jsx)(aE.u,{withPointer:!0,children:t.map(e=>(0,et.jsxs)(sE,{children:[(0,et.jsx)(az,{type:e.type}),e.name]},sN(e)))}),children:e=>{let{ref:o,...i}=e;return(0,et.jsx)(sk,{ref:o,asOverlay:n,...i,children:r.filter(e=>"remoteBranch"!==e.type||!t.find(t=>"localBranch"===t.type&&t.trackingBranch===e.name)).map(e=>{let t=e.name,n=[e.type];return"localBranch"===e.type&&e.trackingBranch&&(n.unshift("remoteBranch"),t=`${e.trackingBranch.split("/")[0]} & ${e.name}`),"localBranch"===e.type&&e.isCurrent&&n.push("head"),(0,et.jsx)(aq,{types:n,children:t},sN(e))})})}})}sP.__docgenInfo={description:"",methods:[],displayName:"CommitsTableRow",props:{repoRoot:{required:!0,tsType:{name:"string"},description:""},readCommitResult:{required:!0,tsType:{name:"ReadCommitResult"},description:""},refs:{required:!0,tsType:{name:"union",raw:"GitRef[] | undefined",elements:[{name:"Array",elements:[{name:"GitRef"}],raw:"GitRef[]"},{name:"undefined"}]},description:""}}};let sM=(0,v.zo)(sw.ko)`
  position: absolute;
  width: 100%;
  z-index: 1;
`,sB=v.zo.div`
  position: relative;
  min-height: 0;
  flex: 1;
  ${sA.o} {
    // the default "min-width: min-content", which is necessary for sizing overlays (e.g. Popup) containing list/tree,
    // results in horizontally scrollable table. Probably not an issue when a proper Table component is implemented.
    min-width: unset;
  }
`,sF=g.createContext({});function sO(){let e=(0,T.Dv)(ir),t=ip(),{value:n,isLoading:r}=(0,T.Dv)(t3(iA,null)),o=n?.rows,i=(0,T.Dv)(nD(ij)),[a,s]=(0,T.KO)(iT);return(0,et.jsx)(sF.Provider,{value:i??{},children:(0,et.jsxs)(sB,{children:[r&&(0,et.jsx)(sM,{"aria-label":"Loading commits",isIndeterminate:!0}),o&&o.length>0&&(0,et.jsx)(sx.a,{"aria-label":"Commits list",items:o,fillAvailableSpace:!0,selectionMode:"multiple",selectedKeys:a,onSelectionChange:s,estimatedItemHeight:24,children:e=>{let{readCommitResult:t,repoPath:n}=e;return(0,et.jsx)(D.c,{textValue:t.commit.message,children:(0,et.jsx)(sF.Consumer,{children:e=>(0,et.jsx)(sP,{readCommitResult:t,repoRoot:n,refs:e[t.oid]})})},t.oid)}}),o&&0===o.length&&(0,et.jsxs)(aa,{children:["No commits matching filters",(0,et.jsx)(tf.r,{onPress:()=>t(e),children:"Reset filters"})]})]})})}sO.__docgenInfo={description:"",methods:[],displayName:"CommitsTable"};let s_=[{key:"commitTimestamp",name:"Commit Timestamp",atom:iR},{key:"referencesOnLeft",name:"References on the Left",atom:iE}],sL=[{key:"myCommits",name:"My Commits",atom:iI}],sz=[iP,iN,iD].map(e=>{let{name:t,id:n}=e;return{name:t,key:n,atom:iB(n)}}),s$=e=>{let[t,n]=(0,T.KO)(e.atom);return{...e,value:t,set:n}};function sq(){let e=s_.map(s$),t=sL.map(s$),n=sz.map(s$),r=e.concat(t).concat(n);return(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"View Options"}),children:(0,et.jsx)(oK.p,{renderMenu:o=>{let{menuProps:i}=o;return(0,et.jsxs)(oH.w,{...i,selectedKeys:r.filter(e=>{let{value:t}=e;return t}).map(e=>{let{name:t}=e;return t}),onAction:e=>{let t=r.find(t=>{let{name:n}=t;return n===e});t?t.set(e=>!e):ty()},children:[(0,et.jsxs)(oU.$,{title:"Show",children:[(0,et.jsx)(D.c,{children:"Compact References View"}),(0,et.jsx)(D.c,{children:"Tag Names"}),(0,et.jsx)(D.c,{children:"Long Edges"}),e.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(D.c,{children:t},n)}),(0,et.jsx)(D.c,{title:"Columns",children:n.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(D.c,{children:t},n)})})]}),(0,et.jsxs)(oU.$,{title:"Highlight",children:[t.map(e=>{let{name:t,key:n}=e;return(0,et.jsx)(D.c,{children:t},n)}),(0,et.jsx)(D.c,{children:"Merge Commits"}),(0,et.jsx)(D.c,{children:"Current Branch"}),(0,et.jsx)(D.c,{children:"Not Cherry-Picked Commits"})]})]})},children:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"})})})}sq.__docgenInfo={description:"",methods:[],displayName:"CommitsTableViewOptionsMenuIconButton"};let sK=(0,v.zo)(si.M)`
  border-radius: 2px;
  width: 219px;
  margin-right: 0.0625rem;
  margin-left: 0.2rem;
`,sH=v.zo.div`
  height: 100%;
  display: flex;
  flex-direction: column;
`,sV=(0,U.cn)([]);function sW(e){var t;let{tabKey:n}=e,r=(0,T.Dv)(lx),[o,i]=(0,T.KO)(id.searchQuery(n)),[a,s]=(0,T.KO)(id.user(n)),l=(0,eE.oC)(id.user(n)),[c,d]=(0,T.KO)(id.date(n)),u=(0,eE.oC)(id.date(n)),[p,h]=(0,T.KO)(sV),[m,f]=(0,g.useState)(o),y=(0,tv.k)(),b=(0,T.Dv)(id.regExp(n)),v=(0,T.Dv)(id.matchCase(n)),w=function(e){void 0===e&&(e=m),i(e),e&&!p.includes(e)&&h(t=>[e,...t.filter(t=>t!==e)])};(0,g.useEffect)(()=>{f(o)},[o]);let x=(0,eE.lV)((0,g.useCallback)((e,t)=>{let n=(0,so.Z)();t(it,e=>[...e,n]),Object.values(id).forEach(r=>{t(r(n),e(r(e(ir))))}),t(ir,n)},[])),A=new Date,j=new Date;j.setDate(A.getDate()-7);let C=new Date;C.setDate(A.getDate()-1);let S=[{name:"Last 24 hours",value:{from:C}},{name:"Last 7 days",value:{from:j}}];return(0,et.jsxs)(sH,{children:[(0,et.jsxs)(ao,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Text or Hash Filter",shortcut:y(rA.FOCUS_TEXT_FILTER)}),children:(0,et.jsx)(sK,{inputRef:r,value:m,onChange:f,onSubmit:w,onBlur:()=>w(),onClear:()=>w(""),searchHistory:p,addonAfter:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(sa.R,{as:ns.K,excludeFromTabOrder:!1,actionId:rA.REG_EXP,children:(0,et.jsx)(sa.v,{icon:b?"actions/regexSelected":"actions/regex",hoverIcon:b?"actions/regexSelected":"actions/regexHovered"})}),(0,et.jsx)(sa.R,{as:ns.K,excludeFromTabOrder:!1,actionId:rA.MATCH_CASE,children:v?(0,et.jsx)(B.vq,{icon:"actions/matchCaseSelected"}):(0,et.jsx)(sa.v,{icon:"actions/matchCase",hoverIcon:"actions/matchCaseHovered"})})]})})}),(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(sg,{tabKey:n}),(0,et.jsx)(sh,{value:"*"===a?"me":a,onClear:l,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(N.v2,{...t,onAction:e=>{if("select"===e)return ty();s(`${e}`)},children:[(0,et.jsx)(D.c,{children:"Select..."},"select"),(0,et.jsx)(D.c,{children:"me"},"*")]})},label:"User"}),(0,et.jsx)(sh,{value:c&&((t=c).from&&t.to?`Between ${o9(t.from)} and ${o9(t.to)}`:t.from?`since ${o9(t.from)}`:t.to?`until ${o9(t.to)}`:""),onClear:u,renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(N.v2,{...t,onAction:e=>{let t=S.find(t=>{let{name:n}=t;return n===e});t?d(t.value):ty()},children:[(0,et.jsx)(D.c,{children:"Select..."},"select"),...S.map(e=>{let{name:t}=e;return(0,et.jsx)(D.c,{children:t},t)})]})},label:"Date"}),(0,et.jsx)(sh,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(N.v2,{...t,onAction:ty,children:[(0,et.jsx)(D.c,{children:"Select in..."}),(0,et.jsx)(D.c,{children:"Select in Tree..."})]})},label:"Paths"}),(0,et.jsx)(oq.J,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Open New Git Log Tab"}),children:(0,et.jsx)(oW.hU,{"aria-label":"Checkout",onPress:x,children:(0,et.jsx)(B.vq,{icon:"actions/openNewTab.svg"})})})]}),(0,et.jsx)(ai,{}),(0,et.jsxs)(oq.o,{style:{flexShrink:0},children:[(0,et.jsx)(ns.K,{actionId:rA.LOG_REFRESH}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Cherry-Pick"}),children:(0,et.jsx)(oW.hU,{isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"/platform/dvcs-impl/resources/icons/cherryPick.svg"})})}),(0,et.jsx)(sq,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Go To Hash/Branch/Tag",shortcut:"\u2318F"}),children:(0,et.jsx)(oW.hU,{children:(0,et.jsx)(B.vq,{icon:"actions/find"})})})]})]}),(0,et.jsx)(sO,{})]})}function sU(e,t){let n=e.flatMap(e=>{let{repoRoot:t,localBranches:n,currentBranch:r}=e;return n.map(e=>({repoRoot:t,isCurrent:r?.name===e.name,branch:e}))}),r=Object.entries((0,ri.Z)(e=>{let{branch:t}=e;return t.name},n)).map(t=>{let[n,r]=t,o=r.map(e=>{let{repoRoot:t}=e;return(0,m.basename)(t)});return{type:"localBranch",key:`localBranch:${o.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some(e=>{let{repoRoot:t,branch:n}=e;return oT({repoRoot:t,branchType:"LOCAL",branchName:n.name})}),isCurrent:r.some(e=>{let{isCurrent:t}=e;return t}),repos:o.length===e.length?null:o}});return t?sZ(r):r}function sG(e,t){let n=e.flatMap(e=>{let{repoRoot:t,remoteBranches:n}=e;return n.map(e=>({repoRoot:t,branch:e}))}),r=Object.entries((0,ri.Z)(e=>{let{branch:t}=e;return`${t.remote}/${t.name}`},n)).map(t=>{let[n,r]=t,o=r.map(e=>{let{repoRoot:t}=e;return(0,m.basename)(t)});return{type:"remoteBranch",key:`remoteBranch:${o.join("|")}:${n}`,name:n,branches:r,isFavorite:r.some(e=>{let{repoRoot:t,branch:n}=e;return oT({repoRoot:t,branchType:"REMOTE",branchName:n.name})}),repos:o.length===e.length?null:o}});return t?sZ(r):r}sW.__docgenInfo={description:"",methods:[],displayName:"VcsLogCommitsView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let sQ=(0,U.cn)(async e=>{let t=await e(of),n=e(sY("directory")),r=e(sJ)&&e(sY("repository"));return[{type:"head"},{type:"branchType",branchType:"LOCAL",children:r?t.map(e=>({type:"repository",key:`LOCAL:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:sU([e],n)})):sU(t,n)},{type:"branchType",branchType:"REMOTE",children:r?t.map(e=>({type:"repository",key:`REMOTE:repository:${e.repoRoot}`,repoRoot:e.repoRoot,children:sG([e],n)})):sG(t,n)}]}),sZ=rw({shouldCollapseDirectories:!1,getPath:e=>e.name}),sY=(0,er.xu)(e=>(0,U.cn)(!1)),sJ=(0,U.cn)(e=>e(e9).length>1),sX=ia(g.createRef()),s0=ia(new Set),s1=ia(new Set),s2=ia(""),s5=[{id:"directory",title:"Directory",icon:(0,et.jsx)(B.vq,{icon:"actions/GroupByPackage.svg"}),isActive:sY("directory"),isAvailable:!0},{id:"repository",title:"Repository",isActive:sY("repository"),isAvailable:sJ}],s3=(0,U.cn)(e=>s5.filter(t=>"boolean"!=typeof t.isAvailable?e(t.isAvailable):t.isAvailable).map(t=>({...t,isActive:e(sY(t.id))})));function s8(){let e=(0,eE.lV)((0,g.useCallback)((e,t)=>e=>{t(sY(e),e=>!e)},[])),t=(0,T.Dv)(s3);return(0,et.jsx)(oG,{groupings:t,onToggle:e})}s8.__docgenInfo={description:"",methods:[],displayName:"BranchesGroupByActionButton"};let s4={branchType:e=>{var t;return(0,et.jsx)(D.c,{textValue:(t=e.branchType)[0].toUpperCase()+t.slice(1).toLowerCase(),childItems:e.children,children:(0,et.jsx)(nx.J,{})},`${e.type}:${e.branchType}`)},localBranch:e=>(0,et.jsx)(D.c,{textValue:(0,m.basename)(e.name),children:(0,et.jsx)(nw.e,{children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:(0,et.jsx)(i9,{branches:e.branches})}),children:t=>(0,et.jsxs)(nw.e.Group,{...t,children:[e.isCurrent?(0,et.jsx)(_.a,{tooltip:(0,et.jsxs)(aE.u,{children:["Current ",e.isFavorite&&"favorite ","branch"]}),children:t=>(0,et.jsx)(nw.e.Group,{...t,children:(0,et.jsx)(B.vq,{icon:e.isFavorite?"/platform/dvcs-impl/resources/icons/currentBranchFavoriteLabel.svg":"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg"})})}):(0,et.jsx)(B.vq,{icon:"vcs/branchNode"}),(0,et.jsx)(nx.J,{}),e.repos&&(0,et.jsxs)(nw.e.Hint,{children:["(",e.repos.join(", "),")"]})]})})})},`${e.key}`),remoteBranch:e=>(0,et.jsx)(D.c,{textValue:(0,m.basename)(e.name),children:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(B.vq,{icon:e.isFavorite?"nodes/favorite.svg":"vcs/branchNode"}),(0,et.jsx)(nx.J,{}),e.repos&&(0,et.jsxs)(nw.e.Hint,{children:["(",e.repos.join(", "),")"]})]})},`${e.key}`),repository:e=>(0,et.jsx)(D.c,{textValue:(0,m.basename)(e.repoRoot),childItems:e.children,children:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(oN,{rootPath:e.repoRoot}),(0,et.jsx)(nx.J,{})]})},`${e.key}`),directory:e=>(0,et.jsx)(D.c,{textValue:(0,m.basename)(e.dirPath),childItems:e.children,children:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(B.vq,{icon:"nodes/folder.svg"}),(0,et.jsx)(nx.J,{})]})},`${e.type}_${e.parentNodePath}${e.dirPath}`),head:e=>(0,et.jsx)(D.c,{textValue:"HEAD (Current Branch)",children:(0,et.jsx)(nx.J,{})},`${e.type}`)},s6=e=>{let[t,n,r]=e.split(":");return"head"===t?"HEAD":"localBranch"===t||"remoteBranch"===t?r??null:null},s7=v.zo.input`
  all: unset;
  flex: 1;
  align-self: stretch;
`,s9=v.zo.div`
  min-width: 0; // don't outgrow the container
  flex-grow: 1; // fill the available space
  display: flex;
  flex-direction: column;
`,le=v.zo.span`
  display: inline-flex;
  margin-top: -0.0625rem;
  margin-left: 0.7rem;
  margin-right: 0.25rem;
  cursor: text;
`;function lt(e){let{tabKey:t}=e,n=(0,T.Dv)(nD(sQ)),[r,o]=(0,T.KO)(s0(t)),[i,a]=(0,T.KO)(s1(t)),[s,l]=(0,T.KO)(s2(t)),c=(0,T.Dv)(sX(t)),d=(0,g.useRef)(null),u=(0,g.useRef)(null),[p,h]=(0,g.useState)(!1),m=(0,T.b9)(iu.branch);return(0,et.jsxs)(s9,{children:[(0,et.jsxs)(ao,{children:[(0,et.jsx)(le,{children:(0,et.jsx)(B.vq,{icon:"actions/search"})}),(0,et.jsx)(s7,{ref:u,tabIndex:-1,value:s,onChange:e=>l(e.target.value),onFocus:()=>{h(!0)},onBlur:()=>{h(!1)}})]}),(0,et.jsx)(nv.b,{ref:d,treeRef:c,focusProxyRef:u,items:n??[],selectionMode:"multiple",selectedKeys:r,onSelectionChange:o,expandedKeys:i,onExpandedChange:a,onAction:e=>{let t=s6(`${e}`);t&&m([t])},fillAvailableSpace:!0,showAsFocused:p,searchTerm:s,onSearchTermChange:l,keepSearchActiveOnBlur:!0,hideSpeedSearchPopup:!0,isSearchActive:!0,children:e=>s4[e.type](e)})]})}lt.__docgenInfo={description:"",methods:[],displayName:"BranchesTree",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let ln="Git.DeleteBranch",lr="Git.Compare.With.Current",lo="Git.Show.My.Branches",li="Git.Fetch",la="Git.Toggle.Favorite",ls=td.ZP.div.withConfig({displayName:"VcsBranchesView__StyledContainer",componentId:"sc-vamle4-0"})(["display:flex;height:100%;"]);function ll(e){let{tabKey:t}=e,n=(0,T.Dv)(sX(t)),r=[{id:rA.GIT_UPDATE_SELECTED,title:"Update Selected",icon:(0,et.jsx)(B.vq,{icon:"actions/checkOut"}),actionPerformed:()=>{ty()}},{id:ln,title:"Delete branch",icon:(0,et.jsx)(B.vq,{icon:"actions/gc"}),useShortcutsOf:"SafeDelete",actionPerformed:()=>{ty()}},{id:lr,title:"Compare with current",icon:(0,et.jsx)(B.vq,{icon:"actions/diff"}),useShortcutsOf:rA.SHOW_DIFF,actionPerformed:()=>{ty()}},{id:lo,title:"Show My Branches",icon:(0,et.jsx)(B.vq,{icon:"actions/find"}),actionPerformed:()=>{ty()}},{id:li,title:"Fetch All Remotes",icon:(0,et.jsx)(B.vq,{icon:"vcs/fetch"}),actionPerformed:()=>{ty()}},{id:la,title:"Mark/Unmark as Favorite",icon:(0,et.jsx)(B.vq,{icon:"nodes/favorite"}),actionPerformed:()=>{ty()}},...(0,na.x)({treeRef:n})];return(0,et.jsx)(R.DG,{actions:r,children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(ls,{...n,children:[(0,et.jsx)(ld,{}),(0,et.jsx)(lt,{tabKey:t})]})}})}let lc=(0,td.ZP)(oq.o).withConfig({displayName:"VcsBranchesView__StyledToolbar",componentId:"sc-vamle4-1"})(["height:100%;flex-shrink:0;"]);function ld(){return(0,et.jsxs)(lc,{border:"right",orientation:"vertical",children:[(0,et.jsx)(ns.K,{actionId:rA.GIT_LOG_HIDE_BRANCHES}),(0,et.jsx)(oq.J,{}),(0,et.jsx)(ns.K,{actionId:rA.GIT_CREATE_NEW_BRANCH}),(0,et.jsx)(ns.K,{actionId:rA.GIT_UPDATE_SELECTED}),(0,et.jsx)(ns.K,{actionId:ln}),(0,et.jsx)(ns.K,{actionId:lr}),(0,et.jsx)(ns.K,{actionId:lo}),(0,et.jsx)(ns.K,{actionId:li}),(0,et.jsx)(ns.K,{actionId:la}),(0,et.jsx)(ns.K,{actionId:rA.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH}),(0,et.jsx)(oq.J,{}),(0,et.jsx)(s8,{}),(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]})}ll.__docgenInfo={description:"",methods:[],displayName:"VcsBranchesView",props:{tabKey:{required:!0,tsType:{name:"string"},description:""}}};let lu=e=>{let t=nD(e);return n0({id:rA.COPY_REVISION_NUMBER,title:"Copy Revision Number",icon:(0,et.jsx)(B.vq,{icon:"actions/copy.svg"}),isDisabled:(0,U.cn)(e=>!e(t)?.length),useShortcutsOf:tb.$.COPY_REFERENCE,actionPerformed:async t=>{let{get:n}=t,r=await n(e);tS()(r.join(" ")).catch(console.error)}})},lp=n0({id:rA.LOG_REFRESH,title:"Refresh",icon:(0,et.jsx)(B.vq,{icon:"actions/refresh.svg"}),useShortcutsOf:tb.$.REFRESH,actionPerformed:e=>{let{set:t}=e;t(ix)}}),lh=lu(iC),lm=()=>[(0,T.Dv)(lh),(0,T.Dv)(lp)],lf=v.zo.div`
  min-height: 70%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 50px;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  white-space: nowrap;
`;function lg(){let e=(0,R.DI)();return(0,et.jsx)(lf,{children:(0,et.jsxs)("div",{style:{textAlign:"center"},children:["To track changes to code:",(0,et.jsx)("br",{}),(0,et.jsx)(tf.r,{onPress:()=>e(rA.GIT_INIT),children:"Create Git repository..."}),(0,et.jsx)("br",{}),(0,et.jsx)(tf.r,{onPress:ty,children:"Use Local History..."}),(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),(0,et.jsx)(B.vq,{style:{verticalAlign:"text-top"},icon:"general/contextHelp.svg"})," ",(0,et.jsx)(tf.r,{onPress:ty,children:"Version Control integration"})," "]})})}lg.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindowZeroState"};let ly=(0,U.cn)(.25),lb=(0,U.cn)(.35),lv=v.zo.span`
  margin: 0 0.5rem 0 0.125rem;
`,lw=v.zo.div`
  height: 100%;
  display: flex;
  :focus-visible {
    outline: none;
  }
`,lx=(0,U.cn)(g.createRef()),lA=()=>{let e=(0,T.Dv)(it),[t,n]=(0,T.KO)(ir);return(0,T.Dv)(e9).length>0?(0,et.jsx)(re.y,{headerContent:(0,et.jsx)(lv,{children:"Git:"}),activeKey:t,onActiveKeyChange:e=>n(`${e}`),children:e.map(e=>(0,et.jsx)(re.y.View,{tabContent:(0,et.jsx)(lM,{tabKey:e}),children:(0,et.jsx)(lk,{tabKey:e})},e))}):(0,et.jsx)(nt.n,{headerContent:"Version Control",children:(0,et.jsx)(lg,{})})},lj=v.zo.button.attrs({tabIndex:-1})`
  box-sizing: border-box;
  all: unset;
  width: 1.71875rem;
  align-items: center;
  display: flex;
  flex-direction: column;
  padding: 0.5rem 0;
  gap: 0.625rem;
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  :disabled {
    color: ${e=>{let{theme:t}=e;return t.color("Button.disabledText")}};
  }
  &:hover {
    background: ${e=>{let{theme:t}=e;return t.color("ToolWindow.Button.hoverBackground",t.dark?"#0f0f0f28":"#55555528")}};
  }
`,lT=(0,v.zo)(lj)`
  border-right: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
`,lC=v.zo.span`
  writing-mode: vertical-lr;
  transform: rotateZ(180deg);
  font-size: 0.6875rem;
`;function lS(e){let{onPress:t}=e;return(0,et.jsxs)(lT,{onClick:t,children:[(0,et.jsx)(B.vq,{icon:"actions/arrowExpand"}),(0,et.jsx)(lC,{children:"Branches"})]})}function lk(e){let{tabKey:t}=e,[n,r]=(0,T.KO)(ly),[o,i]=(0,T.KO)(lb),a=[...lm(),(0,T.Dv)(lN),(0,T.Dv)(lE),(0,T.Dv)(lR),(0,T.Dv)(lI),(0,T.Dv)(lP),lD],[s,l]=(0,T.KO)(is(t)),c=s?{firstView:(0,et.jsx)(ll,{tabKey:t}),firstSize:n,onFirstResize:r,firstViewMinSize:85}:{};return(0,et.jsx)(R.DG,{actions:a,children:e=>{let{shortcutHandlerProps:n}=e;return(0,et.jsxs)(lw,{...n,tabIndex:s?-1:0,children:[!s&&(0,et.jsx)(lS,{onPress:()=>l(!0)}),(0,et.jsx)(rr.D,{...c,innerView:(0,et.jsx)(sW,{tabKey:t}),innerViewMinSize:200,lastView:(0,et.jsx)(se,{tabKey:t}),lastSize:o,onLastResize:i,lastViewMinSize:40})]})}})}let lR=n0({id:rA.MATCH_CASE,title:"Match Case",icon:(0,et.jsx)(B.vq,{icon:"actions/matchCase.svg"}),actionPerformed:e=>{let{get:t,set:n}=e;n(id.matchCase(t(ir)),e=>!e)}}),lE=n0({id:rA.GIT_LOG_HIDE_BRANCHES,title:"Hide Git Branches",icon:(0,et.jsx)(B.vq,{icon:"actions/arrowCollapse"}),actionPerformed:e=>{let{get:t,set:n}=e;n(is(t(ir)),!1)}}),lI=n0({id:rA.REG_EXP,title:"Regex",icon:(0,et.jsx)(B.vq,{icon:"actions/regex"}),actionPerformed:e=>{let{get:t,set:n}=e;n(id.regExp(t(ir)),e=>!e)}}),lP=n0({id:rA.SHOW_DETAILS,title:"Show Details",description:"Display details panel",actionPerformed:e=>{let{get:t,set:n}=e;n(il(t(ir)),e=>!e)}}),lN=n0({id:rA.FOCUS_TEXT_FILTER,title:"Focus Text Filter",actionPerformed:e=>{let{get:t}=e;t(lx).current?.focus()}}),lD={id:rA.SHOW_DIFF_PREVIEW,title:"Show Diff Preview",description:"Show Diff Preview Panel",actionPerformed:()=>ty()};function lM(e){let{tabKey:t}=e,n=(0,eE.lV)(ih);return(0,et.jsx)(ar.v,{title:(0,T.Dv)(io(t)),closeButton:"MAIN"!==t&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Close Tab"}),children:(0,et.jsx)($.W,{onPress:()=>n(t)})})})}lA.__docgenInfo={description:"",methods:[],displayName:"VersionControlToolWindow"};let lB=[{id:"Project",title:"Project",icon:(0,et.jsx)(B.vq,{icon:"toolwindows/toolWindowProject"}),content:(0,et.jsx)(n9,{}),initialState:(0,ne.x5)({isVisible:!0,weight:.23})},{id:"Terminal",title:"Terminal",icon:(0,et.jsx)(B.vq,{icon:"toolwindows/toolWindowProject"}),content:(0,et.jsx)(nt.n,{headerContent:"Terminal",children:(0,et.jsx)(ni,{})}),initialState:(0,ne.x5)({anchor:"bottom"})},{id:ae,title:"Commit",icon:(0,et.jsx)(B.vq,{icon:"toolwindows/toolWindowCommit"}),content:(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(an,{})}),initialState:(0,ne.x5)({anchor:"left",isSplit:!0,isVisible:!1})},{id:"Version Control",title:"Version Control",icon:(0,et.jsx)(B.vq,{icon:"toolwindows/toolWindowChanges"}),content:(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(lA,{})}),initialState:(0,ne.x5)({anchor:"bottom",weight:.35})}];var lF=n("77298"),lO=n("29514"),l_=n("69842");let lL=(0,U.cn)(!1),lz=(0,U.cn)(null);var l$=n("83212"),lq=n("52973");let lK=td.ZP.div.withConfig({displayName:"TasksPopup__StyledPopupTitle",componentId:"sc-rjwznj-0"})(["flex:1;text-align:center;overflow:hidden;text-overflow:ellipsis;margin:0 0.625rem;"]);function lH(){let e=(0,T.b9)(lL),t=(0,T.Dv)(oX),n=o8(),[r,o]=(0,T.KO)(lz);return(0,et.jsx)(lq.GI,{bounds:r||{width:300,left:window.innerWidth-300-150,top:window.innerHeight-80*t.length-30-100},onBoundsChange:e=>{o(e)},minHeight:100,minWidth:300,nonDismissable:!0,interactions:"all",children:(0,et.jsx)(lq.GI.Layout,{header:(0,et.jsxs)(lq.GI.Header,{hasControls:!0,children:[(0,et.jsx)(lK,{children:"Background Tasks"}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aE.u,{children:"Hide"}),children:(0,et.jsx)(oW.hU,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>e(!1),children:(0,et.jsx)(B.vq,{icon:"general/hideToolWindow"})})})]}),content:(0,et.jsx)(et.Fragment,{children:t.map((e,r)=>(0,et.jsxs)(g.Fragment,{children:[(0,et.jsx)(sw.ko,{style:{margin:".5rem 0.75rem"},name:e.title,isIndeterminate:e.progress.isIndeterminate,"aria-label":`Progress of ${e.title}`,details:e.progress.text||(e.progress.secondaryText?(0,et.jsx)(et.Fragment,{children:"\xa0"}):void 0),secondaryDetails:e.progress.secondaryText,value:e.progress.fraction,maxValue:1,button:e.isCancelable&&(0,et.jsx)(l_.b,{onPress:()=>n(e.id)})}),t[r+1]&&(0,et.jsx)(l$.lX,{})]},e.id))})})})}function lV(e){return(0,et.jsx)(sw.ko,{dense:!0,namePosition:"side",width:146,...e})}lH.__docgenInfo={description:"",methods:[],displayName:"TasksPopup"};let lW=td.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__Spacer",componentId:"sc-vrkr3d-0"})(["width:0.5rem;"]),lU=td.ZP.span.withConfig({displayName:"StatusBarTaskProgressBar__StyledProgressBarButton",componentId:"sc-vrkr3d-1"})(["cursor:pointer;","{cursor:unset;}"],sw.ko.Container),lG=()=>{let e=(0,T.Dv)(o0),t=(0,T.Dv)(o1),n=o8(),[r,o]=(0,T.KO)(lL);return(0,g.useEffect)(()=>{0===t&&o(!1)},[t]),(0,et.jsxs)(et.Fragment,{children:[e&&!r&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aE.u,{children:`${e.title}. Click to see all running background tasks.`}),children:(0,et.jsx)(sl.V,{preventFocusOnPress:!0,excludeFromTabOrder:!0,onPress:()=>{o(!0)},children:(0,et.jsx)(lU,{children:(0,et.jsx)(lV,{name:e.progress.text||e.title,isIndeterminate:e.progress.isIndeterminate,value:e.progress.fraction,maxValue:1,button:(0,et.jsx)(et.Fragment,{children:e.isCancelable&&(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aE.u,{children:"Cancel"}),children:(0,et.jsx)(l_.b,{small:!0,onPress:()=>n(e.id)})})})})})})}),(t>1||r)&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lW,{}),(0,et.jsxs)(tf.r,{onPress:()=>o(e=>!e),children:[r?"Hide processes":"Show all"," (",t,")"]})]}),r&&t>0&&(0,et.jsx)(lH,{})]})};lG.__docgenInfo={description:'Intentionally, "processes" haven\'t been abstracted as an extension point for different features, since the focus\nhere is not to create an IDE, but to demo UI components.',methods:[],displayName:"StatusBarTaskProgressBar"};var lQ=n("60947");let lZ=(0,U.cn)(async e=>{let t=e(tO)?.filePath;return(t&&await e(te(t)))??e(e9)[0]?.dir}),lY=(0,U.cn)(async e=>{let t=await e(lZ);return t?e(oh(t)):null}),lJ=(d=(0,U.cn)(async e=>{let t=e(tO)?.filePath??await e(lZ);return t?e(og(t)):null}),(0,er.kv)(d,(e,t)=>e instanceof Promise?Promise.all([e,t]).then(e=>{let[t,n]=e;return t??n??t}):e??t??e)),lX=(0,U.cn)(async e=>{let t=await e(lJ);if(t)return{detached:!1,head:t};let n=await e(lZ);if(n){let e=await (0,y.qq)({fs:r,dir:n,ref:"HEAD"}).catch(e=>null);return e?{detached:!0,head:e}:null}return null});var l0=n("80850"),l1=n("80842"),l2=n("70920");function l5(e,t){return e?.remoteBranches.some(e=>`${e.remote}/${e.name}`===t)?"CLASHING_WITH_REMOTE":e?.localBranches.some(e=>{let{name:n}=e;return n===t})?"EXISTING":null}let l3=RegExp(`(^\\.)|(^-)|(^/)|(\\.\\.)+|[ ~:^?*\\[\\\\]+|(@\\{)+|[${Array(32).fill(null).map((e,t)=>String.fromCharCode(t)).join("")}u007F]`);function l8(e){return e.replace(l3,"_")}let l4=v.zo.div`
  padding: 0.5rem 1rem;
`,l6=(0,v.zo)(l2.U)`
  width: 100%;
`,l7={EXISTING:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," already exists ",(0,et.jsx)("br",{})]}),CLASHING_WITH_REMOTE:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," clashes with remote branch ",(0,et.jsx)("br",{}),"with the same name"]})};function l9(e){let{branchName:t,repoRoot:n,close:o}=e,[i,a]=(0,g.useState)(t),[s,l]=(0,g.useState)(!1),c=(0,S.L)(),d=(0,T.Dv)(oh(n)),u=function(){let e=ok();return(0,eE.lV)((0,g.useCallback)(async(t,n,o,i,a)=>{await (0,y.R_)({fs:r,dir:o,oldref:i,ref:a}),n(oh(o));let s={branchType:"LOCAL",branchName:i,repoRoot:o};oS(t(oA),t(oj),s)&&(e(s,!1),e({...s,branchName:a},!0))},[]))}(),p=l5(d,i),h=p&&s?"error":"valid";return(0,et.jsx)(nz.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(n$.b,{header:`Rename branch ${t}`,content:(0,et.jsx)(l4,{children:(0,et.jsx)("form",{id:"branch_rename_form",onSubmit:e=>{e.preventDefault(),p?l(!0):u(d.repoRoot,t,i).catch(e=>{c.show({icon:"Error",title:"Unexpected error",body:`Could not rename branch ${t} to ${i}.`}),console.error("Branch rename error: ",e)}).then(()=>{o()})},children:(0,et.jsx)(l6,{labelPlacement:"above",label:"New branch name:",value:i,onChange:e=>{a(l8(e)),l(!0)},validationState:h,validationMessage:p&&"error"===h?l7[p]?.(t):void 0})})}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:o,children:"Cancel"}),(0,et.jsx)(nK.z,{variant:"default",type:"submit",form:"branch_rename_form",isDisabled:!!p&&s,children:"Rename"})]})})})})}l9.__docgenInfo={description:"",methods:[],displayName:"RenameBranchWindow",props:{branchName:{required:!0,tsType:{name:"string"},description:""},repoRoot:{required:!0,tsType:{name:"string"},description:""},close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let ce=v.zo.div`
  box-sizing: border-box;
  padding: 0 0.375rem;
  display: flex;
  align-items: center;
  width: 100%;
`,ct=v.zo.div`
  flex: 1;
  text-align: center;
  overflow: hidden;
  text-overflow: ellipsis;
  margin: 0 0.625rem;
`,cn=(0,U.cn)(void 0);function cr(e){let{close:t}=e,n=(0,T.Dv)(nD(of)),[o,i]=(0,T.KO)(cn),[a,s]=(0,g.useState)(o??{}),l=(0,R.BH)(rA.GIT_CREATE_NEW_BRANCH),c=(0,eE.lV)((0,g.useCallback)((e,t,n,o)=>(0,y.NA)({fs:r,dir:n,ref:o}).then(()=>{t(oh(n))}),[])),d=(0,S.L)(),u=(0,A.S)(),p=(0,eE.lV)((0,g.useCallback)(async(e,t,n,o,i)=>{let a=ek(e,t);await (0,y.JE)({fs:r,dir:n,remote:i,ref:o}),console.log(`checked out branch ${o}`),t(oh(n)),t(eS(n));let s=e(tB);t(tB,await ol(async e=>{let{filePath:t}=e,n=await r.promises.exists(t);return console.log(`updating the content of the file ${t}`,n),n&&await a(t),n},s))},[])),{isFavorite:h,toggleFavorite:m}=oR();if(!n)return null;let b=1===n.length?`Git Branches in ${f().basename(n[0].repoRoot)}`:"Git Branches";return(0,et.jsx)(lq.GI,{interactions:"all",minHeight:55,minWidth:300,bounds:a,onBoundsChange:(e,t)=>{"resize"===t&&i({width:e.width,height:e.height}),s(e)},children:(0,et.jsx)(l0.F,{header:(0,et.jsx)(lq.GI.Header,{hasControls:!0,children:(0,et.jsxs)(ce,{children:[(0,et.jsx)(ct,{children:b}),(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Fetch"}),children:(0,et.jsx)(oW.hU,{onPress:()=>{ty(),t()},children:(0,et.jsx)(B.vq,{icon:"vcs/fetch.svg"})})}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Restore Popup Size"}),children:(0,et.jsx)(oW.hU,{isDisabled:void 0===o,onPress:()=>{i(void 0),s(e=>{let{width:t,height:n,...r}=e;return{...r}})},children:(0,et.jsx)(B.vq,{icon:"general/fitContent.svg"})})})]})]})}),content:(0,et.jsxs)(oH.w,{"aria-label":b,submenuBehavior:"toggleOnPress",fillAvailableSpace:!0,autoFocus:"first",disabledKeys:n.flatMap(e=>{let{localBranches:t,repoRoot:n}=e;return t.filter(e=>{let{trackingBranch:t}=e;return!t}).map(e=>{let{name:t}=e;return`${n}/pull-${t}`})}),onAction:e=>{let[t,r,o]=`${e}`.split("//");async function i(e){try{await e()}catch(e){e instanceof y.D1.CheckoutConflictError?d.show({icon:"Error",title:"Git Checkout Problem",body:e.message}):d.show({icon:"Error",title:"Checkout failed",body:`Could not checkout branch ${r}`})}}if(e===l?.id)return l?.perform();switch(o){case"delete":return c(t,r).then(()=>{d.show({title:`Deleted branch: ${r}`,icon:"Info",actions:(0,et.jsx)(l1.g,{onPress:ty,children:"Restore"})})},()=>{d.show({title:`Could not deleted branch: ${r}`,icon:"Error"})});case"rename":return u.open(e=>{let{close:n}=e;return(0,et.jsx)(l9,{repoRoot:t,branchName:r,close:n})});case"checkout":return i(()=>p(t,r));case"remote-checkout":return function(){let e=n?.find(e=>{let{repoRoot:n}=e;return n===t})?.remoteBranches.find(e=>{let{name:t,remote:n}=e;return`${n}/${t}`===r});if(e)return i(()=>p(t,e.name,e.remote))}();default:return ty()}},onClose:t,children:[l&&(0,et.jsx)(D.c,{textValue:l.title,children:(0,et.jsx)(O._,{icon:l.icon,content:l.title})},l.id),(0,et.jsx)(D.c,{children:"Checkout Tag or Revision..."},"checkout_revision"),n.flatMap(e=>{let{remoteBranches:t,localBranches:r,repoRoot:o,currentBranch:i}=e,a=(e,t)=>n.length>1?`${e} in ${f().basename(t)}`:e,s=(e,t)=>[!t&&(0,et.jsx)(D.c,{children:`Compare with '${e}'`},`${o}//${e}//compare-with-branch`),(0,et.jsx)(D.c,{children:"Show Diff with Working Tree"},`${o}//${e}//show-diff-with-working-tree`),(0,et.jsx)(nk.i,{},"compare-actions-divider")],l=(e,t)=>t&&e!==t&&[(0,et.jsx)(D.c,{children:`Rebase '${t}' onto '${e}'`},`${o}//${e}//rebase-current-onto`),(0,et.jsx)(D.c,{children:`Merge '${e}' onto '${t}'`},`${o}//${e}//merge-into-current`),(0,et.jsx)(nk.i,{},"merge-actions-divider")];return[(0,et.jsx)(oU.$,{title:a("Local Branches",o),children:r.map(e=>{let{name:t,trackingBranch:n}=e,r=t===i?.name,a={branchName:t,branchType:"LOCAL",repoRoot:o};return(0,et.jsxs)(D.c,{textValue:t,title:(0,et.jsx)(O._,{content:t,icon:(0,et.jsx)(sf,{isFavorite:h(a),isCurrent:r,onClick:()=>{m(a)}}),shortcut:n&&(0,et.jsx)(nw.e.Hint,{small:!0,children:n})}),children:[!r&&(0,et.jsx)(D.c,{children:"Checkout"},`${o}//${t}//checkout`),(0,et.jsx)(D.c,{children:`New Branch from '${t}'...`},`${o}//${t}//new-branch-from`),!r&&(0,et.jsx)(D.c,{children:`Checkout and rebase onto '${t}'`},`${o}//${t}//checkout-and-rebase-onto`),(0,et.jsx)(nk.i,{},"new-branch-actions-divider"),s(t,r),l(t,i?.name),(0,et.jsx)(D.c,{children:"Update"},`${o}//${t}//pull`),(0,et.jsx)(D.c,{children:"Push..."},`${o}//${t}//push`),(0,et.jsx)(nk.i,{},"push-divider"),(0,et.jsx)(D.c,{children:"Rename..."},`${o}//${t}//rename`),!r&&(0,et.jsx)(D.c,{children:"Delete"},`${o}//${t}//delete`)]},`${o}//${t}`)})},`${o}//local_branches`),(0,et.jsx)(oU.$,{title:a("Remote Branches",o),children:t.map(e=>{let t=`${e.remote}/${e.name}`,n={branchName:t,branchType:"REMOTE",repoRoot:o};return(0,et.jsxs)(D.c,{textValue:t,title:(0,et.jsx)(O._,{content:t,icon:(0,et.jsx)(sf,{isFavorite:h(n),onClick:()=>{m(n)}})}),children:[(0,et.jsx)(D.c,{children:"Checkout"},`${o}//${t}//remote-checkout`),(0,et.jsx)(D.c,{children:`New Branch from '${t}'...`},`${o}//${t}//new-branch-from`),(0,et.jsx)(D.c,{children:`Checkout and rebase onto '${t}'`},`${o}//${t}//checkout-and-rebase-onto`),(0,et.jsx)(nk.i,{},"new-branch-actions-divider"),s(t,!1),l(t,i?.name),(0,et.jsx)(D.c,{children:`Pull into '${t}' Using Merge`},`${o}//${t}//pull-into-using-merge`),(0,et.jsx)(D.c,{children:`Pull into '${t}' Using Rebase`},`${o}//${t}//pull-into-using-rebase`),(0,et.jsx)(nk.i,{}),(0,et.jsx)(D.c,{children:"Delete"},`${o}//${t}//delete`)]},`${o}//${t}`)})},`${o}//remote_branches`)]})]})})})}cr.__docgenInfo={description:"",methods:[],displayName:"BranchesPopup",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let co=!1,ci=()=>{let e=(0,S.L)(),t=(0,T.Dv)(e9),n=(0,R.DI)();return async()=>{t.length<2&&!co&&(co=!0,e.showSticky({title:"Clone another repository",icon:(0,et.jsx)(B.vq,{icon:"actions/quickfixOffBulb.svg"}),body:"Git integration in the example app supports multiple repos within the same project. See it in action by cloning another repo",actions:(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(l1.g,{onPress:()=>{n("ExampleApp.cloneExampleRepo")},children:"Clone another repo"})})}))}};function ca(){let e=(0,T.Dv)(nD(lX)),t=ci();return e&&(0,et.jsx)(lQ.q,{placement:"top",onOpenChange:e=>{e||setTimeout(t,500)},popup:e=>{let{close:t}=e;return(0,et.jsx)(cr,{close:t})},children:(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:e.detached?"Git: Detached HEAD doesn't point to any branch":`Git Branch: ${e.head}`}),children:(0,et.jsx)(lO.V,{icon:(0,et.jsx)(B.vq,{icon:e.detached?"general/warning.svg":"vcs/branch.svg"}),label:e.head.slice(0,e.detached?8:void 0)})})})}ca.__docgenInfo={description:"",methods:[],displayName:"BranchPopupTrigger"};let cs=td.ZP.div.withConfig({displayName:"IdeStatusBar__StyledLastMessage",componentId:"sc-1hz1fp-0"})(["margin-left:0.75rem;cursor:pointer;"]),cl=()=>{let e=(0,T.Dv)(t_);return(0,et.jsx)(lF.A,{left:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(B.vq,{icon:"general/tbHidden.svg",role:"button",onClick:ty}),(0,et.jsx)(cs,{children:"Tooltip content or last message will show up here."})]}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lG,{}),(0,et.jsx)(lO.V,{onPress:ty,label:"LF"}),(0,et.jsx)(lO.V,{onPress:ty,label:`${e.lineNumber},${e.column}`}),(0,et.jsx)(lO.V,{label:"UTF-8"}),(0,et.jsx)(ss.b,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(N.v2,{...t,onAction:ty,children:[(0,et.jsx)(D.c,{children:"Configure Indents for Typescript"}),(0,et.jsx)(D.c,{children:"Disable Indents Detection for Project"})]})},children:(e,t)=>(0,et.jsx)(lO.V,{...e,ref:t,label:"2 spaces"})}),(0,et.jsx)(ss.b,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsxs)(N.v2,{...t,onAction:ty,children:[(0,et.jsxs)(D.c,{title:"Compile",children:[(0,et.jsx)(D.c,{children:"packages/jui/tsconfig.json"}),(0,et.jsx)(D.c,{children:"packages/jui/src/StatusBar/StatusBar.stories.tsx"}),(0,et.jsx)(D.c,{children:"Compile All"})]}),(0,et.jsx)(nk.i,{}),(0,et.jsx)(D.c,{children:(0,et.jsx)(O._,{icon:(0,et.jsx)(B.vq,{icon:"javaee/updateRunningApplication.svg"}),content:"Restart Typescript Service"})}),(0,et.jsx)(D.c,{children:(0,et.jsx)(O._,{icon:(0,et.jsx)(B.vq,{icon:"general/settings.svg"}),content:"Configure Typescript..."})})]})},children:(e,t)=>(0,et.jsx)(lO.V,{...e,ref:t,label:"TypeScript 4.4.3"})}),(0,et.jsx)(ca,{}),(0,et.jsx)(lO.V,{icon:(0,et.jsx)(B.vq,{icon:"ide/readwrite.svg"})}),(0,et.jsx)(lO.V,{icon:(0,et.jsx)(B.vq,{icon:"ide/fatalError.svg"})})]})})};cl.__docgenInfo={description:"",methods:[],displayName:"IdeStatusBar"};var cc=n("91555");let cd=()=>(0,et.jsx)(N.v2,{disabledKeys:["showDiff"],"aria-label":"Context menu",onAction:ty,children:(0,et.jsx)(D.c,{textValue:"Show Diff",children:(0,et.jsx)(O._,{icon:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"}),content:"Show Diff"})},"showDiff")});cd.__docgenInfo={description:"",methods:[],displayName:"RollbackTreeContextMenu"};let cu=v.zo.div`
  box-sizing: border-box;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 0;
`,cp=v.zo.div`
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  flex: 1;
  overflow: auto;
`,ch=v.zo.div`
  &:not(:empty) {
    line-height: 1.5;
    padding-left: 0.375rem;
    margin-bottom: 0.75rem;
  }
`;function cm(){let e=(0,T.Dv)(rq),t=(0,T.Dv)(rz).map(rT),{fileCountsMap:n}=(0,T.Dv)(r8),[r,o]=(0,T.KO)(rL),i=(0,T.Dv)(r$),[a,s]=(0,g.useState)(new Set(t.slice(0,1))),[l,c]=(0,g.useState)(e),[d,u]=(0,g.useState)(new Set(t)),p=(0,cc.T)({rootNodes:i,getKey:e=>e.key,getChildren:e=>rS(e)?e.children:null},{selectedKeys:d,onSelectedKeysChange:u}),h=(0,T.Dv)(ru).filter(e=>d.has(rT(e))),m=rh(),f=(0,S.L)(),y=(0,T.b9)(r_),b=()=>y(!1),v=(0,g.useRef)(null),w=(0,na.x)({treeRef:v}),[x,A]=(0,g.useState)(!1),j=h.some(e=>"ADDED"===e.type);return(0,et.jsx)(nz.Du,{onClose:b,bounds:r,onBoundsChange:o,minHeight:200,minWidth:275,children:(0,et.jsx)(n$.b,{header:"Rollback changes",content:(0,et.jsx)(R.DG,{actions:w,children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(cu,{...t,children:[(0,et.jsxs)("div",{style:{display:"flex"},children:[(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(oW.hU,{isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"actions/diff"})}),(0,et.jsx)(oK.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(N.v2,{...t,selectedKeys:[],onAction:ty,children:(0,et.jsx)(oU.$,{title:"Group By",children:rP.map(e=>(0,et.jsx)(D.c,{children:e.title},e.id))})})},children:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"})})]}),(0,et.jsx)("span",{style:{flex:1}}),(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]})]}),(0,et.jsx)(cp,{children:(0,et.jsx)(P.X,{renderMenu:()=>(0,et.jsx)(cd,{}),style:{height:"100%"},children:(0,et.jsx)(oo.G,{treeRef:v,items:i,selectionMode:"multiple",selectedKeys:a,onSelectionChange:s,expandedKeys:l,onExpandedChange:c,nestedSelection:p,fillAvailableSpace:!0,children:e=>{let t=oz.getItemProps({node:e,fileCountsMap:n});return(0,et.jsxs)(D.c,{...t,children:[e.children?.length!==0&&(0,et.jsx)(oi.x,{selectionState:p.getSelectionState(e),onToggle:()=>p.toggle(e)}),t.children]})}})})})]})}}),footer:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("div",{style:{padding:".5rem 0.75rem 0",display:"flex",flexDirection:"column"},children:[(0,et.jsx)(ch,{children:(0,et.jsx)(iK,{changes:h})}),(0,et.jsx)(nq.X,{isDisabled:!j,isSelected:x,onChange:A,mnemonic:"D",children:"Delete local copies of the added files"})]}),(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:b,mnemonic:"C",children:"Close"}),(0,et.jsx)(nK.z,{variant:"default",mnemonic:"R",isDisabled:0===h.length,onPress:()=>{m(h,x).catch(e=>{f.show({title:"Reverting changes failed",icon:"Error",body:"Could not revert selected changes. See console for more info"}),console.error("Git revert error:",e)}).finally(b)},children:"Rollback"})]})})]})})})}cm.__docgenInfo={description:"",methods:[],displayName:"RollbackWindow"};let cf=(0,U.cn)(new ne.iC(Object.fromEntries(lB.map(e=>{let{id:t,initialState:n}=e;return[t,n]})),{removedFromSideBarIds:lB.filter(e=>{let{showStripeButton:t}=e;return!1===t}).map(e=>{let{id:t}=e;return t})}));var cg=n("31671"),cy=n("10879"),cb=n("98688");let cv=[{actionId:tb.$.EXPAND_SELECTION,title:"Press $shortcut to expand selection"},{actionId:tb.$.SHRINK_SELECTION,title:"Press $shortcut to shrink selection"}],cw=()=>{let e=(0,x.og)(),t=(0,g.useMemo)(()=>cv.map(t=>{let{actionId:n,title:r}=t;return{keyboardShortcut:e?.[n]?.find(e=>"keyboard"===e.type),title:r}}).filter(e=>{let{keyboardShortcut:t}=e;return t}).map(e=>{let{keyboardShortcut:t,title:n}=e;return n.replace("$shortcut",(0,cb.W)(t))}),[e]),[n,r]=(0,g.useState)(Math.floor(Math.random()*t.length));return{current:t[n],next:()=>{let e=Math.floor(Math.random()*(t.length-1)),o=e<n?e:e+1;console.log("changing index to",o,"tmpIndex",e),r(o)}}};var cx=n("48233"),cA=n("91346");let cj=g.forwardRef(function(e,t){let n=(0,cx.B)(t),{focusableProps:r}=(0,cA.k)({autoFocus:e.autoFocus},n);return(0,et.jsx)("input",{...(0,V.d)(r,e),ref:n})});cj.__docgenInfo={description:"",methods:[],displayName:"Input"};let cT={isOpen:(0,U.cn)(!1),tab:(0,U.cn)("All"),contextElement:(0,U.cn)(null),initialSearchQuery:(0,er.xu)(e=>(0,U.cn)("")),bounds:(0,U.cn)(null)};function cC(e){let{hasContent:t,persistedBoundsAtom:n,noContentHeight:r,minHeight:o,...i}=e,a=(0,T.b9)(n),[s,l]=(0,g.useState)((0,T.Dv)(n)??{top:150,height:Math.max(200,window.innerHeight-300)}),c=(0,g.useRef)(s.height);return(0,g.useEffect)(()=>{l(e=>({...e,height:t?c.current:r}))},[t]),(0,et.jsx)(lq.GI,{...i,bounds:s,onBoundsChange:e=>{t&&(c.current=e.height,a(e)),l(e)},minHeight:t?o:r})}cC.__docgenInfo={description:"A special type of popup, where the content can be toggled on and off. Needed only for SearchEveryWhere at the moment,\nbut extracted as a component, to collocate related pieces, rather than leave them with the rest of the code in the\ncomponent.\n- Updates persisted {@param boundsState}, when the bounds are changed, only if the content is shown when the bounds\n  is changed.\n- Minimizes the popup into {@param noContentHeight}, when {@param hasContent} is `false`.\n- Restores the popup height to it's latest value, or based on content, when {@param hasContent} changes to `true`.\n- Returns the right to be applied based on the input {@param minHeight} and {@param hasContent}.",methods:[],displayName:"ContentAwarePopup",props:{hasContent:{required:!0,tsType:{name:"boolean"},description:"Whether the popup has content. If `false`, the popup is minimized to `noContentHeight`."},noContentHeight:{required:!0,tsType:{name:"number"},description:"The minimized height of the popup, when there is no content."},persistedBoundsAtom:{required:!0,tsType:{name:"WritableAtom",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]},{name:"tuple",raw:"[Partial<Bounds> | null]",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]}]},{name:"void"}],raw:"WritableAtom<\n  Partial<Bounds> | null,\n  [Partial<Bounds> | null],\n  void\n>"},description:"Persisted state of the popup bounds, in form of an atom."}}};var cS=n("12746"),ck=n("90297"),cR=n("81863");let cE=v.zo.span`
  width: 0.9375rem;
  margin-right: 0.25rem;
  display: inline-flex;
  justify-content: center;
`,cI=(0,v.zo)(nw.e)`
  min-height: 1.375rem;
  width: 100%;
  padding: 0;
`,cP=v.zo.span`
  color: ${e=>{let{theme:t,isDisabled:n}=e;return n&&t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
`,cN=v.zo.div`
  flex: 1;
`;function cD(e){let{action:t,highlights:n}=e,{isSelected:r}=(0,g.useContext)(nA.k)||{};return(0,et.jsxs)(cI,{children:[(0,et.jsx)(cE,{children:t.icon}),(0,et.jsx)(cP,{isDisabled:t.isDisabled,children:r?(0,et.jsx)(ck.x,{highlights:n,children:t.title}):t.title}),(0,et.jsx)(nw.e.Hint,{style:{fontSize:".85em",fontWeight:"bold"},children:t.shortcut}),(0,et.jsx)(cN,{}),(0,et.jsx)(nw.e.Hint,{style:{marginRight:"-0.375rem"},children:(function(e,t){let n=(0,cR.nf)(e)?e.parent:null,r=[];for(;n;)r.unshift(t?n[t]:n),n=n.parent;return r})(t,"title").join(" | ")})]})}cD.__docgenInfo={description:"UI of actions in SearchEverywhere list",methods:[],displayName:"ActionItem",props:{action:{required:!0,tsType:{name:"Action"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:""}}};let cM={id:"Actions",title:"Actions",actionId:tb.$.GO_TO_ACTION,use:e=>{let{everyWhereAutoSet:t}=e,n=(0,T.Dv)(cT.contextElement),[r,o]=(0,g.useState)(null),i=(0,g.useMemo)(()=>n?(0,R.C9)(n):[],[n]),a=r??t,s=[{id:tb.$.SHOW_INTENTION_ACTIONS,title:"Assign a shortcut",actionPerformed:ty}];return{search:e=>{let t=i.map(t=>({highlights:(0,cS.M)(t.title,e),action:t})).filter(t=>{let{action:n,highlights:r}=t;return r||(0,cS.M)(n.description||"",e)});return a?t:t.filter(e=>{let{action:t}=e;return!t.isDisabled})},searchDeps:[a],isEverywhere:a,toggleEverywhere:()=>{o(e=>!e)},searchAdvertiser:(0,et.jsx)(tv.i,{actionId:tb.$.SHOW_INTENTION_ACTIONS,children:e=>`Press ${e} to assign a shortcut`}),headerFilters:(0,et.jsx)(nq.X,{preventFocus:!0,isSelected:a,onChange:e=>{o(e)},mnemonic:"d",children:"Include disabled actions"}),actions:s,processSelectedItem(e){let{action:t}=e;t?.perform({event:null,element:n})},getKey:e=>{let{action:t}=e;return t.id},getItemText(e){let{action:{title:t}}=e;return t},renderItem(e){let{action:t,highlights:n}=e;return(0,et.jsx)(cD,{action:t,highlights:n})}}}};var cB=n("65617");function cF(e){let{file:t,matches:n}=e,{isSelected:r}=(0,g.useContext)(nA.k)||{},o=t.name,i=f().dirname(t.relativePath),[a,s]=(0,cB.Z)(e=>e.from>=i.length,n||[]),l=s.map(e=>{let{from:t,to:n}=e;return{from:t-i.length,to:n-i.length}});return(0,et.jsxs)(cI,{children:[(0,et.jsx)(cE,{children:(0,et.jsx)(B.vq,{icon:Y(t.path)})}),(0,et.jsx)(cP,{children:r?(0,et.jsx)(ck.x,{highlights:l,children:o}):o}),(0,et.jsx)(nw.e.Hint,{children:r?(0,et.jsx)(ck.x,{highlights:a,children:i}):i})]})}cF.__docgenInfo={description:"UI of paths in SearchEverywhere list.",methods:[],displayName:"FileItem",props:{file:{required:!0,tsType:{name:"ProjectFsItem"},description:""},matches:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:"matches on file.relativePath"}}};let cO={id:"Files",title:"Files",actionId:tb.$.GO_TO_FILE,use:()=>{let e=(0,T.Dv)(nD(eq))??[],{openPath:t}=tU(),n=nb();return{search:t=>e.map(e=>({matches:(0,cS.M)(e.relativePath,t),file:e})).filter(e=>{let{matches:t}=e;return t?.length}),searchDeps:[],isEverywhere:!0,processSelectedItem(e){let{file:r}=e;r?.type==="file"&&t(r.path,!0),r?.type==="dir"&&n(r.path)},getKey(e){let{file:t}=e;return t.path},renderItem(e){let{file:t,matches:n}=e;return(0,et.jsx)(cF,{file:t,matches:n})},getItemText(e){let{file:{relativePath:t}}=e;return t}}}},c_="SearchEverywhere.PrevTab",cL="SearchEverywhere.NextTab",cz=v.zo.div`
  display: flex;
  width: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Header.background")}};
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,c$=v.zo.button`
  all: unset;
  background: ${e=>{let{theme:t,selected:n}=e;return n&&t.color("SearchEverywhere.Tab.selectedBackground")}};
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Tab.selectedForeground")}};
  opacity: ${e=>{let{disabled:t}=e;return t&&".5"}};
`,cq=v.zo.span`
  display: flex;
  padding: 0 0.75rem;
  height: 1.8rem;
  align-items: center;
`,cK=v.zo.div`
  line-height: normal;
  border-bottom: none;
`,cH=v.zo.div`
  display: flex;
  flex-shrink: 0;
  height: 1.85rem;
  align-items: center;
  padding: 0 0.75rem 0;
  gap: 0.75rem;

  input {
    all: unset;
    flex: 1;
    line-height: 1.25;

    &::selection {
      color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}};
      background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
    }
  }
`,cV=v.zo.div`
  height: 24rem;
  flex: 1;
  min-height: 0; // for it to properly fill the remaining height and not to exceed that
`,cW=v.zo.hr`
  all: unset;
  height: 1px;
  width: 100%;
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,cU=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.infoForeground")}};
  white-space: nowrap;
`,cG=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("SearchEverywhere.SearchField.infoForeground"))}};
  font-size: 0.7rem;
  min-height: 1.375rem;
`,cQ=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  position: absolute;
  text-align: center;
  width: 100%;
  top: 50%;
`,cZ=[cM,cO],cY={},cJ="LOAD_MORE_ITEM_KEY";function cX(){let e=(0,T.b9)(cT.isOpen),[t,n]=(0,T.KO)(cT.tab),[r,o]=(0,g.useState)(!1),[i,a]=(0,g.useState)((0,T.Dv)(cT.initialSearchQuery(t))),s=(0,T.b9)(cT.initialSearchQuery(t)),l=(0,tv.k)(),[c,d]=(0,g.useState)(new Set),u={};cZ.forEach(e=>{u[e.id]={...e,...e.use({everyWhereAutoSet:r})}});let p=cZ.filter(e=>""===t||e.id===t).map(e=>{let{id:t}=e;return u[t]}),[h,m]=(0,g.useState)(30),{searchResult:f}=(0,g.useMemo)(()=>({searchResult:p.flatMap(e=>e.search(i).map(t=>({key:`${e.id}_${e.getKey(t)}`,contributor:e,item:t})))}),[i,t,...p.flatMap(e=>{let{searchDeps:t}=e;return t})]),y=u[t],b=(0,g.useMemo)(()=>{let e=f.slice(0,h);return f.length>e.length&&e.push({key:cJ,item:cY,contributor:null}),e},[h,f]),v=(0,g.useRef)(null),w=e=>{let t=v.current&&e.includes(v.current);y?.isEverywhere&&!t&&o(!1),a(e)};(0,g.useEffect)(()=>{i&&s(i)},[i,t]),(0,g.useEffect)(()=>{if(f[0]){let{key:e}=f[0];d(new Set([e])),S.current?.setFocusedKey(e),requestAnimationFrame(()=>{S.current?.setFocusedKey(e)})}m(30)},[f]);let x=[{id:c_,title:"Prev tab",description:"Switch to previous tab in Search Everywhere dialog",actionPerformed:()=>{let e=cZ.findIndex(e=>{let{id:n}=e;return t===n});n(""===t?cZ.slice(-1)[0].id:cZ[e-1]?.id||"")}},{id:cL,title:"Next tab",description:"Switch to next tab in Search Everywhere dialog",actionPerformed:()=>{let e=cZ.findIndex(e=>{let{id:n}=e;return t===n});n(cZ[e+1]?.id||"")}}],A=cZ.flatMap(e=>{let{id:r,actionId:o,title:i}=e;return o?[{id:o,title:`Find ${i}`,description:`Quickly go to ${i} by name`,actionPerformed:()=>{t!==r?n(r):y?.toggleEverywhere?.()}}]:[]}),j=()=>e(!1),C=(0,g.useRef)(null),S=(0,g.useRef)(null),k=e=>{if(e===cJ){m(e=>e+30);let e=f[b.length+1];e&&setTimeout(()=>{d(new Set([e.key])),S.current?.setFocusedKey(e.key)})}else j(),setTimeout(()=>{let t=f.find(t=>t.key===e);t?.contributor.processSelectedItem(t.item)},50)},E=cw();return(0,et.jsx)(cC,{persistedBoundsAtom:cT.bounds,hasContent:!!i,noContentHeight:59,minWidth:670,minHeight:160,interactions:"all",onClose:j,children:(0,et.jsx)(R.DG,{actions:[...y?.actions||[],...A,...x],children:e=>{let{shortcutHandlerProps:r}=e;return(0,et.jsx)("div",{...r,style:{height:"inherit"},children:(0,et.jsx)(lq.GI.Layout,{header:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(lq.GI.Header,{hasControls:!0,children:(0,et.jsxs)(cz,{children:[(0,et.jsx)("div",{style:{flex:1},children:(0,et.jsxs)(cg.m,{TabComponent:c$,TabsComponent:cK,selectedKey:t,onSelectionChange:e=>n(e),children:[(0,et.jsx)(D.c,{children:(0,et.jsx)(cq,{children:"All"})},""),cZ.map(e=>{let t=l(e.actionId),n=(0,et.jsx)(cq,{children:e.title});return(0,et.jsx)(D.c,{children:t?(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(aE.u,{children:t}),children:(0,et.jsx)("span",{children:n})}):n},e.id)})]})}),y?.headerFilters,(0,et.jsx)(oW.hU,{style:{margin:"0 0.5rem"},isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"actions/moveToLeftBottom"})})]})}),(0,et.jsxs)(cH,{children:[(0,et.jsx)(B.vq,{icon:"actions/search"}),(0,et.jsx)(cy.MT,{contain:!0,children:(0,et.jsx)(cj,{ref:C,autoFocus:!0,onFocus:e=>{e.target.select()},value:i,onChange:e=>w(e.currentTarget.value)})}),(0,et.jsx)(cU,{children:y?.searchAdvertiser})]})]}),content:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(cW,{}),i&&(0,et.jsxs)(cV,{children:[(0,et.jsx)(sx.a,{focusProxyRef:C,selectionManagerRef:S,items:b,selectionMode:"single",showAsFocused:!0,shouldFocusWrap:!0,fillAvailableSpace:!0,selectedKeys:c,onSelectionChange:d,onAction:k,children:e=>{let{key:t,item:n,contributor:r}=e;if(t===cJ)return(0,et.jsx)(D.c,{children:(0,et.jsx)(cG,{children:"...more"})},cJ);let o=r.getItemText(n);return(0,et.jsx)(D.c,{textValue:o,"aria-label":o,children:r.renderItem(n)},t)}}),0===f.length&&(0,et.jsx)(cQ,{children:"No actions with such name found"})]})]}),footer:(0,et.jsxs)(lq.GI.Hint,{children:[E.current," ",(0,et.jsx)(tf.r,{onPress:E.next,children:"Next Tip"})]})})})}})})}cX.__docgenInfo={description:"TODO: implement history navigation",methods:[],displayName:"SearchEverywherePopup"};let c0=async(e,t,n)=>{let o=await y.ZP.findRoot({fs:r,filepath:n});await y.ZP.add({fs:r,dir:o,filepath:f().relative(o,n)}),await ta(e,t,n)};var c1=n("58249"),c2=n("65465");let c5=(0,v.zo)(c1.I)`
  width: 20.5rem;
  /**
     * To have the validation box shadow not clipped by the popup.
     * Maybe it should be an option on input to make sure margin is always in sync with the box-shadow thickness
     */
  margin: 3px;

  input {
    padding-top: 1px;
    padding-bottom: 1px;
  }
`,c3=(0,v.zo)(lq.GI.Header)`
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.border()}};
`;function c8(e){let{title:t,inputName:n="Name",onSubmit:r,validationMessage:o,validationType:i="error",value:a,onChange:s}=e,[l,c]=(0,g.useState)(!1);return(0,et.jsx)(lq.GI,{children:(0,et.jsx)(l0.F,{header:(0,et.jsx)(c3,{children:t}),content:(0,et.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},onMouseDown:()=>{c(!0)},children:(0,et.jsx)(as.S,{isOpen:!!o&&!l,placement:"top start",offset:6,crossOffset:-6,tooltip:(0,et.jsx)(c2.p,{type:i,children:o}),children:(0,et.jsx)(c5,{appearance:"embedded",validationState:o?i:void 0,placeholder:n,value:a,onChange:e=>{c(!1),s(e.target.value)}})})})})})}c8.__docgenInfo={description:"A simple Popup with an input, used in actions such as create file, or create directory",methods:[],displayName:"NewItemPopup",props:{inputName:{defaultValue:{value:'"Name"',computed:!1},required:!1,tsType:{name:"string"},description:""},validationType:{defaultValue:{value:'"error"',computed:!1},required:!1,tsType:{name:"union",raw:'"error" | "warning"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{name:"newValue",type:{name:"string"}}],return:{name:"void"}}},description:""},validationMessage:{required:!1,tsType:{name:"string"},description:""}}};let c4=n0({id:"NewFile",icon:(0,et.jsx)(B.vq,{icon:"fileTypes/text"}),title:"File",description:"Create new file",isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async e=>{let{get:t}=e,n=t(eH);if(0===n.length)return;let o=t(eU).current,i=(await r.promises.stat(n[0])).isDirectory()?n[0]:f().dirname(n[0]);if(!o)throw Error("Could not find popup manager");o.show(e=>{let{close:t}=e;return(0,et.jsx)(c6,{close:t,destinationDir:i})})}});function c6(e){let{destinationDir:t,close:n}=e,r=(0,eE.lV)((0,g.useCallback)(async(e,t,r,o)=>{let i=f().join(r,o),a=e(tW),s=e(eG).current,l=await e(te(i));await nZ(e,t,r,o),n(),a.focus(),await c9(()=>document.activeElement instanceof HTMLTextAreaElement),l&&s?.open(e=>{let{close:t}=e;return et.jsx(c7,{filepath:i,close:t})})},[n])),[o,i]=(0,g.useState)(""),[a,s]=(0,g.useState)(""),l=async()=>{let e=f().join(t,o),n=await ew(e);n?.isFile()?s(`A file with the name '${f().basename(o)}' already exists`):n?.isDirectory()?s(`A directory with the name '${f().basename(o)}' already exists`):await r(t,o)};return(0,et.jsx)(c8,{title:"New File",onSubmit:()=>{o&&l()},value:o,onChange:e=>{s(""),i(e)},validationMessage:a})}function c7(e){let{close:t,filepath:n}=e,r=(0,eE.lV)(c0);return(0,et.jsx)(nz.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(n$.b,{header:"Add File to Git",content:(0,et.jsx)(et.Fragment,{children:(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem",padding:"0.75rem 0.75rem 0rem"},children:[(0,et.jsx)(B.vq,{icon:"general/questionDialog.svg",size:32}),(0,et.jsxs)("div",{children:["Do you want to add the following file to Git?",(0,et.jsx)("br",{}),n,(0,et.jsx)("br",{}),(0,et.jsx)("br",{}),"If you choose Cancel, you can still add it later manually."]})]})}),footer:(0,et.jsx)(n$.b.Footer,{left:(0,et.jsx)(nq.X,{isDisabled:!0,children:"Don't ask again"}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(nK.z,{autoFocus:!0,variant:"default",onPress:()=>{r(n).then(t)},children:"Add"})]})})})})}async function c9(e,t){void 0===t&&(t=2e3),!e()&&!(t<0)&&(await new Promise(e=>setTimeout(e,50)),await c9(e,t-50))}let de=e=>{let t=(0,g.useRef)(null),n=(0,g.useRef)(e);return n.current=e,function(){t.current?.abort(),t.current=new ef.qf.cancelToken;for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];(0,ef.qf)(function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n.current(...r)})(t.current,...r)}},dt=n0({id:"NewDir",icon:(0,et.jsx)(B.vq,{icon:Q}),title:"Directory",description:"Create new directory",isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async e=>{let{get:t}=e,n=t(eH);if(0===n.length)return;let o=t(eU).current,i=(await r.promises.stat(n[0])).isDirectory()?n[0]:f().dirname(n[0]);if(!o)throw Error("Could not find popup manager");o.show(e=>{let{close:t}=e;return(0,et.jsx)(dn,{close:t,destinationDir:i})})}});function dn(e){let{destinationDir:t,close:n}=e,r=(0,eE.lV)(nY),[o,i]=(0,g.useState)(""),[a,s]=(0,g.useState)(null),l=de(function*(e,t){s((yield dr(e,t)))});(0,g.useEffect)(()=>{l(t,o)},[t,o]);let c=async()=>{null==await dr(t,o)&&(await r(t,o),n())};return(0,et.jsx)(c8,{title:"New Directory",onSubmit:()=>{o&&c()},value:o,onChange:i,validationMessage:a?.message,validationType:a?.type})}let dr=async function(e,t){let n=f().join(e,t);if(!t)return null;if(t.includes("."))return{type:"warning",message:'Note: "." in the name is treated as a regular character. Use "/" instead if you mean to create nested directories'};let r=await ew(n);return r?.isFile()?{type:"error",message:`A file with the name '${t}' already exists`}:r?.isDirectory()?{type:"error",message:`A directory with the name '${t}' already exists`}:null},di=n0({id:"CopyFileName",title:"File Name",isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async e=>{let{get:t}=e;if(ty(),0===t(eH).length)return}}),da=n0({id:"CopyAbsolutePath",title:"Absolute Path",isDisabled:(0,U.cn)(e=>!e(eV)),useShortcutsOf:"CopyPaths",actionPerformed:async e=>{let{get:t}=e;if(ty(),0===t(eH).length)return}}),ds=n0({id:rA.CopyPathFromRepositoryRootProvider,title:"Path From Repository Root",isDisabled:(0,U.cn)(e=>!e(eV)),actionPerformed:async e=>{let{get:t}=e;if(ty(),0===t(eH).length)return}});var dl=n("45890");let dc=(0,U.cn)(async()=>{let e=await fetch("https://api.github.com/repos/alirezamirian/jui/tags");if(!e.ok)throw e;let t=await e.json();return(0,tN.Z)([(0,tD.Z)((0,dl.Z)("date"))],await Promise.all(t.map(async e=>{let t=await fetch(`https://api.github.com/repos/alirezamirian/jui/commits/${e.commit.sha}`);if(!t.ok)throw t;let n=await t.json(),r=e.name.replace(/^docs\//,"");return{name:r,url:`https://alirezamirian.github.io/jui/-/${r}/example-app`,date:new Date(n.commit.author.date)}})))}),dd=n0({id:"example-app.switchVersion",icon:(0,et.jsx)(B.vq,{icon:"fileTypes/text"}),title:"Switch version",description:"Change to other versions of this demo app",actionPerformed:async e=>{let{get:t}=e,n=t(eU).current;if(!n)throw Error("Could not find popup manager");try{let e=await t(dc);n.show(t=>{let{close:n}=t;return(0,et.jsx)(du,{close:n,tags:e})})}catch(e){tg.value?.show({icon:"Error",title:"Could not fetch versions",body:(e=>{if(e instanceof Response){let t=e.headers.get("x-ratelimit-reset");return`Github API rate limit is reached. Try again ${t?`after ${new Date(1e3*parseInt(t)).toLocaleTimeString()}`:"later"}.`}return"Unexpected error happened while fetching versions data."})(e)})}}});function du(e){let{tags:t,close:n}=e;return(0,et.jsx)(lq.GI,{children:(0,et.jsx)(l0.F,{header:(0,et.jsx)(lq.GI.Header,{children:(0,et.jsx)("div",{style:{padding:"0 .5rem"},children:"Switch demo app version"})}),content:(0,et.jsx)(oH.w,{items:t,fillAvailableSpace:!0,onAction:e=>{window.location.href=`${e}`,n()},children:e=>(0,et.jsx)(D.c,{children:(0,et.jsx)(O._,{content:e.name,shortcut:(0,et.jsx)(nw.e.Hint,{children:e.date.toLocaleDateString()})})},e.url)})})})}let dp=(e,t,n,r)=>{let{element:o}=n;o&&(t(cT.isOpen,!0),t(cT.tab,r),t(cT.contextElement,o))},dh=g.createContext(null),dm=()=>{let e=(0,g.useContext)(dh);return{open:t=>{e?.current?.changeState(e=>e.show(t)),e?.current?.focus(t)}}},df=()=>{let e=(0,eE.lV)(or),t=tc();return[function(){let e=(0,eE.lV)(on),t=dm(),n=(0,T.b9)(i5),r=(0,T.Dv)(eH),o=(0,T.Dv)(nD(eq)),i=nW(r),a=(0,T.Dv)(ru),s=i.some(e=>a.find(t=>(function(e,t){let n=f().relative(e,t);return!n||!n.startsWith("..")&&!f().isAbsolute(n)})(e,rs.path(t)))),l=i.every(e=>o?.some(t=>"dir"===t.type&&t.path===e));return{id:rA.CHECKIN_FILES,title:l?dy.format({count:i.length}):dg.format({count:i.length}),isDisabled:!s,actionPerformed:()=>{e(),t.open(ae),n()}}}(),function(){let e=dm(),t=(0,T.b9)(i5),n=(0,eE.lV)((0,g.useCallback)((e,t)=>{let n=e(rX),r=n.values().next().value;if(0===n.size){let n=e(rf)?.changes.map(rT);t(rX,new Set(n)),r=n?.[0]}if(r){let{rootNodes:n}=e(r8);t(r2,new Set([...e(r2),...(0,rB.Bp)(e=>rS(e)?e.children:null,e=>e.key,n,[r])])),t(rG,new Set([r]))}},[]));return{id:rA.CHECKIN_PROJECT,title:"Commit",actionPerformed:()=>{n(),e.open(ae),t()}}}(),function(){let e=tU(),t=(0,T.Dv)(rY);return{id:rA.JUMP_TO_SOURCE,title:"Jump to source",icon:(0,et.jsx)(B.vq,{icon:"actions/editSource.svg"}),actionPerformed:()=>{[...t].forEach((t,n,r)=>{let o=rs.path(t);o||e.openPath(o,n===r.length-1)})}}}(),{id:rA.ROLLBACK,title:"Rollback...",icon:(0,et.jsx)(B.vq,{icon:"actions/rollback.svg"}),actionPerformed:t=>{e(!!t)}},{id:rA.REFRESH,title:"Refresh VCS Changes",description:"Refresh VCS Changes",icon:(0,et.jsx)(B.vq,{icon:"actions/refresh.svg"}),actionPerformed:t},{id:rA.SHOW_DIFF,title:"Show Diff",description:"Compare files or revisions.",icon:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"}),actionPerformed:ty},{id:rA.SHELVE,title:"Shelve Changes...",description:"Save changes to an external patch file and remove them from the code",icon:(0,et.jsx)(B.vq,{icon:"vcs/shelve.svg"}),actionPerformed:ty},...function(){let e=(0,T.Dv)(rY),t=[{id:rA.NEW_CHANGELIST,title:"New Changelist...",description:"Create new changelist",icon:(0,et.jsx)(B.vq,{icon:"general/add.svg"}),actionPerformed:ty}];return e.size>0&&t.push({title:"Move to Another Changelist...",description:"Move selected changes to another changelist",id:rA.MOVE_TO_ANOTHER_CHANGELIST,actionPerformed:ty}),t}()]},dg=new nJ.C(`{count, plural,
    =1 {Commit File...}
    other {Commit Files...}
  }`,"en-US"),dy=new nJ.C(`{count, plural,
    =1 {Commit Directory...}
    other {Commit Directories...}
  }`,"en-US"),db=(0,U.cn)(async e=>ol(async t=>{let n=await e(te(t));if(n){let o=await y.ZP.isIgnored({fs:r,dir:n,filepath:f().relative(n,t)}),i=await r.promises.stat(t).then(e=>e.isFile()).catch(()=>!1)&&await e(ti(t))==="NOT_CHANGED";return!o&&!i}return!1},e(eH))),dv=(0,U.cn)(async e=>0===(await e(db)).length),dw=n0({id:rA.GIT_ADD,title:"Add",icon:(0,et.jsx)(B.vq,{icon:"general/add.svg"}),useShortcutsOf:rA.ADD_UNVERSIONED,isDisabled:dv,actionPerformed:async e=>{let{get:t,set:n}=e,r=await t(db);await Promise.all(r.map(e=>c0(t,n,e)))}}),dx=n0({id:rA.GIT_INIT,title:"Create Git Repository...",actionPerformed:async e=>{let{get:t,set:n}=e,o=t(ez),i=t(eH)[0],a=await ew(i),s=a?.isDirectory()?i:o.path;await y.ZP.init({fs:r,dir:s}),n(e9,e=>e.filter(e=>e.dir!==s).concat({vcs:"Git",dir:s})),await tl(t,n)}});var dA=n("28353"),dj=n("49407");let dT=eP.z.object({"@name":eP.z.enum(["visitedUrls"]),list:e4(eP.z.object({option:e8(eP.z.union([eP.z.object({"@name":eP.z.enum(["url"]),"@value":eP.z.string()}),eP.z.object({"@name":eP.z.enum(["userName"]),"@value":eP.z.string()})]))}),"UrlAndUserName")}),dC=eP.z.object({"@name":eP.z.enum(["cloneParentDir"]),"@value":eP.z.string()}),dS=eX({visitedUrls:[],cloneParentDir:""},{storageFile:"vcs.xml",componentName:"GitRememberedInputs",schema:eP.z.object({option:e8(eP.z.union([dT,dC]))}),read:function(e){let{option:t}=void 0===e?{option:[]}:e;return{visitedUrls:t?.find(e=>"visitedUrls"===e["@name"])?.list.UrlAndUserName.map(e=>{let{option:t}=e;return{url:t.find(e=>"url"===e["@name"])?.["@value"],username:t.find(e=>"userName"===e["@name"])?.["@value"]}}).filter(e=>e.url)??[],cloneParentDir:t?.find(e=>"cloneParentDir"===e["@name"])?.["@value"]??""}},write:(e,t)=>({...t,option:t.option?.map(t=>"cloneParentDir"===t["@name"]&&e.cloneParentDir?{"@name":"cloneParentDir","@value":e.cloneParentDir}:"visitedUrls"===t["@name"]&&e.visitedUrls?{"@name":"visitedUrls",list:{UrlAndUserName:e.visitedUrls.map(e=>{let{url:t,username:n}=e;return{option:[{"@name":"url","@value":t},{"@name":"userName","@value":n??""}]}})}}:t)??[]})}),dk=(0,os.R)(dS,e=>e.path("visitedUrls")),dR=(0,os.R)(dS,e=>e.path("cloneParentDir"));function dE(e,t){let n="function"==typeof e?e:t,r="object"==typeof e?e:null;return function(e,t){let o=Object.fromEntries(Object.entries(r??{}).map(n=>{let[r,o]=n;return[r.replace(/(.*?)(Callback)?$/,"$1"),function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return o(e,t,...r)}]}));for(var i=arguments.length,a=Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return n({get:e,set:t,...o},...a)}}var dI=n("20298");let dP=v.zo.div`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,dN=new Map,dD=dE((e,t,n)=>{let{get:r}=e;return new Promise((e,n)=>{r(eG).current?.open(e=>{let{close:n}=e,r=dF.find(e=>e.canHandle(t))?.component??dO;return et.jsx(r,{callback:n,url:t})}).then(t=>{t?e(t):n()})})}),dM=["repo","gist","read:org","workflow","read:user","user:email"],dB=new URLSearchParams;dB.set("description","JUI GitHub Integration"),dB.set("scopes","repo,gist,read:org,workflow,read:user,user:email");let dF=[{component:function(e){let{callback:t,url:n}=e,r=URL.parse(n),o=r?.host,i=r?.pathname?.split("/").find(Boolean)??"",[a,s]=(0,g.useState)("");return(0,et.jsx)(nz.Du,{defaultBounds:{width:634},minHeight:"content",minWidth:500,children:(0,et.jsx)(n$.b,{header:"Login to Github",content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(dA.O,{children:(0,et.jsx)("form",{id:"credentials",onSubmit:e=>{e.preventDefault(),t({username:i,password:a})},children:(0,et.jsxs)(dP,{children:[(0,et.jsx)(l2.U,{label:"Server:",inputProps:{readOnly:!0},labelPlacement:"before",value:o}),(0,et.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,et.jsx)(l2.U,{label:"Token:",labelPlacement:"before",inputProps:{type:"password"},contextHelp:`The following scopes must be granted to the token: [${dM.join(", ")}]`,value:a,onChange:s}),(0,et.jsx)(nK.z,{href:`https://github.com/settings/tokens/new?${dB.toString()}`,target:"_blank",children:"Generate..."})]})]})})})}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(dI.h,{children:[(0,et.jsx)(nK.z,{variant:"default",type:"submit",form:"credentials",children:"Log In"}),(0,et.jsx)(nK.z,{onPress:()=>t(),children:"Cancel"})]})})})})},canHandle:e=>e.startsWith("https://github")}];function dO(e){let{url:t,callback:n}=e,r=URL.parse(t),[o,i]=(0,g.useState)(r?.username??""),[a,s]=(0,g.useState)("");return(0,et.jsx)(nz.Du,{children:(0,et.jsx)(n$.b,{header:`Login to ${r?.hostname??t}`,content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(dA.O,{children:(0,et.jsx)("form",{id:"credentials",onSubmit:e=>{e.preventDefault(),n({username:o,password:a})},children:(0,et.jsxs)(dP,{children:[(0,et.jsx)(l2.U,{label:"Username:",labelPlacement:"before",value:o,onChange:i}),(0,et.jsx)(l2.U,{label:"Password:",labelPlacement:"before",inputProps:{type:"password"},value:a,onChange:s}),(0,et.jsx)(nq.X,{mnemonic:"R",children:"Remember"})]})})})}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(dI.h,{children:[(0,et.jsx)(nK.z,{variant:"default",type:"submit",form:"credentials",children:"Log In"}),(0,et.jsx)(nK.z,{onPress:()=>n(),children:"Cancel"})]})})})})}let d_=dE({createTaskCallback:o5,gitAuthenticateCallback:dD},(e,t)=>{let{createTask:n,gitAuthenticate:r}=e,{title:o,run:i,...a}=t;return n({title:o},{...a,run:e=>{let{setIndeterminate:t,setFraction:n,setSecondaryText:o}=e;function a(e,r,i){void 0===r&&(r=1),void 0===i&&(i=1);let a=e.total*r/i;if(a){let t=e.loaded/a;n(t),o(`${e.phase}: ${Math.round(100*t)}% ${e.loaded}/${a}`)}else o(e.phase),t(!0)}return a.part=(e,t)=>n=>a(n,e,t),i({onProgress:a,onAuth:(e,t)=>dN.get(e)??r(e,t),onAuthFailure:e=>{dN.delete(e)},onAuthSuccess:(e,t)=>{dN.set(e,t)},onMessage:e=>{console.log("git message:",e)}})}})}),dL="https://cors.isomorphic-git.org";async function dz(e){return(0,y.fq)({http:b.Z,corsProxy:e.url?.match(/^https?:\/\/localhost/)?void 0:dL,...e})}async function d$(e){await (0,y.d9)({singleBranch:!0,fs:r,http:b.Z,corsProxy:dL,...e})}let dq=dE({createGitTaskCallback:d_},(e,t)=>{let{set:n,createGitTask:r}=e,{url:o,dir:i,onSuccess:a}=t;r({title:`Cloning source repository ${o}`,onFinished:a,run:async e=>{await d$({dir:i,url:o,singleBranch:!1,...e}).then(()=>{n(e9,e=>e.find(e=>e.dir===i)?e:e.concat({vcs:"Git",dir:i})),n(eS(f().resolve(i,"..")))},e=>{console.log("e",e),tg.value?.show({icon:"Error",title:"Clone failed",body:`Failed to clone git repo "${o} into ${i}: ${e}"`})})}})});var dK=n("28872"),dH=n("88109"),dV=n("75486"),dW=n("15239"),dU=n("49827"),dG=n("41379");let dQ=v.zo.div`
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${dV.s}; // FIXME: OS-dependant style?
`,dZ=(0,v.zo)(dW.w)`
  min-width: 120px;
  margin: ${dU.TU}px 0;
`;async function dY(e){return r.promises.readdir(e).then(async t=>(await Promise.all(t.map(async t=>{let n=f().join(e,t);return{fullPath:n,stat:await r.promises.stat(n)}}))).filter(e=>{let{stat:t}=e;return t.isDirectory()}).map(e=>{let{fullPath:t}=e;return t}))}function dJ(e){let{value:t,onChange:n,defaultValue:r,...o}=e,[i,a]=(0,dH.z)(t,r??"",n),[s,l]=(0,g.useState)(!1),c=(0,g.useRef)(null),d=(0,g.useRef)(null),[u,p]=(0,g.useState)(""),[h,m]=(0,g.useState)([]),y=()=>{w({clientX:(x?.x??0)+function(e){let t=e.selectionStart??e.value.length,n=window.getComputedStyle(e),r=document.createElement("span");r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="pre-wrap",r.style.font=n.font,r.style.fontSize=n.fontSize,r.style.fontWeight=n.fontWeight,r.style.fontFamily=n.fontFamily,r.style.letterSpacing=n.letterSpacing,r.style.border=n.border,r.style.paddingLeft=n.paddingLeft,r.textContent=e.value.substring(0,t),document.body.appendChild(r);let o=r.offsetWidth;return document.body.removeChild(r),o}(c.current),clientY:(x?.y??0)+(x?.height??0)+2}),p(i.slice(0,c.current?.selectionStart??void 0))};(0,g.useEffect)(()=>{s&&y()},[s,i]);let b=(0,dG.D)(s);(0,g.useEffect)(()=>{let e=u.split(f().sep),t=e.slice(0,-1).join(f().sep)||"/",n=e.length>1?e.slice(-1)[0]:"",r=!1;return dY(t).then(e=>{if(r)return;let t=e.map(e=>{let t=f().basename(e);return{fullPath:e,textValue:t}}).filter(e=>{let{textValue:t}=e;return!n||t.toLowerCase().includes(n.toLowerCase())});m(t),t.length>0&&!b&&c.current?.value.indexOf(u)===0&&c.current.setSelectionRange(u.length,c.current.value.length,"backward")}),()=>{r=!0}},[u]);let[v,w]=(0,g.useState)({clientX:0,clientY:0}),x=c.current?.getBoundingClientRect();return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(R.DG,{actions:[{id:tb.$.CODE_COMPLETION,title:"Autocomplete path",actionPerformed:()=>{y(),l(!0)}}],children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsx)(l2.U,{...o,value:i,onChange:a,inputRef:(0,dK.l)(c,o.inputRef),inputProps:(0,V.d)(o.inputProps??{},t,{onKeyDown:e=>{"Escape"===e.key&&l(!1)},onBlur:()=>{l(!1)}}),addonAfter:(0,et.jsxs)(et.Fragment,{children:[o.addonAfter,(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Browse... (\u21E7\u23CE)"}),children:e=>(0,et.jsx)(sa.v,{...e,style:{marginRight:".2rem"},role:"button",onClick:ty,icon:"general/openDisk.svg"})})]})})}}),s&&(0,et.jsx)(q.Z,{onClose:()=>{l(!1)},origin:v,disableAutoFocus:!0,children:(0,et.jsx)(dQ,{children:(0,et.jsx)(dZ,{ref:d,focusProxyRef:c,"aria-label":"Directories",shouldFocusOnHover:!0,shouldUseVirtualFocus:!0,autoFocus:"first",onAction:e=>{a(f().join(`${e}`,f().sep))},items:h,children:e=>{let{fullPath:t}=e;return(0,et.jsx)(D.c,{textValue:t,children:(0,et.jsxs)(nw.e,{children:[(0,et.jsx)(B.vq,{icon:Q}),f().basename(t)]})},t)}})})})]})}dJ.__docgenInfo={description:"",methods:[],displayName:"PathInputField",props:{value:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"string"},description:""}}};let dX=n0({id:rA.GIT_CLONE,title:"Clone...",actionPerformed:async e=>{let{get:t}=e,n=t(eG);n.current?.open(e=>{let{close:t}=e;return et.jsx(d2,{close:t})})}}),d0=n0({id:"ExampleApp.cloneExampleRepo",title:"Clone another repository...",isSearchable:!1,actionPerformed:e=>{let{get:t}=e,n=t(eG);n.current?.open(e=>{let{close:t}=e;return et.jsx(d2,{close:t,url:"https://github.com/thurwitz/example-branches.git"})})}}),d1=v.zo.div`
  padding: 1rem;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.75rem;
`;function d2(e){let{close:t,url:n}=e,[r,o]=(0,g.useState)(n??""),[i,a]=(0,T.KO)(dR),[s,l]=(0,T.KO)(dk),[c,d]=(0,g.useState)(""),[u,p]=(0,g.useState)(!0),[h,m]=(0,g.useState)(!1),y=(0,g.useRef)(null),b=(0,g.useRef)(null),v=function(e){e=d8(d8(e.trim(),"git clone"),"hg clone");try{return new URL(e),null}catch(t){if(d3.test(e))return null}return"Repository URL is a malformed URL"}(r),[w,x]=(0,g.useState)(""),A=(0,eE.lV)(dq);(0,g.useEffect)(()=>{if(u){let e=r.split(/\/{1,2}/).pop()?.replace(/\.git$/,"")??"";d(e?f().join(i,e):i)}},[i,r,u]);let j=async e=>{e.preventDefault(),m(!0);let n=await d5(c);if(n){x(n),b.current?.focus();return}if(v){y.current?.focus();return}a(f().dirname(c)),l(e=>e.find(e=>e.url===r)?e:e.concat({url:r})),A({url:r,dir:c,onSuccess:()=>{l(e=>e.map(e=>{let{url:t}=e;return t}).includes(r)?e:[...e,{url:r,username:""}])}}),t()};return(0,et.jsx)(nz.Du,{minWidth:600,minHeight:"content",children:(0,et.jsx)(n$.b,{header:"Get from Version Control",content:(0,et.jsx)(dA.O,{children:(0,et.jsx)("form",{id:"clone_form",onSubmit:j,children:(0,et.jsxs)(d1,{children:[(0,et.jsx)(dj.C,{inputRef:y,autoFocus:!0,label:"URL:",value:r,validationState:v&&h?"error":"valid",validationMessage:h&&v,onValueChange:e=>{o(e)},items:s,children:e=>{let{url:t}=e;return(0,et.jsx)(D.c,{children:t},t)}}),(0,et.jsx)(dJ,{inputRef:b,label:"Directory:",value:c,validationState:w&&h?"error":"valid",validationMessage:h&&w,onChange:e=>{d(e),p(!1),x("")}})]})})}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(nK.z,{variant:"default",isDisabled:!c||!r,type:"submit",form:"clone_form",children:"Clone"})]})})})})}async function d5(e){let t=await ew(e);return t?t.isDirectory()?(await r.promises.readdir(e)).length>0?"The directory already exists and is not empty":null:"Destination is not a directory":null}let d3=RegExp("^git@[\\w.-]+:[\\w./-]+\\.git$");function d8(e,t){return e.startsWith(t)?e.slice(t.length):e}var d4=n("77694");let d6=eP.z.union([eP.z.string(),eP.z.number()]).transform(Number),d7=eP.z.object({state:e8(eP.z.object({"@x":d6,"@y":d6,"@width":d6,"@height":d6,"@key":eP.z.string(),"@timestamp":d6,screen:eP.z.object({"@x":d6,"@y":d6,"@width":d6,"@height":d6})}))}),d9=eX({},{storageFile:eZ.PRODUCT_WORKSPACE_FILE,componentName:"WindowStateProjectService",schema:d7.optional(),read:e=>e?.state.reduce((e,t)=>Object.assign(e,{[t["@key"]]:{bounds:{left:t["@x"],top:t["@y"],width:t["@width"],height:t["@height"]},screen:{left:t.screen["@x"],top:t.screen["@y"],width:t.screen["@width"],height:t.screen["@height"]},timestamp:t["@timestamp"]}}),{})??{},write:e=>({state:Object.entries(e).map(e=>{let[t,n]=e;return{"@key":t,"@x":n.bounds.left,"@y":n.bounds.top,"@width":n.bounds.width,"@height":n.bounds.height,"@timestamp":n.timestamp,screen:{"@x":n.screen.left,"@y":n.screen.top,"@width":n.screen.width,"@height":n.screen.height}}})})});function ue(e){return(0,m.basename)(e.dir)}let ut=v.zo.div`
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 1rem 0.875rem 0.25rem;
  gap: 0.6rem;
`,un=v.zo.div`
  margin-left: -0.25rem; // to align with the field. Maybe something to look into in checkbox.
  display: flex;
  gap: 0.75rem;
`,ur={EXISTING:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," already exists. ",(0,et.jsx)("br",{}),"Change the name or overwrite existing branch"]}),CLASHING_WITH_REMOTE:e=>(0,et.jsxs)(et.Fragment,{children:["Branch name ",e," clashes with remote branch ",(0,et.jsx)("br",{}),"with the same name"]})};function uo(e){let{close:t}=e,[n,o]=(0,g.useState)(!0),[i,a]=(0,g.useState)(!1),s=(0,T.Dv)(lY),[l,c]=(0,g.useState)(!1),d=(0,S.L)(),u=(0,eE.lV)((0,g.useCallback)(function(e,t,n,o,i){return void 0===i&&(i=!0),(0,y.WY)({fs:r,dir:n,checkout:i,ref:o}).then(()=>{t(oh(n))})},[])),p=s?.currentBranch?.name,[h,m]=(0,g.useState)(p||""),f=l5(s,h),b=!f||"EXISTING"===f&&i,v=!b&&l?"error":"valid",w=()=>{b&&s?.repoRoot?u(s.repoRoot,h,n).catch(e=>{e instanceof y.D1.AlreadyExistsError?d.show({icon:"Error",title:"Unimplemented action",body:"Overwrite option is currently not supported."}):d.show({icon:"Error",title:"Unexpected error",body:`Could not create branch ${h}.`}),console.error("Branch creation error: ",e)}).then(()=>{t()}):c(!0)};return(0,et.jsx)(nz.Du,{minWidth:"content",minHeight:"content",children:(0,et.jsx)(n$.b,{header:"Create New Branch",content:(0,et.jsxs)(ut,{id:"create_branch_form",as:"form",onSubmit:e=>{e.preventDefault(),w()},children:[(0,et.jsx)(l2.U,{autoFocus:!0,autoSelect:!0,value:h,onChange:e=>{m(l8(e)),c(!0)},validationState:v,validationMessage:"error"===v&&f&&ur[f](h),label:"New branch name:",labelPlacement:"above"}),(0,et.jsxs)(un,{children:[(0,et.jsx)(nq.X,{mnemonic:"C",isSelected:n,onChange:o,children:"Checkout branch"}),(0,et.jsx)(nq.X,{isSelected:i,isDisabled:!l||"EXISTING"!==f,onChange:a,mnemonic:"r",children:"Overwrite existing branch"})]})]}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(nK.z,{variant:"default",type:"submit",form:"create_branch_form",isDisabled:"error"===v,children:"Create"})]})})})})}uo.__docgenInfo={description:"",methods:[],displayName:"CreateNewBranchWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let ui=n0({id:rA.GIT_CREATE_NEW_BRANCH,title:"New Branch\u2026",description:"Create new branch starting from the selected commit",icon:(0,et.jsx)(B.vq,{icon:"general/add.svg"}),actionPerformed:e=>{let{get:t}=e;t(eG).current?.open(e=>{let{close:t}=e;return et.jsx(uo,{close:t})})}}),ua=e=>(0,eI.j)(e,(t,n)=>(n(e,er.td),()=>{n(e,er.td)})),us=e=>(0,eI.j)(e,(t,n)=>(n(e),()=>{n(e)})),ul=(0,U.cn)(async e=>{let t=e(uA),n=await e(uv);return("all"===t?n.map(e=>{let{key:t}=e;return t}):[...t]).flatMap(e=>{let{repo:t,commit:r}=up(e);return t&&r?[{repoPath:t,oid:r}]:t?n.find(t=>t.key===e)?.children.map(e=>{let{commit:{repoPath:t,readCommitResult:{oid:n}}}=e;return{repoPath:t,oid:n}}):void 0}).filter(e=>void 0!=e)}),uc=aC(ul),ud=e=>JSON.stringify(e,null),uu=e=>up(e)?.repo,up=e=>JSON.parse(`${e}`),uh={repo:function(e){let{commits:t,...n}=e;return{type:"repo",key:ud({repo:n.repo.dir}),children:t.map(uh.commit),...n}},commit:function(e){return{type:"commit",key:ud({repo:e.repoPath,commit:e.readCommitResult.oid}),commit:e}}},um=(0,er.xu)(e=>(0,U.cn)(async t=>{let n=await t(om(e));return n?{type:"branch",ref:n}:{type:"commit",ref:await (0,y.qq)({fs:r,dir:e,ref:"HEAD"})}})),uf=(0,er.xu)(e=>ua((0,er.qs)(async t=>{let{currentBranch:n}=await t(oh(e)),r=n?.trackingBranch;return r?r.split("/")[0]:(await t(ou(e)))[0]?.remote??null}))),ug=(0,er.xu)(e=>ua((0,er.qs)(async t=>{let{currentBranch:n}=await t(oh(e)),r=n?.trackingBranch;return r?.split("/").slice(1).join("/")??n?.name??"detached"}))),uy=(0,er.xu)(e=>(0,U.cn)(async t=>{let{remoteBranches:n}=await t(oh(e)),r=await t(ug(e)),o=await t(uf(e));return n.some(e=>e.remote===o&&e.name===r)})),ub=(0,er.xu)(e=>{let{repoPath:t}=e;return nD(us(ea(async e=>{let{remoteBranches:n}=await e(oh(t)),o=await e(um(t)),i=await e(uf(t)),a=await e(ug(t)),s=await e(uy(t)),l=n.filter(e=>e.remote===i).map(e=>`${i}/${e.name}`);return await iv(r,{repoPath:t,refs:[o.ref],notRefs:s?[`${i}/${a}`]:l})})))},eB.Z),uv=nN((0,U.cn)(e=>Promise.all(e(e9).map(async t=>{let n=await e(uf(t.dir)),r=await e(ug(t.dir)),o=await e(um(t.dir)),i=await e(uy(t.dir));return uh.repo({repo:t,source:o,target:{remote:n,branch:r,isNew:!i},commits:e(ub({repoPath:t.dir}))??[]})}))));async function uw(e){let t=e(e9);return 1===t.length?[t[0].dir]:e(lZ).then(e=>e?[e]:[])}let ux=(0,eI.j)((0,U.cn)([]),(e,t)=>{uw(e).then(e=>t(ux,e))}),uA=(0,eI.j)((0,U.cn)(new Set),(e,t)=>{uw(e.peek).then(async t=>new Set([t[0]?ud({repo:t[0]}):(await e.peek(uv))[0].key])).then(e=>{t(uA,e)})}),uj=(0,U.cn)(async e=>(await Promise.all(e(ux).map(async t=>{let n=await e(uf(t));if(null===n)return null;let r=(await e(ou(t))).find(e=>{let{remote:t}=e;return t===n})?.url,o=await e(ug(t));return{dir:t,url:r,remote:n,remoteRef:o,isNew:!await e(uy(t))}}))).filter(e=>null!==e)),uT=v.zo.form`
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 0.75rem;
`;function uC(e){let{dir:t,close:n}=e,[o,i]=(0,g.useState)(!1),a=(0,T.Dv)(ou(t)).map(e=>{let{remote:t}=e;return t}),s=(0,T.b9)(ou(t)),l=a.find(e=>"origin"===e),[c,d]=(0,g.useState)(l?"":"origin"),[u,p]=(0,g.useState)(""),[h,m]=(0,g.useState)(null),[f,b]=(0,g.useState)(!1),v=c?a.includes(c)?`Remote name '${c}' is already used`:null:"Remote name cannot be empty",x=h??(u?null:"Remote URL cannot be empty"),A=de(function*(e){if(i(!0),e.preventDefault(),u&&c){b(!0);try{yield dz({url:u})}catch(e){m(`${e}`);return}finally{b(!1)}yield(0,y.wb)({fs:r,remote:c,url:u,dir:t}),s(),n({name:c,url:u})}});return(0,et.jsx)(nz.Du,{minWidth:375,minHeight:"content",children:(0,et.jsx)(n$.b,{header:`Define Remote in ${ue({dir:t})}`,content:(0,et.jsx)(dA.O,{children:(0,et.jsxs)(uT,{id:"add-remote-form",onSubmit:A,children:[(0,et.jsx)(l2.U,{label:"Name:",labelPlacement:"before",autoFocus:!c,value:c,onChange:d,validationState:o&&v?"error":"valid",validationMessage:o&&v}),(0,et.jsx)(l2.U,{label:"URL:",labelPlacement:"before",autoFocus:!!c,value:u,addonAfter:f&&(0,et.jsx)(w.TK,{size:w.wT}),onChange:e=>{p(e),m(null)},validationState:o&&x?"error":"valid",validationMessage:o&&x})]})}),footer:(0,et.jsx)(n$.b.Footer,{right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:()=>n(),children:"Cancel"}),(0,et.jsx)(nK.z,{type:"submit",form:"add-remote-form",variant:"default",isDisabled:o&&(!u||!c),children:"OK"})]})})})})}function uS(){let e=(0,A.S)();return t=>e.open(e=>{let{close:n}=e;return(0,et.jsx)(g.Suspense,{children:(0,et.jsx)(uC,{dir:t,close:n})})})}let uk=v.zo.span`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.dark?"#6ba65d":"#00b53d")}};
  background: ${e=>{let{theme:t}=e;return t.currentBackgroundAware(t.dark?"#313b32":"#ebfcf1")}};
  line-height: 1;
  padding: 2px;
  font-size: 0.77em;
  border-radius: 0.125rem;
`,uR=(0,v.zo)(nw.e)`
  opacity: ${e=>{let{$included:t}=e;return!t&&.85}};
`,uE=async(e,t,n)=>{let r=n.split(":").slice(-1)[0],o=e(ux);t(ux,o.includes(r)?o.filter(e=>e!==r):o.concat(r))},uI=nD(ul),uP=n0({id:rA.CREATE_PATCH_FROM_CHANGES,title:"Create Patch...",description:"Create a patch from the selected changes",isDisabled:(0,U.cn)(e=>0==[...e(uI)??[]].length),icon:(0,et.jsx)(B.vq,{icon:"vcs/patch.svg"}),actionPerformed:()=>{ty()}}),uN=n0({id:rA.COMPARE_WITH_LOCAL,title:"Compare with Local",description:"Compare version in selected revision with current version",isDisabled:(0,U.cn)(e=>0==[...e(uI)??[]].length),actionPerformed:()=>{ty()}}),uD=(0,v.zo)(P.X)`
  box-sizing: border-box;
  height: 100%;
  padding-top: 0.5rem;
`,uM=lu((0,U.cn)(async e=>(await e(ul)).map(e=>{let{oid:t}=e;return t})));function uB(){let e=(0,T.Dv)(uv),t=(0,eE.lV)(uE),[n,r]=(0,T.KO)(uA),o={id:rA.VCS_LOG_CONTEXT_MENU,title:"",isSearchable:!1,children:[(0,T.Dv)(uM),(0,T.Dv)(uP),"divider",(0,T.Dv)(uN),"divider",(0,T.Dv)(ui)],actionPerformed:()=>{}};return(0,et.jsx)(et.Fragment,{children:(0,et.jsx)(R.DG,{actions:[o],children:o=>{let{shortcutHandlerProps:i}=o;return(0,et.jsx)(uD,{renderMenu:()=>(0,et.jsx)(uF,{}),...i,children:(0,et.jsx)(nv.b,{fillAvailableSpace:!0,items:e,selectionMode:"multiple",selectedKeys:n,onSelectionChange:r,defaultExpandedKeys:e.map((0,dl.Z)("key")),onNodeKeyDown:(e,n)=>{" "===e.key&&n.value&&t("repo"===n.value.type?n.value.repo.dir:n.value.commit.repoPath)},children:t=>{switch(t.type){case"repo":return(0,et.jsx)(D.c,{childItems:t.children,textValue:t.repo.dir,children:(0,et.jsx)(uq,{node:t,hasCheckbox:e.length>1})},t.key);case"commit":return(0,et.jsx)(D.c,{children:(0,et.jsx)(u_,{node:t})},t.key)}}})})}})})}function uF(){let e=(0,K.y)(rA.VCS_LOG_CONTEXT_MENU);return e&&(0,et.jsx)(H.d,{actionGroup:e})}let uO=v.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  font-style: italic;
  margin-top: 1.25rem;
`;function u_(e){var t;let{node:n}=e,{oid:r,commit:o}=n.commit.readCommitResult,{subject:i,body:a}=al(n.commit.readCommitResult.commit.message),s=uL(n.key);return(0,et.jsx)(_.a,{tooltip:(0,et.jsxs)(aE.u,{children:[ac(r)," ",(t=o.committer.timestamp,ap.format(t)),","," ",ah(o.committer.timestamp)," by"," ",o.committer.name," ",i,a,(0,et.jsx)(uO,{children:"Select to show commit details"})]}),children:e=>(0,et.jsx)(uR,{...e,style:{paddingLeft:".5rem",opacity:s},children:i})})}function uL(e){let t=(0,g.useContext)(nA.k);if(!((0,T.Dv)(ux).includes(uu(e))||t?.isSelected&&t?.isContainerFocused))return uz}let uz=.35,u$=v.zo.input`
  background: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  outline: none;
  flex: 1;
  margin-right: -0.5rem;
  ::selection {
    background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
  }
`;function uq(e){let{node:{source:t,target:n,repo:r,key:o},hasCheckbox:i}=e,a=(0,T.Dv)(ux),s=(0,eE.lV)(uE),l=(0,T.b9)(ug(r.dir)),c=(0,T.b9)(uf(r.dir)),d=uL(o),[u,p]=(0,g.useState)(!1),[h,m]=(0,g.useState)(n.branch),f=()=>{p(!1),setTimeout(()=>{l(h)})},y=uS();return(0,et.jsxs)(nw.e,{style:{flex:1},children:[i&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(oi.x,{onToggle:()=>s(r.dir),selectionState:a.includes(r.dir)?"Selected":"NotSelected"}),(0,et.jsx)("span",{style:{minWidth:115,opacity:d},children:ue(r)})]}),!u&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsxs)("span",{style:{opacity:d},children:["commit"===t.type?ac(t.ref):t.ref," ","\u2192"," ",n.remote&&(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(ss.b,{elementType:"a",renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(uK,{repoPath:r.dir,menuProps:t})},children:(0,et.jsx)(tf.r,{children:n.remote})})," ",":"," ",(0,et.jsx)(tf.r,{onPress:()=>{m(n.branch),p(!0)},preventFocusOnPress:!0,children:n.branch})]})]}),n.remote&&n.isNew&&(0,et.jsx)(uk,{children:"New"}),!n.remote&&(0,et.jsx)(tf.r,{onPress:()=>{y(r.dir).then(e=>{e&&c(e.name)})},children:"Define remote"})]}),u&&(0,et.jsx)(u$,{autoFocus:!0,value:h,onChange:e=>m(e.target.value),onFocus:e=>{e.target.select()},onBlur:f,onKeyDown:e=>{e.stopPropagation(),"Escape"===e.key&&p(!1),"Enter"===e.key&&f()}})]})}function uK(e){let{menuProps:t,repoPath:n}=e,r=(0,T.Dv)(ou(n)),o=(0,T.b9)(uf(n)),i=uS();return(0,et.jsx)(N.v2,{...t,autoFocus:"first",onAction:e=>{"addRemote"===e?i(n).then(e=>{e&&o(e.name)}):setTimeout(()=>{o(`${e}`.split(":").slice(1).join(":"))})},children:r.map(e=>(0,et.jsx)(D.c,{children:e.remote},`remote:${e.remote}`)).concat([(0,et.jsx)(nk.i,{},"divider"),(0,et.jsx)(D.c,{children:"Define remote"},"addRemote")])})}uB.__docgenInfo={description:"",methods:[],displayName:"PushLogTree"},eX({},{componentName:"PropertiesComponent",storageFile:eZ.WORKSPACE_FILE,schema:eP.z.object({property:e8(eP.z.object({"@name":eP.z.string(),"@value":eP.z.string()}))}).optional(),read:e=>Object.fromEntries(e?.property.map(e=>{let{"@name":t,"@value":n}=e;return[t,n]})??[]),write:(e,t)=>({property:(t?.property||[]).concat(Object.entries(e).map(e=>{let[t,n]=e;return{"@name":t,"@value":n}}))})});let uH=eP.z.object({keyToString:eP.z.record(eP.z.string(),eP.z.string()),keyToStringList:eP.z.record(eP.z.string(),eP.z.array(eP.z.string()))}),uV=e=>eX({keyToString:{},keyToStringList:{}},{...e,schema:eP.z.object({[e0]:eP.z.string()}).optional(),read:e=>{try{return console.log('state?.["#text"]',e?.[e0]),uH.parse(JSON.parse(e?.[e0]??"{}"))}catch(e){return{keyToString:{},keyToStringList:{}}}},write:(e,t)=>({[e0]:JSON.stringify(e,null,2)})}),uW=uV({componentName:"PropertyService",storageFile:eZ.NON_ROAMABLE_FILE}),uU=uV({componentName:"PropertiesComponent",storageFile:eZ.WORKSPACE_FILE}),uG=e=>{let t=(0,os.R)(e,e=>e.prop("keyToString"));return{number:(e,n)=>{let r=(0,os.R)(t,t=>t.prop(e)),o=(0,U.cn)(e=>{let t=Number(e(r));return Number.isNaN(t)?n:t},(e,t,n)=>{t(r,String("function"==typeof n?n(e(o)):n))});return o}}};uG(uU);let uQ={...uG(uW)},uZ=v.zo.div`
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
`,uY=v.zo.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,uJ=(0,U.cn)(g.createRef()),uX=(0,U.cn)(new Set([])),u0=(0,U.cn)(e=>rP.filter(t=>nX(t.isAvailable)?e(t.isAvailable):t.isAvailable).map(t=>({...t,key:`groupBy:${t.id}`,isActive:e(uc.isGroupingActiveAtom(t.id))}))),u1="Vcs.push.detailsView.viewOptions",u2=e=>`Vcs.push.detailsView.groupBy.${e.id}`;function u5(){let e=(0,T.Dv)(uJ),t=(0,T.Dv)(u0),n=(0,eE.lV)((0,g.useCallback)((e,t,n)=>{t(uc.isGroupingActiveAtom(n),e=>!e)},[])),[r,o]=(0,g.useState)(new Set),[i,a]=(0,T.KO)(uX),s=(0,tk.w)(),l=0==[...i].length,c=[...(0,na.x)({treeRef:e}),s({id:u1,title:"View Options",icon:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"}),children:[s({id:"Vcs.push.detailsView.groupBy",title:"Group By",menuPresentation:"titledSection",icon:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"}),children:t.map(e=>({id:u2(e),useShortcutsOf:e.useShortcutOf,title:e.title,actionPerformed:()=>{n(e.id)}}))})]}),{id:rA.SHOW_DIFF,title:"Show Diff",description:"Compare files or revisions.",icon:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"}),isDisabled:l,actionPerformed:ty},{id:rA.SHOW_DIFF_STANDALONE,title:"Show Diff in a New Tab or Window",description:"Open diff for each selection in a new tab or window",icon:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"}),isDisabled:l,actionPerformed:ty}],d=(0,T.Dv)(uc.changedFilesLoadableAtom),u="hasData"===d.state?d.data:null;return(0,g.useEffect)(()=>{e.current?.expandAll()},[(0,T.Dv)(uA),u]),(0,et.jsx)(R.DG,{actions:c,children:t=>{let{shortcutHandlerProps:n}=t;return(0,et.jsxs)(uY,{...n,children:[(0,et.jsxs)(uZ,{children:[(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Show Diff",shortcut:"\u2318D"}),children:(0,et.jsx)(oW.hU,{isDisabled:!0,children:(0,et.jsx)(B.vq,{icon:"actions/diff.svg"})})}),(0,et.jsx)(nk.i,{}),(0,et.jsx)(_.a,{tooltip:(0,et.jsx)(L.M,{actionName:"Group By"}),children:(0,et.jsx)(oK.p,{renderMenu:e=>{let{menuProps:t}=e;return(0,et.jsx)(u6,{menuProps:t})},children:(0,et.jsx)(B.vq,{icon:"actions/groupBy.svg"})})})]}),(0,et.jsxs)(oq.o,{children:[(0,et.jsx)(ns.K,{actionId:tb.$.EXPAND_ALL}),(0,et.jsx)(ns.K,{actionId:tb.$.COLLAPSE_ALL})]})]}),u&&(0,et.jsx)(P.X,{renderMenu:()=>(0,et.jsx)(u3,{}),children:t=>(0,et.jsx)("div",{...t,style:{height:"100%"},children:(0,et.jsx)(nv.b,{"aria-label":"Commit changes",treeRef:e,items:u.rootNodes,selectionMode:"multiple",expandedKeys:r,onExpandedChange:o,selectedKeys:i,onSelectionChange:a,style:{paddingBottom:"1rem"},fillAvailableSpace:!0,children:am.itemRenderer({fileCountsMap:u.fileCountsMap})})})})]})}})}function u3(){return(0,et.jsx)(nS.C,{actions:[(0,R.BH)(rA.SHOW_DIFF),(0,R.BH)(rA.SHOW_DIFF_STANDALONE)].filter(e=>null!==e)})}let u8={...Object.fromEntries(rP.map(e=>[u2(e),uc.isGroupingActiveAtom(e.id)]))},u4=(0,U.cn)(e=>Object.entries(u8).filter(t=>{let[,n]=t;return e(n)}).map(e=>{let[t]=e;return t}));function u6(e){let{menuProps:t}=e,n=(0,K.y)(u1),r=(0,T.Dv)(u4);return n&&(0,et.jsx)(H.d,{actionGroup:n,children:e=>(0,et.jsx)(oH.w,{...t,...e,selectedKeys:r})})}u5.__docgenInfo={description:"",methods:[],displayName:"PushLogDetails"};let u7=uQ.number("Vcs.Push.Splitter.Tree.Proportion",.5),u9=(u="Vcs.Push.Dialog.v2",(0,U.cn)(e=>e(d9)[u],(e,t,n)=>t(d9,e=>({...e,[u]:n})))),pe=dE({createGitTaskCallback:d_},async e=>{let{get:t,createGitTask:n}=e,o=await t(uj),i=t(e9).length>1;function a(e){let{remoteRef:n,remote:r,dir:o,source:i,isNew:a}=e,s=t(ub({repoPath:o}))?.length;return s?`Pushed ${a?i:`${new nJ.C(`{count, plural,
                        =1 {commit}
                        other {# commits}
                          }`,"en-US").format({count:s})}`} to${a?" new branch":""} ${r}/${n}`:"Everything is up to date"}n({title:"Pushing...",run:async e=>{let{onProgress:n,...s}=e,l=new Map;for(let e of o)await y.ZP.push({fs:r,http:b.Z,onProgress:n.part(o.indexOf(e),o.length),...s,...e}).then(e=>(console.log("push result",e),e)).catch(t=>{console.error("Git push error. args:",e,"error:",t),l.set(e.dir,t)});let c=!i&&0===l.size,d={...o[0],source:await t(om(o[0].dir))};tg.value?.showSticky({icon:l.size>0?"Error":"Info",title:l.size>0?l.size<o.length?"Push partially failed":"Push failed":c?a(d):"Push successful",body:!c&&o.map(e=>{let{dir:t,url:n,remote:r}=e,o=l.get(t);return et.jsxs("div",{children:[i&&et.jsxs(et.Fragment,{children:[ue({dir:t}),": "]}),o?function(e){var t;let{error:n,url:r}=e;return`${(t=n)instanceof y.D1.HttpError?`remote: ${t.data.response}`:"Unknown error occurred while pushing"} ${n instanceof y.D1.HttpError&&401===n.data.statusCode?`Authentication failed for '${r}'`:""}`}({error:o,url:n??r}):a(d)]},t)}),actions:et.jsx(et.Fragment,{children:et.jsx(l1.g,{onPress:ty,children:"Show details in console"})})})}})});function pt(e){let{close:t}=e,n=(0,T.Dv)(e9),[r,o]=(0,T.KO)(u7),[i,a]=(0,T.KO)(u9);return(0,et.jsx)(nz.Du,{bounds:i?.bounds??{width:800,height:520},onBoundsChange:e=>{a({bounds:e,screen:{left:window.screenX,top:window.screenY,width:window.outerWidth,height:window.outerHeight},timestamp:Date.now()})},children:(0,et.jsx)(n$.b,{header:1===n.length?`Push commits to ${ue(n[0])}`:"Push commits",content:(0,et.jsx)(rr.D,{firstSize:r,onFirstResize:o,firstView:(0,et.jsx)(uB,{}),innerView:(0,et.jsx)(u5,{})}),footer:(0,et.jsx)(pr,{close:t})})})}let pn=(0,er.Wg)((0,U.cn)(e=>e(uj).then(e=>e.length>0)),()=>!1);function pr(e){let{close:t}=e,[n,r]=(0,g.useState)(!1),o=(0,eE.lV)(pe),i=(0,T.Dv)(pn);return(0,et.jsx)(n$.b.Footer,{hasBorder:!0,left:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nV,{onPress:()=>ty()}),(0,et.jsx)(nq.X,{mnemonic:"t",isSelected:n,onChange:r,children:"Push tags"}),(0,et.jsxs)(d4.L,{isDisabled:!n,selectedKey:"all",style:{width:145},children:[(0,et.jsx)(D.c,{children:"All"},"all"),(0,et.jsx)(D.c,{children:"Current Branch"},"currentBranch")]})]}),right:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(nK.z,{onPress:t,children:"Cancel"}),(0,et.jsx)(nK.z,{isDisabled:!i,variant:"default",mnemonic:"P",onPress:()=>{o(),t()},children:"Push"})]})})}pt.__docgenInfo={description:"",methods:[],displayName:"GitPushWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};let po=n0({id:rA.GIT_PUSH,title:"Push...",icon:(0,et.jsx)(B.vq,{icon:"vcs/push.svg"}),isDisabled:(0,U.cn)(e=>0===e(e9).length),actionPerformed:async e=>{let{get:t,set:n}=e,r=t(eG).current;r?.open(e=>{let{close:t}=e;return et.jsx(pt,{close:t})})}}),pi=n0({id:rA.GIT_BRANCHES,title:"Branches\u2026",icon:(0,et.jsx)(B.vq,{icon:"vcs/branch.svg"}),actionPerformed:e=>{let{get:t}=e;t(eU).current?.show(e=>{let{close:t}=e;return et.jsx(cr,{close:t})})}});async function pa(e){return new Promise(t=>setTimeout(t,e))}let ps=v.zo.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
`,pl=e=>{let{height:t}=e,n=(0,g.useRef)(null),[r,o]=(0,T.KO)(cf),i=(0,T.Dv)(r_),a=(0,T.Dv)(cT.isOpen);return(0,T.Dv)(eU).current=(0,j.U)(),(0,T.Dv)(eG).current=(0,A.S)(),(0,T.Dv)(eQ).current=(0,C.i)(),(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(rb,{}),(0,et.jsxs)(S.a,{disablePortal:!0,children:[(0,et.jsx)(pd,{}),(0,et.jsx)(pu,{}),(0,et.jsx)(dh.Provider,{value:n,children:(0,et.jsxs)(ps,{style:{height:t},children:[(0,et.jsx)(pc,{children:e=>{let{shortcutHandlerProps:t}=e;return(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(k.u,{ref:n,toolWindowsState:r,onToolWindowStateChange:e=>{o(e)},windows:lB,containerProps:t,children:(0,et.jsx)(t4,{})}),(0,et.jsx)(cl,{})]})}}),a&&(0,et.jsx)(cX,{}),i&&(0,et.jsx)(cm,{})]})})]})]})};function pc(e){let t=[...function(){let e=(0,eE.lV)(dp),t=(0,tk.w)(),n=(0,T.Dv)(c4),r=t({id:nR,title:"New...",description:"Create new class, interface, file or directory",isSearchable:!0,children:[n,(0,T.Dv)(dt)]}),o=t({id:nE,title:"Copy Path/Reference...",menuPresentation:"none",children:[t({id:"CopyFileReference",title:"Copy File Reference",isSearchable:!1,menuPresentation:"section",children:[(0,T.Dv)(da),(0,T.Dv)(di),(0,T.Dv)(ds)]})]});return[{id:tb.$.GO_TO_ACTION,title:"Find Action",description:"Quickly navigate to action by name",actionPerformed:t=>{e(t,"Actions")}},{id:tb.$.GO_TO_FILE,title:"Go to file",description:"Quickly navigate to file by name",actionPerformed:t=>{e(t,"Files")}},r,o,(0,T.Dv)(dd)]}(),...function(){let e=(0,T.Dv)(dx);return[...df(),(0,T.Dv)(dw),(0,T.Dv)(dX),(0,T.Dv)(po),(0,T.Dv)(d0),...0===(0,T.Dv)(e9).length?[e]:[],(0,T.Dv)(ui),(0,T.Dv)(pi),{id:rA.GIT_LOG_NAVIGATE_TO_SELECTED_BRANCH,title:"Navigate Log to Selected Branch Head",useShortcutsOf:"SelectIn",icon:(0,et.jsx)(B.vq,{icon:"general/locate.svg"}),actionPerformed:()=>{ty()}}]}(),...function(){let e=o3();return[{id:"AddTestProcessAction",title:"Add Test Process",actionPerformed:()=>{e({title:"Test process",isCancelable:!0},async(e,t)=>{let{setText:n,setSecondaryText:r,setFraction:o}=e;n("Welcome!"),await (0,ef.qf)(function*(){for(let t=0;t<1e3;t++){var e;n((e=t)/10==Math.round(e/10)?"":"Found: "+Math.round(e/20)+"1"),o(t/1e3),yield pa(100),r("Bla bla bla")}})(t)})}}]}()];return(0,et.jsx)(R.DG,{...e,actions:t,useCapture:!0})}function pd(){return tg.value=(0,S.L)(),null}function pu(){return!function(){let e=(0,S.L)(),t=o3();(0,g.useEffect)(()=>{let n=setTimeout(()=>{void 0==ex.get()&&e.showSticky({title:"Switch to IndexedDB filesystem",body:"By default an in-memory filesystem is used to have a faster git clone. But it means all changes will be lost upon refresh. You can switch in the background to a persistence fs implementation which uses IndexedDB to store files.",actions:(0,et.jsxs)(et.Fragment,{children:[(0,et.jsx)(l1.g,{onPress:()=>{t({title:"Switching to IndexedDB FS",isCancelable:!0},async(e,t)=>{let{setIndeterminate:n,setText:r}=e;r("Copying ..."),n(!0),await eA({cancelSignal:t,onCopy:e=>{r(`Copying ${f().dirname(e)}`)}}).then(()=>{ex.set("yes")}).catch(()=>{})})},children:"Switch to IndexedDB FS"}),(0,et.jsx)(l1.g,{onPress:()=>ex.set("no"),children:"Don't ask again"})]})})},3e3);return()=>clearTimeout(n)},[])}(),null}pl.__docgenInfo={description:"",methods:[],displayName:"Project",props:{height:{required:!0,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""}}};var pp=n("75522"),ph=n("90406");let pm={".idea/vcs.xml":`<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="GitRememberedInputs">
    <option name="visitedUrls">
      <list>
        <UrlAndUserName>
          <option name="url" value="https://github.com/alirezamirian/jui.git"></option>
          <option name="userName" value=""></option>
        </UrlAndUserName>
        <UrlAndUserName>
          <option name="url" value="https://github.com/thurwitz/example-branches.git"></option>
          <option name="userName" value=""></option>
        </UrlAndUserName>
      </list>
    </option>
    <option name="cloneParentDir" value="/workspace"></option>
  </component>
  <component name="VcsDirectoryMappings"></component>
</project>

`};async function pf(e){try{if(!(await r.promises.stat(e)).isDirectory())return console.info(`Already cloned repo was not found. "${e}" is not a directory.`),!1;let t=await r.promises.readdir(e);if(1===t.length&&".git"===t[0])return console.info(`Already cloned repo was not found at "${e}". ".git" folder exists, but it's not successfully unpacked.`),!1}catch(t){return console.info(`Already cloned repo was not found at "${e}".`),!1}return!0}let pg=async()=>{await ev(r.promises,eL.path),await Promise.all(Object.entries(pm).map(async e=>{let[t,n]=e,o=f().join(eL.path,t);!await r.promises.exists(o)&&(await ev(r.promises,f().dirname(o)),await r.promises.writeFile(o,n,"utf-8"))}))},py=(0,v.zo)(ph.e)`
  min-width: ${e=>{let{minWidth:t}=e;return t?`${t}px`:""}};
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`,pb=e=>{let{children:t,autoCloneSampleRepo:n=!1}=e,[o,i]=(0,g.useState)(null),[a,s]=(0,g.useState)("uninitialized");(0,g.useEffect)(()=>{async function e(e,t){await pf(e)||(s("cloning"),await d$({dir:e,url:t,onProgress:i}))}(async function t(){let t=window.INITIALIZE_APP??pg;try{await t({fs:r,git:y.ZP,path:f(),projectDir:eL.path}),n&&await e(e_.path,e_.url),console.log("demo repo initialized"),s("initialized")}catch(e){console.error("could not initialize the demo repo",e),s("error")}})()},[]);let l=o?.total?o.loaded/o.total:0;switch(a){case"uninitialized":return null;case"initialized":return(0,et.jsx)(et.Fragment,{children:t});case"cloning":return(0,et.jsx)(py,{minWidth:450,children:(0,et.jsx)(lq.GI.Layout,{header:"Cloning sample git repository",content:(0,et.jsx)("div",{style:{padding:"1rem"},children:(0,et.jsx)(sw.ko,{name:`Cloning repository ${e_.url}`,isIndeterminate:!o,details:l?`${o?.phase}: ${Math.round(100*l)}% ${o?.loaded}/${o?.total}`:o?.phase,"aria-label":"Progress of cloning sample repo",value:o?o.loaded/o.total:0,maxValue:1})})})});case"error":return(0,et.jsx)(pp.a,{type:"error",heading:"Something went wrong!",body:"Could not initialize example app",buttons:(0,et.jsx)(nK.z,{variant:"default",onPress:()=>{window.location.reload()},children:"Reload"})})}};pb.__docgenInfo={description:"",methods:[],displayName:"ProjectInitializer",props:{autoCloneSampleRepo:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};let pv={ActivateProjectWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit1",modifiers:["Meta"]}}],ActivateCommitWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit0",modifiers:["Meta"]}}],ActivateVersionControlWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit9",modifiers:["Meta"]}}],ActivateTerminalWindow:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Alt"]}}],[rA.ROLLBACK]:[{type:"keyboard",firstKeyStroke:{code:"KeyZ",modifiers:["Alt","Meta"]}}],[rA.SHOW_DIFF]:[{type:"keyboard",firstKeyStroke:{code:"KeyD",modifiers:["Meta"]}}],[rA.SHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyH",modifiers:["Meta","Shift"]}}],[rA.UNSHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyU",modifiers:["Meta","Alt"]}}],[rA.GIT_PUSH]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyK"}}],[c_]:[{type:"keyboard",firstKeyStroke:{code:"Tab",modifiers:["Shift"]}}],[cL]:[{type:"keyboard",firstKeyStroke:{code:"Tab"}}],[rA.RENAME_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"F2"}}],[rA.MOVE_TO_ANOTHER_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyM"}}],[rA.SET_DEFAULT_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}],[rA.REMOVE_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}],[rA.CHECKIN_PROJECT]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyK"}}],[rA.ADD_UNVERSIONED]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"KeyA"}}],[rA.FOCUS_TEXT_FILTER]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyL"}}],[rA.GROUP_BY_DIRECTORY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"KeyP"}}],SafeDelete:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Backspace"}}],CopyPaths:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyC"}}],[tR]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyV"}}],[nR]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[tE]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyN"}}],[tI.EXPAND_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Equal"}}],[tI.EXPAND_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Equal"}}],[tI.EXPAND_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadAdd"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Equal"}}],...[1,2,3,4,5].reduce((e,t)=>(e[tI[`EXPAND_ALL_TO_LEVEL${t}`]]=[{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Digit${t}`}},{type:"keyboard",firstKeyStroke:{modifiers:["Alt","Meta"],code:"Multiply"},secondKeyStroke:{code:`Numpad${t}`}}],e),{}),[tI.COLLAPSE_REGION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadSubtract"}}],[tI.COLLAPSE_REGION_RECURSIVELY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Alt"],code:"NumpadSubtract"}}],[tI.COLLAPSE_ALL_REGIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"NumpadSubtract"}}]};window.git=y.ZP,window.fs=r,window.path=m,window.http=b.Z;let pw=v.zo.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: ${e=>{let{$height:t}=e;return t??"100vh"}};
`,px=e=>{let{height:t,autoCloneSampleRepo:n}=e;return(0,et.jsx)(g.Suspense,{fallback:(0,et.jsx)(pw,{children:(0,et.jsx)(w.TK,{})}),children:(0,et.jsx)(eT,{children:(0,et.jsx)(pb,{autoCloneSampleRepo:n,children:(0,et.jsx)(x.ur,{keymap:pv,children:(0,et.jsx)(A.f,{children:(0,et.jsx)(j.q,{children:(0,et.jsx)(pl,{height:t})})})})})})})};px.__docgenInfo={description:"Example app root component. It expects ThemeProvider to be provided based on where it's rendered.",methods:[],displayName:"App",props:{height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},autoCloneSampleRepo:{required:!1,tsType:{name:"boolean"},description:""}}};let pA=px},81863:function(e,t,n){"use strict";function r(e){return"parent"in e}function o(e){return"children"in e}function i(e){return"children"in e&&"parent"in e}function a(e){return"children"in e}n.d(t,{$M:function(){return o},YC:function(){return i},nf:function(){return r},yb:function(){return a}})},79955:function(e,t,n){"use strict";n.d(t,{i:function(){return a},k:function(){return s}}),n(2784);var r=n(37044),o=n(98688),i=n(52322);let a=e=>{let{actionId:t,children:n}=e,r=s()(t);return(0,i.jsx)(i.Fragment,{children:r&&(n?n(r):r)})},s=()=>{let e=(0,r.og)();return t=>{let n=e?.[t]?.find(e=>{let{type:t}=e;return"keyboard"===t});return n?(0,o.W)(n):""}};a.__docgenInfo={description:"Renders the first keyboard shortcut for the action specified by {@param actionId}, based on the keymap context.\nif {@param children} is provided, treats it as a render function that receives the shortcut string.",methods:[],displayName:"ActionShortcut",props:{actionId:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"signature",type:"function",raw:"(shortcut: string) => React.ReactNode",signature:{arguments:[{name:"shortcut",type:{name:"string"}}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}}},42181:function(e,t,n){"use strict";n.d(t,{ol:()=>x,BH:()=>A,DI:()=>j,DG:()=>v,C9:()=>w});var r=n("13953"),o=n("2784"),i=n("76680"),a=n("64374"),s=n("37044"),l=n("98688"),c=n("23479");let d=(e,t,n)=>t.code===e?.code&&(n?e.modifiers||[]:c.V).every(n=>t.getModifierState(n)===!!e.modifiers?.includes(n));var u=n("81863"),p=n("39985"),h=n("52322");let m=o.createContext([]);function f(){return`jui-${Math.floor(1e7*Math.random())}`}let g="data-action-provider",y="action_provider_id_",b=new Map;function v(e){let t=(0,o.useContext)(m),n=(0,s.og)(),r=[];(0,a.Ck)(e=>e&&!(e instanceof p.P)&&(0,u.$M)(e)?e.children:null,e=>{!e||e instanceof p.P||r.push(e)},function e(t,n,r){return n.map(n=>{if(n instanceof p.P)return n;let o=t?.[n.id]??(n.useShortcutsOf?t?.[n.useShortcutsOf]:void 0),i=o?.[0],a={...n,...(0,u.yb)(n)?{parent:r??null}:{},shortcuts:o,shortcut:i?(0,l.W)(i):void 0,perform:e=>{a.isDisabled||n.actionPerformed(e||{event:null,element:null})}};return"children"in a&&(0,u.yb)(n)&&(a.children=e(t,n.children.map(e=>"divider"===e?new p.P:e),a)),a})}(n,e.actions));let v=Object.fromEntries(r.map(e=>[e.id,e.shortcuts||[]])),[w]=(0,o.useState)(f),{shortcutHandlerProps:x}=function(e,t,n){let{useCapture:r=!1}=void 0===n?{}:n,a=(0,o.useRef)([]),s=(0,o.useRef)(null);return{shortcutHandlerProps:{[r?"onKeyDownCapture":"onKeyDown"]:(0,i.$)(n=>{var r;if(!(1===(r=n.nativeEvent).location||2===r.location)&&!n.repeat){if(null!==s.current&&window.clearTimeout(s.current),a.current.length>0)a.current.some(e=>{let{shortcut:t,actionId:r}=e;if(d(t.secondKeyStroke,n,!0))return o(r),!0}),a.current=[];else{let t=Object.entries(e).flatMap(e=>{let[t,n]=e;return n.map(e=>({actionId:t,shortcut:e}))}).filter(e=>(0,c.e)(e.shortcut)).filter(e=>{let{shortcut:t}=e;return d(t.firstKeyStroke,n)});a.current=t.filter(e=>{let{shortcut:t,actionId:n}=e;return t.secondKeyStroke}),a.current.length>0?(s.current=window.setTimeout(()=>{a.current=[]},2e3),document.addEventListener("keydown",()=>{document.addEventListener("keyup",()=>{a.current=[]},{once:!0})},{once:!0,capture:!0})):t.length>0&&o(t[0].actionId)}}function o(e){!1!==t(e,{event:n})&&(n.stopPropagation(),n.preventDefault())}})}}}(v,(e,t)=>{let{event:n}=t;r.find(t=>t.id===e)?.perform({event:n,element:n.target instanceof Element?n.target:null})},{useCapture:e.useCapture}),A=[...t,...r];return x[g]=w,x[`data-${y}${w}`]="",(0,o.useEffect)(()=>{b.set(w,A)}),(0,o.useEffect)(()=>()=>{b.delete(w)},[]),(0,h.jsx)(m.Provider,{value:A,children:e.children({shortcutHandlerProps:x})})}function w(e){let t=e.closest(`[${g}]`);if(t instanceof HTMLElement){let e=Object.keys(t.dataset).filter(e=>e.startsWith(y)).map(e=>{let t=e?.replace(y,""),n=t&&b.get(t);return n?Object.values(n).filter(e=>{let{isSearchable:t}=e;return!1!==t}):[]}).concat();return(0,r.Z)(e=>-e.length,e)[0]||[]}return[]}function x(){return(0,o.useContext)(m)}let A=e=>x().find(t=>{let{id:n}=t;return n===e})??null,j=()=>{let e=x();return(0,i.$)((t,n)=>{let r=e.find(e=>{let{id:n}=e;return n===t});r?r.perform(n):console.error(`An attempt to perform action with id ${t} failed because action was not found`)})};v.__docgenInfo={description:"Provides a set of actions for the wrapped UI. Uses the currently provided keymap to find the shortcuts\nfor each action, and passes the necessary event handlers for the shortcuts, to the `children` render function.\n\n@param {Array<Action>} props.actions - The actions to be provided.\n@param {boolean} [props.useCapture] - Specifies whether to use capture phase for event handling.\n@param {Function} props.children - Render function that accepts shortcutHandlerProps as argument.",methods:[],displayName:"ActionsProvider",props:{actions:{required:!0,tsType:{name:"Array",elements:[{name:"ActionDefinition"}],raw:"ActionDefinition[]"},description:"A collection of action definitions."},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: {\n  shortcutHandlerProps: HTMLAttributes<HTMLElement>;\n}) => React.ReactElement",signature:{arguments:[{name:"args",type:{name:"signature",type:"object",raw:"{\n  shortcutHandlerProps: HTMLAttributes<HTMLElement>;\n}",signature:{properties:[{key:"shortcutHandlerProps",value:{name:"HTMLAttributes",elements:[{name:"HTMLElement"}],raw:"HTMLAttributes<HTMLElement>",required:!0}}]}}}],return:{name:"ReactReactElement",raw:"React.ReactElement"}}},description:""},useCapture:{required:!1,tsType:{name:"boolean"},description:"Experimental option to determine if event handling should be done on capture phase. Useful for cases where\na descendant element handles events in capture phase, and that conflicts with an action."}}}},26357:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});let r={EXPAND_ALL:"ExpandAll",COLLAPSE_ALL:"CollapseAll",EXPAND_SELECTION:"EditorSelectWord",SHRINK_SELECTION:"EditorUnSelectWord",GO_TO_ACTION:"GotoAction",GO_TO_FILE:"GotoFile",SHOW_INTENTION_ACTIONS:"ShowIntentionActions",EDIT_SOURCE:"Documentation.EditSource",SHOW_SEARCH_HISTORY:"ShowSearchHistory",COPY_REFERENCE:"CopyReference",REFRESH:"Refresh",COPY:"$Copy",CUT:"$Cut",PASTE:"$Paste",DELETE:"$Delete",CODE_COMPLETION:"CodeCompletion"}},37044:function(e,t,n){"use strict";n.d(t,{O9:function(){return a},og:function(){return l},ur:function(){return s}});var r=n(2784),o=n(93533),i=n(52322);let a=r.createContext(o.w),s=e=>{let{keymap:t,children:n}=e,o=Object.assign(Object.create((0,r.useContext)(a)),t);return(0,i.jsx)(a.Provider,{value:o,children:n})},l=()=>(0,r.useContext)(a);s.__docgenInfo={description:"",methods:[],displayName:"KeymapProvider"}},23479:function(e,t,n){"use strict";n.d(t,{V:function(){return o},e:function(){return r}});let r=e=>"keyboard"===e.type,o=["Alt","Meta","Shift","Control"]},19295:function(e,t,n){"use strict";n.d(t,{K:function(){return l}}),n(2784);var r=n(42181),o=n(83556),i=n(17560),a=n(90046),s=n(52322);let l=e=>{let{actionId:t,children:n,...l}=e,c=(0,r.BH)(t);if(!c)return(0,s.jsx)(s.Fragment,{});let d=(0,s.jsx)(o.hU,{isDisabled:c.isDisabled,"aria-label":c.title,...l,onPress:e=>{c?.perform(),l.onPress?.(e)},children:n||c.icon});return c.title?(0,s.jsx)(i.a,{tooltip:(0,s.jsx)(a.M,{actionName:c.title,shortcut:c.shortcut}),children:d}):d};l.__docgenInfo={description:"",methods:[],displayName:"ActionButton",props:{actionId:{required:!0,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Content to show instead of `action.icon`."}}}},29362:function(e,t,n){"use strict";n.d(t,{d:function(){return i}}),n(2784);var r=n(88710),o=n(52322);let i=e=>{let{actionGroup:t,...n}=e;return(0,o.jsx)(r.C,{"aria-label":t.title,actions:t.children,...n})};i.__docgenInfo={description:"Renders children of an action group as a menu.",methods:[],displayName:"ActionGroupMenu",props:{actionGroup:{required:!0,tsType:{name:"ActionGroup"},description:""}}}},88710:function(e,t,n){"use strict";n.d(t,{C:function(){return u},F:function(){return p}}),n(2784);var r=n(72659),o=n(89349),i=n(57385),a=n(39985),s=n(12152),l=n(32396),c=n(52322);function d(e){return"perform"in e}function u(e){let{actions:t,actionContext:n,children:i=e=>(0,c.jsx)(o.v2,{...e}),...s}=e,l=function e(t){return(0,r.Z)(t.map(t=>[t].concat("children"in t?e(t.children):[]))).filter(d)}(t),u=l.filter(e=>{let{isDisabled:t}=e;return t}).map(e=>{let{id:t}=e;return t});return(0,c.jsx)(c.Fragment,{children:i({...s,onAction:e=>{let t=l.find(t=>{let{id:n}=t;return n===e});t&&d(t)&&t.perform("function"==typeof n?n?.():n)},disabledKeys:u,items:t,children:e=>e instanceof a.P?(0,c.jsx)(a.i,{}):p(e)})})}function p(e){let t="children"in e;return t&&("section"===e.menuPresentation||"titledSection"===e.menuPresentation)?(0,c.jsx)(s.$,{hasDivider:!0,"aria-label":"section"===e.menuPresentation?e.title:void 0,title:"titledSection"===e.menuPresentation?e.title:void 0,items:e.children,children:p},e.id):e instanceof a.P?(0,c.jsx)(a.i,{}):(0,c.jsx)(l.c,{textValue:e.title,"aria-label":e.title,childItems:t&&"submenu"===e.menuPresentation?e.children:void 0,children:(0,c.jsx)(i._,{content:e.title,icon:e.icon,shortcut:"shortcut"in e?e.shortcut:void 0})},e.id)}u.__docgenInfo={description:"Given a nested list of resolved actions, renders a menu corresponding to them.",methods:[],displayName:"ActionsMenu",props:{children:{defaultValue:{value:"(actionMenuProps) => <Menu {...actionMenuProps} />",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(props: ControlledMenuProps) => React.ReactNode",signature:{arguments:[{name:"props",type:{name:"Pick",elements:[{name:"MenuProps",elements:[{name:"union",raw:"ActionGroupAsMenuItem | Action | DividerItem",elements:[{name:"Pick",elements:[{name:"ActionGroup"},{name:"union",raw:'"id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"icon"'},{name:"literal",value:'"title"'},{name:"literal",value:'"isDisabled"'},{name:"literal",value:'"children"'},{name:"literal",value:'"menuPresentation"'}]}],raw:'Pick<\n  ActionGroup,\n  "id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"\n>'},{name:"Action"},{name:"DividerItem"}]}],raw:"MenuProps<ActionItem>"},{name:"union",raw:'"onAction" | "disabledKeys" | "items" | "children"',elements:[{name:"literal",value:'"onAction"'},{name:"literal",value:'"disabledKeys"'},{name:"literal",value:'"items"'},{name:"literal",value:'"children"'}]}],raw:'Pick<\n  MenuProps<ActionItem>,\n  "onAction" | "disabledKeys" | "items" | "children"\n>'}}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Allows for rendering a custom menu component, e.g. {@link SpeedSearchMenu}.\nIf not provided, {@link Menu} is rendered, receiving additional props that\nare passed to `ActionsMenu`.\nIf it is provided, additional {@link Menu} props are not allowed, and they\ncan be passed directly to the returned menu element."},actions:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"ActionGroupAsMenuItem | Action | DividerItem",elements:[{name:"Pick",elements:[{name:"ActionGroup"},{name:"union",raw:'"id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"icon"'},{name:"literal",value:'"title"'},{name:"literal",value:'"isDisabled"'},{name:"literal",value:'"children"'},{name:"literal",value:'"menuPresentation"'}]}],raw:'Pick<\n  ActionGroup,\n  "id" | "icon" | "title" | "isDisabled" | "children" | "menuPresentation"\n>'},{name:"Action"},{name:"DividerItem"}]}],raw:"Array<ActionItem>"},description:""},actionContext:{required:!1,tsType:{name:"union",raw:"ActionContext | (() => ActionContext)",elements:[{name:"ActionContext"},{name:"unknown"}]},description:"Context with which actions should be performed.\nUsually the context by which the ActionsMenu itself is opened.\nPass a function for lazy evaluation when the action is selected from the menu."}}},p.__docgenInfo={description:"",methods:[],displayName:"renderActionAsMenuItem"}},48813:function(e,t,n){"use strict";n.d(t,{w:function(){return m}});var r=n(72659);n(2784);var o=n(63981),i=n(52973),a=n(51837),s=n(88089),l=n(76680),c=n(79955),d=n(81863),u=n(88710),p=n(39985),h=n(52322);let m=()=>{let{show:e}=(0,o.U)(),t=(0,c.k)(),n=(0,l.$)((n,o)=>{let{children:l,title:c}=n;e(e=>{let{close:n}=e;return(0,h.jsx)(i.GI,{positioning:o.element instanceof HTMLElement?{targetRef:{current:o.element.querySelector(`[${s.U}]`)??o.element},placement:"bottom"}:void 0,children:(0,h.jsx)(i.GI.Layout,{content:(0,h.jsx)(a.w,{"aria-label":c,items:l.map(e=>"divider"===e?new p.P:e),onAction:e=>{let t=(0,r.Z)(l.map(e=>"divider"!==e&&(0,d.yb)(e)?e.children:e)).find(t=>"object"==typeof t&&t.id===e);t&&!t.isDisabled&&t.actionPerformed(o)},onClose:n,autoFocus:"first",children:e=>(0,u.F)(e instanceof p.P?e:{...e,shortcut:t(e.id)})}),header:c})})})});return e=>({menuPresentation:"submenu",...e,actionPerformed:t=>n(e,t)})}},93533:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(61741),o=n(26357);let i={[r.G$]:[{type:"keyboard",firstKeyStroke:{code:"ArrowRight",modifiers:["Control","Alt"]}}],[r.JQ]:[{type:"keyboard",firstKeyStroke:{code:"ArrowLeft",modifiers:["Control","Alt"]}}],[r.lh]:[{type:"keyboard",firstKeyStroke:{code:"ArrowUp",modifiers:["Control","Alt"]}}],[r.aV]:[{type:"keyboard",firstKeyStroke:{code:"ArrowDown",modifiers:["Control","Alt"]}}],[r.Jy]:[{type:"keyboard",firstKeyStroke:{code:"Quote",modifiers:["Shift","Meta"]}}],[r.Od]:[{type:"keyboard",firstKeyStroke:{code:"Escape"}}],[r.L$]:[{type:"keyboard",firstKeyStroke:{code:"Escape",modifiers:["Shift"]}}],[r.xm]:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Shift","Meta"]}}],[r.Dw]:[{type:"keyboard",firstKeyStroke:{code:"F12"}}],[o.$.EXPAND_SELECTION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyW"}},{type:"keyboard",firstKeyStroke:{modifiers:["Alt"],code:"ArrowUp"}}],[o.$.SHRINK_SELECTION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyW"}},{type:"keyboard",firstKeyStroke:{modifiers:["Alt"],code:"ArrowDown"}}],[o.$.EXPAND_ALL]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Equal"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadAdd"}}],[o.$.COLLAPSE_ALL]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"Minus"}},{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"NumpadSubtract"}}],[o.$.GO_TO_ACTION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyA"}}],[o.$.SHOW_INTENTION_ACTIONS]:[{type:"keyboard",firstKeyStroke:{modifiers:["Alt"],code:"Enter"}}],[o.$.GO_TO_FILE]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyO"}}],[o.$.EDIT_SOURCE]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"ArrowDown"}},{type:"keyboard",firstKeyStroke:{code:"F4"}}],[o.$.SHOW_SEARCH_HISTORY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Alt"],code:"ArrowDown"}}],[o.$.COPY_REFERENCE]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift","Alt"],code:"KeyC"}}],[o.$.REFRESH]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyR"}}],[o.$.DELETE]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}],[o.$.COPY]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyC"}}],[o.$.CUT]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyX"}}],[o.$.PASTE]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta"],code:"KeyV"}}],[o.$.CODE_COMPLETION]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}]}},98688:function(e,t,n){"use strict";n.d(t,{W:function(){return d},n:function(){return c}});var r=n(38073),o=n(71278),i=n(23479);let a={Control:"Ctrl"," ":"Space",ArrowDown:"\u2193",ArrowUp:"\u2191",ArrowLeft:"\u2190",ArrowRight:"\u2192",Enter:"\u23CE",Quote:"'",Minus:"-",Subtract:"-",NumpadAdd:"+",Multiply:"*",NumpadMultiply:"*",Equal:"+",Backspace:"\u232B",...(0,r.Z)(Array.from(Array(26)).map((e,t)=>t+97).map(e=>String.fromCharCode(e)).map(e=>[e,e.toUpperCase()]))},s=(0,o.V5)()?{separator:"",codeToStr:{...a,Alt:"\u2325",Shift:"\u21E7",Meta:"\u2318",Control:"^",Escape:"\u238B"}}:{separator:"+",codeToStr:a},l=["Control","Alt","Shift","Meta"],c=e=>[...(e.modifiers||[]).sort((e,t)=>l.indexOf(e)-l.indexOf(t)),e.code].map(e=>s.codeToStr[e]||e).map(e=>e.replace(/^(Key|Digit|Numpad)(.)$/,"$2")).join(s.separator),d=e=>{if((0,i.e)(e))return[e.firstKeyStroke,e.secondKeyStroke].filter(e=>void 0!=e).map(c).join(", ");throw Error("Not implemented yet")}},2533:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(42181),o=n(81863);let i=e=>{let t=(0,r.BH)(e);if(t){if((0,o.YC)(t))return t;throw Error(`Action with id ${e} is not a group`)}return null}},75522:function(e,t,n){"use strict";n.d(t,{a:function(){return v}}),n(2784);var r=n(66899),o=n(21179),i=n(63631),a=n(39472),s=n(20298),l=n(60868),c=n(52322);let d=(0,i.zo)(r.Du)`
  ${r.dt} {
    border-radius: 0;
    outline: 0.5px solid rgba(0, 0, 0, 0.85); // FIXME
  }
`,u=i.zo.div`
  padding: 1.25rem;
  display: grid;
  grid-template-columns: auto 1fr;
  grid-template-rows: auto auto;
  align-items: center;
  gap: 0.875rem;
`,p=i.zo.h2`
  margin: 0;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: bold;
`,h=i.zo.div`
  line-height: 1.2;
`,m=i.zo.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  cursor: default;
`,f=i.zo.div`
  padding: 0.375rem 0;
  // to align the checkbox with the content, since the box has a padding. Maybe Checkbox should not have any padding.
  margin-left: -0.25rem;
`,g=(0,i.zo)(s.h)`
  display: flex;
  justify-self: end;
  gap: 1rem;
`,y=i.zo.span`
  align-self: start;
`,b=i.zo.div`
  justify-self: center;
`,v=e=>{let{type:t="question",heading:n,body:r,checkbox:i,helpButton:s,buttons:v,minWidth:w=370,...x}=e;return(0,c.jsx)(d,{role:"alertdialog",interactions:"move",minWidth:w,defaultBounds:{top:window.innerHeight/4},observeContentResize:!0,...x,children:(0,c.jsx)(o.F,{dragThreshold:6,canMoveStart:l.z,children:e=>{let{moveHandleProps:o}=e;return(0,c.jsxs)(u,{...o,children:[(0,c.jsx)(y,{children:(0,c.jsx)(a.vq,{size:32,icon:`general/${t}Dialog`})}),(0,c.jsxs)(m,{children:[(0,c.jsx)(p,{children:n}),(0,c.jsx)(h,{children:r}),i&&(0,c.jsx)(f,{children:i})]}),(0,c.jsx)(b,{children:s}),(0,c.jsx)(g,{children:v})]})}})})};v.__docgenInfo={description:"A modal dialog implementing [Alert](https://jetbrains.github.io/ui/controls/alert), which is the\n[notification](https://jetbrains.github.io/ui/controls/notifications/) pattern for use cases where\nimmediate user action is required.\nSince the use cases are quite specific, and the component is expected to be used with pretty specific\ncontent items, the layout is not implemented as a separate component, the way it is in components like\n{@link ModalWindow} or {@link Menu}",methods:[],displayName:"AlertDialog",props:{type:{defaultValue:{value:'"question"',computed:!1},required:!1,tsType:{name:"union",raw:'"error" | "warning" | "information" | "question"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"information"'},{name:"literal",value:'"question"'}]},description:"Type of the alert dialog. The icon is set based on type."},minWidth:{defaultValue:{value:"370",computed:!1},required:!1},heading:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Content slot for the heading, aka. title of the dialog. Typically plain text."},body:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Content slot for the body, aka. message of the dialog. Typically plain text."},checkbox:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Content slot for the checkbox ("Do not ask again").\n@example\n```jsx\n<AlertDialog checkbox={<Checkbox>Do not ask again</Checkbox>} />\n```\n@see Checkbox'},buttons:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Content slot for buttons.\n@example\n```jsx\n<AlertDialog\n  buttons={\n    <>\n      <Button>Cancel</Button>\n      <Button variant="default">Ok</Button>\n    </>\n  }\n/>\n```\n@see Button'},helpButton:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Content slot for help icon button in the footer.\n@example\n```jsx\n<AlertDialog\n  helpButton={\n    <TooltipTrigger tooltip={<HelpTooltip helpText="Show Help Contents" />}>\n      <Button variant="icon">\n        <PlatformIcon icon="actions/help"></PlatformIcon>\n      </Button>\n    </TooltipTrigger>\n  }\n/>\n```\n@see Button'}},composes:["Pick"]}},82540:function(e,t,n){"use strict";n.d(t,{i:function(){return s}}),n(2784);var r=n(76826),o=n(44233),i=n(75522),a=n(52322);function s(){let{open:e}=(0,r.S)();return{confirm:t=>{let{title:n,message:r,okText:s="Ok",cancelText:l="Cancel"}=t;return new Promise(t=>{e(e=>{let{close:c}=e;return(0,a.jsx)(i.a,{type:"question",body:r,heading:n,buttons:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.z,{onPress:c,children:l}),(0,a.jsx)(o.z,{variant:"default",onPress:()=>{t(!0),c()},children:s})]}),onClose:()=>t(!1)})})})}}}},2583:function(e,t,n){"use strict";n.d(t,{CD:function(){return d},EQ:function(){return u},Fx:function(){return p},GE:function(){return l},H7:function(){return s},NY:function(){return a},Of:function(){return i},VT:function(){return c},cU:function(){return h}});var r=n(63631);let o=e=>{let{theme:t}=e;return t.color("Notification.background",t.dark?"#4E5052":"rgb(242,242,242)")},i=r.zo.div`
  position: absolute;
  right: 0;
  top: 0;
  background: inherit;
  padding: 0.375rem 0.5rem 0;
  &::before {
    content: "";
    position: absolute;
    right: 100%;
    background: linear-gradient(90deg, transparent, ${o});
    width: 20px;
    height: 100%;
    z-index: 1;
    top: 0;
  }
`,a=r.zo.div`
  line-height: 1.2;
  box-sizing: border-box;
  overflow: hidden; // header actions overflows a little at the top right rounded corner
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); // shadow doesn't seem to be themed
  padding: 0.5rem 0;
  border: 1px solid
    ${e=>{let{theme:t}=e;return t.color("Notification.borderColor",t.dark?"#565A5CCD":"#B2B2B2CD")}};
  border-radius: ${e=>{let{theme:t}=e;return`${(t.value("Notification.arc")??12)/2}px`}};
  //display: inline-flex;
  width: 23.3125rem;
  position: relative;
  background-color: ${o};
  color: ${e=>{let{theme:t}=e;return t.color("Notification.foreground",t.dark?"rgb(191,191,191)":"#000")}};

  ${i} {
    display: none;
  }
  &:hover ${i} {
    display: initial;
  }
`,s=r.zo.span`
  position: absolute;
  left: 0.75rem;
  top: 0.5rem;
`,l=r.zo.div`
  line-height: 1rem;
  font-weight: bold;
  margin: 0 2.125rem 0.25rem;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis; // this is not the case in original impl, but it's a clear improvement
`,c=r.zo.div`
  margin: 0 2.125rem 0 2.125rem;
  line-height: 1rem;
  display: inline;
  -webkit-line-clamp: ${e=>{let{lineClamp:t}=e;return t}};
  word-break: ${e=>{let{lineClamp:t}=e;return 1===t&&"break-all"}};
  text-overflow: ellipsis;
  overflow: hidden;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  word-wrap: break-word;
`,d=r.zo.div`
  margin: 0.375rem 1.875rem 0 2.125rem;
  display: inline-flex;
  white-space: nowrap;
  overflow: hidden;
  gap: 1rem;

  // could be -webkit-fill-available too, if it has good support. Probably it doesn't tho
  max-width: calc(100% - 3.5rem);
`,u=r.zo.span`
  display: inline-flex;
  position: absolute;
  right: 0.5rem;
  bottom: 0;
  background-color: ${o};
  padding-left: 0.5rem;
`,p=r.zo.span`
  display: block;
  position: relative; // for icon absolute positioning
  cursor: pointer;
  flex: 1;
`,h=(0,r.zo)(p)`
  min-height: 1.5rem;
  margin: -0.5rem 0;
  position: relative;
  z-index: 1;
  ${u} {
    bottom: 0.5rem;
  }
  ${d} {
    margin-top: 0.875rem;
    margin-bottom: 0.5rem;
  }
  ${d}:hover + * .icon[data-hover] {
    display: none;
  }
  ${d}:hover + * .icon {
    display: unset;
  }
`},80842:function(e,t,n){"use strict";n.d(t,{g:function(){return u},y:function(){return p}});var r=n(2784),o=n(39472),i=n(46377),a=n(88109),s=n(2583),l=n(89076),c=n(52322);let d=r.createContext(null),u=r.forwardRef((e,t)=>{let{onPress:n,...o}=e,i=(0,r.useContext)(d);if(null===i)throw Error("BalloonActionLink should only be rendered inside Balloon notifications");return(0,c.jsx)(l.r,{ref:t,...o,onPress:function(){i?.onClose?.();for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n?.(...t)}})}),p=e=>{let{icon:t="Info",expanded:n,defaultExpanded:l=!1,onExpandedChange:u,title:p,headerActions:m,onClose:f,body:g,actions:y,...b}=e,v=(0,r.useRef)(null),[w,x]=(0,r.useState)(!1),[A,j]=(0,a.z)(n,l,u),T=1+(p?0:1)+(y?0:1);(0,r.useEffect)(()=>{var e;let t=v.current;t?x(A?(e=t).clientHeight/parseFloat(getComputedStyle(e).lineHeight)>T:t.scrollHeight>t.clientHeight):x(!1)},[A]);let C="string"==typeof t?(0,c.jsx)(o.vq,{icon:`general/notification${["Error","Warning","Info"].find((e,n,r)=>e===t||n===r.length-1)}.svg`}):t,S=()=>j(e=>!e),k=A&&!!g;return(0,c.jsx)(d.Provider,{value:{onClose:f},children:(0,c.jsxs)(s.NY,{"data-testid":"balloon",...b,children:[(0,c.jsx)(s.H7,{children:C}),p&&(0,c.jsx)(s.GE,{children:p}),(0,c.jsxs)(s.Of,{children:[m,f&&(0,c.jsx)(i.v,{icon:"ide/notification/close.svg",onClick:f,role:"button","data-testid":"close-btn",style:{marginLeft:"0.75rem"}})]}),g&&(0,c.jsx)(h,{expanded:k,enabled:w&&!k,onToggle:S,children:(0,c.jsx)(s.VT,{lineClamp:!k&&T,ref:v,children:g})}),(0,c.jsx)(h,{expanded:k,enabled:w&&k,onToggle:S,Component:s.cU,children:y&&(0,c.jsx)(s.CD,{onClick:e=>e.stopPropagation(),children:y})})]})})},h=e=>{let{children:t,onToggle:n,expanded:r,enabled:o,Component:a=s.Fx}=e,l=(0,c.jsx)(s.EQ,{children:(0,c.jsx)(i.v,{hoverContainerSelector:`${a}`,icon:`ide/notification/${r?"collapse":"expand"}.svg`,className:"icon"})});return o?(0,c.jsxs)(a,{onClick:n,role:"button","data-testid":`${r?"collapse":"expand"}-btn`,children:[t,l]}):(0,c.jsx)(c.Fragment,{children:t})};u.__docgenInfo={description:"A tiny wrapper around {@link Link} component, to be used for actions in Balloon.\nIt closes the balloon when pressed.",methods:[],displayName:"BalloonActionLink"},p.__docgenInfo={description:'[Balloon notification](https://jetbrains.github.io/ui/controls/balloon/) UI.\n\nNotes and TODO:\n- Add support for "error" variant: https://github.com/JetBrains/intellij-community/blob/48c024fcd38bd8d1eccdada05489a8952a494270/platform/platform-impl/src/com/intellij/diagnostic/IdeMessagePanel.java#L215\n- Add support for timeout. Although if the auto close behaviour is only timeout-based, maybe there is not much value in adding a prop for it and calling onClose on timeout.\n- BalloonActions component to be used for rendering a bunch of links in the actions. It should encapsulate the\n  behaviour of moving actions into a menu when there is not enough room.',methods:[],displayName:"Balloon",props:{icon:{defaultValue:{value:'"Info"',computed:!1},required:!1,tsType:{name:"union",raw:'"Info" | "Warning" | "Error" | React.ReactElement<IconProps>',elements:[{name:"literal",value:'"Info"'},{name:"literal",value:'"Warning"'},{name:"literal",value:'"Error"'},{name:"ReactReactElement",raw:"React.ReactElement<IconProps>",elements:[{name:"IconProps"}]}]},description:"Icon rendered in the top left"},defaultExpanded:{defaultValue:{value:"false",computed:!1},required:!1},headerActions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Rendered beside close button. Can be used for rendering a "notification settings" icon button.'},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when the close button is clicked. If not passed, close button will not be rendered."},actions:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Actions rendered in the footer."}}}},52761:function(e,t,n){"use strict";n.d(t,{L:function(){return d},a:function(){return u}});var r=n(2784),o=n(28316),i=n(80842),a=n(72791),s=n(52322);let l=()=>{throw Error("You must render a BalloonManager...")},c=r.createContext({show:l,showSticky:l}),d=()=>(0,r.useContext)(c),u=e=>{let{children:t,disablePortal:n,BalloonsContainer:l=a.Z}=e,[d,u]=(0,r.useState)([]),p=(0,r.useRef)([]),h=(0,r.useRef)(0),m=(0,r.useMemo)(()=>{let e=function(e,t){void 0===t&&(t=1e4),h.current++;let n=()=>{u(e=>e.filter(e=>e!==r))},r=(0,s.jsx)(i.y,{...e,title:e.title,onClose:n},h.current);return u(e=>{if(t>0){let e=window.setTimeout(()=>{n(),p.current=p.current.filter(t=>t!==e)},t);p.current=[...p.current,e]}return e.concat(r)}),n};return{show:e,showSticky:t=>e(t,0)}},[]);(0,r.useEffect)(()=>()=>{p.current.forEach(e=>{window.clearTimeout(e)})},[]);let f=(0,s.jsx)(l,{style:{position:n?"absolute":void 0},children:d});return(0,s.jsxs)(c.Provider,{value:m,children:[t,n?f:o.createPortal(f,document.body)]})};u.__docgenInfo={description:"Enables imperative API (via {@link useBalloonManager}) for showing Balloon notifications on the bottom right of the screen.\nIt renders notifications in a portal appended to `body`, unless `disablePortal` is `true`.\n\n@param disablePortal: if `true`, the container for notifications will not be rendered in a portal\n@param BalloonsContainer: container component for the notifications. It's {@link StyledBalloonsStack} by default.\n\nTODO: fade in/out transition. Notes:\n - Doesn't seem fade-in is needed. Tho it's much easier than fade-out, as it can be achieved with a css animation.\n - Fade out should happen only when the balloon is being hidden by timeout.\nTODO: Support for maximum number of notifications and showing \"x more notification(s)\" button if the limit exceeds",methods:[],displayName:"BalloonManager",props:{BalloonsContainer:{defaultValue:{value:"StyledBalloonsStack",computed:!0},required:!1}}}},72791:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(20569),o=n(2583);let i=r.ZP.div.withConfig({displayName:"StyledBalloonsStack",componentId:"sc-mzizjy-0"})(["position:fixed;z-index:1;bottom:42px;right:26px;","{margin-bottom:12px;}"],o.NY)},51515:function(e,t,n){"use strict";n.d(t,{V:function(){return l}});var r=n(2784),o=n(59748),i=n(48233),a=n(56925),s=n(1554);let l=r.forwardRef(function(e,t){let{elementType:n,...l}=e,c=n||(r.isValidElement(l.children)&&"string"==typeof l.children.type?l.children.type:void 0)||"button",d=(0,i.B)(t),{buttonProps:u}=(0,o.U)({elementType:c,...l},d),p=(0,a.z)(l),{autoFocus:h}=l;return r.cloneElement(l.children,(0,s.d)(p,u,{autoFocus:h,ref:d}))});l.__docgenInfo={description:"A component to make arbitrary content an accessible button which is also able to be a tooltip trigger.",methods:[],displayName:"BareButton",props:{children:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""},elementType:{required:!1,tsType:{name:'AriaButtonProps["elementType"]',raw:'AriaButtonProps["elementType"]'},description:""},preventFocusOnPress:{required:!1,tsType:{name:"boolean"},description:""}},composes:["AriaBaseButtonProps","ButtonProps"]}},44233:function(e,t,n){"use strict";n.d(t,{z:()=>f});var r=n("2784"),o=n("59748"),i=n("48233"),a=n("56925"),s=n("1554"),l=n("63631");let c=l.zo.button`
  box-sizing: border-box;
  min-width: 4.5rem; // https://jetbrains.github.io/ui/controls/button/#28
  padding: 0 0.875rem; // https://jetbrains.github.io/ui/controls/button/#28
  height: 1.5rem;
  font-family: inherit;
  background-color: ${e=>{let{theme:t,disabled:n}=e;return n?"transparent":t.color("Button.startBackground")}};
  color: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("Button.disabledText"):t.color("Button.foreground")}};
  border: 1px solid
    ${e=>{let{theme:t,disabled:n}=e;return n?t.color("Button.disabledBorderColor"):t.color("Button.startBorderColor")}};
  border-radius: ${e=>{let{theme:t}=e;return(t.value("Button.arc")??6)/2}}px;
  box-shadow: ${e=>{let{theme:t}=e;return t.value("Button.paintShadow")?`0 0 0 ${t.value("Button.shadowWidth")??2}px ${t.color("Button.shadowColor")??(t.dark?"#36363680":"#a6a6a633")}`:""}};
  white-space: nowrap; // https://jetbrains.github.io/ui/controls/button/#29

  flex-shrink: 0; // button should not shrink when rendered in a flex container

  a&,
  a&:hover {
    text-decoration: none;
    align-content: center;
    text-align: center;
    display: inline-block;
  }

  &:focus,
  &.focus /* for testing purposes*/ {
    border-color: ${e=>{let{theme:t}=e;return t.color("Button.focusedBorderColor","#87afda")}};
    outline: none;
    box-shadow: ${e=>{let{theme:t}=e;return`0 0 0 2px ${t.color("Component.focusColor")??t.color("Focus.borderColor","#8ab2eb")}`}};
  }
`,d=(0,l.zo)(c)`
  background-color: ${e=>{let{theme:t,disabled:n}=e;return!n&&t.color("Button.default.startBackground","#384f6b")}};
  color: ${e=>{let{theme:t,disabled:n}=e;return!n&&t.color("Button.default.foreground")}};
  border-color: ${e=>{let{theme:t,disabled:n}=e;return!n&&t.color("Button.default.startBorderColor","#BFBFBF")}};
  &:focus,
  &.focus /* for testing purposes*/ {
    border-color: ${e=>{let{theme:t}=e;return t.color("Button.default.focusedBorderColor","#87afda")}};
  }
`,u=(0,l.zo)(c)`
  border-radius: 1000px;
  padding: 0;
  line-height: 0;
  min-width: 0;
  height: 1.5rem;
  width: 1.5rem;
`;var p=n("64446"),h=n("52322");let m={default:d,icon:u},f=r.forwardRef(function(e,t){let{variant:n,style:r,className:l,mnemonic:d,...u}=e,f=(0,i.B)(t),{elementType:g=u.href?"a":"button"}=u,{buttonProps:y}=(0,o.U)({...u,elementType:g},f),b=(0,a.z)(u),{autoFocus:v,form:w}=u,x=n&&m[n]||c;return(0,h.jsx)(x,{as:g,...(0,s.d)(b,y,{autoFocus:v,form:w}),style:r,className:l,ref:f,children:d?(0,h.jsx)(p.Y,{mnemonic:d,isDisabled:u.isDisabled,onTriggered:u.onPress,children:u.children}):u.children})});f.__docgenInfo={description:'https://jetbrains.github.io/ui/controls/button/\n\nTODO:\n- Support for "default" button behaviour. it\'s kind of similar to a <button type="submit" /> in html, but textarea\nbehaviour is different from what is explained here: https://jetbrains.github.io/ui/controls/button/#16\nCmd+Enter should always trigger onPress. Plus, maybe it should work independent of "form" being used? or maybe it\'s\nnot a big deal to expect an ancestor "form" element, when variant is "default"?\n- "Default" style differences in Windows.\n- Gradient colors (low hanging fruit, but negligible added value).\n\nKnown issues:\n- In the original impl, default button looks the same as normal button, when focus is not within the same area that\nthe button is. For example in the commit tool window, "Commit" button which is default, is not blue, unless the\n"Commit" tool window is focused. This particular case can easily be achieved by conditionally setting variant to,\n"default" based on tool window focus state, which is accessible via useDefaultToolWindowContext(), if\nDefaultToolWindow is used. But we need to see if the same requirement exists in various places.\nNOTE: this item is related to the first item in the to-do list above. There can be a container kind of component,\nwhich enables "default" behaviour and look. Maybe it can be FocusScope or at least related to FocusScope.\n- In the original impl, there is no visual clue for pressed state, which is poor accessibility. For now, the same\nbehaviour is followed here too. But we may reconsider deviating from the original impl for an improvement here.',methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:'"default" | "icon"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"icon"'}]},description:""},preventFocusOnPress:{required:!1,tsType:{name:"boolean"},description:""},form:{required:!1,tsType:{name:'ButtonHTMLAttributes["form"]',raw:'ButtonHTMLAttributes<HTMLButtonElement>["form"]'},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},mnemonic:{required:!1,tsType:{name:"string"},description:"A character to be used as {@link https://jetbrains.design/intellij/principles/mnemonics/ mnemonic} for the button\nIt will be shown as underlined in button text, when mnemonic is activated (by pressing Alt)\nNote: if you use mnemonic, and the direct child of the button is not a string, you should use `MnemonicText`\nto render the button text, to have the underlining behavior."},className:{required:!1,tsType:{name:"string"},description:""},onPress:{required:!1,tsType:{name:"signature",type:"function",raw:"(e?: PressEvent) => void",signature:{arguments:[{name:"e",type:{name:"PressEvent"}}],return:{name:"void"}}},description:"Called when the button is pressed, or triggered via mnemonic. If mnemonic is used, there won't be any event\npassed to onPress callback."}},composes:["AriaButtonProps"]}},20298:function(e,t,n){"use strict";n.d(t,{h:function(){return d}}),n(2784);var r=n(10879),o=n(96807),i=n(1554),a=n(27011),s=n(63631),l=n(52322);let c=s.zo.div`
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
`;function d(e){return(0,l.jsx)(r.MT,{children:(0,l.jsx)(u,{children:t=>(0,l.jsx)(c,{...(0,i.d)(e,t)})})})}function u(e){let{children:t}=e,n=(0,r.bO)(),{keyboardProps:i}=(0,o.v)({onKeyDown:e=>{if(!(0,a.a)(e)){if("ArrowLeft"===e.key)return n?.focusPrevious({wrap:!0});if("ArrowRight"===e.key)return n?.focusNext({wrap:!0})}e.continuePropagation()}});return(0,l.jsx)(l.Fragment,{children:t(i)})}d.__docgenInfo={description:"`ButtonGroup` should be used as a wrapper around related {@link Button Buttons}, in places such as the\nfooter of a dialog. It does two things:\n- allows for moving the focus between the buttons with left/right arrow keys.\n- applies the right spacing between the buttons\n\n@see Button",methods:[],displayName:"ButtonGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""}}}},39060:function(e,t,n){"use strict";n.d(t,{X:function(){return f}});var r=n(2784),o=n(38702),i=n(19036),a=n(34863),s=n(1554),l=n(63631),c=n(26053),d=n(64446),u=n(52322);let p=l.zo.label`
  position: relative;
  display: inline-flex;
  align-items: center;
`,h=l.zo.span`
  margin-left: 0.25rem;
  color: ${e=>{let{theme:t,isDisabled:n}=e;return n?t.color("CheckBox.disabledText","#808080"):t.color("*.foreground")}};
`,m=l.zo.input`
  opacity: 0.0001;
  position: absolute;
  z-index: 1;
  inset: 0;
  cursor: default;
  &:disabled {
    cursor: default;
  }
`,f=e=>{let{preventFocus:t,className:n,disableFocusAlwaysVisible:l,mnemonic:f,...g}=e,y=(0,o.l)(g),b=r.useRef(null),{inputProps:v}=(0,i.O)(g,y,b),{isFocusVisible:w,isFocused:x,focusProps:A}=(0,a.F)({autoFocus:g.autoFocus}),j=t?{onFocusCapture:e=>{e.stopPropagation(),e.preventDefault(),e.relatedTarget instanceof HTMLElement?e.relatedTarget.focus():e.target.blur()},tabIndex:-1}:{};return(0,u.jsxs)(p,{className:n,children:[(0,u.jsx)(m,{...(0,s.d)(v,A,j),ref:b}),(0,u.jsx)(c.P,{isIndeterminate:g.isIndeterminate,isFocused:l?w:x,isSelected:g.isIndeterminate||y.isSelected,isDisabled:g.isDisabled,"aria-hidden":"true",style:{pointerEvents:"none"}}),g.children&&(0,u.jsx)(h,{isDisabled:g.isDisabled,children:f?(0,u.jsx)(d.Y,{mnemonic:f,isDisabled:g.isDisabled,onTriggered:y.toggle,children:g.children}):g.children})]})};f.__docgenInfo={description:"Checkbox component to be used with or without a label.\n\nWhile the checkbox without the label + preventFocus makes it usable in tree/list, it might be more optimized to\nuse a more lightweight component like ListItemCheckbox, which uses CheckboxIcon with a simple press handle. Without\nany input, state, etc.",methods:[],displayName:"Checkbox",props:{preventFocus:{required:!1,tsType:{name:"boolean"},description:'If set to true, the checkbox won\'t be focusable.\nCommon use cases:\n- When checkbox is rendered in a focusable container, like a list item where the focus should not be taken away\n  from that container.\n- "Amend" checkbox in "Commit" tool window. The focus is kept in the commit message or changes tree, perhaps, for\n  a questionably better UX.\nNote: Passing {@link excludeFromTabOrder} will still let the checkbox be focusable, while `preventFocus`, doesn\'t\nlet the component get focused at all.\nTODO(potential): it might be nicer to have a `preventFocusOnPress` prop consistent with IconButton, instead.\n In that case preventing focus completely would be achieved with `preventFocusOnPres` and `excludeFromTabOrder`.'},disableFocusAlwaysVisible:{required:!1,tsType:{name:"boolean"},description:"By default, focus ring is always shown when the checkbox is focused, independent of the interaction method.\nif set to false, the focus will be only visible if the interaction is done via keyboard or screen readers.\nSimilar to how [:focus-visible](https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible) works."},isIndeterminate:{required:!1,tsType:{name:"boolean"},description:"Indeterminism is presentational only.\nThe indeterminate visual representation remains regardless of user interaction."},children:{required:!1,tsType:{name:"ReactNode"},description:"The label for the element."},defaultSelected:{required:!1,tsType:{name:"boolean"},description:"Whether the element should be selected (uncontrolled)."},isSelected:{required:!1,tsType:{name:"boolean"},description:"Whether the element should be selected (controlled)."},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isSelected: boolean) => void",signature:{arguments:[{name:"isSelected",type:{name:"boolean"}}],return:{name:"void"}}},description:"Handler that is called when the element's selection state changes."},value:{required:!1,tsType:{name:"string"},description:"The value of the input element, used when submitting an HTML form. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefvalue)."},name:{required:!1,tsType:{name:"string"},description:"The name of the input element, used when submitting an HTML form. See [MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#htmlattrdefname)."},className:{required:!1,tsType:{name:"string"},description:""},mnemonic:{required:!1,tsType:{name:"string"},description:"A character to be used as {@link https://jetbrains.design/intellij/principles/mnemonics/ mnemonic} for the button\nIt will be shown as underlined in button text, when mnemonic is activated (by pressing Alt)\nNote: if you use mnemonic, and the direct child of the button is not a string, you should use `Mnemonic.Text`\nto render the button text, to have the underlining behavior."}},composes:["InputBase","FocusableDOMProps","AriaLabelingProps","FocusableProps"]}},26053:function(e,t,n){"use strict";n.d(t,{P:function(){return i}}),n(2784);var r=n(49844),o=n(52322);let i=e=>{let{isDisabled:t,isFocused:n,isIndeterminate:i,isSelected:a,...s}=e;return(0,o.jsx)(r.J,{...s,size:20,icon:{name:i?"checkBoxIndeterminate":"checkBox",modifiers:{Disabled:t,Selected:a||i,Focused:n}}})};i.__docgenInfo={description:"Renders checkbox UI in different states (focused, selected, indeterminate, etc.), without having anything to do\nwith the interactions",methods:[],displayName:"CheckboxIcon",props:{isIndeterminate:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},isFocused:{required:!0,tsType:{name:"boolean"},description:""},isDisabled:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},isSelected:{required:!0,tsType:{name:"boolean"},description:""}}}},63393:function(e,t,n){"use strict";n.d(t,{M:function(){return r}});let r=n(2784).createContext(null)},38626:function(e,t,n){"use strict";n.d(t,{J:function(){return c},w:function(){return l}});var r=n(2784),o=n(90297),i=n(63393),a=n(52322);let s=r.createContext(null),l=e=>{let{children:t,itemKey:n}=e,o=(0,r.useContext)(i.M);if(!o)throw Error(`SpeedSearchItemProvider is only meant to be rendered by collection components with speed search. 
      CollectionSpeedSearchContext is expected to be rendered as a wrapper around all items.`);let l=o.collection.getItem(n),c=l?.textValue??"";return c||l?.props.textValue!==void 0||console.warn("no textValue specified on Item. When using SpeedSearch, you need to specify textValue for item, which will be the basis for search"),(0,a.jsx)(s.Provider,{value:{highlightedRanges:o.matches.get(n)||null,text:c},children:t})},c=function(e){let{Component:t="span"}=e,n=r.useContext(s);if(!n)throw Error("HighlightedTextValue should be rendered only in items of a speed search enabled collection component");let{highlightedRanges:i,text:l}=n;return(0,a.jsx)(t,{children:i?(0,a.jsx)(o.x,{highlights:i,children:l}):l})};l.__docgenInfo={description:"",methods:[],displayName:"SpeedSearchItemHighlightsProvider"},c.__docgenInfo={description:"Used inside Item content, to render the textValue of the Item, potentially with highlighted ranges if it's a match\nin current search.",methods:[],displayName:"HighlightedTextValue",props:{Component:{defaultValue:{value:'"span"',computed:!1},required:!1,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:'When rendering in a flex parent (which is the case for tree or list), rendering a container is necessary to have\nthe right spacing around highlights, when the highlighter span is immediately followed or proceeded by a white\nspace. By default, a "span" is rendered.'}}}},32858:function(e,t,n){"use strict";n.d(t,{q:()=>s});var r=n("2784"),o=n("41129"),i=n("12746"),a=n("28266");function s(e){let{collection:t,selectionManager:n,keepSearchActiveOnBlur:s,keyboardDelegate:l,focusBestMatch:c,ref:d,...u}=e,p=(0,o.Y)(u),{matches:h,selectionManager:m}=function(e){var t;let{collection:n,selectionManager:o,speedSearch:s,focusBestMatch:l=!1}=e,{searchTerm:c,active:d}=s,{matches:u}=(0,r.useMemo)(()=>{let e=new Map;return s.active&&[...n.getKeys()].map(e=>n.getItem(e)).filter(e=>{let{type:t}=e;return"item"===t}).forEach(t=>{let n=(0,i.M)(t.textValue,c);n&&e.set(t.key,n)}),{matches:e}},[c,n,d]),p=(t=d?u:null,Object.create(o,{selectAll:{value:()=>{if(t){let e=o.state;e.setSelectedKeys(new Set([...t.keys()].filter(t=>!e.disabledKeys.has(t))))}else o.selectAll()}}})),h=(0,a.d)({matches:u,selectionManager:p,collection:n,focusBestMatch:l});return(0,r.useEffect)(()=>{var e;let t;let{selectionManager:n,matches:r,collection:o}=h.current,i=[...r.keys()],a=!i.some(e=>n.isSelected(e));h.current.focusBestMatch&&(e=r,t=[...e.entries()].filter(e=>{let[,[t]]=e;return t?.from===0}).sort((e,t)=>{let[,[n]]=e,[,[r]]=t;return r.to-r.from-n.to-n.from})?.[0]?.[0]),!t&&i.length>0&&a&&(t=function(e){let{collection:t,selectionManager:n,matchedKeys:r}=e,o=!1;for(let e of t.getKeys())if(e===n.firstSelectedKey&&(o=!0),o&&r.includes(e))return e;return r[0]}({collection:o,selectionManager:n,matchedKeys:i})),t&&(n.setFocusedKey(t),n.replaceSelection(t))},[c,h]),{matches:u,selectionManager:p}}({collection:t,selectionManager:n,speedSearch:p,focusBestMatch:c}),{containerProps:f}=(0,o.m)({keepSearchActiveOnBlur:s},p,d);return{containerProps:f,selectionManager:m,keyboardDelegate:(0,r.useMemo)(()=>(function(e,t){let n=(n,r)=>{let o=n;for(;null!=o;){if(!t||t.has(o))return o;o="up"===r?e.getKeyAbove?.(o):e.getKeyBelow?.(o)}return o??void 0};return Object.create(e,{getKeyBelow:{value:t=>n(e.getKeyBelow?.(t),"down")},getKeyAbove:{value:t=>n(e.getKeyAbove?.(t),"up")},getFirstKey:{value:(r,o)=>{let i=n(e.getFirstKey?.(r,o),"down");return null==i?t?.keys().next().value??null:i}},getLastKey:{value:(r,o)=>{let i=n(e.getLastKey?.(r,o),"down");return null==i?[...t?.keys()||[]].pop()??null:i}}})})(l,p.active?h:null),[p.active,l,h]),speedSearch:{...p,matches:h},searchPopupProps:{active:p.active,match:h.size>0,children:p.searchTerm},speedSearchContextValue:{matches:h,collection:t}}}},39985:function(e,t,n){"use strict";n.d(t,{P:function(){return r},i:function(){return i}});class r{constructor(){this.key="divider_"+r.seq++}get id(){return this.key}}function o(e){let{}=e;return null}r.seq=0;let i=o;o.getCollectionNode=function*(e){yield{type:"divider",element:null,props:e,rendered:null,hasChildNodes:!1}}},32396:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(71181);function o(e){return null}let i=o;o.getCollectionNode=function*(e,t){let n=r.c.getCollectionNode(e,t).next().value,o=n.shouldInvalidate;n.shouldInvalidate=e=>o?.(e)||e.invalidated,yield n}},3414:function(e,t,n){"use strict";n.d(t,{e:function(){return d}}),n(2784);var r=n(63631),o=n(88089),i=n(52322);let a="0.1875rem",s=r.zo.div`
  display: flex;
  align-items: center;
  padding-right: 0.25rem;
  gap: ${a};
`,l=r.zo.span`
  display: inline-flex;
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
  padding-left: 0.1rem;
  font-size: ${e=>{let{small:t}=e;return t&&"0.9em"}};
`,c=r.zo.span.attrs({role:"presentation"})`
  display: inline-flex;
  display: flex;
  align-items: center;
  gap: ${a};
`,d=e=>(0,i.jsx)(s,{[o.U]:!0,...e});d.Hint=l,d.Group=c,d.__docgenInfo={description:'Generic layout component capturing common use cases of tree or list items.\nIt handles the spacing between parts, and provides styled components for parts that need specific styling.\nFor more flexibility over the order of various pieces of content in list/tree items, there is no specific props\nfor parts. Different parts should just be rendered in children.\n\n@example\n```tsx\n<ItemLayout>\n  <PlatformIcon icon="nodes/folder" />\n  <HighlightedTextValue />\n  <ItemLayout.Hint>~/workspace/jui</ItemLayout.Hint>\n</ItemLayout>\n```\n@beta',methods:[],displayName:"ItemLayout",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},12550:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=n(2784).createContext(null)},3510:function(e,t,n){"use strict";function r(e,t){let n=`[data-key="${CSS.escape(String(t))}"]`,r=e.current?.dataset.collection;return r&&(n=`[data-collection="${CSS.escape(r)}"]${n}`),e.current?.querySelector(n)}n.d(t,{D:function(){return r}})},27195:function(e,t,n){"use strict";n.d(t,{E:function(){return a}});var r=n(2784),o=n(94753),i=n(3510);function a(e,t){let{isVirtualized:n,selectionManager:a}=e;(0,r.useEffect)(()=>{if(!n&&a.focusedKey&&t?.current){let e=(0,i.D)(t,a.focusedKey);e&&(0,o.z)(t.current,e)}},[n,t,a.focusedKey])}},89017:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(2784);let o=e=>{let{state:t,focusProxyRef:n,collectionRef:o,onAction:i}=e;(0,r.useEffect)(()=>{let e=n?.current;if(e){let n=e=>{"ArrowUp"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),o.current?.dispatchEvent(new KeyboardEvent(e.type,e))):"Enter"===e.key&&t.selectionManager?.focusedKey!=null&&(e.preventDefault(),e.currentTarget?.addEventListener("keyup",e=>{console.log("Keyup",e.key,t.selectionManager.focusedKey,"onAction",i),"Enter"===e.key&&null!=t.selectionManager.focusedKey&&i?.(t.selectionManager.focusedKey)},{once:!0,capture:!0}))};return e.addEventListener("keydown",n),()=>{e.removeEventListener("keydown",n)}}})}},49407:function(e,t,n){"use strict";n.d(t,{C:function(){return A}});var r=n(2784),o=n(48233),i=n(1554),a=n(38719),s=n(84707),l=n(63631),c=n(51515),d=n(93880),u=n(54488),p=n(67813),h=n(28353),m=n(2601),f=n(76344),g=n(65465),y=n(37557),b=n(52322);let v=(0,l.zo)(p.P)`
  padding: 0;
  color: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("TextField.disabledForeground"):t.color("TextField.foreground")}};
`,w=l.zo.input`
  flex: 1;
  background: none;
  border: none;
  outline: none;
  color: inherit;
  padding: ${e=>{let{theme:t}=e;return t.inset("ComboBox.padding")??"1px 6px 1px 6px"}};
  height: 100%;
`,x=l.zo.button`
  // Resetting default styles
  appearance: none;
  border: none;
  background: ${e=>{let{theme:t}=e;return t.color("ComboBox.ArrowButton.background")}};
  outline: none;
  font: inherit;
  padding: 0;

  // Custom styles
  border-left: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.border()}};
  height: 100%;
  aspect-ratio: 1;
  /**
   * In the reference impl, the clickable area exceeds the left border by a
   * few pixels. The following trick implements that
   */
  position: relative;
  ::before {
    content: "";
    position: absolute;
    left: -4px;
    top: 0;
    bottom: 0;
    width: 4px;
  }
`,A=(0,r.forwardRef)((e,t)=>{let{labelPlacement:n,style:l,className:p,value:A,defaultValue:j,onValueChange:T,validationState:C,validationMessage:S,contextHelp:k,contextHelpPlacement:R,inputProps:E,inputRef:I,...P}=e,N=(0,o.B)(t),D=(0,r.useRef)(null),M=(0,o.B)(I),B=(0,r.useRef)(null),F=(0,r.useRef)(null),O=(0,r.useRef)(null),_=(0,s.P)({menuTrigger:"manual",allowsCustomValue:!0,inputValue:A,defaultInputValue:j,onInputChange:T,isInvalid:!!C&&"valid"!==C,...P}),{descriptionProps:L,errorMessageProps:z,labelProps:$,inputProps:q,listBoxProps:K,buttonProps:H}=(0,a.E)({...P,allowsCustomValue:!0,buttonRef:D,inputRef:M,popoverRef:F,listBoxRef:O},_),V=B.current?B.current?.offsetWidth+2:void 0;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.w,{ref:N,isDisabled:P.isDisabled,label:P.label,labelPlacement:n,labelProps:$,className:p,style:l,children:(0,b.jsx)(y.y,{contextHelp:k,contextHelpPlacement:R,descriptionProps:L,children:(0,b.jsxs)(v,{ref:B,validationState:C,disabled:P.isDisabled,className:_.isFocused?"is-focus":"",children:[(0,b.jsx)(f.S,{placement:"top",showOnFocus:!0,isDisabled:!S,triggerRef:M,tooltip:(0,b.jsx)(g.p,{type:"valid"!==C?C:void 0,children:(0,b.jsx)("div",{...z,children:S})}),delay:0,children:e=>(0,b.jsx)(w,{...(0,i.d)(q,E,e)})}),(0,b.jsx)(c.V,{...H,ref:D,children:(0,b.jsx)(x,{children:(0,b.jsx)(m.q,{disabled:P.isDisabled,size:20,icon:"general/arrowDown.svg"})})})]})})}),_.isOpen&&(0,b.jsx)(d.J,{ref:F,state:_,triggerRef:B,placement:"bottom start",containerPadding:0,offset:2,crossOffset:-1,children:(0,b.jsx)(u.U,{...K,ref:O,state:_,style:{minWidth:V}})})]})});A.__docgenInfo={description:"[Combobox](https://plugins.jetbrains.com/docs/intellij/combo-box.html) implementation.\nKnown differences with the reference impl:\n- selected key doesn't focus when opened the dropdown manually.\n  Opening the dropdown by pressing ArrowDown does focus the previously selected item.",methods:[],displayName:"ComboBox",props:{labelPlacement:{required:!1,tsType:{name:"LabelPlacement"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},validationState:{required:!1,tsType:{name:"union",raw:'"valid" | "error" | "warning"',elements:[{name:"literal",value:'"valid"'},{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""},validationMessage:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Validation message shown as a {@link ValidationTooltip} above the component.\n{@link ValidationTooltipProps#type} is defined based on `validationState`."},inputProps:{required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLInputElement"}],raw:"HTMLProps<HTMLInputElement>"},{name:"union",raw:'"value" | "defaultValue" | "as"',elements:[{name:"literal",value:'"value"'},{name:"literal",value:'"defaultValue"'},{name:"literal",value:'"as"'}]}],raw:'Omit<\n  HTMLProps<HTMLInputElement>,\n  "value" | "defaultValue" | "as"\n>'},description:"props to apply on input, excluding value that's controlled by the component"},inputRef:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""}},composes:["Pick","ControlledStateProps","ContextHelpProps"]}},77694:function(e,t,n){"use strict";n.d(t,{L:function(){return b}});var r=n(2784),o=n(79864),i=n(48233),a=n(60779),s=n(63631),l=n(51515),c=n(93880),d=n(37557),u=n(54488),p=n(67813),h=n(28353),m=n(2601),f=n(52322);let g=(0,s.zo)(p.P)`
  background: ${e=>{let{theme:t}=e;return t.color("ComboBox.nonEditableBackground")}};
`,y=s.zo.span`
  flex: 1;
  text-align: initial;
  white-space: nowrap;
  margin-right: 5px;
`,b=(0,r.forwardRef)((e,t)=>{let{labelPlacement:n,style:r,className:s,validationState:p,contextHelp:b,contextHelpPlacement:v,...w}=e,x=(0,i.B)(t),A=(0,a.d)(w),{menuProps:j,labelProps:T,triggerProps:C,valueProps:S,descriptionProps:k}=(0,o.L)({...w,isInvalid:p&&"valid"!==p},A,x),R=x.current?x.current?.offsetWidth+2:void 0;return(0,f.jsxs)(h.w,{label:w.label,labelPlacement:n,labelProps:T,isDisabled:w.isDisabled,className:s,style:r,children:[(0,f.jsx)(d.y,{contextHelp:b,contextHelpPlacement:v,descriptionProps:k,children:(0,f.jsx)(l.V,{...C,autoFocus:w.autoFocus,ref:x,children:(0,f.jsxs)(g,{as:"button",validationState:p,className:A.isOpen?"is-focus":"",children:[(0,f.jsx)(y,{...S,children:A.selectedItem?.rendered}),(0,f.jsx)(m.q,{disabled:w.isDisabled,size:20,icon:"general/arrowDown.svg"})]})})}),A.isOpen&&(0,f.jsx)(c.J,{state:A,triggerRef:x,placement:"bottom start",containerPadding:0,offset:2,crossOffset:-1,children:(0,f.jsx)(u.U,{...j,state:A,style:{minWidth:R}})})]})});b.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{labelPlacement:{required:!1,tsType:{name:"LabelPlacement"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},validationState:{required:!1,tsType:{name:"union",raw:'"valid" | "error" | "warning"',elements:[{name:"literal",value:'"valid"'},{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""}},composes:["Omit","ContextHelpProps"]}},15239:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r=n(2784),o=n(93497),i=n(54488),a=n(52322);let s=r.forwardRef(function(e,t){let{minWidth:n,...r}=e,s=(0,o.n)({selectionBehavior:"toggle",selectionMode:"single",...r});return(0,a.jsx)(i.U,{state:s,ref:t,...r})});s.__docgenInfo={description:"",methods:[],displayName:"ListBox",props:{minWidth:{required:!1,tsType:{name:"number"},description:""}},composes:["AriaListBoxProps","CollectionFocusProxyProps","Pick"]}},54488:function(e,t,n){"use strict";n.d(t,{U:function(){return f}});var r=n(2784),o=n(20245),i=n(26237),a=n(21066),s=n(48233),l=n(89017),c=n(12550),d=n(84244),u=n(34069),p=n(83212),h=n(63631),m=n(52322);let f=r.forwardRef(function(e,t){let{state:n,style:r,className:i,focusProxyRef:a,...c}=e,d=(0,s.B)(t),{listBoxProps:p,labelProps:h}=(0,o.c)(c,n,d);return(0,l.Q)({state:n,collectionRef:d,focusProxyRef:a,onAction:c.onAction}),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{...h,children:c.label}),(0,m.jsx)(u.C,{...p,ref:d,style:r,className:i,children:[...n.collection].map(e=>"section"===e.type?(0,m.jsx)(v,{section:e,state:n},e.key):(0,m.jsx)(g,{item:e,state:n},e.key))})]})});function g(e){let{item:t,state:n}=e,o=r.useRef(null),{optionProps:a}=(0,i.F)({key:t.key},n,o),s=n.disabledKeys.has(t.key),l=n.selectionManager.focusedKey===t.key;return(0,m.jsx)(c.k.Provider,{value:{isDisabled:s,isContainerFocused:n.selectionManager.isFocused,isSelected:l,node:t},children:(0,m.jsx)(d.o,{...a,ref:o,disabled:s,selected:l,containerFocused:!0,children:t.rendered})})}let y=h.zo.div`
  font-size: 0.6875rem;
  padding: 0 0.5rem;
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}}; // not verified
`,b=h.zo.div`
  padding: 0;
  margin: 0;
  list-style: none;
`;function v(e){let{section:t,state:n}=e,{itemProps:r,headingProps:o,groupProps:i}=(0,a.T)({heading:t.rendered,"aria-label":t["aria-label"]});return(0,m.jsxs)(m.Fragment,{children:[t.key!==n.collection.getFirstKey()&&(0,m.jsx)(p.lX,{role:"presentation"}),(0,m.jsxs)("li",{...r,children:[t.rendered&&(0,m.jsx)(y,{...o,children:t.rendered}),(0,m.jsx)(b,{...i,children:[...n.collection.getChildren?.(t.key)??t.childNodes].map(e=>(0,m.jsx)(g,{item:e,state:n},e.key))})]})]})}f.__docgenInfo={description:"",methods:[],displayName:"StatelessListBox",props:{state:{required:!0,tsType:{name:"ListState",elements:[{name:"T"}],raw:"ListState<T>"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""}},composes:["AriaListBoxOptions","CollectionFocusProxyProps"]}},67813:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(63631);let o=r.zo.div`
  box-sizing: border-box;
  display: flex;
  width: 100%;
  align-items: center;
  height: 1.5rem;
  background: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("ComboBox.disabledBackground"):t.color("ComboBox.background")}};
  color: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("ComboBox.disabledForeground"):t.color("ComboBox.foreground")}};
  border: 1px solid
    ${e=>{let{theme:t,disabled:n,validationState:r}=e;return t.commonColors.border({disabled:n,validationState:r})}};
  // The focus style is applied unconditionally in the reference impl, so no use of focus-visible or js-based focus visible detection

  box-shadow: 0 0 0 0.125rem
    ${e=>{let{theme:t,validationState:n}=e;return t.commonColors.focusRing({validationState:n,focused:!1})}};
  &:focus,
  &.is-focus {
    border-color: ${e=>{let{theme:t,validationState:n}=e;return t.commonColors.border({focused:!0,validationState:n})}};
    outline: none;
    box-shadow: 0 0 0 0.125rem
      ${e=>{let{theme:t,validationState:n}=e;return t.commonColors.focusRing({validationState:n,focused:!0})}};
  }

  border-radius: ${e=>{let{theme:t}=e;return t.borderRadius.default}}px;
`},2601:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(39472),o=n(63631);let i=(0,o.zo)(r.vq).attrs({"aria-hidden":"true"})`
  // NOTE: "ArrowButton.nonEditableBackground" theme key is used in the reference impl, but it doesn't seem necessary to allow
  // for a separate arrow background in Dropdown (aka non-editable combobox), since the arrow is not really a
  // separate button, but a visual indicator for the whole trigger. Also there is no mention of it in designs
  // There is also separate theme properties for color and disabled color, but inheriting it (via currentColor)
  // makes more sense

  * {
    fill: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("ComboBox.ArrowButton.disabledIconColor"):t.color("ComboBox.ArrowButton.iconColor")}};
  }
`},37557:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(63631);n(2784);var o=n(52322);let i=r.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.contextHelpForeground}};
`,a=r.zo.div`
  font-size: 0.75rem; // 12px, in new UI. It's 11px in the old UI.
  display: flex;
  flex-direction: column;
  align-items: start;
  gap: 0.25rem; /* Not checked with the reference impl */
  ${e=>{let{placement:t}=e;return"after"===t&&(0,r.iv)`
      flex-direction: row;
      align-items: center;
      gap: 1rem; /* Not checked with the reference impl */
    `}}
  flex-grow: 1; /* Needed for when the control is inside a flex layout */
`,s=e=>{let{children:t,descriptionProps:n,contextHelpPlacement:r,contextHelp:s}=e;return(0,o.jsxs)(a,{placement:r,children:[t,s&&(0,o.jsx)(i,{...n,children:s})]})};s.__docgenInfo={description:"Implements [inline context help](https://plugins.jetbrains.com/docs/intellij/inline-help-text.html),\nfor its children.",methods:[],displayName:"WithInlineContextHelp",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},descriptionProps:{required:!0,tsType:{name:"DOMAttributes"},description:"Props to apply on the context help wrapper, to make the connected control\ndescribed by the context help."},contextHelp:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Context help, shown below the input.\nA typical use case is\n[to provide example values](https://jetbrains.github.io/ui/principles/context_help/#07)."},contextHelpPlacement:{required:!1,tsType:{name:"union",raw:'"below" | "after"',elements:[{name:"literal",value:'"below"'},{name:"literal",value:'"after"'}]},description:"Placement of the contextHelp text with respect to the control.\nSee more: https://plugins.jetbrains.com/docs/intellij/inline-help-text.html#placement"}}}},28353:function(e,t,n){"use strict";n.d(t,{O:function(){return d},w:function(){return l}});var r=n(63631),o=n(2784),i=n(52322);let a=r.zo.div`
  display: inline-flex;
  flex-direction: ${e=>{let{labelPlacement:t}=e;return"above"===t?"column":"row"}};
  align-items: start;
  gap: 0.375rem;
`,s=r.zo.label`
  color: ${e=>{let{theme:t,isDisabled:n}=e;return t.commonColors.label({disabled:n})}};
  margin-top: 0.25rem;
  line-height: 1.2;
`,l=(0,o.forwardRef)(function(e,t){let{label:n,labelPlacement:r,labelProps:l,children:d,isDisabled:u,...p}=e,h=o.useRef(null);return function(e){let{ref:t,enabled:n}=e,{applyLabelWidth:r,commonWidth:i}=(0,o.useContext)(c);(0,o.useLayoutEffect)(()=>{let e=()=>{let e=t.current?.offsetWidth;return!!e&&(r(e),!0)};e()||setTimeout(e,0)}),(0,o.useEffect)(()=>{t.current&&(t.current.style.minWidth=i&&n?`${i}px`:"")},[i,n])}({ref:h,enabled:"above"!==r}),(0,i.jsxs)(a,{...p,labelPlacement:r,ref:t,children:[n&&(0,i.jsx)(s,{...l,isDisabled:u,ref:h,children:n}),d]})}),c=o.createContext({commonWidth:null,applyLabelWidth:()=>{}});function d(e){let{children:t}=e,[n,r]=o.useState(null);return(0,i.jsx)(c.Provider,{value:{commonWidth:n,applyLabelWidth:e=>{r(t=>e>(t??0)?e+1:t)}},children:t})}l.__docgenInfo={description:"Implements [label](https://jetbrains.github.io/ui/controls/input_field/#label),\nfor elements like Input, Dropdown, etc.",methods:[],displayName:"WithLabel",props:{isDisabled:{required:!0,tsType:{name:"union",raw:"boolean | undefined",elements:[{name:"boolean"},{name:"undefined"}]},description:""},label:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},labelPlacement:{required:!0,tsType:{name:"union",raw:"LabelPlacement | undefined",elements:[{name:"union",raw:'"above" | "before"',elements:[{name:"literal",value:'"above"'},{name:"literal",value:'"before"'}]},{name:"undefined"}]},description:""},labelProps:{required:!1,tsType:{name:"DOMAttributes"},description:""}}},d.__docgenInfo={description:"Provides a context for\n[labeled input controls](https://jetbrains.github.io/ui/principles/layout/#labeled-input-controls)\nwith side-positioned labels to have their input boxes aligned.\nIt doesn't render anything in DOM and only provides a context used\nby labeled controls to set a common width on labels so that the input boxes\nalign.\nLabeled input controls are:\n- {@link InputField}\n- {@link ComboBox}\n- {@link Dropdown}",methods:[],displayName:"LabeledControlsAlignmentProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},46377:function(e,t,n){"use strict";n.d(t,{R:function(){return s},v:function(){return c}});var r=n(63631),o=n(2784),i=n(39472),a=n(52322);let s=r.zo.span`
  ${e=>{let{hoverContainerSelector:t}=e;return t?`${t} &`:""}} .icon[data-hover] {
    display: none;
  }

  ${e=>{let{hoverContainerSelector:t}=e;return t?`${t}:hover &`:"&:hover"}} {
    .icon {
      display: none;
    }

    .icon[data-hover] {
      display: inline-flex;
    }
  }
`,l=(0,r.zo)(s)`
  display: inline-flex;
`,c=o.forwardRef(function(e,t){let{hoverIcon:n,hoverContainerSelector:r,...o}=e,s=`icon ${o.className||""}`;return(0,a.jsxs)(l,{ref:t,hoverContainerSelector:r,children:[(0,a.jsx)(i.vq,{...o,className:s}),(0,a.jsx)(i.vq,{...o,className:s,icon:n??(0,i.qb)(o.icon,"Hover"),"data-hover":!0})]})});c.__docgenInfo={description:'A common use case for PlatformIcons is to have a default icon and a hover icon.\nThis component captures that simple use case, by rendering both icons, and hiding one based on a hover selector.\n\n### Parent hover container\n\nIf the hover-able element is a parent of the icon, and not the icon itself (i.e., the icon should change if the\nthat parent is hovered), you can use `StyledHoverContainer` to define that parent element:\n\n```tsx\nconst SomeParent = styled(StyledHoverContainer)`...`;\n<SomeParent><AutoHoverPlatformIcon icon="..." /></SomeParent>\n```\n\nIf the hover-able element is a parent of the icon, with a known selector, you can pass `hoverContainerSelector`,\ninstead of using `StyledHoverContainer`:\n\n```tsx\n<AutoHoverPlatformIcon icon="..." hoverContainerSelector="[role=menuitem]" />\n```\n\nIf the hover container is a styled component, you can have it converted to selector like this:\n\n```tsx\n<AutoHoverPlatformIcon icon="..." hoverContainerSelector={`${MyStyledHoverContainer}`} />\n```\n\nIn all examples above, the hover icon is shown when the parent is hovered, instead of the icon itself.',methods:[],displayName:"AutoHoverPlatformIcon",props:{hoverIcon:{required:!1,tsType:{name:"string"},description:'The icon to be used when hovered. If not provided, it will be the "somethingHovered" where "something" is the `icon`'},hoverContainerSelector:{required:!1,tsType:{name:"string"},description:""}}}},49844:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(2784),o=n(20569),i=n(61236),a=n(38954),s=n(48233),l=n(52322);let c=r.forwardRef((e,t)=>{let{themePath:n,icon:r,size:c,...d}=e,u=function(e,t){let n=(0,o.Fg)(),r=t&&n.value(t);if(r)return r;let{modifiers:i={},name:a}="string"==typeof e?{name:e}:e;return function(e,t,n){void 0===n&&(n={});let r=`com/intellij/ide/ui/laf/icons/${e.isUnderDarcula()?"darcula/":"intellij/"}`,o=["Editable","Selected","Pressed","Focused","Disabled"].filter(e=>!n.Disabled||!["Focused","Pressed"].includes(e)).reduce((e,t)=>e+(n[t]?t:""),"");return`${r}${t}${o}.svg`}(n,a,i)}(r,n),p=(0,s.B)(t);return(0,a.Z)({path:`platform/platform-impl/resources/${u}`},p),(0,l.jsx)(i.M,{...d,ref:p,size:c})});c.__docgenInfo={description:"",methods:[],displayName:"LafIcon",props:{icon:{required:!0,tsType:{name:"union",raw:"string | { name: string; modifiers: IconModifiers }",elements:[{name:"string"},{name:"signature",type:"object",raw:"{ name: string; modifiers: IconModifiers }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"modifiers",value:{name:"IconModifiers",required:!0}}]}}]},description:"Icon which will be resolved against the default icon location based on theme type"},themePath:{required:!1,tsType:{name:"string"},description:"A theme key that can optionally override the icon."}},composes:["IconProps"]}},39472:function(e,t,n){"use strict";n.d(t,{qb:function(){return c},vq:function(){return p}});var r=n(2784),o=n(63631),i=n(61236),a=n(38954),s=n(48233),l=n(52322);let c=(e,t)=>{let[n,r]=e.split(".");return`${n}${t}${r?`.${r}`:""}`},d=(e,t)=>{let[n,r]=e.split(".");return t||`${n}_dark${r?`.${r}`:""}`},u=e=>e.startsWith("/")?e.slice(1):`platform/icons/src/${e}`,p=r.forwardRef((e,t)=>{let{icon:n,darkIcon:r,...c}=e,p=(0,s.B)(t),h=(0,o.Fg)().dark?d(n,r):n;return(0,a.Z)({path:u(h),fallbackPath:u(n)},p),(0,l.jsx)(i.M,{...c,ref:p})});p.__docgenInfo={description:'Renders an icon from the predefined list of platform icons.\nicon name must follow the directory structure in platform icons.\n@example <PlatformIcon icon="general/hideToolWindow" />\n@example <PlatformIcon icon="toolbar/pin" />\n@example <PlatformIcon icon="toolbar/pin.svg" />\n@example <PlatformIcon icon="/platform/dvcs-impl/resources/icons/currentBranchLabel.svg" />',methods:[],displayName:"PlatformIcon",props:{icon:{required:!0,tsType:{name:"string"},description:'Icon path in intellij platform repo.\nIf starts with "/", the path will be from the repo root. Otherwise, it\'s relative to "platform/icons/src".\n".svg" extension is optional.'},darkIcon:{required:!1,tsType:{name:"string"},description:"Similar to icon, but for dark themes."}},composes:["IconProps"]}},61236:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});var r=n(63631);let o=r.zo.span`
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 0;
  width: ${e=>{let{size:t=16}=e;return`${t}px`}};
  height: ${e=>{let{size:t=16}=e;return`${t}px`}};
  position: relative; // to allow absolute positioned indicators and overlays on icon
  cursor: ${e=>{let{role:t}=e;return"button"===t?"pointer":void 0}};
`},38954:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2784),o=n(63631),i=n(12550);function a(e,t){let{path:n,fallbackPath:a}=e,l=(0,o.Fg)(),c=(0,r.useContext)(i.k),d=c?.isSelected||c?.isContainerFocused,[u,p]=(0,r.useState)(null);(0,r.useLayoutEffect)(()=>{let e=t.current;if(e){if(e.ariaBusy=null===u?"true":null,e.querySelector("svg")?.remove(),u){let t=document.createElement("svg");e.appendChild(t),t.outerHTML=function(e){let t=(1e3*Math.random()).toFixed(0);return[...e.matchAll(/id="(.*?)"/g)].reduce((e,n)=>{let[r,o]=n,i=`${o}-${t}`;return s(`id="${o}"`,`id="${i}"`,s(`url(#${o})`,`url(#${i})`,e))},e)}(u)}}else console.log(`unexpected state - ${n}`)},[u]),(0,r.useEffect)(()=>{let e=!1;return(async()=>{if(!n){console.error("icon path is empty");return}p(null);let t=await l.getSvgIcon(n,d).catch(e=>{if(a)return l.getSvgIcon(a,d);throw e}).catch(e=>(console.error(`Could not resolve icon "${n}"`,e),""));e||p(t)})().catch(console.error),()=>{e=!0}},[n,d])}function s(e,t,n){let r=n.replace(e,t),o=r.replace(e,t);return r===o?r:s(e,t,o)}},83556:function(e,t,n){"use strict";n.d(t,{Np:function(){return d},Qh:function(){return p},hU:function(){return h},pH:function(){return u}});var r=n(45347),o=n(2784),i=n(63631),a=n(48233),s=n(1554),l=n(91346),c=n(52322);let d=22,u=20,p=i.zo.button`
  position: relative; // to allow absolutely positioned overlays like an dropdown icon at the bottom right corner
  background: none;
  color: inherit;
  border: 1px solid transparent;
  border-radius: 3px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: ${e=>{let{minSize:t}=e;return`${t}px`}};
  min-width: ${e=>{let{minSize:t}=e;return`${t}px`}};
  padding: 0;
  margin: 0;
  &:disabled {
    opacity: 0.25; // not quite accurate implementation. There might be better ways to style disabled state.
  }
  &:hover:not(:disabled) {
    background: ${e=>{let{theme:t}=e;return t.color("ActionButton.hoverBackground","#DFDFDF")}};
    border-color: ${e=>{let{theme:t}=e;return t.color("ActionButton.hoverBorderColor","#DFDFDF")}};
  }
  &:focus-visible:not(:disabled) {
    outline: none;
    background: ${e=>{let{theme:t}=e;return t.color("ActionButton.pressedBackground","#CFCFCF")}};
    border-color: ${e=>{let{theme:t}=e;return t.color("ActionButton.focusedBorderColor",t.dark?"#5eacd0":"#62b8de")}};
  }
  &:active:not(:disabled),
  &.active:not(:disabled) {
    background: ${e=>{let{theme:t}=e;return t.color("ActionButton.pressedBackground","#CFCFCF")}};
    border-color: ${e=>{let{theme:t}=e;return t.color("ActionButton.pressedBorderColor","#CFCFCF")}};
  }
`,h=o.forwardRef(function(e,t){let{minSize:n=d,preventFocusOnPress:o=!0,excludeFromTabOrder:i=!0,isPressed:u,isDisabled:h,onPress:m,onPressChange:f,onPressEnd:g,onPressStart:y,onPressUp:b,shouldCancelOnPointerExit:v,...w}=e,x=(0,a.B)(t),{focusableProps:A}=(0,l.k)({isDisabled:h},x),{pressProps:j,isPressed:T}=(0,r.r)({ref:x,isPressed:u,isDisabled:h,onPress:m,onPressChange:f,onPressEnd:g,onPressStart:y,onPressUp:b,shouldCancelOnPointerExit:v,preventFocusOnPress:o});return(0,c.jsx)(p,{className:T?"active":"",disabled:h,...(0,s.d)(j,w,A),minSize:n,tabIndex:i&&!h?-1:void 0,ref:x})});h.__docgenInfo={description:"Icon button, aka Action Button, in the reference implementation.\n@see https://jetbrains.github.io/ui/controls/icon_button/",methods:[],displayName:"IconButton",props:{minSize:{defaultValue:{value:"22",computed:!1},required:!1,tsType:{name:"number"},description:"The minimum width/height of the button."},preventFocusOnPress:{defaultValue:{value:"true",computed:!1},required:!1},excludeFromTabOrder:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:"Whether the button should be focusable by pressing tab. The default is true for icon buttons (aka. action buttons),\nwhich means they are not included in the tab order."},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["PressProps","Pick"]}},39664:function(e,t,n){"use strict";n.d(t,{p:function(){return u}});var r=n(2784),o=n(20569),i=n(83556),a=n(88524),s=n(39472),l=n(1554),c=n(52322);let d=(0,o.ZP)(s.vq).withConfig({displayName:"IconButtonWithMenu__ArrowIcon",componentId:"sc-t9mrdg-0"})(["position:absolute;right:1px;bottom:1px;"]),u=e=>{let{renderMenu:t,children:n,noArrow:o=!1,...s}=e,u=(0,r.useRef)();return(0,c.jsx)(a.b,{renderMenu:t,onOpenChange:e=>{!e&&u.current&&u.current.focus()},children:(e,t)=>(0,c.jsxs)(i.hU,{...(0,l.d)(s,e,{onFocus:e=>{e.relatedTarget&&e.relatedTarget instanceof HTMLElement&&(u.current=e.relatedTarget)}}),ref:t,children:[n,!o&&(0,c.jsx)(d,{icon:"general/dropdown.svg"})]})})};u.__docgenInfo={description:"Renders an IconButton which opens a menu. by default a down arrow icon is shown as an overlay on the rendered\nicon, but it can be disabled by passing `noArrow`. It also restores the focus to the previously focused element,\nwhen the menu is closed.\n@param renderMenu: render prop for rendering the menu\n@param children: the content of the icon button\n@param noArrow: whether the default arrow should be removed or not. false by default.\n@param buttonProps: the rest of the props that will be passed down to IconButton\n\nTODO: Add story and write test for focus restoration, noArrow, and basic functionality.",methods:[],displayName:"IconButtonWithMenu",props:{noArrow:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"whether the default arrow should be removed or not. false by default."}}}},72516:function(e,t,n){"use strict";n.d(t,{E:function(){return i}}),n(2784);var r=n(20569),o=n(52322);let i=e=>{let{darkSrc:t,...n}=e;return(0,r.Fg)().dark?(0,o.jsx)("img",{...n,src:t||n.src}):(0,o.jsx)("img",{...n})};i.__docgenInfo={description:"Same as default `img`, but theme aware. Meaning that you can specify different sources for normal and dark mode.",methods:[],displayName:"Img"}},58249:function(e,t,n){"use strict";n.d(t,{I:function(){return f}});var r=n(2784),o=n(48233),i=n(1554),a=n(91346),s=n(14129),l=n(63631),c=n(52322);let d=l.zo.div`
  box-sizing: border-box;
  display: inline-flex;
  min-width: 4rem; // https://jetbrains.github.io/ui/controls/input_field/#28
  background: ${e=>{let{theme:t,disabled:n}=e;return n?t.color("TextField.disabledBackground"):t.color("TextField.background")}};
  border: 1px solid
    ${e=>{let{theme:t,focused:n,disabled:r,validationState:o}=e;return t.commonColors.border({focused:n,disabled:r,validationState:o})}};
  box-shadow: 0 0 0 0.125rem
    ${e=>{let{theme:t,focused:n=!1,validationState:r,disabled:o}=e;return o?"transparent":t.commonColors.focusRing({validationState:r,focused:n})}};
  border-radius: 1px;
  cursor: text; // the whole box moves focus to the input
  overflow: hidden;
  ${e=>{let{appearance:t,validationState:n,disabled:r}=e;return"embedded"===t&&(0,l.iv)`
      border-color: ${"error"!==n&&"transparent"};
      box-shadow: ${"error"!==n&&"none"};
      background: ${!r&&"transparent"};
    `}};
`,u=l.zo.input`
  all: unset;
  padding: 0.1875rem 0.375rem;
  flex: 1; // fill in the available space within the input box
  min-width: 0;
  line-height: 1rem;
  color: ${e=>{let{theme:t}=e;return t.color("TextField.foreground")}};
  color: ${e=>{let{theme:t,disabled:n}=e;return n&&t.color("TextField.inactiveForeground")}};

  caret-color: ${e=>{let{theme:t}=e;return t.color("TextField.caretForeground")}};
  &::selection {
    background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}}; // Not checked with the reference impl
    color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}}; // Not checked with the reference impl
  }
  &::placeholder {
    color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  }
`,p=l.zo.div`
  display: inline-flex;
  align-items: center;
  gap: 0.25rem; /* TODO: check */
  padding: 1px 0;
`,h=(0,l.zo)(p)`
  margin-right: 0.125rem; /* TODO: check */
`,m=(0,l.zo)(p)`
  margin-left: 0.375rem; /* TODO: check */
`,f=r.forwardRef(function(e,t){let{validationState:n,autoSelect:l,addonBefore:p,addonAfter:f,style:g,className:y,inputRef:b,onFocus:v,onBlur:w,autoFocus:x,appearance:A,...j}=e,T=(0,o.B)(t),C=(0,o.B)(b),{focusableProps:S}=(0,a.k)({isDisabled:j.disabled,autoFocus:x,onFocus:v,onBlur:w},C),[k,R]=(0,r.useState)(!1),{focusWithinProps:E}=(0,s.L)({onFocusWithinChange:R});return(0,r.useEffect)(()=>{l&&C.current?.select()},[l]),(0,c.jsxs)(d,{ref:T,spellCheck:!1,appearance:A,...(0,i.d)(E,{className:y,style:g,onMouseDown:e=>{e.target!==C.current&&(e.preventDefault(),C.current?.focus())}}),focused:k,validationState:n,disabled:j.disabled,children:[p&&(0,c.jsx)(m,{children:p}),(0,c.jsx)(u,{ref:C,...(0,i.d)(j,S)}),f&&(0,c.jsx)(h,{children:f})]})});f.__docgenInfo={description:'Bare input, themed, and with a few extra features:\n- Support for "error" and "warning" state ({@param validationState}\n- Support for autoSelect.\n- Disables spell check by default. It can be overwritten.\nUse {@link InputField} for more features like an associated label, error message and context help.',methods:[],displayName:"Input",props:{validationState:{required:!1,tsType:{name:"union",raw:'"valid" | "error" | "warning"',elements:[{name:"literal",value:'"valid"'},{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:""},autoSelect:{required:!1,tsType:{name:"boolean"},description:"Whether to auto select the value initially"},addonAfter:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Rendered inside the input box and after the input element.\nUsed to render [Built-in buttons](https://jetbrains.github.io/ui/controls/built_in_button/)."},addonBefore:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Rendered inside the input box and before the input element."},inputRef:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:"Ref to the underlying input element"},appearance:{required:!1,tsType:{name:"union",raw:'"embedded" | "box"',elements:[{name:"literal",value:'"embedded"'},{name:"literal",value:'"box"'}]},description:'Appearance of the input.\n- "ghost": Without the border and shadow in valid state.\n- "boxed" With the border and shadow.\n@default "box"'}},composes:["InputHTMLAttributes"]}},70920:function(e,t,n){"use strict";n.d(t,{U:function(){return g}});var r=n(2784),o=n(72721),i=n(48233),a=n(1554),s=n(76344),l=n(65465),c=n(58249),d=n(63631),u=n(37557),p=n(28353),h=n(52322);let m=(0,d.zo)(c.I)`
  width: 100%;
`,f=(0,d.zo)(p.w)`
  // by default, WithLabel doesn't stretch the labeled content to fill the width of the container. The container
  // width might be set explicitly, based on parent, or based on the label width.
  // This behavior seemed more reasonable as default, but for input field it makes more sense to have the text input
  // fill in the width of the field. For dropdown it seemed more reasonable for the dropdown to not stretch just
  // because the label is long. But it might be something to rethink or maybe even allow to be controlled via an option?
  align-items: normal;
`,g=r.forwardRef(function(e,t){let{validationState:n,validationMessage:r,className:c,style:d,labelPlacement:p="before",contextHelp:g,contextHelpPlacement:y,inputProps:b={},addonBefore:v,addonAfter:w,inputRef:x,...A}=e,j=(0,i.B)(t),{fieldProps:T,errorMessageProps:C,labelProps:S,descriptionProps:k}=(0,o.U)({...A,errorMessage:r,validationState:"error"===n||"warning"===n?"invalid":"valid"});return(0,h.jsx)(f,{ref:j,label:A.label,labelPlacement:p,isDisabled:A.isDisabled,labelProps:S,className:c,style:d,children:(0,h.jsx)(u.y,{contextHelp:g,contextHelpPlacement:y,descriptionProps:k,children:(0,h.jsx)(s.S,{placement:"top start",crossOffset:36,showOnFocus:!0,isDisabled:!r,tooltip:(0,h.jsx)(l.p,{type:"valid"!==n?n:void 0,children:(0,h.jsx)("div",{...C,children:r})}),delay:0,children:(0,h.jsx)(m,{inputRef:x,placeholder:A.placeholder,disabled:A.isDisabled,validationState:n,autoSelect:A.autoSelect,autoFocus:A.autoFocus,addonAfter:w,addonBefore:v,...(0,a.d)(T,b,{value:A.value,defaultValue:A.defaultValue,onChange:e=>A.onChange?.(e.target.value)})})})})})});g.__docgenInfo={description:"An input box with an associated label, error message, and context help.",methods:[],displayName:"InputField",props:{labelPlacement:{defaultValue:{value:'"before"',computed:!1},required:!1,tsType:{name:"LabelPlacement"},description:"Placement of the label with respect to the input box."},inputProps:{defaultValue:{value:"{}",computed:!1},required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLInputElement"}],raw:"HTMLProps<HTMLInputElement>"},{name:"union",raw:'"as" | "ref" | "disabled"',elements:[{name:"literal",value:'"as"'},{name:"literal",value:'"ref"'},{name:"literal",value:'"disabled"'}]}],raw:'Omit<\n  HTMLProps<HTMLInputElement>,\n  "as" | "ref" | "disabled" //isDisabled should be used\n>'},description:"Props to be passed to the underlying input element."},className:{required:!1,tsType:{name:"string"},description:"className applied on the field's wrapper div."},style:{required:!1,tsType:{name:"CSSProperties"},description:"style applied on the field's wrapper div."},label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Label to be associated with the input."},isDisabled:{required:!1,tsType:{name:"boolean"},description:"Whether the input is disabled. Use this prop"},placeholder:{required:!1,tsType:{name:"string"},description:"Convenient prop to be used instead of inputProps.placeholder"},value:{required:!1,tsType:{name:'HTMLProps["value"]',raw:'HTMLProps<HTMLInputElement>["value"]'},description:"Convenient prop to be used instead of inputProps.value"},defaultValue:{required:!1,tsType:{name:'HTMLProps["defaultValue"]',raw:'HTMLProps<HTMLInputElement>["defaultValue"]'},description:"Convenient prop to be used instead of inputProps.defaultValue"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(newValue: string) => void",signature:{arguments:[{name:"newValue",type:{name:"string"}}],return:{name:"void"}}},description:"Convenient prop to be used instead of inputProps.onChange. It also calls the passed callback with the\nchange value instead of input."},autoSelect:{required:!1,tsType:{name:"boolean"},description:"Whether to auto select the value initially"},validationMessage:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Validation message shown as a {@link ValidationTooltip} above the field.\n{@link ValidationTooltipProps#type} is defined based on `validationState`."}},composes:["Omit","FocusableProps","Pick","ContextHelpProps"]}},89076:function(e,t,n){"use strict";n.d(t,{r:()=>h});var r=n("2784"),o=n("91346"),i=n("43707"),a=n("63631");let s=a.zo.a`
  cursor: pointer;
  text-decoration: none;
  outline: none;
  // &:focus-visible didn't work as expected, so FocusRing is used
  &.focus-visible {
    outline: 1px solid
      ${e=>{let{theme:t}=e;return t.color("Link.focusedBorderColor",t.commonColors.focusBorderColor)}};
    border-radius: 2px; // Registry.intValue("ide.link.button.focus.round.arc", 4)
  }
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.commonColors.linkForegroundEnabled)}};

  &:hover,
  &.hover /* for testing purposes*/ {
    text-decoration: underline;
    color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("Link.hoverForeground",t.color("link.hover.foreground","")))}};
  }
  &:active,
  &.active {
    color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("Link.pressedForeground",t.color("link.pressed.foreground",t.dark?"#BA6F25":"#F00000")))}};
  }
  &:disabled,
  &.disabled {
    cursor: default;
    text-decoration: none;
    color: ${e=>{let{theme:t}=e;return t.color("Link.disabledForeground",t.color("Label.disabledForeground",t.color("Label.disabledText","#999")))}};
  }
  // We may need to refine this to allow passing visited as a prop for links that don't have href, and not apply the
  // styles in that case, since it seems no href is considered visited by default. Although, in all main themes
  // Link.visitedForeground is set to the default link color.
  &:visited,
  &.visited {
    color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("Link.visitedForeground",t.color("link.visited.foreground",t.dark?"#9776A9":"#800080")))}};
  }
`;var l=n("45347"),c=n("48233"),d=n("56925"),u=n("1554"),p=n("52322");let h=r.forwardRef((e,t)=>{let n=(0,c.B)(t),{focusableProps:r}=(0,o.k)(e,n),{pressProps:a,isPressed:h}=(0,l.r)({...e,ref:n}),m=(0,d.z)(e,{labelable:!0}),f=(0,u.d)(r,a);return(0,p.jsx)(i.t,{focusRingClass:"focus-visible",children:(0,p.jsx)(s,{...(0,u.d)(f,m),as:"span",role:"link",ref:n,className:`${e.isDisabled?"disabled":""} ${h?"active":""} ${e.className||""}`,"aria-disabled":e.isDisabled||void 0,tabIndex:e.isDisabled?void 0:e.excludeFromTabOrder?-1:0,children:e.children})})});h.__docgenInfo={description:"A focusable span in style of [Link](https://jetbrains.github.io/ui/controls/link/) and with accessibility role of link.\n\nTODO and known issues:\n- in the reference impl, Space presses the link, Enter doesn't. It's vice versa here, because of how usePress is implemented.\n- Support for External links\n- Support for Anchor elements?\n\nUnknowns:\n- What are ActionLink and DefaultLinkButtonUI?\n- What is HyperLinkLabel compared to LabelLink (which was looked into in implementation of this component)?",methods:[],displayName:"Link",props:{isDisabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},preventFocusOnPress:{required:!1,tsType:{name:"boolean"},description:""},excludeFromTabOrder:{required:!1,tsType:{name:"boolean"},description:""}}}},74546:function(e,t,n){"use strict";n.d(t,{a:function(){return m}});var r=n(2784),o=n(68166),i=n(29764),a=n(34069),s=n(33365),l=n(48233),c=n(56925),d=n(53974),u=n(85723),p=n(10717),h=n(52322);let m=r.forwardRef(function(e,t){let{allowEmptySelection:n=!1,fillAvailableSpace:r=!1,estimatedItemHeight:m,className:f,...g}=e,y={...g,disallowEmptySelection:!n},b=(0,l.B)(t),v=(0,s.n)(y),{listProps:w,listContext:x}=(0,o.s)({...y,isVirtualized:!0},v,b),{virtualizerProps:{children:A,...j}}=(0,u.g)({state:v,estimatedItemHeight:m,renderItem:e=>(0,h.jsx)(i.H,{item:e},e.key)});return(0,h.jsx)(p.Z.Provider,{value:x,children:(0,h.jsx)(a.C,{as:d.d,...j,...w,...(0,c.z)(y,{labelable:!0}),fillAvailableSpace:r,className:f,ref:b,children:A})})})},10717:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=n(2784).createContext(null)},56990:function(e,t,n){"use strict";n.d(t,{R:function(){return a}}),n(2784);var r=n(83212),o=n(89659),i=n(52322);let a=()=>(0,i.jsx)(r.lX,{as:"li",...(0,o.z)({elementType:"li",orientation:"vertical"}).separatorProps});a.__docgenInfo={description:"",methods:[],displayName:"ListDivider"}},29764:function(e,t,n){"use strict";n.d(t,{H:function(){return c}});var r=n(2784),o=n(53928),i=n(12550),a=n(84244),s=n(10717),l=n(52322);function c(e){let{item:t,children:n}=e,{state:c,focused:d,onAction:u}=(0,r.useContext)(s.Z),p=r.useRef(null),h=c.disabledKeys.has(t.key),m=c.selectionManager.isSelected(t.key),{itemProps:f}=(0,o.C)({key:t.key,ref:p,onAction:()=>u?.(t.key),selectionManager:c.selectionManager});return(0,l.jsx)(a.o,{containerFocused:d,selected:m,disabled:h,"aria-disabled":h,"aria-selected":m,"aria-label":t["aria-label"],...f,ref:p,children:(0,l.jsx)(i.k.Provider,{value:{isDisabled:h,isSelected:m,isContainerFocused:d,node:t},children:n||t.rendered})})}c.__docgenInfo={description:"",methods:[],displayName:"ListItem",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},34069:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(20569),o=n(63631);let i=o.zo.div.attrs(e=>({role:e.role||"list"})).withConfig({shouldForwardProp:e=>"fillAvailableSpace"!==e})`
  padding: 0;
  margin: 0;
  list-style: none;
  max-height: 100%;
  overflow: auto;
  color: ${e=>{let{theme:t}=e;return t.color("*.textForeground")}};
  outline: none;
  ${e=>{let{fillAvailableSpace:t}=e;return t&&(0,r.iv)(["flex:1;height:fill-available;"])}}
  background: ${e=>{let{theme:t}=e;return t.color("List.background")}};
`},84244:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=n(63631);let o=r.zo.div.attrs(e=>({role:e.role||"listitem"}))`
  ${e=>{let t,{containerFocused:n,selected:r,disabled:o,theme:i}=e,a=o?i.color("*.disabledForeground"):i.color("List.foreground",i.commonColors.labelForeground);return r&&(n?(a=i.asCurrentForeground(i.color("List.selectionForeground")||i.commonColors.labelSelectedForeground),t=i.color("List.selectionBackground")):(a=i.color("List.selectionInactiveForeground",a),t=i.color("List.selectionBackgroundInactive"))),{backgroundColor:i.asCurrentBackground(t),color:a}}};
  position: relative;
  display: flex;
  white-space: nowrap;
  padding: 0 0.5rem; // themed?
  line-height: 1.25rem;
  outline: none;
  cursor: default;
  min-width: min-content; // Needed for content sizing for when list/tree is used inside popup or modal window
`},68166:function(e,t,n){"use strict";n.d(t,{s:()=>p});var r=n("2784"),o=n("82574"),i=n("72940"),a=n("21954"),s=n("27195"),l=n("14129"),c=n("1554"),d=n("76680"),u=n("89017");function p(e,t,n){let{onAction:p,showAsFocused:h,focusProxyRef:m,...f}=e,{listProps:{onMouseDown:g,...y}}=function(e){let{selectionManager:t,collection:n,disabledKeys:l,ref:c,keyboardDelegate:d,autoFocus:u,shouldFocusWrap:p,isVirtualized:h,disallowEmptySelection:m,selectOnFocus:f=!1,disallowTypeAhead:g,shouldUseVirtualFocus:y,allowsTabNavigation:b}=e,v=(0,i.X)({usage:"search",sensitivity:"base"}),w=(0,r.useMemo)(()=>d||new o.d(n,l,c,v),[d,n,l,c,v]);(0,s.E)({isVirtualized:h,selectionManager:t},c);let{collectionProps:x}=(0,a.g)({ref:c,selectionManager:t,keyboardDelegate:w,autoFocus:u,shouldFocusWrap:p,disallowEmptySelection:m,selectOnFocus:f,disallowTypeAhead:g,shouldUseVirtualFocus:y,allowsTabNavigation:b});return{listProps:x}}({...f,ref:n,selectionManager:t.selectionManager,disallowEmptySelection:!f.allowEmptySelection,collection:t.collection,disabledKeys:t.disabledKeys,selectOnFocus:!0});(0,u.Q)({focusProxyRef:m,onAction:p,state:t,collectionRef:n});let[b,v]=(0,r.useState)(!1),{focusWithinProps:w}=(0,l.L)({onFocusWithinChange:v});(0,r.useEffect)(()=>{let e=t.collection.getFirstKey();!f.allowEmptySelection&&t.selectionManager.isEmpty&&e&&(t.selectionManager.setFocusedKey(e),t.selectionManager.select(e))},[!f.allowEmptySelection]);let x=(0,d.$)(p??(()=>{})),A=(0,r.useMemo)(()=>({state:t,focused:!!(b||h),onAction:x}),[t,b,h]);return{listProps:(0,c.d)(y,w),listContext:A,focused:b}}},33365:function(e,t,n){"use strict";n.d(t,{n:()=>i});var r=n("93497"),o=n("2784");function i(e){let t=(0,r.n)({...e,selectionBehavior:"replace"});return!function(e,t){let{selectionManagerRef:n}=e;(0,o.useImperativeHandle)(n,()=>t.selectionManager)}(e,t),t}},85723:function(e,t,n){"use strict";n.d(t,{g:()=>f});var r=n("2784"),o=n("47574"),i=n("86201"),a=n("58692");let s=n("63631").zo.div(e=>{let{theme:t}=e;return{paddingLeft:8,fontWeight:"bold",lineHeight:"20px",outline:"none",cursor:"default",color:t.color("*.textForeground",t.color("*.foreground"))}});var l=n("52322");function c(e){let{reusableView:t,header:n,children:o}=e,c=(0,r.useRef)(null);return(0,i.x)({layoutInfo:n.layoutInfo,virtualizer:t.virtualizer,ref:c}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{role:"presentation",ref:c,style:(0,a._)(n.layoutInfo,"ltr"),children:t.content?.rendered}),(0,l.jsx)("div",{style:(0,a._)(t.layoutInfo,"ltr"),children:o},t.key)]})}let d=(e,t,n,r)=>"section"===t.viewType?(0,l.jsx)(c,{reusableView:t,header:n.find(e=>"header"===e.viewType),children:r(n.filter(e=>"item"===e.viewType))},t.key):(0,l.jsx)(a.p,{layoutInfo:t.layoutInfo,virtualizer:t.virtualizer,parent:e?.layoutInfo,children:t.rendered},t.key);d.__docgenInfo={description:"",methods:[],displayName:"renderWrapper"};var u=n("56990"),p=n("61086"),h=n("63608");class m extends o.T{constructor(e){super(e),this.paddingY=0}update(e){super.update(e)}doBuildCollection(){let e=super.doBuildCollection(),t=this.contentSize.height;if(0===e.length){let n=new p.U(0,t,this.virtualizer.visibleRect.width,this.virtualizer.visibleRect.height),r=new h.h("placeholder","placeholder",n),o={layoutInfo:r,validRect:r.rect};e.push(o),this.layoutNodes.set(r.key,o),t=r.rect.maxY}return this.contentSize.height=t+this.paddingY,e}buildSection(e,t,n){let r={type:"header",key:e.key+":header",parentKey:e.key,value:null,level:e.level,index:e.index,hasChildNodes:!1,childNodes:[],rendered:e.rendered,textValue:e.textValue},o=this.buildSectionHeader(r,t,n);o.node=r,o.layoutInfo.parentKey=e.key,this.layoutNodes.set(r.key,o),n+=o.layoutInfo.rect.height;let i=super.buildSection(e,t,n);return i.children.unshift(o),i}}let f=e=>{let{renderItem:t,estimatedItemHeight:n=20,state:o}=e,i=(0,r.useMemo)(()=>new m({estimatedRowHeight:n,estimatedHeadingHeight:20,dividerHeight:2}),[]),a=o.selectionManager.focusedKey;return{virtualizerProps:{persistedKeys:(0,r.useMemo)(()=>new Set(a?[a]:[]),[a]),layout:i,collection:o.collection,children:(e,n)=>"item"===e?t(n):"divider"===e?(0,l.jsx)(u.R,{},n.key):void 0,renderWrapper:d,scrollDirection:"both"}}}},90412:function(e,t,n){"use strict";n.d(t,{Q:function(){return s},d:function(){return a}});var r=n(2784),o=n(69190),i=n(52322);let a=300;function s(e){let{delay:t=a,...n}=e;return(0,i.jsx)(l,{delay:t,children:(0,i.jsx)(o.TK,{...n})})}function l(e){let{children:t,delay:n}=e,[o,a]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{a(!0)},n);return()=>clearTimeout(e)},[]),o)?(0,i.jsx)(i.Fragment,{children:t}):null}s.__docgenInfo={description:"{@link LoadingSpinner}, delayed",methods:[],displayName:"DelayedLoadingSpinner",props:{delay:{defaultValue:{value:"300",computed:!1},required:!1,tsType:{name:"number"},description:"delay for showing the loading spinner in ms.\n@default {@link DEFAULT_LOADING_DELAY_MS}"}},composes:["LoadingSpinnerProps"]}},69190:function(e,t,n){"use strict";n.d(t,{KZ:function(){return i},TK:function(){return a},wT:function(){return o}}),n(2784);var r=n(52322);let o=16,i=32;function a(e){let{size:t=i,...n}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 32 32",...n,children:(0,r.jsxs)("g",{transform:"rotate(0 16 16)",children:[(0,r.jsxs)("g",{fill:"#7F8B91",fillOpacity:".9",fillRule:"evenodd",transform:"translate(-4 -4)",children:[(0,r.jsx)("rect",{width:"8",height:"4",x:"6",y:"18",opacity:".78"}),(0,r.jsx)("rect",{width:"4",height:"8",x:"18",y:"26",opacity:".62"}),(0,r.jsx)("rect",{width:"8",height:"4",x:"26",y:"18",opacity:".38"}),(0,r.jsx)("rect",{width:"4",height:"8",x:"18",y:"6"}),(0,r.jsxs)("g",{transform:"rotate(45 9.757 24.243)",children:[(0,r.jsx)("rect",{width:"8",height:"4",y:"12",opacity:".93"}),(0,r.jsx)("rect",{width:"4",height:"8",x:"12",y:"20",opacity:".69"}),(0,r.jsx)("rect",{width:"8",height:"4",x:"20",y:"12",opacity:".48"}),(0,r.jsx)("rect",{width:"4",height:"8",x:"12",opacity:".3"})]})]}),(0,r.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0 16 16; 45 16 16; 90 16 16; 135 16 16; 180 16 16; 225 16 16; 270 16 16; 315 16 16; 360 16 16",keyTimes:"0;0.125;0.25;0.375;0.5;0.625;0.75;0.875;1",dur:"1s",repeatCount:"indefinite",calcMode:"discrete"})]})})}a.__docgenInfo={description:"Aka AsyncProcessIcon in Intellij Platform source.",methods:[],displayName:"LoadingSpinner",props:{size:{defaultValue:{value:"32",computed:!1},required:!1,tsType:{name:"number"},description:"Loading spinner size in pixels\n@default {@link LOADING_SPINNER_SIZE_BIG}"}},composes:["Omit"]}},88089:function(e,t,n){"use strict";n.d(t,{X:()=>c,U:()=>d});var r=n("2784"),o=n("1554"),i=n("9112");let a=(e,t)=>{let{isDisabled:n=!1,onOpen:o}=e,[i,a]=(0,r.useState)();return{containerProps:n?{}:{onContextMenu:e=>{e.target instanceof Element&&(a(e),o?.({target:e.target}),e.preventDefault(),t.isOpen?(t.close(),setTimeout(()=>{t.open(null)})):t.open(null))}},overlayRef:(0,r.useRef)(null),positionOrigin:i}};var s=n("36588"),l=n("52322");let c=r.forwardRef((e,t)=>{let{children:n,renderMenu:r,onOpen:c,isDisabled:d,...u}=e,p=(0,i.W)({}),{positionOrigin:h,containerProps:m,overlayRef:f}=a({onOpen:c,isDisabled:d},p),g=(0,o.d)(u,m);return(0,l.jsxs)(l.Fragment,{children:["function"==typeof n?n(g):(0,l.jsx)("div",{...g,ref:t,children:n}),p.isOpen&&(0,l.jsx)(s.Z,{onClose:p.close,ref:f,origin:h,defaultAutoFocus:!0,children:r()})]})}),d="data-context-menu-position-target";c.__docgenInfo={description:"A generic container for context menu. It's the same as a normal div, only with an additional `renderMenu` prop,\nto be used to render context menu, when it's triggered.\nCloses the menu when a menu action is triggered.",methods:[],displayName:"ContextMenuContainer",props:{renderMenu:{required:!0,tsType:{name:"signature",type:"function",raw:"() => React.ReactNode",signature:{arguments:[],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Will be called to return the Menu when context menu is triggered. Use {@link Menu} component to render a menu."},children:{required:!0,tsType:{name:"union",raw:"| React.ReactNode\n| ((props: HTMLAttributes<HTMLElement>) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"If children is a function, context menu props is passed to it, to be passed to the underlying element.\nOtherwise, a div container will be rendered."}},composes:["Omit","UseContextMenuProps"]}},89349:function(e,t,n){"use strict";n.d(t,{H9:()=>b,EC:()=>g,v2:()=>w,pl:()=>y,w8:()=>v});var r=n("2784"),o=n("46187"),i=n("71181"),a=n("12152"),s=n("32396");function*l(e){for(let t of e)yield{...t,*childNodes(){let e=t.childNodes?.();if(e)for(let t of e){let{type:e,...n}=t;yield n}}}}let c=i.c.bind(null);c.getCollectionNode=function(e,t){return l(i.c.getCollectionNode(e,t))};let d=a.$.bind(null);function u(e){return Array.isArray(e)?e.map(u):r.isValidElement(e)&&(e.type===i.c||e.type===s.c)?r.createElement(c,{key:null!=e.key?e.key:void 0,...e.props},u(e.props.children)):r.isValidElement(e)&&e.type===a.$?r.createElement(d,{key:null!=e.key?e.key:void 0,...e.props},u(e.props.children)):e}d.getCollectionNode=function(e,t){return l(a.$.getCollectionNode(e,t))};var p=n("92485"),h=n("88413"),m=n("49827"),f=n("52322");let g=r.createContext({close:()=>{},defaultAutoFocus:void 0}),y=r.createContext({});function b(e,t,n){let{onAction:i,submenuBehavior:a="default",...s}=e,{close:l,defaultAutoFocus:c}=(0,r.useContext)(g),d=s.autoFocus??c,u=()=>{s.onClose?.(),l()},p=e=>t.collection.getItem(e)?.hasChildNodes?"actionOnPress"===a?(u(),i?.(e)):void 0:i?.(e),{menuProps:h}=(0,o.H)({...s,onAction:p,onClose:u,autoFocus:d},t,n);return{menuProps:h,menuContextValue:{submenuBehavior:a,autoFocus:d,onAction:p,onClose:u}}}function v(e){return e=function(e){let{children:t,...n}=e;return{...n,children:"function"==typeof t?e=>u(t(e)):u(t)}}(e),(0,p.D)({...e,childExpansionBehaviour:"single",expandedKeys:e.expandedKey?[e.expandedKey]:void 0,onExpandedChange:t=>{let[n]=t;return e?.onExpandedKeyChange?.(n)},defaultExpandedKeys:e.defaultExpandedKey?[e.defaultExpandedKey]:void 0})}function w(e){let{minWidth:t,...n}=e,o=r.useRef(null),i=v(n),{menuContextValue:a,menuProps:s}=b(n,i,o);return(0,f.jsx)(y.Provider,{value:a,children:(0,f.jsx)(m.l2,{...s,ref:o,style:{minWidth:t},fillAvailableSpace:n.fillAvailableSpace,children:(0,h.p)(i,[...i.collection])})})}w.__docgenInfo={description:'UI for menus which are normally shown in a popover. Being rendered as an overlay is not handled here.\nAlso, there is no coupling with any higher level entity like "Action", since this is just for the UI layer.\nSomething like ActionMenu which creates a menu out of a list of actions can be implemented on top of this.\n\n@example\n <Menu>\n   <Item>Item one</Item>\n   <Item>\n     <MenuItemLayout\n       icon={<PlatformIcon icon={"actions/copy"} />}\n       content="Copy"\n       shortcut={"\u2318C"} />\n   </Item>\n </Menu>\n\n Current issues and limitations:\n - Divider in sub-menu\'s is not supported. because of a constraint in @react-stately/collections, which results in\n   this error: Unsupported type <Divider> in <Item>. Only <Item> is supported. Maybe supporting section would\n   be a workaround for it.\n - when a parent menu item which has an open submenu is hovered, it gets focus.',methods:[],displayName:"Menu",props:{expandedKey:{required:!1,tsType:{name:"Key"},description:"Indicates currently expanded menu item (controlled)."},onExpandedKeyChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(expandedKey: Key) => void",signature:{arguments:[{name:"expandedKey",type:{name:"Key"}}],return:{name:"void"}}},description:"Called when expanded menu item is changed by user interaction, which can be either hovering over the menu item"},defaultExpandedKey:{required:!1,tsType:{name:"Key"},description:""},expandOn:{required:!1,tsType:{name:"union",raw:'"hover" | "press"',elements:[{name:"literal",value:'"hover"'},{name:"literal",value:'"press"'}]},description:"@deprecated"},submenuBehavior:{required:!1,tsType:{name:"union",raw:'"default" | "toggleOnPress" | "actionOnPress"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"toggleOnPress"'},{name:"literal",value:'"actionOnPress"'}]},description:'Defines the press behaviour (either by mouse or by pressing Enter when focused) on menu items with submenu.\nBy default (undefined), pressing or hovering over a menu item with submenu, opens the submenu.\nWhen set to "toggle", pressing a menu item with submenu will toggle the submenu. Hovering over such items will\nno longer open the submenu.\nWhen set to "action", pressing a menu item with submenu will call onAction for that item, and closes the menu.\nHovering over such items will no longer open the submenu.\n\nIn all cases, pressing the right arrow will always open the submenu.'},fillAvailableSpace:{required:!1,tsType:{name:"boolean"},description:"fills the available horizontal or vertical space, when rendered in a flex container."},minWidth:{required:!1,tsType:{name:'CSSProperties["minWidth"]',raw:'CSSProperties["minWidth"]'},description:"Minimum width of the menu\n@default: 120px"}},composes:["Omit"]}},55036:function(e,t,n){"use strict";n.d(t,{q:function(){return C},s:function(){return S}});var r=n(2784),o=n(28316),i=n(88957),a=n(76512),s=n(45347),l=n(67407),c=n(72705),d=n(1554),u=n(12550),p=n(23109),h=n(39472),m=n(49844),f=n(63631),g=n(89349),y=n(49827),b=n(46056),v=n(823),w=n(52322);let x=f.zo.span`
  flex: 1;
`,A=(0,f.zo)(h.vq)`
  svg path {
    stroke: currentColor;
  }
`,j=(0,f.zo)(m.J)`
  svg path {
    stroke: currentColor;
  }
`,T=r.createContext({descriptionProps:{},labelProps:{},keyboardShortcutProps:{}}),C=()=>(0,r.useContext)(T);function S(e){let{item:t,state:n}=e,o=r.useRef(null),h=r.useRef(null),m=n.disabledKeys.has(t.key),f=n.expandedKeys.has(t.key),C=n.selectionManager.selectedKeys.has(t.key),S=n.selectionManager.focusedKey===t.key,{onClose:R,submenuBehavior:E,renderSubmenu:I=e=>(0,w.jsx)(v.r,{...e}),itemWrapper:P=e=>e}=(0,r.useContext)(g.pl),{menuItemProps:N,labelProps:D,descriptionProps:M,keyboardShortcutProps:B}=function(e,t,n){let{submenuBehavior:r,...o}=e,c=t.collection.getItem(o.key),u=t.disabledKeys.has(c.key),p=t.expandedKeys.has(c.key),h=c.hasChildNodes,{menuItemProps:m,...f}=(0,l.i)({key:c.key,onClose:h?()=>{}:void 0},t,n);delete m.onMouseEnter,delete m.onPointerEnter,"default"===r&&p&&delete m.onPointerDown;let{hoverProps:g}=(0,i.X)({isDisabled:u,onHoverStart:()=>{let e=[...t.expandedKeys].some(e=>t.collection.getItem(e)?.parentKey===c.parentKey);"default"!==r||p||t.toggleKey(c.key),(0,a.E)()||(("default"===r?p:e)||t.selectionManager.setFocused(!0),t.selectionManager.setFocusedKey(c.key))}}),{pressProps:y}=(0,s.r)({isDisabled:u,onPressUp:()=>{t.toggleKey(c.key),p&&t.selectionManager.setFocusedKey(c.key)}});return{...f,menuItemProps:(0,d.d)(h?{"aria-expanded":p,"aria-haspopup":"menu"}:{},m,g,{onKeyDown:e=>{if(("Enter"===e.key||" "===e.key)&&"actionOnPress"!==r||"ArrowRight"===e.key){t.toggleKey(c.key),e.stopPropagation();return}}},"toggleOnPress"===r?y:{})}}({submenuBehavior:E,key:t.key},n,o),{pressProps:F}=(0,s.r)({isDisabled:m,onPressUp:()=>{n.toggleKey(t.key),f&&n.selectionManager.setFocusedKey(t.key)}}),{overlayProps:O}=(0,c.t)({targetRef:o,overlayRef:h,placement:"right top",shouldFlip:!0,onClose:R,offset:0,crossOffset:-(y.TU+y.db),isOpen:f}),_="default"!==E?{role:"button","aria-label":"Open",...(0,d.d)(F,{onPointerUp:e=>e.stopPropagation()})}:{};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(b.CM,{...N,isDisabled:m,isActive:S,ref:o,children:[C&&(0,w.jsx)(b.oS,{children:(0,w.jsx)(j,{icon:{name:"checkmark",modifiers:{Selected:S}}})}),(0,w.jsx)(u.k.Provider,{value:{isDisabled:m,isContainerFocused:n.selectionManager.isFocused,isSelected:C,node:t},children:(0,w.jsx)(T.Provider,{value:{labelProps:D,descriptionProps:M,keyboardShortcutProps:B},children:P("string"==typeof t.rendered?(0,w.jsx)(x,{...D,children:t.rendered}):t.rendered,t)})}),t.hasChildNodes&&(0,w.jsx)(b.w,{..._,children:(0,w.jsx)(A,{icon:"icons/ide/menuArrow"})})]}),f&&(0,w.jsx)(p.a,{OverlayComponent:k,children:(0,w.jsx)("div",{ref:h,...O,children:I({parentState:n,rootKey:t.key})})})]})}function k(e){let{children:t,portalContainer:n=document.body}=e;return o.createPortal(t,n)}S.__docgenInfo={description:"",methods:[],displayName:"MenuItem",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},state:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""},onSubmenuClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},57385:function(e,t,n){"use strict";n.d(t,{_:function(){return p}}),n(2784);var r=n(12550),o=n(63631),i=n(77536),a=n(55036),s=n(46056),l=n(52322);let c=o.zo.div`
  display: flex;
  align-items: center;
  flex: 1; // to make sure it takes as much space as available in the menu item row, so that the suffix (shortcut) is pushed to the right
`,d=o.zo.span`
  flex: 1;
`,u=o.zo.kbd`
  font-family: system-ui, sans-serif;
  margin-left: 30px;
  margin-right: -0.625rem;
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("MenuItem.acceleratorForeground"))}};
`,p=e=>{let{content:t,shortcut:n,icon:o}=e,{isSelected:p}=(0,i.j)(r.k,"MenuItemLayout is meant to be rendered in Item component in Menus"),{labelProps:h,keyboardShortcutProps:m}=(0,a.q)(),f=!p&&o;return(0,l.jsxs)(c,{children:[f&&(0,l.jsx)(s.oS,{children:f}),(0,l.jsx)(d,{...h,children:t}),n&&(0,l.jsx)(u,{...m,children:n})]})};p.__docgenInfo={description:"",methods:[],displayName:"MenuItemLayout",props:{icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},shortcut:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},72662:function(e,t,n){"use strict";n.d(t,{T:function(){return m}});var r=n(2784),o=n(48233),i=n(1554),a=n(51273),s=n(71560),l=n(88111),c=n(89349),d=n(23109),u=n(90412),p=n(69190),h=n(52322);function m(e){let{children:t,restoreFocus:n,autoFocus:m,overlayProps:f,overlayRef:g,defaultAutoFocus:y,onClose:b,suspense:v}=e,w=(0,o.B)(g),{overlayProps:x}=(0,a.I)({onClose:b,shouldCloseOnBlur:!1,isOpen:!0,isKeyboardDismissDisabled:!1,isDismissable:!0,shouldCloseOnInteractOutside:e=>!(0,d.Z)(w.current,e)},w);(0,s.t)(),(0,r.useEffect)(()=>{let e=()=>{b()};return document.addEventListener("contextmenu",e,{capture:!0}),()=>document.removeEventListener("contextmenu",e)},[]);let A=!1===v?r.Fragment:r.Suspense;return(0,h.jsx)(d.a,{children:(0,h.jsx)(l.M,{restoreFocus:n,autoFocus:m,children:(0,h.jsx)(c.EC.Provider,{value:{close:b,defaultAutoFocus:y},children:(0,h.jsx)("div",{...(0,i.d)(x,f),ref:w,children:(0,h.jsx)(A,{fallback:void 0===v?(0,h.jsx)(u.Q,{size:p.wT}):v,children:t})})})})})}m.__docgenInfo={description:"Overlay container for Menu.\nPositioning is not implemented at this layer.\n{@link MenuOverlayProps#overlayProps} should be used for positioning.",methods:[],displayName:"MenuOverlay",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},restoreFocus:{required:!1,tsType:{name:"boolean"},description:""},autoFocus:{required:!1,tsType:{name:"boolean"},description:""},overlayProps:{required:!0,tsType:{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},description:""},overlayRef:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLDivElement>",elements:[{name:"HTMLDivElement"}]},description:""},defaultAutoFocus:{required:!1,tsType:{name:'MenuProps["autoFocus"]',raw:'MenuProps<unknown>["autoFocus"]'},description:"Sets the default value of {@link Menu}'s {@link MenuProps#autoFocus} prop."},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},suspense:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},36588:function(e,t,n){"use strict";n.d(t,{Z:()=>u});var r=n("2784"),o=n("72662"),i=n("48233"),a=n("49494"),s=n("24736"),l=n("20569"),c=n("52322");let d=(0,l.vJ)([".disable-scroll{overflow:hidden !important;}"]),u=r.forwardRef(function(e,t){let{children:n,origin:l,disableAutoFocus:u=!1,...p}=e,h=(0,i.B)(t),{positionProps:m}=function(e){let{overlayRef:t,origin:n,containerPadding:o}=e,[i,a]=(0,r.useState)({});return(0,r.useLayoutEffect)(()=>{let e=t.current;a(n&&e?function(e){let{clientX:t,clientY:n,overlayWidth:r,overlayHeight:o,containerPadding:i=0}=e,a=document.documentElement.clientWidth-("object"==typeof i?i.x:i),s=document.documentElement.clientHeight-("object"==typeof i?i.y:i),l=n,c=t;return c+r>a&&(c=a-r),l+o>s&&(l=s-o),{top:l=Math.max(0,l),left:c=Math.max(0,c)}}({clientX:n.clientX+1.5,clientY:n.clientY,containerPadding:o,overlayWidth:e.offsetWidth,overlayHeight:e.offsetHeight}):{})},[n?.clientX,n?.clientY]),{positionProps:{style:{position:"fixed",zIndex:1e5,...i}}}}({overlayRef:h,origin:l,containerPadding:{x:0,y:4}}),f=(0,r.useMemo)(()=>l?.target instanceof HTMLElement?(0,a.a)(l.target)?l.target:(0,s.r)(l.target):null,[l?.target]);return(0,r.useEffect)(()=>(f?.classList?.add("disable-scroll"),()=>{f?.classList?.remove("disable-scroll")}),[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{}),!!l&&(0,c.jsx)(o.T,{overlayProps:m,overlayRef:h,restoreFocus:!0,autoFocus:!u,...p,children:n})]})});u.__docgenInfo={description:"Menu overlay position based on an origin point on the screen.\nUseful when the menu is opened by a pointer event.\nTODO: Decouple from menu and make it OverlayFromOrigin",methods:[],displayName:"MenuOverlayFromOrigin",props:{disableAutoFocus:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Weather the content of the popover should not grab the focus upon open\n@default false"},origin:{required:!0,tsType:{name:"union",raw:"| {\n    /**\n     * Horizontal coordinate of the origin point within the viewport.\n     * See {@link MouseEvent.clientX}\n     */\n    clientX: number;\n    /**\n     * Vertical coordinate of the origin point within the viewport.\n     * See {@link MouseEvent.clientX}\n     */\n    clientY: number;\n\n    /**\n     * Origin's target element.\n     * Used to find the scrollable parent and disable scrolling while\n     * the overlay is rendered.\n     */\n    target?: EventTarget | HTMLElement | null;\n  }\n| undefined",elements:[{name:"signature",type:"object",raw:"{\n  /**\n   * Horizontal coordinate of the origin point within the viewport.\n   * See {@link MouseEvent.clientX}\n   */\n  clientX: number;\n  /**\n   * Vertical coordinate of the origin point within the viewport.\n   * See {@link MouseEvent.clientX}\n   */\n  clientY: number;\n\n  /**\n   * Origin's target element.\n   * Used to find the scrollable parent and disable scrolling while\n   * the overlay is rendered.\n   */\n  target?: EventTarget | HTMLElement | null;\n}",signature:{properties:[{key:"clientX",value:{name:"number",required:!0}},{key:"clientY",value:{name:"number",required:!0}},{key:"target",value:{name:"union",raw:"EventTarget | HTMLElement | null",elements:[{name:"EventTarget"},{name:"HTMLElement"},{name:"null"}],required:!1}}]}},{name:"undefined"}]},description:"Origin point within the viewport, based on which the menu overlay should be positioned.\nAny pointer/mouse event, or a plain object with clientX and clientY can be passed."},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Pick"]}},88524:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(2784),o=n(59748),i=n(71264),a=n(72705),s=n(9112),l=n(72662),c=n(46988),d=n(52322);let u=e=>{let{children:t,renderMenu:n,elementType:u="button",direction:p="bottom",align:h="start",shouldFlip:m=!0,restoreFocus:f=!0,preventFocusOnPress:g=!0,suspense:y,positioningTargetRef:b,...v}=e,w=(0,s.W)(v),x=r.useRef(null),A=r.useRef(null),{menuTriggerProps:j,menuProps:T}=(0,i.u)({type:"menu"},w,x),C={...j,elementType:u,preventFocusOnPress:g},{buttonProps:S}=(0,o.U)(C,x),{overlayProps:k}=(0,a.t)({targetRef:b??x,overlayRef:A,placement:function(e,t){switch(e){case"left":case"right":case"start":case"end":return`${e} ${"end"===t?"bottom":"top"}`;default:return`${e} ${t}`}}(p,h),shouldFlip:m,offset:0,containerPadding:0,onClose:()=>w.close(),isOpen:w.isOpen});return(0,d.jsxs)(d.Fragment,{children:["function"==typeof t?t(S,x):(0,d.jsx)(c.N,{ref:x,...S,children:t}),w.isOpen&&(0,d.jsx)(l.T,{overlayProps:k,overlayRef:A,onClose:w.close,restoreFocus:f,suspense:y,children:n({menuProps:T})})]})};u.__docgenInfo={description:"Makes its children a trigger for a menu, rendered via {@link MenuTriggerProps#renderMenu} prop.\nCloses the menu when a menu action is triggered.",methods:[],displayName:"MenuTrigger",props:{elementType:{defaultValue:{value:'"button"',computed:!1},required:!1,tsType:{name:"E"},description:""},direction:{defaultValue:{value:'"bottom"',computed:!1},required:!1,tsType:{name:"union",raw:'"bottom" | "top" | "left" | "right" | "start" | "end"',elements:[{name:"literal",value:'"bottom"'},{name:"literal",value:'"top"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"start"'},{name:"literal",value:'"end"'}]},description:"Where the Menu opens relative to its trigger.\n@default 'bottom'"},align:{defaultValue:{value:'"start"',computed:!1},required:!1,tsType:{name:"Alignment"},description:"Alignment of the menu relative to the trigger.\n@default 'start'"},shouldFlip:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:"Whether the menu should automatically flip direction when space is limited.\n@default true"},restoreFocus:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},preventFocusOnPress:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"union",raw:'| ((\n    props: "button" extends E\n      ? HTMLAttributes<HTMLButtonElement>\n      : HTMLAttributes<HTMLAnchorElement>,\n    ref: RefObject<any> // Using a generic didn\'t seem to work for some reason\n  ) => React.ReactNode)\n| React.ReactElement',elements:[{name:"unknown"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:""},positioningTargetRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLElement>",elements:[{name:"HTMLElement"}]},description:"By default, the menu is positioned relative to the trigger. `positioningTargetRef` can be used to have the menu\npositioned to another element. An example use case is when the menu trigger is a button inside some list item or\ntext box, but the menu semantically belongs to the container list item or text box."},renderMenu:{required:!0,tsType:{name:"signature",type:"function",raw:'(props: {\n  // AriaMenuOptions contains more properties than needed\n  menuProps: Pick<\n    AriaMenuOptions<unknown>,\n    "id" | "aria-labelledby" | "autoFocus" | "onClose"\n  >;\n}) => React.ReactNode',signature:{arguments:[{name:"props",type:{name:"signature",type:"object",raw:'{\n  // AriaMenuOptions contains more properties than needed\n  menuProps: Pick<\n    AriaMenuOptions<unknown>,\n    "id" | "aria-labelledby" | "autoFocus" | "onClose"\n  >;\n}',signature:{properties:[{key:"menuProps",value:{name:"Pick",elements:[{name:"AriaMenuOptions",elements:[{name:"unknown"}],raw:"AriaMenuOptions<unknown>"},{name:"union",raw:'"id" | "aria-labelledby" | "autoFocus" | "onClose"',elements:[{name:"literal",value:'"id"'},{name:"literal",value:'"aria-labelledby"'},{name:"literal",value:'"autoFocus"'},{name:"literal",value:'"onClose"'}]}],raw:'Pick<\n  AriaMenuOptions<unknown>,\n  "id" | "aria-labelledby" | "autoFocus" | "onClose"\n>',required:!0}}]}}}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},suspense:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]}},51837:function(e,t,n){"use strict";n.d(t,{w:function(){return S}});var r=n(2784),o=n(68615),i=n(24457),a=n(1554),s=n(10984),l=n(41958),c=n(76680),d=n(32858),u=n(68655),p=n(49827),h=n(89349),m=n(88413),f=n(823),g=n(85784),y=n(80902),b=n(63631),v=n(83212),w=n(52322);let x=b.zo.ul`
  all: unset;
  flex: 1;
  overflow: auto;
`,A=b.zo.div`
  flex-shrink: 0;
  padding: 0 0.2rem 0.3rem;
`,j=(0,b.zo)(p.l2)`
  --jui-menu-item-padding: 1.25rem;
  ${v.lX} {
    margin: 0 3px; // FIXME: probably use theme
  }
`,T=b.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("Component.infoForeground",t.dark?"#787878":"#999999")}};

  // center positioning. Intentionally different from reference impl.
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;

  white-space: nowrap;
`;function C(e,t,n,u){let{speedSearch:p,selectionManager:h,keyboardDelegate:m,containerProps:f,searchPopupProps:g}=(0,d.q)({collection:(0,r.useMemo)(()=>new l.D(t?e.collection.getItem(t)?.childNodes??[]:e.collection),[t,e.collection]),selectionManager:e.selectionManager,keyboardDelegate:new y.R(t,e.collection,e.disabledKeys,n),keepSearchActiveOnBlur:!0,focusBestMatch:!0,ref:n});(0,r.useEffect)(()=>{let t=n.current;t&&e.selectionManager.isFocused&&!t?.contains(document.activeElement)&&(0,s.e)(t)});let b=(0,r.useRef)(null),[v,w]=(0,r.useState)(null),x=()=>{let{offsetWidth:e=0,offsetHeight:t=0}=u.current||{};e>0&&t>0&&(b.current={width:e,height:t})},A=p.active&&p.searchTerm.length>0;(0,o.y)({ref:u,onResize:(0,c.$)(()=>{A||x()})}),(0,i.b)(()=>{A?b.current&&w(b.current):(b.current||x(),w(null))},[A]);let j=v?{style:{...v,minHeight:v.height,maxHeight:v.height}}:{};return{speedSearch:p,keyboardDelegate:m,selectionManager:h,speedSearchContainerProps:(0,a.d)(f,j,{onMouseDown:e=>{e.preventDefault()}}),searchPopupProps:g}}let S=e=>{let{submenuBehavior:t="toggleOnPress",autoFocus:n="first",emptyText:o="Nothing to show",minWidth:i,...a}=e,s=r.useRef(null),l=r.useRef(null),c=(0,h.w8)({...a}),{speedSearch:d,speedSearchContainerProps:u,searchPopupProps:p,keyboardDelegate:m}=C(c,null,s,l),{menuContextValue:f,menuProps:g}=(0,h.H9)({...a,autoFocus:n,onAction:e=>{a.onAction?.(e),d.clear()},keyboardDelegate:m,submenuBehavior:t},c,s);return(0,w.jsx)(h.pl.Provider,{value:{...f,renderSubmenu:e=>(0,w.jsx)(R,{emptyText:o,...e})},children:(0,w.jsx)(j,{as:"div",ref:l,style:{minWidth:i},...u,fillAvailableSpace:a.fillAvailableSpace,children:(0,w.jsx)(k,{items:[...c.collection],emptyText:o,speedSearch:d,searchPopupProps:p,state:c,menuProps:g,menuRef:s})})})};function k(e){let{items:t,state:n,speedSearch:r,searchPopupProps:o,menuProps:i,menuRef:a,emptyText:s}=e,l=r.active?e=>{let{key:t,type:n}=e;return"item"!==n||r.matches.has(t)}:void 0;return(0,w.jsxs)(w.Fragment,{children:[o.children&&(0,w.jsx)(A,{onClick:e=>{e.preventDefault()},children:(0,w.jsx)(u.z,{...o,clear:r.clear})}),(0,w.jsxs)(x,{...i,ref:a,children:[(0,m.p)(n,t,l),r.active&&0===r.matches.size&&(0,w.jsx)(T,{children:s})]})]})}function R(e){let{parentState:t,rootKey:n,emptyText:o}=e,i=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,g.P)(t),l=s.collection.getItem(n),{speedSearch:c,speedSearchContainerProps:d,searchPopupProps:u,keyboardDelegate:p}=C(s,n,i,a),{submenuProps:h}=(0,f.d)({rootKey:n,parentState:t,keyboardDelegate:p},s,i);return(0,w.jsx)(j,{...d,as:"div",ref:a,children:(0,w.jsx)(k,{items:[...l?.childNodes||[]],speedSearch:c,searchPopupProps:u,state:s,menuProps:h,menuRef:i,emptyText:o})})}S.__docgenInfo={description:"Drop-in replacement for Menu, which implements SpeedSearch.",methods:[],displayName:"SpeedSearchMenu",props:{submenuBehavior:{defaultValue:{value:'"toggleOnPress"',computed:!1},required:!1,tsType:{name:"Exclude",elements:[{name:'MenuProps["submenuBehavior"]',raw:'MenuProps<T>["submenuBehavior"]'},{name:"literal",value:'"default"'}],raw:'Exclude<MenuProps<T>["submenuBehavior"], "default">'},description:""},autoFocus:{defaultValue:{value:'"first"',computed:!1},required:!1},emptyText:{defaultValue:{value:'"Nothing to show"',computed:!1},required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Text to show when the filtering is active but no match is found for the current query.\n@default "Nothing to show"'}},composes:["Omit"]}},49827:function(e,t,n){"use strict";n.d(t,{TU:function(){return l},db:function(){return c},l2:function(){return d}});var r=n(20569),o=n(75486),i=n(63631),a=n(83212),s=n(46056);let l=5,c=1,d=i.zo.ul`
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  font-size: 0.8rem;
  margin: 0;
  padding: ${l}px 0;
  outline: none;
  list-style: none;
  width: fit-content;
  min-width: 120px;
  overflow: auto;
  // Border doesn't seem to be painted in the original impl. IdeaPopupMenuUI.isUnderPopup(c) seemed to return false
  // in all cases. More info: https://github.com/JetBrains/intellij-community/blob/c5ece483811a3ab546fc3880225efb02cc8b94dd/platform/platform-impl/src/com/intellij/ide/ui/laf/darcula/ui/DarculaPopupMenuBorder.java#L24
  /*  border: ${c}px solid
    ${e=>{let{theme:t}=e;return t.color("Menu.borderColor",t.dark?"#515151":"#CDCDCD")}};*/
  ${o.s};
  background: ${e=>{let{theme:t}=e;return t.color("PopupMenu.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("PopupMenu.foreground")}};

  ${a.lX}:first-child,
  ${a.lX}:last-child, 
  ${a.lX} + ${a.lX} {
    display: none;
  }
  ${a.lX} {
    background-color: ${e=>{let{theme:t}=e;return t.color("Menu.separatorColor")}};
    height: ${e=>{let{theme:t}=e;return`${t.value("PopupMenuSeparator.height")??3}px`}};
    padding: ${e=>{let{theme:t}=e;return`${t.value("PopupMenuSeparator.stripeIndent")??1}px 0`}};
    margin: ${e=>{let{theme:t}=e;return`0 ${t.value("PopupMenuSeparator.withToEdge")??1}px`}};
  }
  ${e=>{let{fillAvailableSpace:t}=e;return t&&(0,r.iv)(["flex:1;width:fill-available;height:fill-available;"])}}

  --jui-menu-item-padding: 1rem;
  --jui-menu-item-icon-width: 1rem;
  --jui-menu-item-icon-spacing: 0.3125rem;

  ${s.CM} {
    // NOTE: The left margin seems not to be consistent in all menus.
    padding-left: var(--jui-menu-item-padding);
  }
  &:has(${s.oS}) {
    // Adjusting item padding for menus with icon to be slightly smaller. Based on observations on the reference impl.
    // Could be handled by a negative margin on icons as well.
    --jui-menu-item-padding: 0.75rem;

    // CSS-only solution to conditionally add left margin to menu items without icon, if there is at least one menu item
    // with icon, in the current menu. To have text in all menu items aligned. The extra margin is avoided if there is no
    // menu item with icon. It relies on :has() css pseudo-class which is not supported in FF at the moment.
    ${s.CM}:not(:has(${s.oS})) {
      padding-left: calc(
        var(--jui-menu-item-padding) + var(--jui-menu-item-icon-width) +
          var(--jui-menu-item-icon-spacing)
      );
    }
  }
  ${s.oS} {
    width: var(--jui-menu-item-icon-width);
    margin-right: var(--jui-menu-item-icon-spacing);
  }
`},46056:function(e,t,n){"use strict";n.d(t,{CM:function(){return c},oS:function(){return o},w:function(){return i}});var r=n(63631);let o=r.zo.span`
  display: inline-flex; // prevents unwanted increased height
`,i=r.zo.span`
  display: inline-flex; // to make it not take more height than the icon
  margin-right: -0.75rem;
  margin-left: 0.75rem;
`,a=(0,r.iv)`
  color: ${e=>{let{theme:t}=e;return t.asCurrentForeground(t.color("MenuItem.selectionForeground"))}};
  background: ${e=>{let{theme:t}=e;return t.color("MenuItem.selectionBackground")}};
`,s=(0,r.iv)`
  color: ${e=>{let{theme:t}=e;return t.color("MenuItem.foreground")}};
  background: unset;
`,l=(0,r.iv)`
  color: ${e=>{let{theme:t}=e;return t.color("MenuItem.disabledForeground")+"!important"}};
  background: unset !important;
`,c=r.zo.li`
  position: relative; // for being able to position arrow icon absolutely
  outline: none;
  cursor: default;
  white-space: nowrap;

  // bg/fg style for different states. Order is based on how they should override each other
  ${s};
  ${e=>{let{isActive:t}=e;return t&&a}};
  ${e=>{let{isDisabled:t}=e;return t&&l}};

  padding-right: 1.25rem;
  line-height: 1.3125rem; // to make the item have the right height
  display: flex;
  align-items: center;
`},823:function(e,t,n){"use strict";n.d(t,{d:function(){return p},r:function(){return h}});var r=n(2784),o=n(46187),i=n(1554),a=n(80902),s=n(85784),l=n(89349),c=n(49827),d=n(88413),u=n(52322);function p(e,t,n){let{rootKey:s,parentState:c,keyboardDelegate:d}=e,u=t.collection.getItem(s),{submenuBehavior:p,autoFocus:h=!0,onClose:m,onAction:f}=(0,r.useContext)(l.pl),{menuProps:g}=(0,o.H)({"aria-label":u?.["aria-label"]||u?.textValue,onAction:f,onClose:m,selectedKeys:t.selectionManager.selectedKeys,keyboardDelegate:d||new a.R(s,t.collection,t.disabledKeys,n),autoFocus:h},t,n),{submenuProps:y}=(0,a.d)({rootKey:s},c,n);return(0,r.useEffect)(()=>{setTimeout(()=>{!0===h&&n.current?.focus()})},[]),{submenuProps:(0,i.d)(g,y,{onKeyDown:e=>{if("Escape"===e.key){t.toggleKey(s),t.selectionManager.setFocusedKey(s),c.selectionManager.setFocused(!0),"default"!==p&&e.stopPropagation();return}}})}}function h(e){let{parentState:t,rootKey:n}=e,o=(0,r.useRef)(null),i=(0,s.P)(t),a=i.collection.getItem(n),{submenuProps:l}=p({rootKey:n,parentState:t},i,o);return(0,u.jsx)(c.l2,{...l,ref:o,children:(0,d.p)(i,[...a?.childNodes||[]])})}h.__docgenInfo={description:"",methods:[],displayName:"Submenu",props:{parentState:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""},rootKey:{required:!0,tsType:{name:"ReactKey",raw:"React.Key"},description:""}}}},80902:function(e,t,n){"use strict";n.d(t,{R:function(){return i},d:function(){return a}});var r=n(96807),o=n(82574);class i extends o.d{constructor(e,t,n,r,o){super(t,n,r,o),this.collection=t,this.keys=void 0,this.keys=[...t.getKeys()].map(e=>t.getItem(e)).flatMap(t=>{if(t&&t.parentKey==e){if("item"===t.type)return[t.key];if("section"===t.type)return[...t.childNodes].map(e=>{let{key:t}=e;return t})}return[]})}getFirstKey(){return this.keys[0]}getLastKey(){return this.keys.slice(-1)[0]}getKeyBelow(e){let t=super.getKeyBelow(e);return this.keys.includes(t)?t:null}getKeyAbove(e){let t=super.getKeyAbove(e);return this.keys.includes(t)?t:null}}function a(e,t,n){let{rootKey:o}=e,{keyboardProps:i}=(0,r.v)({onKeyDown:e=>{if(!n.current?.contains(e.target)){e.continuePropagation();return}let r=t.collection.getItem(o);if("ArrowLeft"===e.key&&r&&t.expandedKeys.has(r.key)){t.toggleKey(r.key),t.selectionManager.setFocused(!0);return}e.continuePropagation()}});return{submenuProps:i}}},85784:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(2784),o=n(88397);function i(e){let[,t]=(0,r.useState)(!1),[,n]=(0,r.useState)(null),i=(0,r.useRef)(!1),a=(0,r.useRef)(null),s={...e.selectionManager.state,setFocused:e=>{i.current=e,t(e)},setFocusedKey(e){a.current=e,n(e)}};return Object.defineProperties(s,{isFocused:{get:()=>i.current},focusedKey:{get:()=>a.current}}),{...e,selectionManager:new o.Z(e.collection,s)}}},88413:function(e,t,n){"use strict";n.d(t,{p:()=>u}),n("2784");var r=n("56990"),o=n("55036"),i=n("2443"),a=n("63631"),s=n("52322");let l=a.zo.div`
  cursor: default;
  padding: 2px 0 2px 12px;
  font-weight: bold;
  font-size: 0.8125rem;
  color: ${e=>{let{theme:t}=e;return t.color("MenuItem.disabledForeground")}}; // TODO: make sure about it. It's probably not correct color
`,c=a.zo.ul`
  padding: 0;
  margin: 0;
`,d=e=>{let{item:t,state:n,filter:r=()=>!0}=e,{itemProps:o,headingProps:a,groupProps:d}=(0,i.x)({heading:t.rendered,"aria-label":t["aria-label"]}),p=[...t.childNodes].filter(r);return 0===p.filter(e=>{let{type:t}=e;return"item"===t}).length?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("li",{...o,children:[t.rendered&&(0,s.jsx)(l,{...a,children:t.rendered}),(0,s.jsx)(c,{...d,children:u(n,p)})]})})};function u(e,t,n){return void 0===n&&(n=()=>!0),t.filter(n).map(t=>{switch(t.type){case"item":return(0,s.jsx)(o.s,{item:t,state:e},t.key);case"section":return(0,s.jsxs)(s.Fragment,{children:[t.props.hasDivider&&(0,s.jsx)(r.R,{},t.key+"-divider1"),(0,s.jsx)(d,{item:t,state:e,filter:n},t.key),t.props.hasDivider&&(0,s.jsx)(r.R,{},t.key+"-divider2")]});case"divider":return(0,s.jsx)(r.R,{},t.key)}})}d.__docgenInfo={description:"",methods:[],displayName:"MenuSection",props:{filter:{defaultValue:{value:"() => true",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"(node: Node<T>) => boolean",signature:{arguments:[{name:"node",type:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"}}],return:{name:"boolean"}}},description:""},item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},state:{required:!0,tsType:{name:"TreeState",elements:[{name:"T"}],raw:"TreeState<T>"},description:""}}}},64446:function(e,t,n){"use strict";n.d(t,{Y:function(){return s},i:function(){return l}});var r=n(2784),o=n(76680),i=n(52322);let a=(0,r.createContext)({character:null,active:!1,rendered:()=>{}}),s=e=>{let{children:t,mnemonic:n,isDisabled:s,onTriggered:c=()=>{}}=e,d=(0,r.useRef)(null),u=(0,o.$)(c),[p,h]=(0,r.useState)(!1),m=(0,o.$)(e=>{if(!s){var t,r;if(p&&!e.repeat){let t=e.code.match(/Key([A-Z])/)?.[1];t&&t.toLowerCase()===n.toLowerCase()&&(e.preventDefault(),u())}"Alt"!==e.key||!d.current||(t=d.current).closest("[aria-hidden]")||null===t.parentElement||!((r=t.parentElement).offsetWidth||r.offsetHeight||r.getClientRects().length)||h(!0)}});(0,r.useEffect)(()=>{function e(){h(!1)}function t(e){"Alt"===e.key&&h(!1)}return document.addEventListener("keydown",m),document.addEventListener("keyup",t),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",t),window.removeEventListener("blur",e)}},[]);let f=(0,r.useRef)("");return(0,r.useEffect)(()=>{let e=setTimeout(()=>{f.current!==n&&console.warn(`Mnemonic ${n} was set but not rendered to the user. 
Make sure the specified character is rendered directly in MnemonicTrigger, or wrapped by MnemonicText inside MnemonicTrigger children. 
Element:`,d.current?.parentElement)});return()=>{clearTimeout(e)}},[n]),(0,i.jsxs)(a.Provider,{value:{character:n,active:p,rendered:()=>{f.current=n}},children:[(0,i.jsx)("span",{hidden:!0,ref:d}),"string"==typeof t?(0,i.jsx)(l,{children:t}):t]})};function l(e){let{children:t}=e,{character:n,active:o,rendered:s}=(0,r.useContext)(a);if(n){let e=[t.match(RegExp(`^${n}`,"i"))?.index??-1,(t.match(RegExp(` ${n}`,"i"))?.index??-2)+1,t.toLowerCase().indexOf(n.toLowerCase())].find(e=>e>=0)??-1,r=e>-1;if(r&&s(),r&&o)return(0,i.jsxs)(i.Fragment,{children:[t.slice(0,e),(0,i.jsx)("u",{children:t.slice(e,e+1)}),t.slice(e+1)]})}return(0,i.jsx)(i.Fragment,{children:t})}s.__docgenInfo={description:"",methods:[],displayName:"MnemonicTrigger",props:{onTriggered:{defaultValue:{value:"() => {}",computed:!1},required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Called when mnemonic key is pressed with the activator key"},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},mnemonic:{required:!0,tsType:{name:"string"},description:"Character to be used as {@link https://jetbrains.design/intellij/principles/mnemonics/ mnemonic}."},isDisabled:{required:!1,tsType:{name:"boolean"},description:"Whether the mnemonic is disabled. Useful when setting mnemonic on disable-able components, to just pass\nisDisabled prop down to MnemonicTrigger"}}},l.__docgenInfo={description:'Used inside MnemonicTrigger children, when the direct child can\'t be a string.\n@example\n```tsx\n<MnemonicTrigger mnemonic="D">\n   <>\n     <MnemonicText>Disconnect</MnemonicText>\n   </>\n</MnemonicTrigger>\n```',methods:[],displayName:"MnemonicText",props:{children:{required:!0,tsType:{name:"string"},description:""}}}},66899:function(e,t,n){"use strict";n.d(t,{aq:()=>S,zj:()=>R,Du:()=>I,FP:()=>k,dt:()=>T});var r=n("2784"),o=n("36049"),i=n("20547"),a=n("71560"),s=n("26208"),l=n("10879"),c=n("19860"),d=n("63631"),u=n("71278"),p=n("1554"),h=n("44870"),m=n("23146"),f=n("50164"),g=n("39545"),y=n("76680"),b=n("52322");function v(e){let{measureContentSize:t,children:n}=e;return r.version.startsWith("17")?(0,b.jsx)(r.Suspense,{fallback:(0,b.jsx)(w,{afterUnsuspended:t}),children:n}):(0,b.jsx)(b.Fragment,{children:n})}function w(e){let{afterSuspended:t=()=>{},afterUnsuspended:n=()=>{}}=e,o=(0,y.$)(t),i=(0,y.$)(n);return(0,r.useEffect)(()=>(o?.(),()=>{i?.()}),[]),null}v.__docgenInfo={description:"A workaround for an issue in measuring overlay size, caused by a limitation/bug in how React 17 runs effects when\nchildren suspend rendering: https://github.com/facebook/react/issues/21510\n\nHere is a simplified demonstration of the issue:\nExpected behavior (React 18): https://codesandbox.io/s/parent-effects-suspense-v18-38m8p7?file=/src/App.tsx\nBroken behavior (React 17): https://codesandbox.io/s/parent-effects-suspense-v17-h39g4g\n\nThe overlay content size measuring runs in an effect, and that effect won't run when the content is rendered after\nsuspense.",methods:[],displayName:"UNSAFE_React17SuspenseFix",props:{measureContentSize:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var x=n("90412");let A=d.zo.div`
  position: fixed;
  z-index: 1000; // FIXME: z-index should not be hard-coded like this
  inset: 0;
  align-content: center; // for loading
`,j=(0,u.V5)()?(0,d.iv)`
      box-shadow: 0 22px 70px 4px rgba(0, 0, 0, 0.56),
        0 0 0 1px #747474
          /* FIXME: it's not accurate. In macOS the outline has a gradient*/;
    `:(0,d.iv)`
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15), 0 8px 12px rgba(0, 0, 0, 0.1),
        inset 0 0 0 1px #515355;
    `,T=d.zo.div`
  position: fixed;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  border-radius: 8px;
  outline: none;
  ${j};
`,C=d.zo.div`
  height: inherit;
  overflow: hidden;
  display: flex;
  flex-direction: column;
`,S=50,k=24,R=r.createContext({}),E=(0,d.zo)(x.Q)`
  display: block;
  margin: auto;
`,I=e=>{let{interactions:t="all",minWidth:n=S,minHeight:l=k,className:c,suspense:d,...u}=e,p=(0,r.useContext)(R),h=()=>{p.onClose?.(),u.onClose?.()},m=r.useRef(null),{modalProps:f,underlayProps:g}=(0,i.N)({isDismissable:!1,isKeyboardDismissDisabled:!1},(0,o.d)({isOpen:!0,onOpenChange:e=>{e||h()}}),m);(0,a.t)();let y=!1===d?r.Fragment:r.Suspense;return(0,b.jsx)(s.aV,{disableFocusManagement:!0,children:(0,b.jsx)(A,{...g,className:c,children:(0,b.jsx)(y,{fallback:void 0===d?(0,b.jsx)(E,{}):d,children:(0,b.jsx)(P,{modalProps:f,windowRef:m,modalWindowProps:{...u,minHeight:l,minWidth:n,interactions:t}})})})})};function P(e){let{windowRef:t,modalProps:n,modalWindowProps:{minWidth:r,minHeight:o,interactions:i,children:a,...s}}=e,{dialogProps:d,titleProps:u}=(0,c.R)(s,t),{bounds:y,overlayInteractionHandlerProps:w,UNSAFE_measureContentSize:x}=(0,h.t)(t,{...s,minHeight:o,minWidth:r});return(0,b.jsx)(m.Z,{...w,children:(0,b.jsx)(l.MT,{contain:!0,restoreFocus:!0,autoFocus:!0,children:(0,b.jsxs)(T,{...(0,p.d)(d,n,{style:y}),ref:t,children:[(0,b.jsx)(C,{children:(0,b.jsx)(g.H.Provider,{value:{isActive:!0,titleProps:u,movable:"none"!==i},children:(0,b.jsx)(v,{measureContentSize:x,children:a})})}),"all"===i&&(0,b.jsx)(f.S,{})]})})})}I.__docgenInfo={description:'A movable/resizable modal window. The window header which holds the title, can be used to drag the window around.\nIn the reference impl, modal windows are os-native, and contain os-level buttons for minimize/close/maximise, which\nare not relevant here since they wouldn\'t be os-native windows. A close button is still relevant (and kind of\nnecessary) and will be added in next iterations.\n\nThe content container doesn\'t come with any padding. Other related components should be used for common layouts in\nmodal windows.\nExample use cases: Window for git operations such as push, update, revert, new branch, etc.\n\n![img.png](https://user-images.githubusercontent.com/3150694/181095858-968c5c66-2ae7-4e40-84e3-e6df43cd4aa4.png)\n\nNOTE: The part regarding rendering OverlayInteractionHandler, and rendering as a dialog with a focus scope, in an\noverlay container could be extracted into a component which is then used to create custom resizable/movable overlay\ndialogs, like "Branches", or "Search Everywhere".\n\nTODO: show close button (maybe os-aware styles?)',methods:[],displayName:"ModalWindow",props:{interactions:{defaultValue:{value:'"all"',computed:!1},required:!1},minWidth:{defaultValue:{value:"50",computed:!1},required:!1},minHeight:{defaultValue:{value:"24",computed:!1},required:!1},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},suspense:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"By default, a Suspense boundary is included around the overlays\nto avoid suspended renders from bubbling up into\nthe higher levels of the application.\nThe suspense boundary is around the overlay itself, and *inside* the modal\nunderlay (if any), which means the interaction with background content\nwill immediately get blocked until rendering is unsuspended.\nPass `false` if you don't want this behavior.\nPass anything else to render a custom Suspense fallback."}},composes:["AriaDialogProps","ResizableMovableOverlayOptions"]}},39545:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=n(2784).createContext({isActive:!1,movable:!0,titleProps:{}})},20721:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(63631);n(2784);var o=n(20298),i=n(52322);let a=r.zo.div`
  padding: 0.625rem 0.875rem;
  display: flex;
  gap: 0.5rem;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid transparent;
  border-color: ${e=>{let{hasBorder:t,theme:n}=e;return t&&n.commonColors.contrastBorder}};
`,s=r.zo.div`
  display: flex;
  gap: 0.75rem;
`;function l(e){let{left:t,right:n,hasBorder:r}=e;return(0,i.jsxs)(a,{hasBorder:r,children:[(0,i.jsx)(s,{children:t}),(0,i.jsx)(s,{children:(0,i.jsx)(o.h,{children:n})})]})}l.__docgenInfo={description:"Implements the common layout for window footer, to be used in {@link ModalWindowProps#footer}.\nFooter has a left and a right side. There is a standard gap between the children of each side.",methods:[],displayName:"WindowFooter",props:{left:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The content to go to the left side the footer. A help icon button is very common on the left side."},right:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The content to go to the right side the footer.\n{@link Button}s are usually used inside the right content.\nA {@link ButtonGroup} is rendered around the content to allow for keyboard navigation with arrow keys."},hasBorder:{required:!1,tsType:{name:"boolean"},description:"Whether to show top border for footer or not"}}}},22188:function(e,t,n){"use strict";n.d(t,{b:()=>m});var r=n("63631"),o=n("2784"),i=n("21179"),a=n("39545"),s=n("1554"),l=n("52322");let c=r.zo.h1`
  margin: 0;
  text-align: center;
  font-size: 13px; // not rem! intentional
  line-height: 24px; // Double check
  cursor: default;
  user-select: none;
  padding: 0 8px;
`,d=e=>{let{children:t}=e,{movable:n,titleProps:r}=(0,o.useContext)(a.H),d=function(e){return void 0===e&&(e={}),(0,l.jsx)(c,{...(0,s.d)(r,e),children:t||(0,l.jsx)(l.Fragment,{children:"\xa0"})})};return n?(0,l.jsx)(i.F,{children:e=>{let{moveHandleProps:t}=e;return d(t)}}):d()};d.__docgenInfo={description:"Implements appearance of Window header, and also acts as a handle for moving the window.\nExpected to be used with {@link WindowLayout}:\n\n@example\n```tsx\n<ModalWindow>\n   <WindowLayout header={<WindowHeader>header</WindowHeader>} />\n</ModalWindow>\n```",methods:[],displayName:"WindowHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var u=n("20721");let p=r.zo.div`
  min-height: min-content;
`,h=r.zo.div`
  overflow: auto;
  flex: 1;
`;function m(e){let{header:t,footer:n,content:r}=e;return(0,l.jsxs)(l.Fragment,{children:[t&&("string"==typeof t?(0,l.jsx)(d,{children:t}):t),(0,l.jsx)(h,{children:r}),n&&(0,l.jsx)(p,{children:n})]})}m.Footer=u.c,m.Header=d,m.__docgenInfo={description:"Window content layout, supporting fixed `header` and `footer` sections, and a scrollable `content` area.",methods:[],displayName:"WindowLayout",props:{header:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Fixed position header of the window at the top. Use {@link WindowLayout.Header} for the default window header,\nwhich also acts as a move handle for the window. If a string is passed, it will be wrapped by\n{@link WindowLayout.Header} automatically."},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Scrollable content of the window."},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"An area at the bottom of the window which is not scrolled as opposed to `content`. Use {@link WindowLayout.Footer}\nfor rendering the common layout of a window footer."}}}},76826:function(e,t,n){"use strict";n.d(t,{S:function(){return s},f:function(){return l}});var r=n(2784),o=n(66899),i=n(52322);let a=r.createContext({open:()=>{throw Error("WindowManager not found. Wrap your application with WindowManager to be able to open windows imperatively")}}),s=()=>(0,r.useContext)(a),l=e=>{let{children:t}=e,[n,s]=(0,r.useState)([]),l=(0,r.useRef)(0),c=(0,r.useMemo)(()=>({open:function(e){return new Promise(t=>{l.current++;let n=e=>{s(e=>e.filter(e=>e!==r)),requestAnimationFrame(()=>{t(e)})},r=(0,i.jsx)(o.zj.Provider,{value:{onClose:()=>{n()}},children:"function"==typeof e?e({close:n}):e},l.current);s(e=>e.concat(r))})}}),[]);return(0,i.jsxs)(a.Provider,{value:c,children:[t,n]})};l.__docgenInfo={description:"Enables imperative API (via {@link useWindowManager}) for opening windows.\nIt renders windows in a portal appended to `body`, unless `disablePortal` is `true`.",methods:[],displayName:"WindowManager"}},23109:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},a:function(){return s}});var r=n(2784),o=n(26208),i=n(52322);let a=r.createContext(null);function s(e){let{children:t,OverlayComponent:n=o.aV}=e,s=(0,r.useContext)(a),l=(0,r.useRef)(null);return s?(0,i.jsx)(n,{portalContainer:s,children:t}):(0,i.jsx)(a.Provider,{value:l.current,children:(0,i.jsx)(n,{children:(0,i.jsx)("div",{ref:l,"data-overlay-root":"",children:t})})})}function l(e,t){let n=e?.closest("[data-overlay-root]"),r=t?.closest("[data-overlay-root]");return!!n&&n===r}s.__docgenInfo={description:'A (drop-in replacement) wrapper around Overlay, which makes sure overlays created in nested\nreact components will be ported to the same top level container. This is especially useful to detect\n"outside clicks" when overlays are nested. The most common example would be nested menu in popup.',methods:[],displayName:"Overlay",props:{OverlayComponent:{defaultValue:{value:"AriaOverlay",computed:!0},required:!1,tsType:{name:"ReactComponentType",raw:"React.ComponentType<OverlayProps>",elements:[{name:"OverlayProps"}]},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},23146:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},b:function(){return s}});var r=n(2784),o=n(52322);let i=r.createContext(null),a=e=>{let{children:t,...n}=e;return(0,o.jsx)(i.Provider,{value:n,children:t})},s=()=>(0,r.useContext)(i);a.__docgenInfo={description:"Provides the context used by components like {@link OverlayMoveHandle} and {@link OverlayResizeHandles} that provide\nuser interactions that change the boundary of the overlay they are rendered in.\nUse {@link useResizableMovableOverlay} which implements an efficient state management for overlay bounds and returns\nprops to be passed to `OverlayInteractionHandler`:\n\n@example\n\nconst {\n   bounds, // Bounds to be applied to the overlay element.\n   overlayInteractionHandlerProps,\n } = useResizableMovableOverlay(props);\n\nreturn (\n  <OverlayInteractionHandler {...overlayInteractionHandlerProps}>\n    <div style={bounds}>...</div>\n  </OverlayInteractionHandler>\n);\n\n@see useResizableMovableOverlay",methods:[],displayName:"OverlayInteractionHandler",props:{startInteraction:{required:!0,tsType:{name:"signature",type:"function",raw:'(type: "move" | "resize") => Bounds',signature:{arguments:[{name:"type",type:{name:"union",raw:'"move" | "resize"',elements:[{name:"literal",value:'"move"'},{name:"literal",value:'"resize"'}]}}],return:{name:"signature",type:"object",raw:"{\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n}",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}}}},description:"Signals start of a UI interaction like resize or move, in which overlay bounds change."},updateBounds:{required:!0,tsType:{name:"signature",type:"function",raw:"(bounds: Bounds) => void",signature:{arguments:[{name:"bounds",type:{name:"signature",type:"object",raw:"{\n  top: number;\n  left: number;\n  width: number;\n  height: number;\n}",signature:{properties:[{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}},{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}}}],return:{name:"void"}}},description:"Used to update bounds state during a UI interaction."},finishInteraction:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Signals end of a UI interaction."},minWidth:{required:!1,tsType:{name:"number"},description:""},minHeight:{required:!1,tsType:{name:"number"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},21179:function(e,t,n){"use strict";n.d(t,{F:function(){return a},y:function(){return i}});var r=n(60868),o=n(23146);function i(e){let t=(0,o.b)();if(!t)return{moveHandleProps:{}};let{finishInteraction:n,startInteraction:i,updateBounds:a}=t;return{moveHandleProps:(0,r.r)({...e,onMoveStart:()=>i("move"),onMove:e=>{let{startState:t,movement:n}=e;a({...t,top:t.top+n.y,left:t.left+n.x})},onMoveEnd:()=>{n()}})||{}}}let a=e=>{let{children:t,...n}=e;return t(i(n))}},50164:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var r=n(2784),o=n(92812),i=n(55837),a=n(42239),s=n(31883),l=n(23146),c=n(52322);function d(e){let t=function(e){void 0===e&&(e={});let t=(0,r.useRef)({top:0,height:0,width:0,left:0}),n=(0,l.b)(),{minWidth:o=n?.minWidth??1,minHeight:i=n?.minHeight??1}=e;if(!n)return null;let{finishInteraction:a,startInteraction:s,updateBounds:c}=n,d={right:e=>c({...t.current,width:Math.max(o,t.current.width+e)}),bottom:e=>c({...t.current,height:Math.max(i,t.current.height+e)}),left:e=>{let n=Math.max(o,t.current.width+e),r=t.current;return c({...r,left:r.left+r.width-n,width:n})},top:e=>{let n=Math.max(i,t.current.height+e),r=t.current;return c({...r,top:r.top+r.height-n,height:n})}};return{getResizerProps:function(e){return{size:1,cursor:"left"===e||"right"===e?"ew":"ns",onResizeStarted:()=>{t.current=s("resize")},onResize:d[e],onResizeEnd:a,style:{position:"absolute",[e]:0}}}}}(e);return t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.i,{...t.getResizerProps("right")}),(0,c.jsx)(i.t,{...t.getResizerProps("left")}),(0,c.jsx)(a.m,{...t.getResizerProps("top")}),(0,c.jsx)(s.o,{...t.getResizerProps("bottom")})]})}d.__docgenInfo={description:"Renders invisible resize handles at the edges of the overlay it's rendered in. It uses the context provided by\n{@link OverlayInteractionHandler} to resize the overlay when the handles are used.",methods:[],displayName:"OverlayResizeHandles",props:{minWidth:{required:!1,tsType:{name:"number"},description:""},minHeight:{required:!1,tsType:{name:"number"},description:""}}}},93880:function(e,t,n){"use strict";n.d(t,{J:function(){return p}});var r=n(2784),o=n(32682),i=n(26208),a=n(82589),s=n(75486),l=n(63631),c=n(48233),d=n(52322);let u=l.zo.div`
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${s.s}; // FIXME: OS-dependant style?
`,p=r.forwardRef(function(e,t){let{children:n,state:r,offset:s=8,...l}=e,p=(0,c.B)(t),{popoverProps:h}=(0,o.S)({...l,offset:s,popoverRef:p},r);return(0,d.jsx)(i.aV,{children:(0,d.jsxs)(u,{...h,ref:p,children:[(0,d.jsx)(a.U,{onDismiss:r.close}),n,(0,d.jsx)(a.U,{onDismiss:r.close})]})})});p.__docgenInfo={description:"",methods:[],displayName:"Popover",props:{offset:{defaultValue:{value:"8",computed:!1},required:!1},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},state:{required:!0,tsType:{name:"OverlayTriggerState"},description:""}},composes:["Omit"]}},81799:function(e,t,n){"use strict";n.d(t,{FK:function(){return a},RZ:function(){return i},e3:function(){return o},fw:function(){return s}});var r=n(41468);let o=e=>{let{width:t,height:n}=e;return e=>{let r=Math.max(t,e.width),o=Math.max(n,e.height);return e.width!=r||e.height!=o?{...e,width:r,height:o}:e}};function i(e,t){return{left:(window.innerWidth-e)/2,top:(window.innerHeight-t)/2,width:e,height:t}}let a=e=>{let{targetElement:t,placement:n="bottom"}=e;return e=>{let{height:r,width:o}=e,i=t.getBoundingClientRect();return{left:i.left,top:"bottom"===n?i.top+i.height:i.top-r,width:o,height:r}}};function s(e,t){let{gap:n=0}=void 0===t?{}:t,o=window.innerWidth-n,i=window.innerHeight-n,a=(0,r.Z)(n,o-e.width,e.left),s=(0,r.Z)(n,i-e.height,e.top);return a!==e.left||s!==e.top?{left:a,top:s,width:e.width,height:e.height}:e}},44870:function(e,t,n){"use strict";n.d(t,{t:()=>h});var r=n("2784"),o=n("88109"),i=n("41468"),a=n("16079");let s=function(e,t){let{timeout:n=100}=void 0===t?{}:t,o=(0,r.useRef)(e),i=(0,r.useRef)(null);return(0,r.useLayoutEffect)(()=>{o.current=e}),(0,r.useEffect)(()=>()=>{null!==i.current&&clearTimeout(i.current)},[]),(0,r.useCallback)(()=>{null!==i.current&&clearTimeout(i.current),i.current=window.setTimeout(o.current,n)},[])},l=(0,n("29568").Z)((e,t,n)=>{let r=n.cloneNode(!0);r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r),Object.assign(r.style,e);let o=t(r);return document.body.removeChild(r),o}),c=(e,t)=>{let{width:n,height:r}=t;return l({...n?{width:`${n}px`}:{width:"",minWidth:"fit-content"},...r?{height:`${r}px`}:{height:"",minHeight:"fit-content"}},e=>{let t=getComputedStyle(e);return{width:Math.ceil(parseFloat(t.width)),height:Math.ceil(parseFloat(t.height))}},e)},d=function(e,t){let{observe:n=!1,width:o,height:i}=void 0===t?{}:t,[a,l]=(0,r.useState)([]);(0,r.useLayoutEffect)(()=>{let t=e.current;if(!t||a.length>5)return;let n=c(t,{width:o,height:i}),r=a.at(-1);r&&u.isEqual(r,n)||l([n]);let s=window.requestAnimationFrame(()=>{let e=c(t,{width:o,height:i});u.isEqual(e,n)||l([...a,e])});return()=>{window.cancelAnimationFrame(s)}},[a,e.current]);let d=()=>{let t=a.at(-1);if(e.current&&t){let n=c(e.current,{width:o,height:i});(n.height!==t.height||n.width!==t.width)&&l(a.map(e=>e===t?n:e))}},p=s(d);return(0,r.useEffect)(()=>{let t=e.current;if(n&&t){let e=new MutationObserver(()=>{p()});return e.observe(t,{subtree:!0,childList:!0}),()=>{e.disconnect()}}},[n,e.current]),[a.at(-1)||{width:0,height:0},d]},u={isEqual:(e,t)=>{let{width:n,height:r}=e,{width:o,height:i}=t;return n===o&&r===i}};var p=n("81799");function h(e,t){let{bounds:n,defaultBounds:s,onBoundsChange:l,onBoundsChanging:c=e=>e,minWidth:u,minHeight:h,observeContentResize:f}=t,[g,y]=(0,o.z)(n,s,l),[b,v]=d(e,{observe:f,width:g?.width,height:g?.height}),[w,x]=(0,r.useState)(null),A="content"===u?b.width:u||0,j="content"===h?b.height:h||0,T=(0,p.e3)({width:A,height:j}),C=w?.bounds??g,S=(0,p.RZ)((0,i.Z)(A,window.innerWidth,g?.width??b.width),(0,i.Z)(j,window.innerHeight,g?.height??b.height));return{positioned:C?.left!=void 0&&C?.top!=void 0,sized:C?.width!=void 0&&C?.height!=void 0,bounds:T({...S,...C&&(0,a.Z)(e=>null!=e,C)}),UNSAFE_measureContentSize:v,overlayInteractionHandlerProps:{startInteraction:t=>{if(!e.current)throw Error("overlayRef value is not set. Make sure to have the ref passed to the resizable/movable overlay");let n=m(e.current);return x({bounds:n,type:t}),n},updateBounds:e=>{x(t=>{if(t){let{type:n}=t;return{type:n,bounds:c(e,n)||e}}return t})},finishInteraction:()=>{w&&e.current&&y(m(e.current),w.type),x(null)},minWidth:A,minHeight:j}}}function m(e){let{left:t,top:n,width:r,height:o}=e.getBoundingClientRect();return{left:t,top:n,width:r,height:o}}},52973:function(e,t,n){"use strict";n.d(t,{GI:()=>F,tu:()=>M,tE:()=>D});var r=n("2784"),o=n("83993"),i=n("14129"),a=n("91346"),s=n("10879"),l=n("51273"),c=n("71560"),d=n("48233"),u=n("56925"),p=n("69740"),h=n("23109"),m=n("44870"),f=n("81799"),g=n("23146"),y=n("50164"),b=n("63631"),v=n("1554"),w=n("16079");let x=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,v.d)(...t.map(e=>(0,w.Z)(e=>void 0!=e,e??[])))};var A=n("27637"),j=n("11534"),T=n("10984"),C=n("26208"),S=n("11054"),k=n("27842"),R=n("80850"),E=n("29566"),I=n("90406"),P=n("52322");let N=b.zo.div`
  height: inherit;
  overflow: hidden;
`,D=50,M=50,B=(e,t)=>{let{interactions:n="move",nonDismissable:b=!1,allowScroll:v="auto",minWidth:w=D,minHeight:S=M,positioning:R,onClose:E,...B}=e,F=(0,r.useContext)(k.V),O=R||F.positioning,_=()=>{E?.(),F.onClose?.()},L=(0,d.B)(t),z=e=>!O?.targetRef.current?.contains(e)&&!(0,h.Z)(L.current,e),{overlayProps:$}=(0,l.I)({isOpen:!0,onClose:_,shouldCloseOnBlur:!b,shouldCloseOnInteractOutside:z},L);(0,o.F)({ref:L,onInteractOutsideStart:e=>{!b&&z(e.target)&&_()},onInteractOutside:()=>{}}),(0,c.t)({isDisabled:"auto"===v?!O:v});let{bounds:q,positioned:K,overlayInteractionHandlerProps:H}=(0,m.t)(L,{...B,minWidth:w,minHeight:S,observeContentResize:!0}),V=O?.targetRef.current&&!K?(0,p.Z)((0,f.FK)({targetElement:O.targetRef.current,placement:O.placement}),f.fw)(q):q,[W,U]=(0,r.useState)(!1),{focusWithinProps:G}=(0,i.L)({onFocusWithinChange:U}),{focusableProps:Q}=(0,a.k)({excludeFromTabOrder:!0},L),{focusForwarderProps:Z}=(0,A.e)(),{dialogProps:Y,titleProps:J}=function(e,t){let{role:n="dialog"}=e,o=(0,j.mp)();return o=e["aria-label"]?void 0:o,(0,r.useEffect)(()=>{t.current&&!t.current.contains(document.activeElement)&&(0,T.e)(t.current)},[t]),(0,C.Bq)(),{dialogProps:{...(0,u.z)(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||o},titleProps:{id:o}}}(B,L);return(0,P.jsx)(h.a,{children:(0,P.jsx)(g.Z,{...H,children:(0,P.jsx)(s.MT,{restoreFocus:!0,children:(0,P.jsx)(I.e,{ref:L,style:{...V,zIndex:W?1:0},tabIndex:-1,...x(G,Q,Z,$,F.overlayProps||{},Y,(0,u.z)(B)),children:(0,P.jsxs)(k.t.Provider,{value:{isActive:W,movable:"none"!==n,titleProps:J},children:[(0,P.jsx)(N,{children:B.children}),"all"===n&&(0,P.jsx)(y.S,{})]})})})})})},F=Object.assign(r.forwardRef(B),{Header:S.C,Layout:R.F,Hint:E.X});B.__docgenInfo={description:"[Popup](https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-%28Community%29?node-id=75426%3A16881&t=vzpRGV2y2cDw5a6Z-0)\ncomponent, rendered as a draggable overlay which is positioned either in the center of the viewport or relative to a trigger element.\nIf there is a trigger element, use {@link PopupTrigger} instead.",methods:[],displayName:"_Popup",props:{interactions:{defaultValue:{value:'"move"',computed:!1},required:!1},nonDismissable:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:""},allowScroll:{defaultValue:{value:'"auto"',computed:!1},required:!1,tsType:{name:"union",raw:'"auto" | boolean',elements:[{name:"literal",value:'"auto"'},{name:"boolean"}]},description:"By default, Popup prevents scrolling on the scrollable ancestor, if popup is positioned relative to a target\nelement. Allowing or disallowing scroll can be forced by passing boolean value."},minWidth:{defaultValue:{value:"50",computed:!1},required:!1},minHeight:{defaultValue:{value:"50",computed:!1},required:!1},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},positioning:{required:!1,tsType:{name:"signature",type:"object",raw:'{\n  targetRef: RefObject<HTMLElement>;\n  placement?: "bottom" | "top";\n}',signature:{properties:[{key:"targetRef",value:{name:"RefObject",elements:[{name:"HTMLElement"}],raw:"RefObject<HTMLElement>",required:!0}},{key:"placement",value:{name:"union",raw:'"bottom" | "top"',elements:[{name:"literal",value:'"bottom"'},{name:"literal",value:'"top"'}],required:!1}}]}},description:"Used to position the popup relative to a target element, if there is no positioning information in the input\n`bounds`/`defaultBounds`."}},composes:["ResizableMovableOverlayOptions","DOMProps"]}},27842:function(e,t,n){"use strict";n.d(t,{V:function(){return i},t:function(){return o}});var r=n(2784);let o=(0,r.createContext)({isActive:!1,movable:!0,titleProps:{}}),i=(0,r.createContext)({})},11054:function(e,t,n){"use strict";n.d(t,{C:function(){return d}});var r=n(2784),o=n(1554),i=n(63631),a=n(21179),s=n(27842),l=n(52322);let c=i.zo.div`
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 1.5rem;
  min-height: ${e=>{let{hasControls:t}=e;return t&&"1.75rem"}};
  cursor: default;
  white-space: nowrap;
  color: ${e=>{let{theme:t,active:n}=e;return n?t.color("Popup.Header.activeForeground",t.commonColors.labelForeground):t.color("Popup.Header.inactiveForeground",t.commonColors.labelDisabledForeground)}};
  background-color: ${e=>{let{theme:t,active:n}=e;return n?t.color("Popup.Header.activeBackground","#e6e6e6"):t.color("Popup.Header.inactiveBackground","#ededed")}};
`,d=e=>{let{children:t,hasControls:n,className:i,style:d}=e,{isActive:u,movable:p,titleProps:h}=(0,r.useContext)(s.t),m=function(e){return void 0===e&&(e={}),(0,l.jsx)(c,{active:u,hasControls:n,className:i,style:d,...(0,o.d)(h,e),children:t})};return p?(0,l.jsx)(a.F,{children:e=>{let{moveHandleProps:t}=e;return m(t)}}):m()};d.__docgenInfo={description:"Implements appearance of\n[Popup Header](https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-%28Community%29?node-id=75455%3A26566&t=Hzwse5j5R6iCEzVW-4),\nand also acts as a handle for moving the panel.\nExpected to be used with {@link Popup#Layout}:\n\n@example\n```tsx\n<Popup>\n   <Popup.Layout header={<Popup.Header>header</Popup.Header>} />\n</Popup>\n```",methods:[],displayName:"PopupHeader",props:{children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},hasControls:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""}}}},80850:function(e,t,n){"use strict";n.d(t,{F:function(){return u}}),n(2784);var r=n(63631),o=n(11054),i=n(29566),a=n(52322);let s=r.zo.div`
  display: flex;
  flex-direction: column;
  height: inherit;
`,l=r.zo.div`
  flex-shrink: 0;
`,c=r.zo.div`
  flex: 1;
  overflow: auto;
  // Not sure about making the content area a vertical flex container, but it seemed it makes sense as default.
  // The use case at hand where this was added was "Branches" popup, which would of course be implementable without this
  // too, with an extra flex container around the menu.
  display: flex;
  flex-direction: column;
`,d=r.zo.div`
  flex-shrink: 0;
`;function u(e){let{header:t,footer:n,content:r}=e;return(0,a.jsxs)(s,{children:[t&&(0,a.jsx)(l,{children:"string"==typeof t?(0,a.jsx)(o.C,{children:t}):t}),(0,a.jsx)(c,{children:r}),n&&(0,a.jsx)(d,{children:"string"==typeof n?(0,a.jsx)(i.X,{children:n}):n})]})}u.__docgenInfo={description:"Popup content layout, supporting fixed `header` and `footer` sections, and a scrollable `content` area.",methods:[],displayName:"PopupLayout",props:{header:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Fixed position header of the popup at the top. {@link Popup.Header} can be used for the content."},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Scrollable content of the popup."},footer:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Fixed position footer of the popup at the bottom. {@link Popup.Hint} can be used for the content."}}}},63981:function(e,t,n){"use strict";n.d(t,{U:function(){return s},q:function(){return l}});var r=n(2784),o=n(27842),i=n(52322);let a=r.createContext({show:()=>{throw Error("PopupManager not found. Wrap your application with PopupManager to be able to open popups imperatively")}}),s=()=>(0,r.useContext)(a),l=e=>{let{children:t}=e,[n,s]=(0,r.useState)([]),l=(0,r.useRef)(0),c=(0,r.useMemo)(()=>({show:e=>{l.current++;let t=()=>{s(e=>e.filter(e=>e!==n))},n=(0,i.jsx)(o.V.Provider,{value:{onClose:t},children:"function"==typeof e?e({close:t}):e},l.current);s(e=>e.concat(n))}}),[]);return(0,i.jsxs)(a.Provider,{value:c,children:[t,n]})};l.__docgenInfo={description:"Enables imperative API (via {@link usePopupManager}) for showing Popups.\nIt renders popups in a portal appended to `body`, unless `disablePortal` is `true`.",methods:[],displayName:"PopupManager"}},60947:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(2784),o=n(51469),i=n(46988),a=n(48233),s=n(36049),l=n(27842),c=n(52322);let d=r.forwardRef(function(e,t){let{placement:n,children:r,popup:d,...u}=e,p=(0,s.d)(u),h=(0,a.B)(t),{overlayProps:m,triggerProps:f}=(0,o.I)({type:u.type||"menu"},p,h);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.N,{ref:h,...f,children:r}),p.isOpen&&(0,c.jsx)(l.V.Provider,{value:{overlayProps:m,positioning:{targetRef:h,placement:n},onClose:p.close},children:"function"==typeof d?d({close:p.close}):d})]})});d.__docgenInfo={description:"Popup opened by a trigger. `trigger` can be an element of any pressable component (such as {@link Button} or\n{@link IconButton}), and is rendered in place. Similar to {@link Popup component}, `children` defines the content\nof Popup.",methods:[],displayName:"PopupTrigger",props:{placement:{required:!1,tsType:{name:'Required["positioning"]["placement"]',raw:'Required<PopupProps>["positioning"]["placement"]'},description:""},popup:{required:!0,tsType:{name:"union",raw:"| React.ReactElement\n| (({ close }: { close: () => void }) => React.ReactNode)",elements:[{name:"ReactReactElement",raw:"React.ReactElement"},{name:"unknown"}]},description:""},children:{required:!0,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:""}},composes:["Partial","OverlayTriggerStateProps"]}},90406:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(75486),o=n(63631);let i=o.zo.div`
  position: fixed;
  box-sizing: border-box;
  // not checked if there should be a better substitute for * in the following colors. Maybe "Component"?
  background-color: ${e=>{let{theme:t}=e;return t.color("*.background")}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  outline: none; // Focus will be reflected in header. No need for outline or any other focus style on the container
  ${r.s}; // FIXME: OS-dependant style?
`},29566:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(63631);let o=r.zo.div`
  // NOTE: Following the reference implementation, would require to set fallback colors non-prior to
  // *.(background|foreground) colors (by not passing the fallback color as the second argument to theme.color).
  // It's only in BigPopup that the fallback colors are prioritized over *-fallback. But in Figma designs, this is
  // simplified, and hint always has the muted color (like in BigPopup), instead of the default foreground.
  // So we are intentionally deviating from the reference implementation here.
  background: ${e=>{let{theme:t}=e;return t.color("Popup.Advertiser.background",t.color("SearchEverywhere.Advertiser.background"))}};
  color: ${e=>{let{theme:t}=e;return t.color("Popup.Advertiser.foreground",t.color("SearchEverywhere.Advertiser.foreground"))}};
  padding: 0.3125rem 0.9375rem 0.3125rem 0.625rem;
  font-size: 0.875em;
  line-height: normal;
  user-select: none;
  cursor: default;
  // NOTE: white-space is intentionally not set as nowrap.
`},88808:function(e,t,n){"use strict";n.d(t,{h9:function(){return j},ko:function(){return u},th:function(){return A}});var r=n(2784),o=n(20569),i=n(65596),a=n(88957),s=n(59748),l=n(1554),c=n(63631),d=n(52322);let u=e=>{let{value:t=0,maxValue:n=100,minValue:o=0,name:a,namePosition:s="top",details:l,secondaryDetails:c,button:u,width:b,dense:v,className:w,style:A,valueLabel:j,showValueLabel:T=!!j,...C}=e,{progressBarProps:S,labelProps:k}=(0,i.D)({...C,label:a,value:t,valueLabel:j,maxValue:n,minValue:o}),R=(t/n*100).toFixed(0),[E,I]=(0,r.useState)(""),[P,N]=(0,r.useState)(""),D=(0,r.useMemo)(()=>({setForcedDetails:I,setTooltip:N}),[]),M=(0,d.jsx)(f,{...k,children:a}),B=l?P||E||l:null;return(0,d.jsxs)(h,{style:A,className:w,children:["top"===s&&M,(0,d.jsxs)(m,{dense:v,hasTopMargin:!!a&&"top"===s,hasBottomMargin:!!B,children:["side"===s&&M,(0,d.jsx)(y,{style:{width:b},...S,indeterminate:C.isIndeterminate,children:!C.isIndeterminate&&(0,d.jsx)(x,{style:{width:`${R}%`}})}),T&&(0,d.jsx)("span",{children:j??`${R}%`}),(0,d.jsx)(p.Provider,{value:D,children:u})]}),(0,d.jsx)(g,{children:B}),(0,d.jsx)(g,{children:c})]})},p=r.createContext(null),h=c.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.labelForeground}};
  cursor: default; // prevent cursor on text
`,m=c.zo.div`
  display: flex;
  align-items: center;
  gap: ${e=>{let{dense:t}=e;return t?"0.5rem":"0.625rem"}};
  height: 4px;
  // spacing is based on the reference impl and figma designs. top and bottom spacing is inverted in the spec document
  // figma: https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-(Community)?node-id=75426%3A16650
  // spec document: https://jetbrains.github.io/ui/controls/progress_bar/#25
  margin-top: ${e=>{let{hasTopMargin:t}=e;return t&&"0.375rem"}};
  margin-bottom: ${e=>{let{hasBottomMargin:t}=e;return t&&"0.25rem"}};
`,f=c.zo.div`
  white-space: nowrap;
  max-width: calc(100% - 2rem);
  overflow: hidden;
`,g=c.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.contextHelpForeground}};
  font-size: 0.82em;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: calc(100% - 2rem); // not the best way
`,y=c.zo.div`
  height: inherit;
  border-radius: 2px;
  overflow: hidden;
  display: flex;

  // In case used in flex layout
  min-width: 0;
  flex: 1;

  background: ${e=>{let{theme:t}=e;return t.color("ProgressBar.trackColor",t.dark?"rgb(85,85,85)":"rgb(196,196,196)")}};
  ${e=>{let{indeterminate:t}=e;return t&&(0,c.iv)`
      background: linear-gradient(
        90deg,
        ${b} 0%,
        ${v} 50%,
        ${b} 100%
      );
      background-size: 96px auto;
      animation: 800ms ${w} linear infinite;
    `}}
`,b=e=>{let{theme:t}=e;return t.color("ProgressBar.indeterminateStartColor")},v=e=>{let{theme:t}=e;return t.color("ProgressBar.indeterminateEndColor")},w=(0,o.F4)(["0%{background-position:0;}100%{background-position:96px;}"]),x=c.zo.div`
  height: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("ProgressBar.progressColor",t.dark?"rgb(160,160,160)":"rgb(128,128,128)")}};
`;function A(e,t){let{onPress:n,hoverTooltip:o}=e,{buttonProps:i}=(0,s.U)({onPress:n,elementType:"span",excludeFromTabOrder:!0,preventFocusOnPress:!0},t),c=(0,r.useContext)(p),{hoverProps:d,isHovered:u}=(0,a.X)({});return(0,r.useEffect)(()=>{c?.setTooltip(u?o:null)},[o,u]),{buttonProps:(0,l.d)(i,d)}}function j(e,t){let{paused:n,...o}=e,i=(0,r.useContext)(p);return(0,r.useEffect)(()=>{i?.setForcedDetails(n?"Paused":null)},[n]),A(o,t)}u.Container=h,u.Label=f,u.LineContainer=m,u.Track=y,u.Progress=x,u.Details=g,u.__docgenInfo={description:"@see https://jetbrains.github.io/ui/controls/progress_bar/\n@see https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/platform-api/src/com/intellij/openapi/ui/panel/ProgressPanelBuilder.java\n\nKnown issues:\nThere are a couple of UI issues because of the current layout (which can be improved probably):\n- max-width of the label and details, it's not necessarily aligned with the the progressbar track, because they don't\n  share the same container\n- when label is on the side, details is aligned with the label, instead of the progressbar track.",methods:[],displayName:"ProgressBar",props:{value:{defaultValue:{value:"0",computed:!1},required:!1},maxValue:{defaultValue:{value:"100",computed:!1},required:!1},minValue:{defaultValue:{value:"0",computed:!1},required:!1},namePosition:{defaultValue:{value:'"top"',computed:!1},required:!1,tsType:{name:"union",raw:'"side" | "top"',elements:[{name:"literal",value:'"side"'},{name:"literal",value:'"top"'}]},description:'Process name position with respect to the progress bar.\nIf `namePosition` is "side", {@link name} is **not** automatically appended with a colon.\n@default "top"'},showValueLabel:{defaultValue:{value:"Boolean(valueLabel)",computed:!0},required:!1,tsType:{name:"boolean"},description:"Whether the value's label is displayed. True by default if there's a label, false by default if not."},name:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Process name, shown above or to the left of the progress bar. Placement is controlled by {@link namePosition}.\n@see https://jetbrains.github.io/ui/controls/progress_bar/#process-name"},details:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Process details, placed bellow the progress bar, with a de-emphasized color.\n@see https://jetbrains.github.io/ui/controls/progress_bar/#process-details"},secondaryDetails:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"A second line of details. Not an officially documented feature, but it's supported in the reference impl."},button:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Placed next to and aligned with the progress bar, used for\n[process control](https://jetbrains.github.io/ui/controls/progress_bar/#process-control) buttons."},width:{required:!1,tsType:{name:'CSSProperties["width"]',raw:'CSSProperties["width"]'},description:"Progress bar track width."},dense:{required:!1,tsType:{name:"boolean"},description:"Not supported in [the official specs](https://jetbrains.github.io/ui/controls/progress_bar/#25), but the progress\nbar in status bar has a denser spacing. It still won't be a pixel perfect match with the progress bar in the\nstatus bar."},style:{required:!1,tsType:{name:'HTMLAttributes["style"]',raw:'HTMLAttributes<unknown>["style"]'},description:""},className:{required:!1,tsType:{name:'HTMLAttributes["className"]',raw:'HTMLAttributes<unknown>["className"]'},description:""}},composes:["Omit"]}},69842:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(2784),o=n(46377),i=n(88808),a=n(52322);let s=e=>{let{small:t,onPress:n}=e,s=(0,r.useRef)(null),{buttonProps:l}=(0,i.th)({onPress:n,hoverTooltip:"Cancel"},s);return(0,a.jsx)(o.v,{ref:s,...l,icon:`process/stop${t?"Small":""}.svg`,hoverIcon:`process/stop${t?"Small":""}Hovered.svg`})};s.__docgenInfo={description:"Stop (cancel) icon button for progress bar, to be used in {@link ProgressBarProps#button}.",methods:[],displayName:"ProgressBarStopButton",props:{small:{required:!1,tsType:{name:"boolean"},description:"whether small icon should be used."},onPress:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},18262:function(e,t,n){"use strict";n.d(t,{L:function(){return i}}),n(2784);var r=n(89639),o=n(52322);let i=e=>{let{children:t,size:n,onResize:i,resizerPlacement:a="after",...s}=e;return(0,o.jsx)(r.D,{..."after"===a?{firstView:t,firstSize:n,onFirstResize:i}:{lastView:t,lastSize:n,onLastResize:i},...s})};i.__docgenInfo={description:'A single resizable view, built on top of {@link ThreeViewSplitter}, just to provide better prop interface.\nLike `ThreeViewSplitter` it supports "horizontal" or "vertical orientations. There is an extra `resizerPlacement`\nprop which determines where the resizer should be placed in relation with the view. When set to "before" the view\nwill be resizable from the start ("left" or "top"). When set to "after" the view will be resizable from end ("right"\nor "bottom"). Default is "after"',methods:[],displayName:"ResizableView",props:{resizerPlacement:{defaultValue:{value:'"after"',computed:!1},required:!1,tsType:{name:"union",raw:'"before" | "after"',elements:[{name:"literal",value:'"before"'},{name:"literal",value:'"after"'}]},description:"Whether the resizer should be placed at before or after the resizable view."},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onResize:{required:!0,tsType:{name:'ThreeViewSplitterProps["onFirstResize"]',raw:'ThreeViewSplitterProps["onFirstResize"]'},description:""},size:{required:!0,tsType:{name:'ThreeViewSplitterProps["firstSize"]',raw:'ThreeViewSplitterProps["firstSize"]'},description:""}}}},31883:function(e,t,n){"use strict";n.d(t,{o:function(){return a}}),n(2784);var r=n(37048),o=n(3346),i=n(52322);let a=e=>{let{onResize:t,onResizeEnd:n,onResizeStarted:a,...s}=e,{resizerProps:l}=(0,r.mT)({onResize:t,onResizeEnd:n,onResizeStarted:a});return(0,i.jsx)(o.h,{resizerProps:l,...s})};a.__docgenInfo={description:"Handle for resizing views in a vertical layout, where the resizer is at the top side of the resizable view. i.e.\nmoving mouse to bottom/top will increase/decrease the height",methods:[],displayName:"BottomResizer"}},70808:function(e,t,n){"use strict";n.d(t,{N:function(){return s}}),n(2784);var r=n(20569),o=n(52322);let i=r.ZP.div.withConfig({displayName:"HorizontalResizer__StyledHorizontalResizer",componentId:"sc-44e68r-0"})(["top:0;height:100%;width:0;position:relative;z-index:1;"]),a=r.ZP.div.withConfig({displayName:"HorizontalResizer__StyledHorizontalResizerArea",componentId:"sc-44e68r-1"})(["position:absolute;cursor:",";width:",";height:100%;left:",";"],e=>{let{cursor:t}=e;return`${t}-resize`},e=>{let{handleSize:t}=e;return`calc(100% + ${t}px)`},e=>{let{handleSize:t}=e;return`-${t/2}px`}),s=e=>{let{outerPadding:t=10,background:n,size:r=0,cursor:s="col",children:l,style:c={},resizerProps:d}=e;return(0,o.jsxs)(i,{...d,style:{...c,background:n,width:r},children:[l,(0,o.jsx)(a,{handleSize:t,cursor:s})]})};s.__docgenInfo={description:"Handle for resizing views in a horizontal layout. It just handles the\nmovement event and calls onResize with the new size. It has nothing to do\nwith actually applying the size.",methods:[],displayName:"HorizontalResizer",props:{outerPadding:{defaultValue:{value:"10",computed:!1},required:!1},size:{defaultValue:{value:"0",computed:!1},required:!1},cursor:{defaultValue:{value:'"col"',computed:!1},required:!1},style:{defaultValue:{value:"{}",computed:!1},required:!1}}}},55837:function(e,t,n){"use strict";n.d(t,{t:function(){return a}}),n(2784);var r=n(70808),o=n(37048),i=n(52322);let a=e=>{let{onResize:t,onResizeEnd:n,onResizeStarted:a,...s}=e,{resizerProps:l}=(0,o.s3)({onResize:t,onResizeEnd:n,onResizeStarted:a});return(0,i.jsx)(r.N,{resizerProps:l,...s})};a.__docgenInfo={description:"Handle for resizing views in a horizontal layout, where the resizer is at the left side of the resizable view. i.e.\nmoving mouse to right/left will decrease/increase the width",methods:[],displayName:"LeftResizer"}},92812:function(e,t,n){"use strict";n.d(t,{i:function(){return a}}),n(2784);var r=n(70808),o=n(37048),i=n(52322);let a=e=>{let{onResize:t,onResizeEnd:n,onResizeStarted:a,...s}=e,{resizerProps:l}=(0,o.hT)({onResize:t,onResizeEnd:n,onResizeStarted:a});return(0,i.jsx)(r.N,{resizerProps:l,...s})};a.__docgenInfo={description:"Handle for resizing views in a horizontal layout, where the resizer is at the right side of the resizable view. i.e.\nmoving mouse to right/left will increase/decrease the width",methods:[],displayName:"RightResizer"}},42239:function(e,t,n){"use strict";n.d(t,{m:function(){return a}}),n(2784);var r=n(37048),o=n(3346),i=n(52322);let a=e=>{let{onResize:t,onResizeEnd:n,onResizeStarted:a,...s}=e,{resizerProps:l}=(0,r.Sf)({onResize:t,onResizeEnd:n,onResizeStarted:a});return(0,i.jsx)(o.h,{resizerProps:l,...s})};a.__docgenInfo={description:"Handle for resizing views in a vertical layout, where the resizer is at the top side of the resizable view. i.e.\nmoving mouse to bottom/top will decrease/increase the height",methods:[],displayName:"TopResizer"}},3346:function(e,t,n){"use strict";n.d(t,{h:function(){return s}}),n(2784);var r=n(20569),o=n(52322);let i=r.ZP.div.withConfig({displayName:"VerticalResizer__StyledVerticalResizer",componentId:"sc-1tug48n-0"})(["width:100%;height:0;position:relative;z-index:1;"]),a=r.ZP.div.withConfig({displayName:"VerticalResizer__StyledVerticalResizerArea",componentId:"sc-1tug48n-1"})(["position:absolute;cursor:",";height:",";width:100%;top:",";"],e=>{let{cursor:t}=e;return`${t}-resize`},e=>{let{handleSize:t}=e;return`calc(100% + ${t}px)`},e=>{let{handleSize:t}=e;return`-${t/2}px`}),s=e=>{let{outerPadding:t=10,background:n,size:r=0,cursor:s="row",resizerProps:l,children:c,style:d={}}=e;return(0,o.jsxs)(i,{...l,style:{...d,background:n,height:r},children:[c,(0,o.jsx)(a,{handleSize:t,cursor:s})]})};s.__docgenInfo={description:"Handle for resizing views in a vertical layout. It just handles the\nmovement event and calls onResize with the new size. It has nothing to do\nwith actually applying the size.",methods:[],displayName:"VerticalResizer",props:{outerPadding:{defaultValue:{value:"10",computed:!1},required:!1},size:{defaultValue:{value:"0",computed:!1},required:!1},cursor:{defaultValue:{value:'"row"',computed:!1},required:!1},style:{defaultValue:{value:"{}",computed:!1},required:!1}}}},37048:function(e,t,n){"use strict";n.d(t,{Sf:function(){return s},hT:function(){return a},mT:function(){return l},s3:function(){return i}});var r=n(60868);let o=(e,t,n)=>{let{onResizeStarted:o,onResize:i,onResizeEnd:a}=n;return{resizerProps:(0,r.r)({dragThreshold:0,onMoveStart:()=>o()||0,onMoveEnd:()=>a?.(),onMove:n=>{let{movement:r,startState:o}=n;return i(o+(t?-1:1)*r["horizontal"===e?"x":"y"])}})}},i=e=>o("horizontal",!0,e),a=e=>o("horizontal",!1,e),s=e=>o("vertical",!0,e),l=e=>o("vertical",!1,e)},66344:function(e,t,n){"use strict";n.d(t,{M:function(){return x}});var r=n(2784),o=n(48233),i=n(1554),a=n(88109),s=n(63631),l=n(26357),c=n(79955),d=n(42181),u=n(58249),p=n(39472),h=n(46377),m=n(88524),f=n(89349),g=n(32396),y=n(17560),b=n(90046),v=n(52322);let w=(0,s.zo)(u.I)`
  input[type="search"] {
    -webkit-appearance: none;
    &::-webkit-search-cancel-button {
      -webkit-appearance: none;
    }
    &::-webkit-search-decoration {
      -webkit-appearance: none;
    }
  }
`,x=r.forwardRef(function(e,t){let{addonBefore:n,addonAfter:s,searchHistory:u,onClear:x,onSubmit:A,onHistoryItemSelected:j,historyButtonTitle:T="Recent Search",value:C,defaultValue:S="",onChange:k,type:R="search",inputRef:E,...I}=e,[P,N]=(0,a.z)(C,S,k),D=(0,o.B)(t),M=(0,o.B)(E),[B,F]=(0,r.useState)(!1),O={id:l.$.SHOW_SEARCH_HISTORY,title:T,actionPerformed:()=>{F(!0)}},_=(0,c.k)(),L=u?(0,v.jsx)(m.b,{isOpen:B,onOpenChange:F,positioningTargetRef:D,renderMenu:e=>{let{menuProps:t}=e;return(0,v.jsx)(f.v2,{...t,autoFocus:"first",onAction:e=>{let t=u[parseInt(`${e}`.split("_")[0])];void 0!==t&&(N(t),j?.(t,P),M.current?.focus())},children:u.map((e,t)=>(0,v.jsx)(g.c,{children:e},`${t}_${e}`))})},children:(e,t)=>(0,v.jsx)(y.a,{tooltip:(0,v.jsx)(b.M,{actionName:T,shortcut:_(l.$.SHOW_SEARCH_HISTORY)}),children:n=>(0,v.jsx)(p.vq,{...(0,i.d)(n,e),ref:t,icon:"actions/searchWithHistory.svg",role:"button","aria-label":T})})}):(0,v.jsx)(p.vq,{icon:"actions/search.svg"}),z=()=>{N(""),x?.(P)},$=(0,i.d)(I,{ref:D,inputRef:M,value:P,type:R,onChange:e=>{N(e.target.value)},addonBefore:(0,v.jsxs)(v.Fragment,{children:[L,n]}),addonAfter:(0,v.jsxs)(v.Fragment,{children:[P&&(0,v.jsx)(h.v,{onClick:z,role:"button","aria-label":"Clear search",icon:"actions/close",hoverIcon:"actions/closeHovered"}),s]}),onKeyDown:e=>{!e.repeat&&("Enter"===e.key?A?.(e.currentTarget.value):"Escape"===e.key&&z())}});return u?(0,v.jsx)(d.DG,{actions:[O],children:e=>{let{shortcutHandlerProps:t}=e;return(0,v.jsx)(w,{...(0,i.d)($,t)})}}):(0,v.jsx)(w,{...$})});x.__docgenInfo={description:"A wrapper around {@link Input} with a few additions:\n- A Search icon, added as an {@link InputProps#addonBefore addonBefore}.\n- A clear button, added as an {@link InputProps#addonAfter addonAfter}, when the input has value.\n  {@link SearchInputProps#onClear onClear} is called when the clear button is clicked.\n- A list of search queries shown as a menu, when the search icon is clicked,\n  if {@link SearchInputProps#searchHistory searchHistory} is provided.\n- An action provided on the input element, to open the search history via\n  {@link CommonActionId.SHOW_SEARCH_HISTORY} shortcut.\n- Search submission callback ({@link SearchInputProps#onSubmit onSubmit}) called when search is submitted by pressing Enter\n\n{@link InputProps#onChange onChange} and {@link InputProps#onSubmit onSubmit} props are also different in SearchInput, compared to\nthe corresponding props of the native input.\n\nCaveat: If the width is not set (either explicitly or via the entailing layout), the width of the input will change when clear button shows/hides.\n\n@see Input\n@see InputField",methods:[],displayName:"SearchInput",props:{historyButtonTitle:{defaultValue:{value:'"Recent Search"',computed:!1},required:!1,tsType:{name:"string"},description:'The content of "show history" button tooltip, and the corresponding action title.\n@default "Recent Search"'},defaultValue:{defaultValue:{value:'""',computed:!1},required:!1,tsType:{name:"string"},description:"Default value of the search input, used for initialization when value is uncontrolled."},type:{defaultValue:{value:'"search"',computed:!1},required:!1},searchHistory:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"Array<string>"},description:"Search history to be shown as a menu when the search icon is pressed."},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"(clearedValue: string) => void",signature:{arguments:[{name:"clearedValue",type:{name:"string"}}],return:{name:"void"}}},description:"Called when the search input is cleared by either clear button or `Escape` key.\n`onChange` is also called with an empty string, whenever the input is cleared,\nso there is no need for updating the state using `onClear`, when the value is controlled.\n\n@param clearedValue the value before clearing."},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"void"}}},description:"Called when the search is submitted by pressing `Enter`\n@param value submitted text"},value:{required:!1,tsType:{name:"string"},description:"Controlled value of the search input"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"void"}}},description:"Called when the value is changed."},onHistoryItemSelected:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string, previousValue: string) => void",signature:{arguments:[{name:"value",type:{name:"string"}},{name:"previousValue",type:{name:"string"}}],return:{name:"void"}}},description:"Called when a history item is selected. `onChange` is called with the selected text, so\nthere is no need for updating the state using `onHistoryItemSelected`, when the value is controlled.\n\n@param value text selected from history.\n@param previousValue the value of the input before the history item was selected."}},composes:["Omit"]}},68655:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var r=n(2784),o=n(59748),i=n(39472),a=n(46377),s=n(63631),l=n(52322);let c=(0,s.zo)(i.vq)`
  margin-right: 0.25rem;
`,d=s.zo.span`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  background: ${e=>{let{theme:t,noMatch:n}=e;return n?t.color("SearchField.errorBackground",t.dark?"#743A3A":"#ffcccc"):t.color("TextField.background")}}; // fallback logic not checked with the ref impl
  color: ${e=>{let{theme:t}=e;return t.color("TextField.foreground")}}; // fallback logic not checked with the ref impl
  height: 1.5rem; // 24px, JBTextField COMPACT_HEIGHT
  padding: 0.125rem 0.375rem;
  border: 1px solid ${e=>{let{theme:t}=e;return t.getOutlineColor(!0,!1)}};
  border-radius: ${e=>{let{theme:t}=e;return(t.value("Component.arc")??5)/2}}px;
`,u=s.zo.span`
  flex: 1;
  font-size: 0.91em; // RelativeFont.SMALL
`,p=r.forwardRef((e,t)=>{let{active:n,match:i,children:s,clear:p}=e,h=(0,r.useRef)(null),{buttonProps:m}=(0,o.U)({elementType:"span","aria-label":"Clear search",excludeFromTabOrder:!0,preventFocusOnPress:!0,onPress:p},h);return n?(0,l.jsxs)(d,{ref:t,noMatch:!i,children:[(0,l.jsx)(c,{icon:"actions/search"}),(0,l.jsx)(u,{children:(s||"").replace(/ /g,"\xa0")}),s&&(0,l.jsx)(a.v,{...m,ref:h,icon:"actions/close",hoverIcon:"actions/closeHovered"})]}):null});p.__docgenInfo={description:"An input field to be rendered to show the filter value in speed search in menus and similar speedSearch-enabled\ncomponents.\n@see SpeedSearchPopup",methods:[],displayName:"SpeedSearchInput"}},57881:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var r=n(39472),o=n(2784),i=n(63631),a=n(52322);let s=(0,i.zo)(r.vq)`
  margin-right: 10px;
  vertical-align: middle;
`,l=o.forwardRef((e,t)=>{let{active:n,match:r,children:o}=e;return n?(0,a.jsxs)(c,{ref:t,noMatch:!r,children:[(0,a.jsx)(s,{icon:"actions/search"}),(o||"").replace(/ /g,"\xa0")]}):null}),c=i.zo.span`
  // ref: https://github.com/JetBrains/intellij-community/blob/e3c7d96daba1d5d84d5650bde6c220aed225bfda/platform/platform-impl/src/com/intellij/ui/SpeedSearchBase.java#L53-L53
  box-sizing: border-box;
  position: absolute;
  background: ${e=>{let{theme:t}=e;return t.color("SpeedSearch.background",t.dark?"rgb(111,111,111)":"#fff")}};
  border: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SpeedSearch.borderColor",t.dark?"rgb(64, 64, 64)":"rgb(192, 192, 192)")}};
  color: ${e=>{let{noMatch:t,theme:n}=e;return t?n.color("SpeedSearch.errorForeground",n.commonColors.red):n.color("SpeedSearch.foreground",n.commonColors.tooltipForeground)}};
  z-index: 1;
  padding: 3px 7px;
  height: 25px;
  line-height: 1.2;
  transform: translateY(-100%);
`;l.__docgenInfo={description:"The little popup view shown in the top left corner of list, tree, etc., which shows the search\nquery.\n@see SpeedSearchInput",methods:[],displayName:"SpeedSearchPopup"}},41129:function(e,t,n){"use strict";n.d(t,{m:()=>c,Y:()=>l});var r=n("2784"),o=n("96807"),i=n("14129"),a=n("88109"),s=n("27011");function l(e){let[t,n]=(0,a.z)(e.isSearchActive,e.defaultIsSearchActive??!1,e.onIsSearchActiveChange),[r,o]=(0,a.z)(e.searchTerm,e.defaultSearchTerm||"",e.onSearchTermChange);return{active:t,searchTerm:r,setActive:n,setSearchTerm:o,clear:()=>{o(""),n(!1)}}}function c(e,t,n){let{keepSearchActiveOnBlur:a}=e,{searchTerm:l,active:c,setActive:d,setSearchTerm:u}=t,{onKeyDown:p}=function(e){let{value:t,onChange:n}=e,o=(0,r.useRef)(t);return o.current=t,{onKeyDown:e=>{var t;if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(!(e.target instanceof HTMLElement)||!((t=e.target).isContentEditable||t instanceof HTMLInputElement&&!["checkbox","radio","button"].includes(t.type)||t instanceof HTMLTextAreaElement))){if(1===e.key.length)return e.preventDefault(),n(`${o.current}${e.key}`);if("Backspace"===e.key){let t=e.metaKey?0:-1;n(o.current.slice(0,t))}}}}}({value:l,onChange:e=>{let t=e.trimStart();u(t),c||""===t||d(!0)}}),h=()=>{u(""),d(!1)},{keyboardProps:{onKeyDown:m,onKeyUp:f}}=(0,o.v)({onKeyDown:e=>{n.current?.contains(e.target)&&("a"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault(),"Escape"===e.key?h():p(e),(!c||(0,s.a)(e))&&e.continuePropagation())}}),{focusWithinProps:{onFocus:g,onBlur:y}}=(0,i.L)({onBlurWithin:e=>{("function"==typeof a?a(e):a)||h()}});return{containerProps:{onFocus:g,onBlur:y,onKeyDown:m,onKeyUp:f}}}},77298:function(e,t,n){"use strict";n.d(t,{A:function(){return i}}),n(2784);var r=n(63631),o=n(52322);let i=e=>{let{left:t,right:n}=e;return(0,o.jsxs)(a,{onMouseDown:e=>{e.preventDefault()},children:[(0,o.jsx)(c,{children:t}),(0,o.jsx)(l,{children:n})]})},a=r.zo.div`
  box-sizing: border-box;
  padding: 0 0.25rem;
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: space-between; // because there is left and right sides
  background-color: ${e=>{let{theme:t}=e;return t.color("StatusBar.background",t.color("Panel.background"))||"#fff"}};
  color: ${e=>{let{theme:t}=e;return t.color("StatusBar.Widget.foreground",t.commonColors.labelForeground)}};
  border-top: 1px solid
    ${e=>{let{theme:t}=e;return t.color("StatusBar.borderColor","rgb(145, 145, 145)")}};
  height: calc(1.25rem + 1px /* border*/);
  line-height: 1.25rem;
  font-size: 0.656rem; // not verified
  cursor: default;
`,s=r.zo.div`
  display: flex;
  align-items: center;
  white-space: nowrap;
`,l=(0,r.zo)(s)`
  flex-shrink: 0;
`,c=(0,r.zo)(s)`
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
`;i.__docgenInfo={description:"Status bar rendered at the bottom of the main window. In the reference implementation, there are three slots for\ncontent: left, right and center. It doesn't seem center is really necessary, so only left and right are supported\nfor now.\n@param left content on the left side of the status bar.\n@param right content on the right side of the status bar. Typically, a bunch of {@link StatusBarWidget}s",methods:[],displayName:"StatusBar",props:{left:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},right:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},29514:function(e,t,n){"use strict";n.d(t,{V:function(){return d}});var r=n(2784),o=n(45347),i=n(63631),a=n(48233),s=n(1554),l=n(91346),c=n(52322);let d=r.forwardRef(function(e,t){let n=(0,a.B)(t),{pressProps:r,isPressed:i}=(0,o.r)({ref:n,...e,preventFocusOnPress:!0}),{focusableProps:d}=(0,l.k)({excludeFromTabOrder:!0},n),h=e.label?u:p;return(0,c.jsxs)(h,{...(0,s.d)(r,d),className:i?"pressed":"",ref:n,children:[e.icon,e.icon&&e.label&&(0,c.jsx)(c.Fragment,{children:"\xa0"}),e.label]})}),u=i.zo.span`
  display: inline-flex;
  align-items: center;
  padding: ${e=>{let{theme:t}=e;return t.inset("StatusBar.Widget.widgetInsets")??"0 0.375rem"}};
  height: 1.125rem;
  white-space: nowrap;
  &:hover {
    background-color: ${e=>{let{theme:t}=e;return t.color("StatusBar.Widget.hoverBackground",t.color("ActionButton.hoverBackground","#dfdfdf"))}};
    color: ${e=>{let{theme:t}=e;return t.color("StatusBar.Widget.hoverForeground",t.commonColors.labelForeground)}};
  }
  &.pressed {
    background-color: ${e=>{let{theme:t}=e;return t.color("StatusBar.Widget.pressedBackground",t.color("ActionButton.pressedBackground","#cfcfcf"))}};
    color: ${e=>{let{theme:t}=e;return t.color("StatusBar.Widget.pressedForeground",t.commonColors.labelForeground)}};
  }
`,p=(0,i.zo)(u)`
  padding: ${e=>{let{theme:t}=e;return t.inset("StatusBar.Widget.widgetInsets")??"0 0.25rem"}};
`;d.__docgenInfo={description:"Status bar button (aka widget), with the right hover and pressed appearance.\nIt doesn't get focused when pressed, and is excluded from tab order.\nDisabled style is not couldn't be found, so it's skipped at the moment.",methods:[],displayName:"StatusBarWidget",props:{label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["PressProps"]}},83212:function(e,t,n){"use strict";n.d(t,{lX:function(){return s},mc:function(){return i},ve:function(){return a}});var r=n(63631);let o=3,i=r.zo.hr(e=>{let{theme:t}=e;return{backgroundColor:t.color("Separator.separatorColor",t.dark?"#cdcdcd":"#515151"),backgroundClip:"content-box",boxSizing:"border-box",margin:0,border:"none",flexShrink:0}}),a=(0,r.zo)(i)`
  height: inherit; // should it be auto?
  padding: 0 ${1}px;
  width: ${o}px;
`,s=(0,r.zo)(i)`
  width: auto;
  padding: ${1}px 0;
  height: ${o}px;
`},30775:function(e,t,n){"use strict";n.d(t,{X:function(){return c}}),n(2784);var r=n(39472),o=n(13023),i=n(17560),a=n(90046),s=n(51515),l=n(52322);let c=e=>{let{icon:t,title:n,closeButton:c,onUnpin:d,pinned:u,containerProps:p}=e;return(0,l.jsx)(o.X,{startIcon:t,title:n,containerProps:p,endIcon:u?(0,l.jsx)(i.a,{tooltip:(0,l.jsx)(a.M,{actionName:"Unpin Tab"}),children:(0,l.jsx)(s.V,{onPress:d,excludeFromTabOrder:!0,preventFocusOnPress:!0,children:(0,l.jsx)(r.vq,{icon:"actions/pinTab"})})}):c})};c.__docgenInfo={description:"For rendering the content of Editor tabs. supports for file icon which is shown on the left and close or unpin\nbutton shown on the right.",methods:[],displayName:"EditorTabContent",props:{icon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeButton:{required:!1,tsType:{name:"ReactReactElement",raw:"React.ReactElement"},description:'Close button, shown in place of "pin" button if not pinned. Use {@link TabCloseButton} to render the close button\nfor the tab.\n\n@example\n```tsx\n<EditorTabContent\n  closeButton={\n    <TooltipTrigger\n      tooltip={<ActionTooltip actionName="Close Tab" shortcut="^\u21E7F4" />}\n    >\n      <TabCloseButton onPress={}></TabCloseButton>\n    </TooltipTrigger>\n  }\n/>\n```'},onUnpin:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},pinned:{required:!1,tsType:{name:"boolean"},description:""},containerProps:{required:!1,tsType:{name:'TabItemLayoutProps["containerProps"]',raw:'TabItemLayoutProps["containerProps"]'},description:""}}}},47386:function(e,t,n){"use strict";n.d(t,{s:()=>p});var r=n("31671"),o=n("63631"),i=n("7139"),a=n("2886");let s=e=>{let{theme:t}=e;return{borderColor:t.color("EditorTabs.borderColor"),underlineHeight:t.value("EditorTabs.underlineHeight"),background:t.color("EditorTabs.background"),underlinedTabInactiveBackground:t.color("EditorTabs.underlinedTabBackground"),underlinedTabBackground:t.color("EditorTabs.underlinedTabBackground"),hoverInactiveBackground:t.color("EditorTabs.hoverInactiveBackground"),hoverBackground:t.color("EditorTabs.hoverBackground"),inactiveUnderlineColor:t.color("EditorTabs.inactiveUnderlineColor"),underlineColor:t.color("EditorTabs.underlineColor"),underlinedTabInactiveForeground:t.color("EditorTabs.underlinedTabForeground"),underlinedTabForeground:t.color("EditorTabs.underlinedTabForeground")}},l=(0,o.zo)(i.z)`
  font-size: 0.7rem;
  ${e=>{let{theme:t}=e;return(0,a.s)(s({theme:t}))}};
`;var c=n("51313");let d=(0,o.zo)(c.f)`
  ${e=>{let{theme:t}=e;return(0,a.N)(s({theme:t}))}};
`;n("2784");var u=n("52322");let p=e=>(0,u.jsx)(r.m,{...e,TabComponent:l,TabsComponent:d,focusable:!1});p.__docgenInfo={description:"",methods:[],displayName:"EditorTabs"}},7139:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(2886),o=n(63631);let i=o.zo.div`
  box-sizing: border-box;
  display: inline-flex;
  letter-spacing: 0.015rem;
  font-size: 0.85rem;
  cursor: default;
  white-space: nowrap;

  // spacing
  padding: 0 0.5rem;
  line-height: 1.7rem; // vertical spacing handled by line-height

  // disabled state doesn't seem to be supported in Intellij Platform at all.
  opacity: ${e=>{let{disabled:t}=e;return t?".5":"1"}};
  color: ${e=>{let{theme:t}=e;return t.color("DefaultTabs.foreground")}};

  position: relative;
  &::after {
    content: "";
    position: absolute;
    width: 100%;
    left: 0;
    bottom: 0;
  }

  ${e=>{let{theme:t}=e;return(0,r.s)({underlineHeight:t.value("DefaultTabs.underlineHeight")??3,inactiveUnderlineColor:t.color("DefaultTabs.inactiveUnderlineColor",t.dark?"#747a80":"#9ca7b8"),underlineColor:t.color("DefaultTabs.underlineColor",t.dark?"#4A88C7":"#4083C9"),underlinedTabInactiveForeground:t.color("DefaultTabs.underlinedTabInactiveForeground"),underlinedTabForeground:t.color("DefaultTabs.underlinedTabForeground"),background:t.color("DefaultTabs.background",t.dark?"#3C3F41":"#ECECEC"),underlinedTabInactiveBackground:t.color("DefaultTabs.underlinedTabInactiveBackground"),underlinedTabBackground:t.color("DefaultTabs.underlinedTabBackground"),hoverInactiveBackground:t.color("DefaultTabs.hoverInactiveBackground",t.dark?"rgba(0,0,0,.35)":"rgba(0,0,0,.1)"),hoverBackground:t.color("DefaultTabs.hoverBackground",t.dark?"rgba(0,0,0,.35)":"rgba(0,0,0,.1)")})}};
`},51313:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(63631),o=n(2886);let i=r.zo.div`
  display: flex;
  align-items: center;
  box-sizing: border-box;
  border-style: solid;
  border-width: ${e=>{let{noBorders:t}=e;return t?"0":"1px 0"}};

  ${e=>{let{theme:t}=e;return(0,o.N)({borderColor:t.color("DefaultTabs.borderColor",t.commonColors.contrastBorder),background:t.color("DefaultTabs.background")})}};
`},28818:function(e,t,n){"use strict";n.d(t,{W:function(){return l}}),n(2784);var r=n(51515),o=n(39472),i=n(63631),a=n(52322);let s=i.zo.span`
  display: inherit;
  .icon.hover {
    display: none;
  }
  &:hover {
    .icon {
      display: none;
    }
    .icon.hover {
      display: unset;
    }
  }
`,l=e=>(0,a.jsx)(r.V,{...e,excludeFromTabOrder:!0,preventFocusOnPress:!0,children:(0,a.jsxs)(s,{children:[(0,a.jsx)(o.vq,{icon:"actions/closeHovered",className:"icon hover"}),(0,a.jsx)(o.vq,{icon:"actions/close",className:"icon"})]})});l.__docgenInfo={description:"Close button for Tab",methods:[],displayName:"TabCloseButton"}},13023:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var r=n(2784),o=n(63631),i=n(91346),a=n(48233),s=n(1554),l=n(52322);let c=o.zo.div`
  display: inline-flex;
  align-items: center;
`,d=(0,o.iv)`
  display: inline-flex; // without this, the wrapper takes the full height, causing icon to be placed on top
  margin-top: -0.1rem; // seems necessary for pixel perfect match with the original impl
`,u=o.zo.span`
  ${d};
  margin-right: 0.25rem;
`,p=o.zo.span`
  ${d};
  margin-left: 0.25rem;
  margin-right: -0.25rem; // default padding of the tab should be a little reduced when close icon is there.
  border-radius: 16px;
`,h=r.forwardRef((e,t)=>{let{startIcon:n,title:r,endIcon:o,containerProps:d={}}=e,{focusableProps:h}=(0,i.k)({},(0,a.B)(t));return(0,l.jsxs)(c,{...(0,s.d)(h,d),ref:t,children:[n&&(0,l.jsx)(u,{children:n}),r,o&&(0,l.jsx)(p,{children:o})]})});h.__docgenInfo={description:"Helper component for rendering the common layout of tab content.",methods:[],displayName:"TabContentLayout",props:{containerProps:{defaultValue:{value:"{}",computed:!1},required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"union",raw:'"ref" | "as"',elements:[{name:"literal",value:'"ref"'},{name:"literal",value:'"as"'}]}],raw:'Omit<HTMLProps<HTMLDivElement>, "ref" | "as">'},description:"Generic HTML props passed to the container div."},startIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"the icon placed before the text."},title:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"title of the tab. Normally just a string"},endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"the icon placed after the text. Typical use cases: close or pin icon."}}}},79532:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});let r=n(71181).c},2886:function(e,t,n){"use strict";n.d(t,{N:function(){return o},s:function(){return i}});var r=n(63631);let o=e=>{let{background:t,borderColor:n}=e;return(0,r.iv)`
  border-color: ${n};
  background: ${t};
`},i=e=>{let{underlineHeight:t,background:n,underlinedTabBackground:o,underlinedTabInactiveBackground:i,hoverInactiveBackground:a,hoverBackground:s,underlinedTabForeground:l,underlinedTabInactiveForeground:c,inactiveUnderlineColor:d,underlineColor:u}=e;return(0,r.iv)`
    // active indicator
    &::after {
      height: ${null!=t?`${t}px`:void 0};
      background-color: ${e=>{let{selected:t}=e;return t&&d}};
      background-color: ${e=>{let{selected:t,active:n}=e;return t&&n&&u}};
    }

    // foreground rules
    color: ${e=>{let{selected:t}=e;return t&&c}};
    color: ${e=>{let{selected:t,active:n}=e;return t&&n&&l}};

    //  background rules
    background: ${n};
    background: ${e=>{let{selected:t}=e;return t&&i}};
    background: ${e=>{let{selected:t,active:n}=e;return t&&n&&o}};

    ${e=>{let{disabled:t,active:n}=e;return!t&&(0,r.iv)`
        &:hover,
        &.hover /* for testing purposes */ {
          background: ${a};
          background: ${n&&s};
        }
      `}}
  `}},31671:function(e,t,n){"use strict";n.d(t,{m:()=>j});var r=n("2784"),o=n("58995"),i=n("94753"),a=n("56925"),s=n("1554"),l=n("52057"),c=n("63631");let d=(0,c.iv)`
  content: "";
  pointer-events: none;
  position: absolute;
  top: 0;
  bottom: 0;
  width: 10px;
  z-index: 1;
`,u=c.zo.div`
  position: relative; // for overflow indicator (pseudo-)elements to be positioned absolute

  /* FIXME: find out what color, width and gradient parameters are used in the original implementation */
  ${e=>{let{hasOverflowAtStart:t}=e;return t&&(0,c.iv)`
      ::before {
        ${d};
        background: linear-gradient(
          90deg,
          ${e=>{let{theme:t}=e;return t.commonColors.panelBackground}} 0%,
          transparent 100%
        );
        left: 0;
      }
    `}};
  ${e=>{let{hasOverflowAtEnd:t}=e;return t&&(0,c.iv)`
      ::after {
        ${d};
        background: linear-gradient(
          -90deg,
          ${e=>{let{theme:t}=e;return t.commonColors.panelBackground}} 0%,
          transparent 100%
        );
        right: 0;
      }
    `}};
`;var p=n("80102"),h=n("8728"),m=n("3510"),f=n("51313"),g=n("91552"),y=n("7139"),b=n("48233"),v=n("52322");let w=(0,r.forwardRef)(function(e,t){let{state:n,item:r,focusable:o,active:i,shouldSelectOnPressUp:a,Component:s=y.z}=e,{key:l,rendered:c}=r,d=(0,b.B)(t),{tabProps:{tabIndex:u,...p}}=(0,g.x)({key:l,shouldSelectOnPressUp:a},n,d),h=n.selectedKey===l,m=n.disabledKeys.has(l);return(0,v.jsx)(s,{...p,tabIndex:o?u:void 0,ref:d,active:i,selected:h,disabled:m,children:c})});w.__docgenInfo={description:"",methods:[],displayName:"Tab",props:{Component:{defaultValue:{value:"StyledDefaultTab",computed:!0},required:!1,tsType:{name:"ComponentType",elements:[{name:"TabComponentProps"}],raw:"ComponentType<TabComponentProps>"},description:""},state:{required:!0,tsType:{name:"TabListState",elements:[{name:"object"}],raw:"TabListState<object>"},description:""},item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},focusable:{required:!1,tsType:{name:"boolean"},description:"{@see TabsProps#focusable}"},active:{required:!1,tsType:{name:"boolean"},description:"{@see TabsProps#active}"},shouldSelectOnPressUp:{required:!1,tsType:{name:"boolean"},description:""}}};let x=(0,c.iv)`
  -ms-overflow-style: none; /* for Internet Explorer, Edge */
  scrollbar-width: none; /* for Firefox */
  &::-webkit-scrollbar {
    /* for Chrome/Safari/Webkit */
    display: none;
  }
`,A=c.zo.div`
  display: flex;
  flex-wrap: ${e=>{let{multiRow:t}=e;return t?"wrap":"nowrap"}};
  overflow: auto;

  ${x};
`,j=e=>{let{focusable:t,shouldSelectOnPressUp:n,active:c,TabComponent:d,TabsComponent:g=f.f,multiRow:y,noOverflowMenu:b,noScroll:x,noBorders:j,...T}=e,C=(0,l.p)(T),S=r.useRef(null),{tabListProps:k}=(0,o.h)(T,C,S),{scrolledIndicatorProps:R,hasOverflow:E}=function(e){let{threshold:t=5,ref:n}=e,[o,i]=(0,r.useState)({left:!1,right:!1,top:!1,bottom:!1}),a=()=>{let e=n.current;if(e){let n=e.scrollLeft,r=e.scrollWidth-(e.offsetWidth+e.scrollLeft),a={top:e.scrollTop>t,bottom:e.scrollHeight-(e.offsetHeight+e.scrollTop)>t,left:n>t,right:r>t};(o.top!==a.top||o.bottom!==a.bottom||o.left!==a.left||o.right!==a.right)&&i(a)}};return(0,r.useEffect)(a),{scrolledIndicatorProps:{onScroll:a},hasOverflow:o}}({ref:S}),{overflowedElements:I}=(0,h.o)(S),P=new Set(I.map(e=>e instanceof HTMLElement?e.dataset.key:null).filter(e=>null!=e));if((0,r.useEffect)(()=>{if(!x&&null!==C.selectedKey){let e=S.current,t=(0,m.D)(S,C.selectedKey);e&&t&&(0,i.z)(e,t)}},[C.selectedKey]),x)throw Error("noScroll is not supported yet.");return(0,v.jsxs)(g,{noBorders:j,...(0,a.z)(T),children:[(0,v.jsx)(u,{hasOverflowAtStart:E.left,hasOverflowAtEnd:E.right,style:{minWidth:0},children:(0,v.jsx)(A,{...(0,s.d)(k,R),multiRow:y,ref:S,children:[...C.collection].map(e=>(0,v.jsx)(w,{item:e,state:C,focusable:t,shouldSelectOnPressUp:n,active:c,Component:d},e.key))})}),!b&&(0,v.jsx)(p.F,{collection:C.collection,overflowedKeys:P,onSelect:e=>{C.setSelectedKey(e)}})]})};j.__docgenInfo={description:"TODO: add support for overflow:\n - have vertical scroll also scroll tabs\n - add support for re-reordering tabs.\n - FIX: When a tab that was not selected is removed, selection should not change. It now changes to the tab before the removed one.",methods:[],displayName:"Tabs",props:{TabsComponent:{defaultValue:{value:"StyledDefaultTabs",computed:!0},required:!1,tsType:{name:"ComponentType",elements:[{name:"TabsComponentProps"}],raw:"ComponentType<TabsComponentProps>"},description:""},focusable:{required:!1,tsType:{name:"boolean"},description:"Whether tabs should be focusable or not. By default, following the Intellij Platform implementation, tabs are\nnot focusable and therefore lack the keyboard accessibility support specified in WAI-ARIA.\nYou can change this default behaviour and make the tabs keyboard accessible by passing `focusable`.\nfocus styles are not perfect at the moment, since it's not considered an important feature.\n@default false"},shouldSelectOnPressUp:{required:!1,tsType:{name:"boolean"},description:"Whether selected tab should change on press up instead of press down.\n@default false."},active:{required:!1,tsType:{name:"boolean"},description:'Enables "active" style on tabs. Is usually related to a container having focus.'},multiRow:{required:!1,tsType:{name:"boolean"},description:"If set to true, tabs will be wrapped into multiple rows if needed.\nNOTE: In the original implementation, in multi row mode, rows are separated by a border. It's not easy to achieve\nthis when we are implementing this feature with a simple `flex-wrap: wrap` css rule. It doesn't seem that\nimportant, but we can achieve something similar by some css tricks like the ones suggested here:\nhttps://stackoverflow.com/questions/36128333/row-lines-for-flex-container-css\n@default false"},noScroll:{required:!1,tsType:{name:"boolean"},description:"Only effective when {@link multiRow} is not true.\nIf set to true and multiRow is not true, it will prevent horizontal scroll of tabs. Depending on the value of\nIn this case:\n- if {@link noOverflowMenu} is not set to true, tabs that can't be fitted into the available space will be\n  accessible via an overflow menu.\n- if {@link noOverflowMenu} is set to true, the tabs will be fitted into the available space, and they will\n  be shrunk when needed.\n\n@todo: not implemented yet.\n@default false"},noOverflowMenu:{required:!1,tsType:{name:"boolean"},description:"Only effective when {@link multiRow} is not true.\nWhen set to true, tabs that couldn't be fitted into the available space, are either shrunk (if {@link noScroll}\nis set to true), or are just accessible by scroll."},noBorders:{required:!1,tsType:{name:"boolean"},description:"Removes the top and bottom border when passed.\nIt's still not clear whether such option makes sense or not, but\nat least in common use cases like in tool windows, it seems borders are already there and there should be a way\nof removing tab borders. On the other hand, when Tabs is used without any assumption about the surrounding UI,\nit kind of makes sense to have the top and bottom borders by default. So that's why this is made an option for\nnow, maybe until things are clearer.\n\n@default false"},TabComponent:{required:!1,tsType:{name:"ComponentType",elements:[{name:"TabComponentProps"}],raw:"ComponentType<TabComponentProps>"},description:""}}}},80102:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(71181),o=n(88524),i=n(89349),a=n(83556),s=n(39472);n(2784);var l=n(52322);let c=e=>{let{collection:t,overflowedKeys:n,onSelect:c}=e;return(0,l.jsx)(l.Fragment,{children:n.size>0&&(0,l.jsx)(o.b,{align:"end",renderMenu:e=>{let{menuProps:o}=e,a=[...t].filter(e=>n.has(e.key));return(0,l.jsx)(i.v2,{...o,onAction:e=>{c(e)},items:a,children:e=>(0,l.jsx)(r.c,{textValue:e.textValue,children:e.props.inOverflowMenu||e.textValue},e.key)})},children:(e,t)=>(0,l.jsx)(a.hU,{...e,ref:t,children:(0,l.jsx)(s.vq,{icon:"actions/findAndShowNextMatches"})})})})};c.__docgenInfo={description:"",methods:[],displayName:"TabsOverflowMenu",props:{collection:{required:!0,tsType:{name:"Collection",elements:[{name:"Node",elements:[{name:"T"}],raw:"Node<T>"}],raw:"Collection<Node<T>>"},description:""},overflowedKeys:{required:!0,tsType:{name:"Set",elements:[{name:"Key"}],raw:"Set<Key>"},description:""},onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{name:"key",type:{name:"Key"}}],return:{name:"void"}}},description:""}}}},84824:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(2784),o=n(13023),i=n(52322);let a=r.forwardRef((e,t)=>{let{icon:n,title:r,closeButton:a,containerProps:s}=e;return(0,i.jsx)(o.X,{containerProps:s,ref:t,startIcon:n,title:r,endIcon:a})});a.__docgenInfo={description:"",methods:[],displayName:"ToolWindowTabContent",props:{icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},title:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},closeButton:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:'Close button for the tab. Use {@link TabCloseButton} to render the close button\nfor the tab.\n\n@example\n```tsx\n<ToolWindowTabContent\n  closeButton={\n    <TooltipTrigger\n      tooltip={<ActionTooltip actionName="Close Tab" shortcut="^\u21E7F4" />}\n    >\n      <TabCloseButton onPress={}></TabCloseButton>\n    </TooltipTrigger>\n  }\n/>\n```'},containerProps:{required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"union",raw:'"ref" | "as"',elements:[{name:"literal",value:'"ref"'},{name:"literal",value:'"as"'}]}],raw:'Omit<HTMLProps<HTMLDivElement>, "ref" | "as">'},description:""}}}},60181:function(e,t,n){"use strict";n.d(t,{N:()=>p}),n("2784");var r=n("31671"),o=n("63631"),i=n("7139"),a=n("2886");let s=e=>{let{theme:t}=e;return{borderColor:t.color("ToolWindow.HeaderTab.borderColor"),underlineHeight:t.value("ToolWindow.HeaderTab.underlineHeight"),background:"transparent",underlinedTabInactiveBackground:t.color("ToolWindow.HeaderTab.underlinedTabInactiveBackground"),underlinedTabBackground:t.color("ToolWindow.HeaderTab.underlinedTabBackground"),hoverInactiveBackground:t.color("ToolWindow.HeaderTab.hoverInactiveBackground")??t.color("ToolWindow.HeaderTab.hoverBackground"),hoverBackground:t.color("ToolWindow.HeaderTab.hoverBackground"),inactiveUnderlineColor:t.color("ToolWindow.HeaderTab.inactiveUnderlineColor"),underlineColor:t.color("ToolWindow.HeaderTab.underlineColor"),underlinedTabInactiveForeground:t.color("ToolWindow.HeaderTab.underlinedTabInactiveForeground")??t.color("ToolWindow.HeaderTab.underlinedTabForeground"),underlinedTabForeground:t.color("ToolWindow.HeaderTab.underlinedTabForeground")}},l=(0,o.zo)(i.z)`
  padding: 0 0.7rem;
  ${e=>{let{theme:t}=e;return(0,a.s)(s({theme:t}))}};
`;var c=n("51313");let d=(0,o.zo)(c.f)`
  ${e=>{let{theme:t}=e;return(0,a.N)(s({theme:t}))}};
`;var u=n("52322");let p=e=>(0,u.jsx)(r.m,{...e,TabComponent:l,TabsComponent:d,focusable:!1,shouldSelectOnPressUp:!0});p.__docgenInfo={description:"",methods:[],displayName:"ToolWindowTabs"}},36932:function(e,t,n){"use strict";function r(e,t){let n=[];return e?.length?(e[0].from>0&&n.push([{from:0,to:e[0].from-1},!1]),e.forEach((r,o)=>{let{from:i,to:a}=r;n.push([{from:i,to:a},!0]);let s=e[o+1]?{from:a+1,to:e[o+1].from-1}:{from:a+1,to:t-1};!(s.from>s.to)&&n.push([s,!1])}),n):[[{from:0,to:t-1},!1]]}function o(e){return e.reduce((e,t)=>{let n=e.slice(-1)[0];return n?.to===t-1?[...e.slice(0,-1),{from:n.from,to:t}]:[...e,{from:t,to:t}]},[])}n.d(t,{UQ:function(){return r},nf:function(){return o}})},90297:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(2784),o=n(36932),i=n(63631),a=n(52322);let s=i.zo.span`
  background: ${e=>{let{theme:t}=e;return`linear-gradient(${t.color("SearchMatch.startBackground","#ffeaa2b3")}, ${t.color("SearchMatch.endBackground","#ffd042b3")})`}};
  color: #000;
  border-radius: 3px;
`;function l(e){let{children:t,highlights:n}=e,i=n?(0,o.UQ)(n,t.length):[[{from:0,to:t.length},!1]];return(0,a.jsx)(a.Fragment,{children:i.map(e=>{let[{from:n,to:o},i]=e,l=t.slice(n,o+1);return(0,a.jsx)(r.Fragment,{children:i?(0,a.jsx)(s,{children:l}):l},`${n}_${o}`)})})}l.__docgenInfo={description:"Renders the children (which must be a string), with highlights wrapped in spans with the highlight style.\nNote: this component doesn't render a container. It just highlights the specified ranges.",methods:[],displayName:"TextWithHighlights",props:{children:{required:!0,tsType:{name:"string"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"TextRange[] | null",elements:[{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"},{name:"null"}]},description:""}}}},19155:function(e,t,n){"use strict";n.d(t,{I:()=>d});let r="[0-9]{0,3}.?[0-9]*",o=(e,t)=>e?t<3?parseInt(e):Math.round(255*Math.min(parseFloat(e),1)):void 0,i=e=>e.match(/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?$/i)?.slice(1,5).map(e=>e?parseInt(e,16):void 0),a=e=>e.match(/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i)?.slice(1,4).map(e=>e?parseInt(e+e,16):void 0),s=e=>e.match(RegExp(`^rgb\\(\\s*(${r})\\s*,\\s*(${r})\\s*,\\s*(${r}\\s*)\\)$`))?.slice(1,5).map(o),l=e=>e.match(RegExp(`^rgba\\(\\s*(${r})\\s*,\\s*(${r})\\s*,\\s*(${r})\\s*,\\s*(${r}\\s*)\\)$`))?.slice(1,5).map(o),c=e=>{let t=[i,a,s,l].reduce((t,n)=>t||n(e),void 0);return Array.isArray(t)&&t.slice(0,3).every(e=>Number.isInteger(e))?t:null};class d{constructor(e,t,n,r){let o;void 0===r&&(r=255),this.r=void 0,this.g=void 0,this.b=void 0,this.a=void 0,"string"==typeof e?[o=NaN,t=NaN,n=NaN,r=255]=c(e)||[]:e instanceof d?[o,t,n,r]=[e.r,e.g,e.b,e.a]:o=e,this.r=o,this.g=t,this.b=n,this.a=r<1?Math.round(255*r):r}isValid(){return Number.isInteger(this.r)&&Number.isInteger(this.g)&&Number.isInteger(this.b)&&Number.isInteger(this.a)}withTransparency(e){return new d(this.r,this.g,this.b,e)}brighter(){let{r:e,g:t,b:n,a:r}=this,o=Math.floor,i=d.FACTOR,a=o(1/(1-i));return 0==e&&0==t&&0==n?new d(a,a,a,r):(e>0&&e<a&&(e=a),t>0&&t<a&&(t=a),n>0&&n<a&&(n=a),new d(Math.min(o(e/i),255),Math.min(o(t/i),255),Math.min(o(n/i),255),r))}darker(){let e=d.FACTOR,t=Math.floor;return new d(Math.max(t(this.r*e),0),Math.max(t(this.g*e),0),Math.max(t(this.b*e),0),this.a)}static brighter(e){return new d(e).brighter().toString()}blend(e){let t="string"==typeof e?new d(e):e,n=e=>Math.round(t.a/255*t[e]+this.a/255*(1-t.a/255)*this[e]);return new d(n("r"),n("g"),n("b"))}toString(){let e=e=>Number.isNaN(e)?"":e.toString(16).padStart(2,"0"),t=e(this.r),n=e(this.g),r=e(this.b),o=255===this.a?"":e(this.a);return`#${t}${n}${r}${o}`}}d.FACTOR=.7},89639:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(2784),o=n(20569),i=n(92812),a=n(31883),s=n(55837),l=n(42239),c=n(52322);let d=o.ZP.div.withConfig({displayName:"ThreeViewSplitter__StyledSplitterContainer",componentId:"sc-j4euj9-0"})(["display:flex;width:100%;height:100%;overflow:hidden;flex-direction:",";"],e=>{let{orientation:t}=e;return"vertical"===t?"column":"row"}),u=o.ZP.div.withConfig({displayName:"ThreeViewSplitter__StyledView",componentId:"sc-j4euj9-1"})(["overflow:auto;"]),p=(0,o.ZP)(u).withConfig({displayName:"ThreeViewSplitter__StyledSplitterInnerView",componentId:"sc-j4euj9-2"})(["flex:1;"]),h=e=>{let{orientation:t="horizontal",firstView:n,firstSize:h,lastView:m,lastSize:f,onFirstResize:g,onLastResize:y,resizerProps:b={},innerView:v,firstViewMinSize:w,lastViewMinSize:x,innerViewMinSize:A,...j}=e,T=(0,r.useRef)(null),C=(0,r.useRef)(null),S=(0,r.useRef)(null),k=(0,r.useRef)({firstView:null,lastView:null}),[R,E]=(0,r.useState)(null),[I,P]=(0,r.useState)(null),N=(0,o.Fg)(),D=(e,n)=>"horizontal"===t?e:n,M=D(i.i,a.o),B=D(s.t,l.m),F=D("width","height"),O=D("minWidth","minHeight"),_={background:N.commonColors.contrastBorder,size:1,...b},L=e=>e<1,z=e=>null!=e?L(e)?`${100*e}%`:Math.round(e):void 0,$=e=>D(e.offsetWidth,e.offsetHeight),q=(e,t)=>{if(!(null!=e&&L(e)))return Math.max(t,1);{if(!T.current)throw Error("ThreeViewSplitter: Could not locate container to calculate fraction size");let n=t/D(T.current.offsetWidth,T.current.offsetHeight);return n<1?n:e}},K=e=>{if(!T.current||!e)return null;let t=$(e);return e.style[F]?.includes("%")?t/$(T.current):t},H=z(I??f),V=z(R??h);return(0,c.jsxs)(d,{ref:T,orientation:t,...j,children:[n&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{ref:C,style:{[F]:V,[O]:(null!==I?V:void 0)??w},children:n}),(0,c.jsx)(M,{onResizeStarted:()=>{let e=C.current?$(C.current):0;return E(h??e),k.current.firstView=h??e,e},onResize:e=>{null!=k.current.firstView&&E(q(k.current.firstView,e))},onResizeEnd:()=>{let e=K(C.current);null!==e&&g?.(e),E(null)},..._})]}),v&&(0,c.jsx)(p,{style:{[O]:A},children:v}),m&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(B,{onResizeStarted:()=>{let e=$(S.current);return P(f??e),k.current.lastView=f??e,e},onResize:e=>{null!=k.current.lastView&&P(q(k.current.lastView,e))},onResizeEnd:()=>{let e=K(S.current);null!==e&&y?.(e),P(null)},..._}),(0,c.jsx)(u,{ref:S,style:{[F]:H,[O]:(null!==R?H:void 0)??x},children:m})]})]})};h.__docgenInfo={description:"Corresponding to\n[ThreeComponentsSplitter](https://github.com/JetBrains/intellij-community/blob/58dbd93e9ea527987466072fa0bfbf70864cd35f/platform/platform-api/src/com/intellij/openapi/ui/ThreeComponentsSplitter.java#L40-L40)\n`firstView` and `lastView` are optional, and if not provided, the corresponding resizer is not rendered.\ninnerView is supposed to fill the remaining space, while firstView and lastView have specific sizes.\nsize changes in a resize interaction is not reported and is handled by local state in the component. That's\nto prevent frequent state updates in a higher level which can be expensive. It's also based on this assumption\nthat in the usage side there is no need for any control over resizing or even knowing the intermediate state.\nMaybe a minSize and maxSize would be the extent of the required control over resizing. But anyway, this model\nof keeping the size as a local state during a resize session is something that can be changed if needed.\n\nFeatures:\n- Relative sizing (fraction of the container)\n- Default size by content\n- Change handling only when resize is done.\n\nTODO: max and min size not implemented\nTODO: add support for uncontrolled version",methods:[],displayName:"ThreeViewSplitter",props:{orientation:{defaultValue:{value:'"horizontal"',computed:!1},required:!1,tsType:{name:"union",raw:'"horizontal" | "vertical"',elements:[{name:"literal",value:'"horizontal"'},{name:"literal",value:'"vertical"'}]},description:""},resizerProps:{defaultValue:{value:"{}",computed:!1},required:!1,tsType:{name:"Partial",elements:[{name:"Omit",elements:[{name:"ResizerProps"},{name:"union",raw:'"onResize" | "onResizeStarted" | "onResizeEnd"',elements:[{name:"literal",value:'"onResize"'},{name:"literal",value:'"onResizeStarted"'},{name:"literal",value:'"onResizeEnd"'}]}],raw:'Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">'}],raw:'Partial<\n  Omit<ResizerProps, "onResize" | "onResizeStarted" | "onResizeEnd">\n>'},description:""},innerView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},innerViewMinSize:{required:!1,tsType:{name:"number"},description:""},firstView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},firstSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},firstViewMinSize:{required:!1,tsType:{name:"number"},description:""},lastView:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},lastSize:{required:!1,tsType:{name:"union",raw:"number | null",elements:[{name:"number"},{name:"null"}]},description:""},lastViewMinSize:{required:!1,tsType:{name:"number"},description:""},onFirstResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{name:"size",type:{name:"number"}}],return:{name:"void"}}},description:""},onLastResize:{required:!1,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{name:"size",type:{name:"number"}}],return:{name:"void"}}},description:""},style:{required:!1,tsType:{name:"CSSProperties"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}}},51611:function(e,t,n){"use strict";n.d(t,{n:()=>eg});var r=n("4862"),o=n("2784"),i=n("28266"),a=n("89639"),s=n("88111"),l=n("83065"),c=n("71278"),d=n("20569"),u=n("75486"),p=n("63631"),h=n("44870"),m=n("23146"),f=n("50164"),g=n("26208"),y=n("52322");let b=p.zo.div`
  box-sizing: border-box;
  position: fixed;
  background: ${e=>{let{theme:t}=e;return t.commonColors.panelBackground}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  // border color doesn't seem to be correct and needs more investigation. might be even os-specific and outside
  // theme colors.
  border: ${e=>{let{theme:t}=e;return`1px solid ${t.color("Component.borderColor")}`}};
  ${u.s};
  ${(0,c.V5)()&&(0,d.iv)(["border-radius:8px;"])}
  z-index: 2;
`,v=e=>{let{children:t,state:{bounds:n},onBoundsChange:r,...i}=e,a=(0,o.useRef)(null),{bounds:s,overlayInteractionHandlerProps:l}=(0,h.t)(a,{bounds:n,onBoundsChange:r});return(0,y.jsx)(g.aV,{children:(0,y.jsx)(b,{...i,ref:a,style:{...i.style,...s},children:(0,y.jsxs)(m.Z,{...l,children:[(0,y.jsx)(f.S,{minWidth:100,minHeight:40}),t]})})})};function w(e){let{floatWindows:t=[],onBoundsChange:n,renderToolWindow:r}=e,i=function(e,t){let[n,r]=(0,o.useState)([]),i=e.sort((e,r)=>n.indexOf(t(e))-n.indexOf(t(r)));return{sorted:i,bringToFront:e=>{r((0,l.Z)(e,-1,i).map(t))}}}(t,e=>{let{key:t}=e;return t}),{layersProps:a}={layersProps:i.sorted.map((e,t)=>({onFocus:()=>{i.bringToFront(t)}}))};return(0,y.jsx)(y.Fragment,{children:i.sorted.map((e,t)=>(0,y.jsx)(v,{state:e,...a[t],onBoundsChange:t=>n(e.key,t),children:r(e.key)},e.key))})}v.__docgenInfo={description:"Container for tool windows in float view mode. It handles some visual aspects like the border and shadow, as well as\nUI interactions for changing the floatingBound of the tool window.",methods:[],displayName:"FloatView"},w.__docgenInfo={description:"Renders float tool windows.\n- handles resize and move actions for float windows.\n- handles layering of float tool windows.",methods:[],displayName:"FloatToolWindows",props:{floatWindows:{defaultValue:{value:"[]",computed:!1},required:!1,tsType:{name:"union",raw:"FloatWindowState[] | undefined",elements:[{name:"Array",elements:[{name:"FloatWindowState"}],raw:"FloatWindowState[]"},{name:"undefined"}]},description:""},onBoundsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key, bounds: WindowBounds) => void",signature:{arguments:[{name:"key",type:{name:"Key"}},{name:"bounds",type:{name:"WindowBounds"}}],return:{name:"void"}}},description:""},renderToolWindow:{required:!0,tsType:{name:"signature",type:"function",raw:"(key: Key) => React.ReactNode",signature:{arguments:[{name:"key",type:{name:"Key"}}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""}}};var x=n("3510");let A=o.createContext(null),j=e=>{let{onMove:t,children:n}=e,r=(0,o.useRef)({}),[i,a]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(null),u=(0,o.useRef)(()=>null),p=(0,o.useRef)(null),h=(0,o.useMemo)(()=>({addStripe:(e,t)=>(r.current[e]&&console.error(`multiple stripes with the same id "${e}`),r.current[e]=t,()=>{delete r.current[e]}),startMove:(e,t)=>{let{from:n,key:o}=t,i=r.current[e]?.current;if(!i)return;let{stripeElRef:s}=i,c=(0,x.D)(s,o);if(!c)throw Error(`unexpected state: Could not find stripe button element ${o} via data-key attribute`);a(c.getBoundingClientRect().toJSON()),l(o);let h=i.mainItems.findIndex(e=>i.getKey(e)===o),m=i.splitItems.findIndex(e=>i.getKey(e)===o);p.current={id:e,anchor:i.anchor,index:h>-1?h:m,isSplit:m>-1};let f=c.style.display;c.style.display="none";let g=Object.entries(r.current).map(e=>{let[t,n]=e;return[t,n.current.createGetDropPosition(o)]});c.style.display=f;let y=e=>{for(let[t,n]of g){let r=n(e);if(r)return{id:t,dropPosition:r}}return null};d(y(n)),u.current=y},move:e=>{let{to:t}=e;d(u.current(t))},endMove:()=>{c&&s&&t({from:p.current,to:{anchor:c.id,index:c.dropPosition.index,isSplit:c.dropPosition.split}}),l(null),d(null),a(null)},dropPosition:c,draggingRect:i,draggingKey:s}),[c,s,i]);return(0,y.jsx)(A.Provider,{value:h,children:n})};j.__docgenInfo={description:"A wrapper component to render around `ToolWindowStripe`s to make their button movable. Stripe buttons then become\ndraggable and can be moved either within the same `ToolWindowStripe` or across different ones.\n@param onMove: called when a stripe button is moved from one anchor to another.\n@param children: child element tree, containing one or more ToolWindowStripe elements. No need to be direct children.",methods:[],displayName:"MovableToolWindowStripeProvider",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onMove:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: { from: StripeLocation<T>; to: StripeLocation<T> }) => void",signature:{arguments:[{name:"args",type:{name:"signature",type:"object",raw:"{ from: StripeLocation<T>; to: StripeLocation<T> }",signature:{properties:[{key:"from",value:{name:"signature",type:"object",raw:"{\n  index: number;\n  anchor: Anchor;\n  isSplit: boolean;\n}",signature:{properties:[{key:"index",value:{name:"number",required:!0}},{key:"anchor",value:{name:"Anchor",required:!0}},{key:"isSplit",value:{name:"boolean",required:!0}}]},required:!0}},{key:"to",value:{name:"signature",type:"object",raw:"{\n  index: number;\n  anchor: Anchor;\n  isSplit: boolean;\n}",signature:{properties:[{key:"index",value:{name:"number",required:!0}},{key:"anchor",value:{name:"Anchor",required:!0}},{key:"isSplit",value:{name:"boolean",required:!0}}]},required:!0}}]}}}],return:{name:"void"}}},description:""}}};let T=p.zo.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: ts;
`,C=p.zo.div`
  display: flex; // default display, which is block causes an unwanted minimum height
  grid-area: bs;
`,S=p.zo.div`
  grid-area: ls;
`,k=p.zo.div`
  grid-area: rs;
`,R=p.zo.div`
  grid-area: main;
  min-height: 0; // necessary to prevent overflow;
  position: relative; // necessary for undock views which are absolute positioned
  background: inherit;
  min-width: 0; // very important for layout. If not set, resizing tool windows can cause weird scrollbar inside tool windows pane.
`,E=p.zo.div`
  display: grid;
  grid-template-columns: min-content auto min-content;
  grid-template-rows: min-content auto min-content;
  grid-template-areas:
    ".   ts   ."
    "ls main rs"
    ".   bs   .";

  background: ${e=>{let{theme:t}=e;return t.commonColors.panelBackground}};
  color: ${e=>{let{theme:t}=e;return t.color("*.foreground")}};
  ${e=>{let{hideStripes:t}=e;return t&&(0,d.iv)(["",",",",",",","{display:none;}"],T,C,S,k)}}
`;var I=n("78922"),P=n("78009"),N=n("77284"),D=n("13953"),M=n("16079"),B=n("69740"),F=n("56202"),O=n("79926");let _=(e,t)=>e[(0,O.m$)(t)?"height":"width"],L=(0,I.Z)((0,P.Z)("key")),z=(0,N.Z)(L,(0,D.Z)(e=>{let{order:t}=e;return t})),$=(0,M.Z)(e=>{let{isSplit:t}=e;return!t}),q=(0,N.Z)(z,$),K=(0,M.Z)(e=>{let{isSplit:t}=e;return t}),H=function(e){return void 0===e&&(e=[]),(0,M.Z)(t=>{let{viewMode:n,isVisible:r}=t;return r&&[].concat(e).includes(n)})},V=(0,N.Z)(z,K),W=H(["docked_unpinned","docked_pinned"]),U=H("undock"),G=(e,t,n)=>{let r=W(n),o=$(r),i=K(r);if(o.length>1||i.length>1)throw Error("More than one visible docked window in a side is not possible");if(o[0]||i[0]){let n=o[0]?.weight||i[0]?.weight;return{mainKey:o[0]?.key||i[0]?.key,split:o[0]?.key&&i[0]?.key?{key:i[0].key,sizeFraction:o[0].weight?1-o[0].sideWeight:i[0].sideWeight}:null,size:n*_(t,e)}}return null},Q=(e,t,n)=>{let r=U(n);if(1===r.length)return{key:r[0].key,size:r[0].weight*_(t,e)};if(0===r.length)return null;throw Error("More than one visible undocked window in a side is not possible")},Z=(e,t,n)=>({stripes:{main:q(n),split:V(n),activeKeys:L(n.filter(e=>{let{isVisible:t}=e;return t}))},undocked:Q(e,t,n),docked:G(e,t,n)}),Y=e=>t=>{let{floatingBounds:n={top:e.height/2-150,left:e.width/2-200,height:300,width:400},key:r}=t;return{bounds:n,key:r}},J=(e,t,n)=>(0,B.Z)(H(e),(0,I.Z)(Y(t)))(n);var X=n("98454"),ee=n("1554");let et=e=>{let{anchor:t,stripeElement:n,splitItems:r,mainItems:o,getItemRect:i,getKey:a}=e,s=()=>n.getBoundingClientRect(),l=e=>{let t=s();return e.right>t.left-t.width&&e.left<t.right&&e.bottom>t.top-t.height&&e.top<t.bottom},c=e=>(0,O.m$)(t)?e.left:e.top,d=e=>(0,O.m$)(t)?e.right:e.bottom,u=function(e,t){void 0===t&&(t=!1);let n=t?d:c;return 0===e.length?[{index:0,split:t,score:e=>Math.abs(n(e)-n(s()))}]:e.flatMap((e,r)=>{let o=a(e);return[{index:r,split:t,relative:{key:o,placement:"before"},score:e=>Math.abs(n(e)-p[o].start)},{index:r+1,split:t,relative:{key:o,placement:"after"},score:e=>Math.abs(n(e)-p[o].end)}]})},p=(e=>{let t={};return e.forEach(e=>{let n=a(e),r=i(n);t[n]={start:c(r),end:d(r)}}),t})([...o,...r]),h=[...u(o),...u(r,!0)],m=null;return e=>{if(!l(e))return null;let t=h.reduce((t,n)=>{let r=n.score(e);return!t||r<t.score?{...n,score:r}:t},null);return t?((t.split!==m?.split||t.index!==m?.index)&&(m=t),m):null}};var en=n("61236");let er="1rem",eo=p.zo.span`
  box-sizing: border-box;
  display: flex; // to allow icon and text alignment by default;
  align-items: center;
  cursor: default;
  user-select: none;
  overflow: hidden;
  direction: ltr;
  flex-shrink: 0;
  font-size: 0.7rem;
  line-height: ${er}; // absolute value seems to be problematic when the base font size is changed
  white-space: nowrap;
  color: ${e=>{let{theme:t,active:n}=e;return n?t.color("ToolWindow.Button.selectedForeground",t.dark?"rgb(255,255,255)":"rgb(0,0,0)"):t.color("*.foreground")}};
  background: ${e=>{let{theme:t,active:n}=e;return n?t.color("ToolWindow.Button.selectedBackground",t.dark?"rgba(15,15,15,.332)":"rgba(85,85,85,.332)"):void 0}};

  ${e=>{let{anchor:t}=e;return"horizontal"==("left"===t||"right"===t?"vertical":"horizontal")?(0,d.iv)(["padding:","px 10px;"],2.5):(0,d.iv)(["padding:10px ","px;writing-mode:vertical-lr;transform:",";","{transform:rotate(180deg);}"],2.5,"left"===t?"rotateZ(180deg)":void 0,en.M)}}
  ${e=>{let{active:t}=e;return!t&&(0,d.iv)(["&:hover{background:",";}"],e=>{let{theme:t}=e;return t.color("ToolWindow.Button.hoverBackground",t.dark?"rgba(15,15,15,.156)":"rgba(85,85,85,.156)")})}};
`;var ei=n("19155");let ea=`calc(${er} + 6px)`,es=p.zo.div`
  box-sizing: border-box;
  background: ${e=>{let{theme:t,highlighted:n}=e;return n?ei.I.brighter(t.commonColors.panelBackground):t.commonColors.panelBackground}};
  display: inline-flex;
  overflow: hidden;
  ${e=>{let{anchor:t,theme:n}=e;return(0,d.iv)(["border-",":1px solid ",""],(0,O.vo)(t),n.commonColors.contrastBorder)}};
  ${e=>{let{anchor:t,preventCollapse:n}=e;return(0,O.m$)(t)?(0,d.iv)(["flex-direction:row;width:100%;min-height:",";","{height:1.25rem;}"],n?ea:"fit-content",eo):(0,d.iv)(["flex-direction:column;height:100%;min-width:",";","{width:1.25rem;}"],n?ea:"fit-content",eo)}}
`,el=p.zo.div`
  flex: 1;
`;var ec=n("60868");function ed(e){let{anchor:t,items:n,renderItem:r,splitItems:a=[],selectedKeys:s=[],onItemPress:l,getKey:c}=e,d=(0,o.useRef)(null),{getProps:u,draggingRect:p,draggingKey:h,dropPosition:m}=function(e){let t=e.anchor,n=(0,o.useContext)(A),r=(0,i.d)(e);return(0,o.useEffect)(()=>{if(n)return n.addStripe(t,r)},[n,t]),{getProps:e=>({moveDisabled:!n,onMoveStart:r=>{let{from:o}=r;n?.startMove?.(t,{from:o,key:e})},onMove:e=>{let{to:t}=e;n?.move({to:t})},onMoveEnd:()=>{n?.endMove()}}),draggingRect:n?.draggingRect??null,dropPosition:n?.dropPosition?.id===t?n?.dropPosition.dropPosition:null,draggingKey:n?.draggingKey??null}}({stripeElRef:d,getKey:c,anchor:t,mainItems:n,splitItems:a,createGetDropPosition:e=>{let r=t=>c(t)!==e;return et({stripeElement:d.current,mainItems:n.filter(r),splitItems:a.filter(r),getKey:c,anchor:t,getItemRect:e=>(0,x.D)(d,e).getBoundingClientRect()})}}),f=null!=m&&null!=h&&[...n,...a].every(e=>c(e)!==h),g=e=>{let n=c(e);return(0,y.jsx)(eu,{anchor:t,"data-key":n,style:{...function(e){let{anchor:t,key:n,dropPosition:r,draggingRect:o,draggingKey:i}=e,a={};if(r?.relative?.key===n&&o){let e=(0,O.m$)(t)?o.width:o.height;(0,O.m$)(t)?a["before"===r.relative.placement?"marginLeft":"marginRight"]=e:a["before"===r.relative.placement?"marginTop":"marginBottom"]=e}return n===i&&(a.display="none"),a}({key:n,dropPosition:m,anchor:t,draggingRect:p,draggingKey:h})},...u(n),active:s.includes(n),onPress:()=>l?.(n),children:r(e)},n)};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(es,{anchor:t,preventCollapse:!!m,highlighted:f,ref:d,children:[n.map(g),(0,y.jsx)(el,{}),a.map(g)]})})}function eu(e){let{children:t,anchor:n,onMoveStart:r,onMove:i,onMoveEnd:a,onPress:s,moveDisabled:l,...c}=e,d=(0,o.useRef)(null),{pressProps:u}={pressProps:{onPointerUp:s,onMouseDown:e=>{e.preventDefault()}}},p=function(e){let{ref:t,onMoveStart:n,onMove:r,onMoveEnd:o,ghost:i,...a}=e;return(0,ec.r)({...a,onMoveStart:()=>{let e=t.current,r=null;if(!e)throw Error("Movement started but ref value is null. Make sure the passed ref is applied on the same element that other props are.");let o=e=>{r&&(r.style.left=`${e.left}px`,r.style.top=`${e.top}px`)},a=e.getBoundingClientRect();if(i){let t=function(e){let t=e.cloneNode(!0);return t.style.backgroundColor=function(e){let t=e,n=[];for(;null!=t;){let e=getComputedStyle(t).backgroundColor;if(e){let t=new ei.I(e);if(n.unshift(t),255===t.a)break}t=t.parentElement}return n.reduce((e,t)=>e?e.blend(t):t,null)?.toString()||""}(e),t}(e);(r="function"==typeof i&&i(t)||t).style.position="fixed",document.body.append(r),o(a)}return{ghost:r,from:a,updateGhostPosition:o,startState:n({from:a})}},onMove:e=>{let{movement:t,startState:{from:n,updateGhostPosition:o,startState:i}}=e,a={left:n.left+t.x,right:n.right+t.x,top:n.top+t.y,bottom:n.bottom+t.y,height:n.height,width:n.width};o(a),r({from:n,to:a,movement:t,startState:i})},onMoveEnd:e=>{let{startState:{ghost:t,startState:n}}=e;t?.remove(),o?.({startState:n})}})}({ref:d,disabled:l,dragThreshold:7,ghost:!0,onMoveStart:r,onMove:i,onMoveEnd:a});return(0,y.jsx)(eo,{anchor:n,...(0,ee.d)(c,u,p),ref:d,children:t})}ed.__docgenInfo={description:"TODO: refactor to remove the key based interface.",methods:[],displayName:"ToolWindowStripe",props:{splitItems:{defaultValue:{value:"[]",computed:!1},required:!1,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},selectedKeys:{defaultValue:{value:"[]",computed:!1},required:!1,tsType:{name:"Array",elements:[{name:"Key"}],raw:"Key[]"},description:""},anchor:{required:!0,tsType:{name:"Anchor"},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},getKey:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T) => Key",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"Key"}}},description:""},renderItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(item: T) => React.ReactNode",signature:{arguments:[{name:"item",type:{name:"T"}}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:""},onItemPress:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{name:"key",type:{name:"Key"}}],return:{name:"void"}}},description:""}}};var ep=n("18262");let eh=p.zo.div`
  position: absolute;
  background: inherit;
  z-index: 1;
  ${e=>{let{anchor:t}=e;return(0,O.m$)(t)?(0,d.iv)(["left:0;right:0;"]):(0,d.iv)(["top:0;bottom:0;"])}};
  ${e=>{let{anchor:t}=e;return(0,d.iv)(["",":0;"],t)}};
`;function em(e){let{state:t,anchor:n,children:r,onResize:o}=e;return t&&(0,y.jsx)(eh,{anchor:n,children:(0,y.jsx)(ep.L,{orientation:(0,O.m$)(n)?"vertical":"horizontal",resizerPlacement:"left"===n||"top"===n?"after":"before",size:t.size,onResize:o,children:r})})}em.__docgenInfo={description:"",methods:[],displayName:"UndockSide",props:{state:{required:!0,tsType:{name:"Exclude",elements:[{name:"SideUnDockedState"},{name:"null"}],raw:"Exclude<SideUnDockedState, null>"},description:""},anchor:{required:!0,tsType:{name:"Anchor"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onResize:{required:!0,tsType:{name:"signature",type:"function",raw:"(size: number) => void",signature:{arguments:[{name:"size",type:{name:"number"}}],return:{name:"void"}}},description:""}}};var ef=n("83993");let eg=o.forwardRef(function(e,t){var n;let{hideToolWindowBars:l=!1,useWidescreenLayout:c=!1,height:d="100%",minHeight:u="0",toolWindowsState:p,onToolWindowStateChange:h,windows:m,children:f,mainContentMinWidth:g=50,containerProps:b={}}=e,v=(0,r.Z)(e=>{let{id:t}=e;return t},m),x=(0,o.useRef)(null),A=(0,o.useRef)(null),[I,P]=(0,o.useState)(),N=(0,o.useRef)({}),D=(0,i.d)({toolWindowsState:p,onToolWindowStateChange:h});(0,o.useLayoutEffect)(()=>{let e=x.current,t=()=>P(function(e,t,n){void 0===n&&(n=Object.keys(e.windows));let r=Object.keys(e.windows).filter(t=>n.includes(t)&&!e.removedFromSideBarIds.has(t)).map(t=>({...e.windows[t],key:t})),{top:o=[],bottom:i=[],left:a=[],right:s=[]}=(0,F.Z)(e=>{let{anchor:t}=e;return t},r);return{left:Z("left",t,a),top:Z("top",t,o),right:Z("right",t,s),bottom:Z("bottom",t,i),windows:J("window",t,r),floatWindows:J("float",t,r)}}(p,e.getBoundingClientRect(),m.map(e=>{let{id:t}=e;return t})));if(e?.offsetWidth===0||e?.offsetHeight===0){let n=new ResizeObserver(r=>{let[o]=r;o.contentRect.width>0&&o.contentRect.height>0&&(t(),n.unobserve(e))});n.observe(e)}t()},[p]),(0,o.useImperativeHandle)(t,()=>({focus:e=>{N.current[e]?.current?.focus()},hasFocus:e=>document.activeElement?.closest(`[data-tool-window-id="${e}"]`)!==null,focusLastActiveWindow:()=>{let{lastFocusedKey:e}=D.current.toolWindowsState;null!=e&&(D.current.toolWindowsState.windows[e].isVisible||D.current.onToolWindowStateChange(p.show(e)),N.current[e].current?.focus(!0))},focusMainContent:()=>{A.current?.focus()},changeState:e=>{h(e(D.current.toolWindowsState))}}),[]);let M=(0,o.useRef)(!1);(0,ef.F)({ref:x,onInteractOutsideStart:()=>{M.current=!0},onInteractOutside:()=>{M.current=!1}}),n=e=>{let{focusReceivingElement:t}=e;t||M.current||A.current?.focus()},(0,o.useEffect)(()=>{let e=e=>{e.target instanceof HTMLElement&&x.current?.contains(e.target)&&(!e.relatedTarget||e.relatedTarget instanceof HTMLElement)&&!x.current?.contains(e.relatedTarget)&&n({focusLosingElement:e.target,focusReceivingElement:e.relatedTarget})};return x.current?.addEventListener("focusout",e),()=>{x.current?.removeEventListener("focusout",e)}},[]);let B=e=>{let{anchor:t,state:n}=e;return(0,y.jsx)(ed,{anchor:t,items:n.main,splitItems:n.split,getKey:e=>e,renderItem:e=>v[e]?.toolbarButton,onItemPress:e=>h(p.toggle(e)),selectedKeys:n.activeKeys})},_=e=>(N.current[e]||(N.current[e]=o.createRef()),(0,y.jsx)("div",{style:{all:"unset"},"data-tool-window-id":e,onFocus:()=>{h(p.lastFocused(e))},children:(0,y.jsx)(s.M,{ref:N.current[e],children:(0,y.jsx)(X.P,{id:e,containerRef:x,mainContentFocusableRef:A,toolWindowsState:p,onToolWindowStateChange:h,children:v[e]?.content})})})),L=e=>{let{anchor:t,state:n}=e;return n?(0,y.jsx)(a.D,{innerView:_(n.mainKey),innerViewMinSize:50,lastView:n.split&&_(n.split.key),lastSize:n.split?.sizeFraction,onLastResize:e=>{h(p.resizeDockSplitView(t,e))},orientation:(0,O.m$)(t)?"horizontal":"vertical"}):null},z=e=>t=>{let n=x.current?.getBoundingClientRect();n&&h(p.resizeDock(e,t,n))},$=(e,t)=>{let n="horizontal"===t?"left":"top",r="horizontal"===t?"right":"bottom";return{orientation:t,firstView:L({anchor:n,state:e[n].docked}),firstSize:e[n].docked?.size,onFirstResize:z(n),lastView:L({anchor:r,state:e[r].docked}),lastSize:e[r].docked?.size,onLastResize:z(r)}};return(0,y.jsx)(E,{...b,ref:x,hideStripes:l,style:{height:d,minHeight:u,...b?.style},children:I&&(e=>{let t=$(e,"horizontal"),n=$(e,"vertical"),[r,o]=c?[t,n]:[n,t],i=["left","top","right","bottom"].map(t=>{let n=e[t].undocked;return n&&(0,y.jsx)(em,{anchor:t,state:n,onResize:e=>{x.current&&h(p.resizeUndock(t,e,x.current.getBoundingClientRect()))},children:_(n.key)},t)});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(j,{onMove:t=>{let{to:n,from:r}=t;h(p.move(e[r.anchor].stripes[r.isSplit?"split":"main"][r.index],{anchor:n.anchor,isSplit:n.isSplit},n.index))},children:[(0,y.jsx)(S,{children:B({anchor:"left",state:e.left.stripes})}),(0,y.jsx)(T,{children:B({anchor:"top",state:e.top.stripes})}),(0,y.jsx)(k,{children:B({anchor:"right",state:e.right.stripes})}),(0,y.jsx)(C,{children:B({anchor:"bottom",state:e.bottom.stripes})})]}),(0,y.jsxs)(R,{children:[(0,y.jsx)(a.D,{...r,innerView:(0,y.jsx)(a.D,{innerViewMinSize:g,innerView:(0,y.jsx)(s.M,{ref:A,children:f}),...o})}),i,(0,y.jsx)(w,{floatWindows:e?.floatWindows,renderToolWindow:_,onBoundsChange:(e,t)=>h(p.setFloatingBound(e,t))})]})]})})(I)})});eg.__docgenInfo={description:"@constructor\n\nCorresponding to ToolWindowPane in Intellij Platform\n\nKnown issues:\n- in Firefox and Safari, left and right toolbars are not properly shown. Seems like a nasty bug, since adding and\nthen removing some min-width: fit-content style fixes it.\n- in the dock view of a side, open only a window from the split ones. then open a window from main ones.\n  focus is not moved to the just opened window. The reason is we rely on autofocusing and because the React tree\n  changes for both windows, even the split one which was open will be unmounted and mounted again, and since it's\n  placed after the main one, and hence mounted later, it will get the focus again. This becomes a bigger issue\n  if the main one is unpinned, because it immediately gets closed after opening.\n  Possible solutions:\n  - make sure the split one won't unmount and mount again in such scenario.\n  - decouple focusing logic from mounting logic, and only focus windows somehow, when the `isVisible` is changed\n    from false to true, not when mounted.\n- related to previous issue: open a tool window in split section of a side. set view mode for a tool window in main\n  section of the same side to docked_unpinned. try to open the unpinned one while the split one is open. it doesn't\n  work.",methods:[],displayName:"ToolWindows",props:{hideToolWindowBars:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"Whether stripe buttons should be hidden or not.\n`hideToolStripes` UISettings in Intellij Platform"},useWidescreenLayout:{defaultValue:{value:"false",computed:!1},required:!1,tsType:{name:"boolean"},description:"`wideScreenSupport` in UISettings in Intellij Platform"},height:{defaultValue:{value:'"100%"',computed:!1},required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},minHeight:{defaultValue:{value:'"0"',computed:!1},required:!1,tsType:{name:'CSSProperties["minHeight"]',raw:'CSSProperties["minHeight"]'},description:""},mainContentMinWidth:{defaultValue:{value:"50",computed:!1},required:!1,tsType:{name:"number"},description:"min width applied to the main content (children).\n@default 50"},containerProps:{defaultValue:{value:"{}",computed:!1},required:!1,tsType:{name:"Omit",elements:[{name:"HTMLProps",elements:[{name:"HTMLDivElement"}],raw:"HTMLProps<HTMLDivElement>"},{name:"literal",value:'"as"'}],raw:'Omit<HTMLProps<HTMLDivElement>, "as">'},description:"props to be passed to the container element."},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},windows:{required:!0,tsType:{name:"Array",elements:[{name:"ToolWindow"}],raw:"ToolWindow[]"},description:""},toolWindowsState:{required:!0,tsType:{name:"Readonly",elements:[{name:"ToolWindowsState"}],raw:"Readonly<ToolWindowsState>"},description:""},onToolWindowStateChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(newState: ToolWindowsState) => void",signature:{arguments:[{name:"newState",type:{name:"ToolWindowsState"}}],return:{name:"void"}}},description:""},margin:{required:!1,tsType:{name:'CSSProperties["margin"]',raw:'CSSProperties["margin"]'},description:""}}}},98454:function(e,t,n){"use strict";n.d(t,{P:function(){return l},j:function(){return s}});var r=n(2784),o=n(76680),i=n(52322);let a=r.createContext(null),s=()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useToolWindowContext is meant to be used inside a tool window.");return e},l=e=>{let{toolWindowsState:t,containerRef:n,mainContentFocusableRef:s,onToolWindowStateChange:l,id:c,children:d}=e,u=(0,o.$)(()=>{l(t.blur(c))}),p=(0,o.$)(()=>{l(t.hide(c))}),h=(0,o.$)(()=>{l(t.removeFromSidebar(c))}),m=(0,o.$)(()=>{s.current?.focus()}),f=(0,o.$)(e=>{l(t.move(c,e))}),g=(0,o.$)(e=>{l(t.changeViewMode(c,e))}),y=(0,o.$)(e=>{let r=n.current;if(!r)throw Error("Couldn't resize since the container is not present");l(t.stretchWidth(c,e,r.getBoundingClientRect()))}),b=(0,o.$)(e=>{let r=n.current;if(!r)throw Error("Couldn't resize since the container is not present");l(t.stretchHeight(c,e,r.getBoundingClientRect()))}),v=(0,o.$)(e=>{l(t.setFloatingBound(c,e))}),w=(0,r.useMemo)(()=>({state:t.windows[c],hide:p,blur:u,remove:h,focusMainContent:m,moveToSide:f,changeViewMode:g,stretchWidth:y,stretchHeight:b,setFloatingBounds:v}),[t,c]);return(0,i.jsx)(a.Provider,{value:w,children:d})};l.__docgenInfo={description:"Used in ToolWindows to provide tool window state and necessary actions as a context, which will be accessible\nwithin the tool window content tree, via {@link useToolWindowState}",methods:[],displayName:"ToolWindowStateProvider"}},45630:function(e,t,n){"use strict";n.d(t,{D$:function(){return p},Qy:function(){return h},iC:function(){return m},x5:function(){return f}});var r=n(29568),o=n(73445),i=n(83065),a=n(38073),s=n(33537),l=n(41468),c=n(79926);let d=e=>"docked_unpinned"===e.viewMode||"docked_pinned"===e.viewMode,u=e=>"docked_unpinned"===e.viewMode||"undock"===e.viewMode,p=(0,r.Z)((e,t)=>e.anchor===t.anchor&&e.isSplit===t.isSplit),h=e=>"docked_pinned"===e||"docked_unpinned"===e?"docked":"window"===e||"float"===e?"float":e;class m{constructor(e,t){let{lastFocusedKey:n=null,layoutToRestore:r={},removedFromSideBarIds:o=[]}=void 0===t?{}:t;this.windows=e,this.lastFocusedKey=void 0,this.removedFromSideBarIds=void 0,this.layoutToRestore=void 0,this.lastFocusedKey=n,this.layoutToRestore=r,this.removedFromSideBarIds=new Set(o);let i=Object.keys(this.windows).filter(e=>this.removedFromSideBarIds.has(e)&&this.windows[e].isVisible);if(i.length>0)throw Error(`Invalid ToolWindowsState. The following windows are set as visible but are removed from the sidebar: ${i}`)}hide(e){return this.mapWindows((t,n)=>n===e?{...t,isVisible:!1}:t)}hideAll(){return this.mapWindows((e,t)=>"float"===h(e.viewMode)?e:{...e,isVisible:!1},{layoutToRestore:this.windows})}restoreWindows(){return this.mapWindows((e,t)=>this.layoutToRestore[t]||e)}lastFocused(e){return this.mapWindows(e=>e,{lastFocusedKey:e})}show(e){let t=this.windows[e];if(!t)return this;let n=[];return"undock"===t.viewMode?n.push("undock"):d(t)&&n.push("docked_unpinned","docked_pinned","undock"),this.mapWindows((r,o)=>o===e?{...r,isVisible:!0}:r.isVisible&&p(t,r)&&n.includes(r.viewMode)?{...r,isVisible:!1}:r,{removedFromSideBarIds:[...this.removedFromSideBarIds].filter(t=>t!==e)})}toggle(e){return this.windows[e]?.isVisible?this.hide(e):this.show(e)}blur(e){let t=this.windows[e];return t&&u(t)?this.mapWindows(e=>e===t?{...e,isVisible:!1}:e):this}changeViewMode(e,t){let n=this.windows[e];return n?this.mapWindows(e=>{if(e===n)return{...e,viewMode:t};let r=h(e.viewMode);return e.isVisible&&"float"!==r&&p(e,n)&&r===h(t)?{...e,isVisible:!1}:e}):this}move(e,t,n){let r=this.windows[e];if(!r)return this;let s="object"==typeof t?t:r,l="number"==typeof t?t:n,c=Object.entries(this.windows).filter(e=>{let[,t]=e;return p(s,t)}),d=c.findIndex(e=>{let[,t]=e;return t===r}),u=d<0?(0,o.Z)(l??-1,[e,{...r,...s}],c):(0,i.Z)(d,l??d,c),m=(0,a.Z)(u.map((t,n)=>{let[o,i]=t,a=i;i.order!==n&&(a={...i,order:n});let s=h(r.viewMode);return o!==e&&r.isVisible&&i.isVisible&&"float"!==s&&h(i.viewMode)===s&&(a={...i,isVisible:!1}),[`${o}`,a]}));return this.mapWindows((e,t)=>m[t]||e)}stretchWidth(e,t,n){return this.stretch(e,t,n,"width")}stretchHeight(e,t,n){return this.stretch(e,t,n,"height")}setFloatingBound(e,t){return this.update(e,"floatingBounds",t)}removeFromSidebar(e){return this.mapWindows((t,n)=>n===e?{...t,isVisible:!1}:t,{removedFromSideBarIds:[...this.removedFromSideBarIds,e]})}mapWindows(e,t){return void 0===t&&(t={}),new m((0,s.Z)(e,this.windows),{lastFocusedKey:this.lastFocusedKey,layoutToRestore:this.layoutToRestore,removedFromSideBarIds:this.removedFromSideBarIds,...t})}update(e,t,n){let r=this.windows[e];return r?this.mapWindows(e=>e===r?{...e,[t]:n}:e):this}stretch(e,t,n,r){let o=this.windows[e];if(!o)return this;let i=h(o.viewMode);if("float"===i)return this.mapWindows(e=>{if(e===o){let n=e.floatingBounds;return{...e,floatingBounds:{...n,[r]:n[r]+t}}}return e});if(((0,c.m$)(o.anchor)?"height":"width")!==r)return this;let a=n[r],s=a*o.weight+t;return(0,l.Z)(0,a,s)===s?"docked"===i?this.resizeDock(o.anchor,s,n):this.resizeUndock(o.anchor,s,n):this}resizeDock(e,t,n){return this.resizeSide(!0,e,t,n)}resizeUndock(e,t,n){return this.resizeSide(!1,e,t,n)}resizeDockSplitView(e,t){return this.mapWindows(n=>n.anchor===e&&n.isVisible&&d(n)?{...n,sideWeight:n.isSplit?t:1-t}:n)}resizeSide(e,t,n,r){return this.mapWindows(o=>{let i=e?d(o):"undock"===o.viewMode;if(o.anchor===t&&i&&o.isVisible){let e=(0,c.m$)(t)?r.height:r.width;return{...o,weight:n/e}}return o})}}let f=function(e){let{viewMode:t="docked_pinned",...n}=void 0===e?{}:e;return{anchor:"left",isSplit:!1,viewMode:t,order:1,weight:.2,sideWeight:.5,isVisible:!1,floatingBounds:"float"===h(t)?{left:300,top:300,width:600,height:300}:void 0,...n}}},79926:function(e,t,n){"use strict";n.d(t,{Ss:function(){return r},m$:function(){return o},vo:function(){return i}});let r=e=>o(e)?"horizontal":"vertical",o=e=>"top"===e||"bottom"===e,i=e=>({left:"right",right:"left",top:"bottom",bottom:"top"})[e]},59683:function(e,t,n){"use strict";n.d(t,{n:()=>F,e:()=>B});var r=n("2784"),o=n("1554"),i=n("56925"),a=n("63631"),s=n("88111"),l=n("42181"),c=n("14129"),d=n("98454"),u=n("21179"),p=n("27637"),h=n("83556"),m=n("15397"),f=n("39472"),g=n("88524"),y=n("17560"),b=n("90046"),v=n("83212"),w=n("39985"),x=n("2533"),A=n("88710"),j=n("27503"),T=n("61741"),C=n("52322");function S(e){let{menuProps:t}=e,{state:n}=(0,d.j)(),r=(0,x.y)(j.Bx),o=(0,x.y)(j.Zu),i=(0,x.y)(j.FO),a=(0,l.BH)(T.Jy),s=(0,l.BH)(T.jw);if(!r||!o||!i||!a||!s)throw Error("[ToolWindowSettingsIconMenu]: can't find tool window actions.");let c=[r,o,{id:"resize",title:"Resize",menuPresentation:"submenu",children:[...i.children,a]},new w.P,s];return(0,C.jsx)(A.C,{actions:c,selectedKeys:[j.C0[n.viewMode]],...t})}S.__docgenInfo={description:"Tool window gear icon menu, with a set of default actions and some extra ones.\nTODO: add support for extra actions when action system is progressed a little.",methods:[],displayName:"ToolWindowSettingsIconMenu",props:{menuProps:{required:!0,tsType:{name:'Parameters[0]["menuProps"]',raw:'Parameters<MenuTriggerProps["renderMenu"]>[0]["menuProps"]'},description:""}}};var k=n("19295");let R=a.zo.div`
  display: flex;
  align-items: center;
  justify-content: end; // to have the content overflow from right, as the toolwindow shrinks. That will keep the left-most buttons in the view
  padding: 0 2px 0 4px;
  overflow: hidden; // for the negative margin applied on StyledToolWindowHeaderActions
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("ToolWindow.Header.borderColor")||t.color("DefaultTabs.borderColor")||t.commonColors.contrastBorder}};
  background: ${e=>{let{theme:t,active:n}=e;return n?t.color("ToolWindow.Header.background")||t.color("ToolWindow.header.active.background")||"#E2E6EC":t.color("ToolWindow.Header.inactiveBackground")||t.color("ToolWindow.Header.background")||"#ECECEC"}};
`,E=a.zo.div`
  margin-right: -4px;
`,I=a.zo.div`
  flex: 1;
  display: flex;
  align-items: center;
  overflow: hidden;
`,P=e=>{let{children:t,additionalActions:n,contentHasFocus:r=!1,...o}=e;return(0,C.jsxs)(R,{active:r,...o,children:[(0,C.jsx)(I,{children:t}),(0,C.jsx)(E,{children:(0,C.jsxs)(m.o,{children:[n&&(0,C.jsxs)(C.Fragment,{children:[n,(0,C.jsx)(v.ve,{})]}),(0,C.jsx)(k.K,{actionId:T.TD}),(0,C.jsx)(g.b,{renderMenu:e=>{let{menuProps:t}=e;return(0,C.jsx)(S,{menuProps:t})},children:(e,t)=>(0,C.jsx)(y.a,{tooltip:(0,C.jsx)(b.M,{actionName:"Options"}),children:(0,C.jsx)(h.hU,{...e,ref:t,children:(0,C.jsx)(f.vq,{icon:"general/gearPlain"})})})}),(0,C.jsx)(k.K,{actionId:T.L$})]})})]})};P.__docgenInfo={description:"",methods:[],displayName:"DefaultToolWindowHeader",props:{contentHasFocus:{defaultValue:{value:"false",computed:!1},required:!1}}};let N=a.zo.div`
  outline: none;
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  flex: 1;
`,D=a.zo.div`
  flex: 1;
  overflow: auto;
`,M=r.createContext({hasFocus:!1}),B=()=>(0,r.useContext)(M),F=e=>{let{headerContent:t,children:n,additionalActions:a,onFocusChange:h,actions:m,mainContentTitle:f="Editor",...g}=e,y=(0,r.useRef)(null),b=(0,r.useRef)(null),v=(0,r.useRef)(null),{contentHasFocus:w,toolWindowProps:x,toolWindowContentProps:A,toolWindowHeaderProps:T}=function(e,t){let{containerRef:n,contentRef:i,focusableContentRef:a}=e,{onFocusChange:s}=void 0===t?{}:t,[l,h]=(0,r.useState)(!1),{focusWithinProps:m}=(0,c.L)({onFocusWithinChange:h}),{focusWithinProps:f}=(0,c.L)({onFocusWithinChange:s}),{toolWindowProps:g}=function(){let{blur:e}=(0,d.j)(),t=(0,r.useRef)(null),{focusWithinProps:n}=(0,c.L)({onBlurWithin:n=>{t.current=window.setTimeout(()=>{n.relatedTarget&&e()})},onFocusWithin:()=>{null!==t.current&&(clearTimeout(t.current),t.current=null)}});return{toolWindowProps:n}}(),{focusForwarderProps:y}=(0,p.e)({forwardFocus:a.current?.focus,ignoreFocusedDescendant:!0});(0,r.useEffect)(()=>{document.activeElement&&n.current?.contains(document.activeElement)||n.current?.focus()},[]);let{moveHandleProps:b}=(0,u.y)();return{contentHasFocus:l,toolWindowProps:(0,o.d)(y,f,g,{tabIndex:-1}),toolWindowContentProps:m,toolWindowHeaderProps:b}}({containerRef:y,contentRef:b,focusableContentRef:v},{onFocusChange:h}),S=(0,r.useMemo)(()=>({hasFocus:w}),[w]),k=[(0,j.a8)({mainContentTitle:f}),...m||[]];return(0,C.jsx)(l.DG,{actions:k,children:e=>{let{shortcutHandlerProps:r}=e;return(0,C.jsx)(N,{...(0,o.d)(x,r,(0,i.z)(g)),ref:y,children:(0,C.jsxs)(M.Provider,{value:S,children:[(0,C.jsx)(P,{additionalActions:a,contentHasFocus:w,...T,children:t}),(0,C.jsx)(D,{ref:b,...A,children:(0,C.jsx)(s.M,{ref:v,autoFocus:!0,children:n})})]})})}})};F.__docgenInfo={description:"Default component for rendering the content of a tool window. It supports a header and a scrollable area.\nThe header supports showing a content, and some default+custom actions on the right.\n\n@see MultiContentToolWindow\n\nRemaining features:\n- Additional gear menu actions.",methods:[],displayName:"DefaultToolWindow",props:{mainContentTitle:{defaultValue:{value:'"Editor"',computed:!1},required:!1}}}},89357:function(e,t,n){"use strict";n.d(t,{b:function(){return u}}),n(2784);var r=n(42181),o=n(17560),i=n(90046),a=n(16491),s=n(20569),l=n(52322);let c=e=>{let t="keyboard"===e.type&&e.firstKeyStroke.modifiers?.length===1&&["Alt","Meta","Control"].includes(e.firstKeyStroke.modifiers[0])&&e.firstKeyStroke.code.match(/^(Digit|Numpad)([0-9])$/)?.[2];return t?parseInt(t):null},d=s.ZP.span.withConfig({displayName:"DefaultToolWindowToolbarButton__StyledWrapper",componentId:"sc-1dsisfo-0"})(["display:flex;"]),u=e=>{let{id:t,title:n,icon:s,showNumber:u=!0}=e,p=(0,r.BH)((0,a.Z)(`${t}`)),h=p?.shortcuts?.map(c).find(Number.isInteger);return(0,l.jsx)(o.a,{tooltip:(0,l.jsx)(i.M,{actionName:n,shortcut:p?.shortcut}),children:(0,l.jsxs)(d,{children:[s,"\xa0",null!=h&&u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("u",{children:h}),":\xa0"]}):null,n]})})};u.__docgenInfo={description:"Default UI for the toolbar button (aka. stripe button) of the tool window.\n- Renders the title and icon for the tool window\n- Optionally shows the number before the title, if a numeric shortcut is set for the corresponding ActivateToolWindow\n  action, in the currently applied keymap.\n- Adds an Action Tooltip",methods:[],displayName:"DefaultToolWindowToolbarButton",props:{showNumber:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},id:{required:!0,tsType:{name:"ReactKey",raw:"React.Key"},description:""},title:{required:!0,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},44668:function(e,t,n){"use strict";n.d(t,{u:function(){return p}});var r=n(2784),o=n(4862),i=n(48233),a=n(1554),s=n(51611),l=n(16491),c=n(89357),d=n(42181),u=n(52322);let p=r.forwardRef(function(e,t){let{windows:n,toolWindowsState:r,showNumbers:p,...h}=e,m=(0,i.B)(t),f=(0,o.Z)(e=>{let{id:t}=e;return t},n),g=(0,l.N)({toolWindowsRef:m,toolWindowsState:r,getPresentation:e=>f[e]});return(0,u.jsx)(d.DG,{actions:g,children:e=>{let{shortcutHandlerProps:t}=e;return(0,u.jsx)(s.n,{...h,ref:m,toolWindowsState:r,windows:n.map(e=>{let{id:t,icon:n,content:r,title:o}=e;return{id:t,toolbarButton:(0,u.jsx)(c.b,{id:t,icon:n,title:o,showNumber:p}),content:r}}),containerProps:(0,a.d)(h.containerProps||{},t)})}})});p.__docgenInfo={description:"A wrapper around ToolWindows, which provides default actions. It also expects windows to have a `title` and an `icon`\ninstead of more generic `toolbarButton`. The `title` and `icon` are then used in toolbar button, and also in the\nactions that are dynamically created for each window to toggle/focus the tool window.",methods:[],displayName:"DefaultToolWindows",props:{windows:{required:!0,tsType:{name:"Array",elements:[{name:"DefaultToolWindow"}],raw:"DefaultToolWindow[]"},description:""},showNumbers:{required:!1,tsType:{name:"boolean"},description:""}}}},87508:function(e,t,n){"use strict";n.d(t,{y:function(){return d}});var r=n(2784),o=n(88109),i=n(59683),a=n(79532),s=n(41379),l=n(60181),c=n(52322);let d=e=>{let{groupTabs:t,children:n,headerContent:d,...p}=e,[h,m]=(0,r.useState)(!1),[f,g]=(0,o.z)(p.activeKey,p.defaultActiveKey,p.onActiveKeyChange),y=r.Children.toArray(n).filter(e=>{let t=r.isValidElement(e)&&e.type===u;return t||console.warn("You are not supposed to render anything but MultiContentToolWindowContent inside MultiViewToolWindow. Rendered: ",e),t}).map(e=>({...e,key:`${e.key}`.slice(2)})),b=(t&&console.error("groupTab is not supported yet in MultiViewToolWindow. Will fallback to ungrouped tabs"),(0,c.jsx)(l.N,{noBorders:!0,items:y,active:h,selectedKey:f,onSelectionChange:g,children:e=>(0,c.jsx)(a.E,{children:e.props.tabContent},e.key)})),v=y.map(e=>{let{key:t}=e;return t}),w=(0,s.D)(v);(0,r.useEffect)(()=>{if(!v.includes(f)){let e=v[w.indexOf(f)-1]??v[0];void 0!=e&&g(e)}});let x=y.find(e=>void 0==f||f===e.key);return(0,c.jsx)(i.n,{onFocusChange:m,headerContent:"function"==typeof d?d({renderedViewSwitcher:b}):(0,c.jsxs)(c.Fragment,{children:[d,b]}),additionalActions:p.additionalActions,children:x?.props.children})},u=e=>{let{}=e;throw Error("MultiContentToolWindowContent is not meant to be rendered directly. You should only use it in MultiViewToolWindow")};d.View=u,d.__docgenInfo={description:"Implemented on top of DefaultToolWindow, allows for multiple tabbed content within a tool window.\nRemaining features:\n- Although trivial, group tabs action in tool window header gear icon is intentionally left unimplemented for now,\n  until an increment on action system is done.\n- Grouped mode is not implemented currently, as we don't have a dropdown component. Though it seems it's just a\n  MenuTrigger and some trigger with a arrow icon.",methods:[{name:"View",docblock:null,modifiers:["static"],params:[{name:"{}: MultiContentToolWindowContentProps",type:{name:"MultiContentToolWindowContentProps",alias:"MultiContentToolWindowContentProps"}}],returns:null}],displayName:"MultiViewToolWindow",props:{children:{required:!0,tsType:{name:"union",raw:"| React.ReactElement<MultiContentToolWindowContentProps>[]\n| React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"Array",elements:[{name:"ReactReactElement",raw:"React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"MultiContentToolWindowContentProps"}]}],raw:"React.ReactElement<MultiContentToolWindowContentProps>[]"},{name:"ReactReactElement",raw:"React.ReactElement<MultiContentToolWindowContentProps>",elements:[{name:"MultiContentToolWindowContentProps"}]}]},description:"List of contents that will be accessible with a list of grouped or ungrouped tabs in the tool window header."},activeKey:{required:!1,tsType:{name:"Key"},description:"Key of currently active content"},defaultActiveKey:{required:!1,tsType:{name:"Key"},description:""},onActiveKeyChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(key: Key) => void",signature:{arguments:[{name:"key",type:{name:"Key"}}],return:{name:"void"}}},description:""},groupTabs:{required:!1,tsType:{name:"boolean"},description:"If true, it groups tabs in a dropdown instead.\n\n@default false"},headerContent:{required:!1,tsType:{name:"union",raw:"| React.ReactNode\n| ((props: { renderedViewSwitcher: React.ReactNode }) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:'The content shown as the title of the tool window, before content switcher (tabs or dropdown).\nFor more control over header content, you can pass a function which accepts rendered content switcher,\nand then you can compose it with other content as you wish. Use case examples of function variant:\n- You want to render a title before the content switcher, and something after the tabs. Like a "+" button in\n  terminal.\n- You want to conditionally move inner-content header up to the tool window header, if there is only one tab. In\n  that case you don\'t need to render the content switcher at all. An example is the new design in the "Run"\n  tool window.'}},composes:["Pick"]}},61741:function(e,t,n){"use strict";n.d(t,{Dw:function(){return o},G$:function(){return l},JF:function(){return m},JQ:function(){return c},Jy:function(){return a},L$:function(){return i},Od:function(){return y},TD:function(){return s},Xr:function(){return g},aV:function(){return u},jw:function(){return b},lh:function(){return d},tA:function(){return h},xm:function(){return r},xs:function(){return f},yT:function(){return p}});let r="HideAllWindows",o="JumpToLastWindow",i="HideActiveWindow",a="MaximizeToolWindow",s="DockToolWindow",l="ResizeToolWindowRight",c="ResizeToolWindowLeft",d="ResizeToolWindowTop",u="ResizeToolWindowBottom",p="DockPinnedMode",h="DockUnpinnedMode",m="UndockMode",f="FloatMode",g="WindowMode",y="FocusEditor",b="RemoveToolWindowFromSidebar"},27503:function(e,t,n){"use strict";n.d(t,{Bx:function(){return p},C0:function(){return u},FO:function(){return m},Zu:function(){return h},a8:function(){return f},oP:function(){return c}}),n(2784);var r=n(79926),o=n(98454),i=n(39472),a=n(61741),s=n(48813),l=n(52322);let c=[{id:"moveToLeftTop",anchor:"left",isSplit:!1},{id:"moveToLeftBottom",anchor:"left",isSplit:!0},{id:"moveToBottomLeft",anchor:"bottom",isSplit:!1},{id:"moveToBottomRight",anchor:"bottom",isSplit:!0},{id:"moveToRightTop",anchor:"right",isSplit:!0},{id:"moveToRightBottom",anchor:"right",isSplit:!1},{id:"moveToTopRight",anchor:"top",isSplit:!0},{id:"moveToTopLeft",anchor:"top",isSplit:!1}],d=e=>{let{anchor:t,isSplit:n}=e;return`${t[0].toUpperCase()}${t.slice(1)} ${(0,r.m$)(t)?n?"Right":"Left":n?"Bottom":"Top"}`},u={docked_pinned:a.yT,docked_unpinned:a.tA,undock:a.JF,float:a.xs,window:a.Xr},p="TW.ViewModeGroup",h="TW.MoveToGroup",m="ResizeToolWindowGroup";function f(e){let{mainContentTitle:t}=e,{stretchWidth:n,stretchHeight:u,changeViewMode:f,moveToSide:g,focusMainContent:y,hide:b,remove:v,state:w}=(0,o.j)(),x=(0,s.w)(),A=[];if(!w)return x({id:"ActiveToolwindowGroup",title:"Active Tool Window",children:[]});let j=x({id:p,title:"View Mode",children:[{id:a.yT,title:"Dock Pinned",actionPerformed:()=>{f("docked_pinned")}},{id:a.tA,title:"Dock Unpinned",actionPerformed:()=>{f("docked_unpinned")}},{id:a.JF,title:"Undock",actionPerformed:()=>{f("undock")}},{id:a.xs,title:"Float",actionPerformed:()=>{f("float")}},{id:a.Xr,title:"Window",actionPerformed:()=>{f("window")}}]}),T=x({id:h,title:"Move to",children:c.map(e=>({id:`TW.MoveTo.${e.id}`,title:d(e),icon:(0,l.jsx)(i.vq,{icon:`actions/${e.id}`}),isDisabled:w.anchor===e.anchor&&w.isSplit===e.isSplit,actionPerformed:()=>{g(e)}}))});if(A.push({id:a.Od,title:`Focus ${t}`,actionPerformed:()=>{y()}},{id:a.L$,title:"Hide",icon:(0,l.jsx)(i.vq,{icon:"general/hideToolWindow"}),actionPerformed:()=>{b()}},{id:a.Jy,title:"Maximize Tool Window",actionPerformed:()=>{alert("Not implemented")}},{id:a.jw,title:"Remove from Sidebar",actionPerformed:()=>{v()}},j,T),"float"===w.viewMode&&A.push({id:a.TD,title:"Dock",icon:(0,l.jsx)(i.vq,{icon:`actions/${c.find(e=>{let{anchor:t,isSplit:n}=e;return t===w.anchor&&n===w.isSplit})?.id}`}),actionPerformed:()=>{f("docked_pinned")}}),"float"!==w.viewMode&&"window"!==w.viewMode){let e=x({id:m,title:"Resize",children:[]});(0,r.m$)(w.anchor)?(e.children.push({id:a.aV,title:"Stretch to bottom",actionPerformed:()=>{u("bottom"===w.anchor?-80:80)}}),e.children.push({id:a.lh,title:"Stretch to top",actionPerformed:()=>{u("top"===w.anchor?-80:80)}})):(e.children.push({id:a.JQ,title:"Stretch to left",actionPerformed:()=>{n("left"===w.anchor?-65:65)}}),e.children.push({id:a.G$,title:"Stretch to right",actionPerformed:()=>{n("right"===w.anchor?-65:65)}})),A.push(e)}return x({id:"ActiveToolwindowGroup",title:"Active Tool Window",children:A})}},16491:function(e,t,n){"use strict";n.d(t,{N:function(){return a},Z:function(){return i}});var r=n(45630),o=n(61741);let i=e=>`Activate${e.replace(" ","")}Window`;function a(e){let{toolWindowsState:t,toolWindowsRef:n,getPresentation:a}=e,l=e=>Object.values(e.windows).some(e=>{let{isVisible:t,viewMode:n}=e;return t&&"float"!==(0,r.Qy)(n)});return[...Object.keys(t.windows).map(e=>`${e}`).map((e,r)=>{let{title:o,icon:l}=a?.(e)||{};return{id:i(e),title:o||`${s(r)} window`,icon:l,description:`Activate ${o||s(r)} window`,actionPerformed:()=>{t.windows[e]?.isVisible&&!n.current?.hasFocus(e)?n.current?.focus(e):n.current?.changeState(t=>t.toggle(e))}}}),{id:o.xm,title:l(t)?"Hide All Windows":"Restore windows",actionPerformed:()=>{n.current?.changeState(e=>l(e)?e.hideAll():e.restoreWindows()),setTimeout(()=>{n.current?.focusMainContent()})}},{id:o.Dw,title:"Jump to Last Tool Window",isDisabled:null==t.lastFocusedKey,actionPerformed:()=>{n.current?.focusLastActiveWindow()}}]}function s(e){let t=["st","nd","rd"],n=void 0==t[e%10-1]||[11,12,13].includes(e%100)?"th":t[e%10-1];return e+n}},15397:function(e,t,n){"use strict";n.d(t,{J:function(){return j},o:function(){return x}});var r=n(2784),o=n(63631),i=n(83212),a=n(8728),s=n(39472),l=n(72705),c=n(26208),d=n(1554),u=n(90406),p=n(52322);let h=e=>{let{border:t}=e;return t&&(0,o.iv)`
    border-style: solid;
    border-color: ${e=>{let{theme:t}=e;return t.commonColors.borderColor}};
    border-width: ${!0===t?"1px":f[t]};
  `},m=o.zo.div`
  display: inline-flex;
  box-sizing: border-box;
  overflow: hidden;
  // NOTE: in the original implementation, there is no empty space between buttons, but buttons have kind of an
  // invisible left padding, which is mouse-intractable, but doesn't visually seem a part of the button.
  // Although implementable, it didn't seem necessary to follow the exact same thing. Margin should be fine.
  gap: 4px;
  ${h}
  ${i.mc}:first-child {
    display: none;
  }
  ${i.mc}:last-child {
    display: none;
  }
`,f={top:"1px 0 0 0",bottom:"0 0 1px 0",right:"0 1px 0 0",left:"0 0 0 1px",horizontal:"0 1px",vertical:"1px 0"},g=o.zo.button`
  all: unset;
  display: flex;
  justify-content: center;
  align-items: center;
  ${h};
`,y=(0,o.zo)(m)`
  padding: ${3}px ${4}px;
  max-width: 100%;
  /*noinspection CssInvalidPropertyValue*/
  max-width: -webkit-fill-available;
  ${i.ve} {
    margin: 1px 0;
  }
  ${g} {
    margin-right: -${4}px;
  }
`,b=(0,o.zo)(m)`
  flex-direction: column;
  max-height: 100%;
  /*noinspection CssInvalidPropertyValue*/
  max-height: -webkit-fill-available;
  padding: ${4}px ${3}px;
  ${i.lX} {
    margin: 0 1px;
  }
  ${g} {
    margin-bottom: -${4}px;
  }
`,v=o.zo.div`
  box-sizing: inherit;
  display: inherit;
  flex-direction: inherit;
  flex-wrap: ${e=>{let{shouldWrap:t}=e;return t?"wrap":"nowrap"}};
  gap: inherit;
  max-height: inherit;
  max-width: inherit;
  min-height: 0;
  min-width: 0;

  ${e=>{let{firstOverflowedIndex:t}=e;return(0,o.iv)`
      > ${0===t?"*":`:nth-child(${t}) ~ *`} {
        opacity: 0 !important;
        pointer-events: none !important;
      }
    `}}
`,w=r.createContext("horizontal"),x=e=>{let{border:t,orientation:n="horizontal",...o}=e,i="horizontal"===n&&"overflowBehavior"in o?o.overflowBehavior:null,h={style:o.style,className:o.className},m=(0,r.useRef)(null),f=(0,r.useRef)(null),x=(0,r.useRef)(null),j="horizontal"===n?y:b,{overflowedElements:T}=(0,a.o)(m,{threshold:.8}),[C,S]=(0,r.useState)(!1),[k,R]=(0,r.useState)(30),[E,I]=(0,r.useState)(-1),P=(0,r.useRef)();(0,r.useLayoutEffect)(()=>{if(m.current){let e=[...m.current.children].filter(e=>e instanceof HTMLElement),t=e.findIndex(e=>T.includes(e));I(t),P.current=e[t]}},[T]),(0,r.useLayoutEffect)(()=>{f.current&&k!==f.current.offsetHeight&&R(f.current.offsetHeight)});let{overlayProps:N}=(0,l.t)({isOpen:C,placement:"bottom left",offset:"horizontal"===n?-k+3+1:-k+1,crossOffset:"horizontal"===n?-5:-4,containerPadding:0,shouldFlip:!1,targetRef:"horizontal"===n?m:x,overlayRef:f,onClose:()=>{S(!1)}});return(0,p.jsxs)(w.Provider,{value:n,children:[(0,p.jsxs)(j,{border:t,...(0,d.d)(h,{onMouseMove:e=>{let t=P.current;if(!t)return;let r="vertical"===n?e.clientY>t.getBoundingClientRect().top:e.clientX>t.getBoundingClientRect().left;r!==C&&S(r)},onMouseLeave:()=>{C&&S(!1)}}),role:"toolbar",children:[(0,p.jsx)(v,{ref:m,role:"presentation",firstOverflowedIndex:E,shouldWrap:"wrap"===i,children:o.children}),T.length>0&&(0,p.jsx)(g,{ref:x,tabIndex:-1,onMouseEnter:()=>{S(!0)},children:(0,p.jsx)(s.vq,{icon:"ide/link"})})]}),C&&T.length>0&&(0,p.jsx)(w.Provider,{value:"horizontal",children:(0,p.jsx)(c.aV,{children:(0,p.jsx)(u.e,{ref:f,...(0,d.d)(N,{onMouseEnter:()=>S(!0),onMouseLeave:e=>{e.relatedTarget!==m.current&&S(!1)}}),children:(0,p.jsx)(A,{border:!0,firstVisibleIndex:"vertical"===n?E:void 0,children:o.children})})})})]})},A=(0,o.zo)(y)`
  ${e=>{let{firstVisibleIndex:t}=e;return t&&(0,o.iv)`
      ${i.mc}:nth-child(${t+1}) {
        display: none;
      }
      > :not(:nth-child(${t}) ~ *) {
        display: none;
      }
    `}};
`,j=()=>"horizontal"===(0,r.useContext)(w)?(0,p.jsx)(i.ve,{}):(0,p.jsx)(i.lX,{});x.__docgenInfo={description:'@description\nA toolbar is a container for {@link IconButton} and similar UI components.\n\n## Features:\n- A toolbar can be horizontal or vertical\n- When there is not enough space for all children, toolbar shows an arrow icon, which shows the overflowing\n  items in a popup, upon mouseover.\n  Optionally, overflow can be wrapped into multiple lines, in horizontal toolbars.\n\n@example\n<Toolbar>\n  <IconButton aria-label="Show Diff">\n    <PlatformIcon icon="actions/diff" />\n  </IconButton>\n  </Toolbar>',methods:[],displayName:"Toolbar",props:{orientation:{defaultValue:{value:'"horizontal"',computed:!1},required:!1}}},j.__docgenInfo={description:"Separator to be used between items in a toolbar.",methods:[],displayName:"ToolbarSeparator"}},78965:function(e,t,n){"use strict";n.d(t,{h:function(){return i}}),n(2784);var r=n(7228),o=n(52322);let i=e=>{let{actionName:t,helpText:n,shortcut:i,link:a,...s}=e;return(0,o.jsxs)(r.u,{multiline:!0,...s,children:[(0,o.jsxs)(r.u.Header,{children:[t,i&&(0,o.jsx)(r.u.Shortcut,{children:i})]}),(0,o.jsx)(r.u.Description,{children:n}),a&&(0,o.jsx)(r.u.Link,{children:a})]})};i.__docgenInfo={description:'Tooltip of type "Action Help"\n@see {@link ActionTooltip} {@link HelpTooltip}\n@see https://jetbrains.github.io/ui/controls/tooltip/#02',methods:[],displayName:"ActionHelpTooltip",props:{actionName:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},helpText:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},shortcut:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},link:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]}},90046:function(e,t,n){"use strict";n.d(t,{M:function(){return i}}),n(2784);var r=n(7228),o=n(52322);let i=e=>{let{actionName:t,shortcut:n,...i}=e;return(0,o.jsx)(r.u,{...i,children:(0,o.jsxs)(r.u.Header,{children:[t,n&&(0,o.jsx)(r.u.Shortcut,{children:n})]})})};i.__docgenInfo={description:'Tooltip of type "Action"\n@see {@link ActionHelpTooltip} {@link HelpTooltip}\n@see https://jetbrains.github.io/ui/controls/tooltip/#02',methods:[],displayName:"ActionTooltip",props:{actionName:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},shortcut:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]}},39:function(e,t,n){"use strict";n.d(t,{k:function(){return i}}),n(2784);var r=n(7228),o=n(52322);let i=e=>{let{helpText:t,shortcut:n,link:i,...a}=e;return(0,o.jsxs)(r.u,{multiline:!0,...a,children:[(0,o.jsx)(r.u.Header,{children:t}),n&&(0,o.jsx)("div",{children:(0,o.jsx)(r.u.Shortcut,{children:n})}),i&&(0,o.jsx)(r.u.Link,{children:i})]})};i.__docgenInfo={description:'Tooltip of type "Help"\n@see {@link ActionTooltip} {@link ActionHelpTooltip}\n@see https://jetbrains.github.io/ui/controls/tooltip/#02',methods:[],displayName:"HelpTooltip",props:{helpText:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},shortcut:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},link:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]}},76344:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(2784),o=n(68512),i=n(72705),a=n(45622),s=n(48233),l=n(52322);let c=e=>{let{tooltip:t,children:n,delay:c=500,offset:d=8,showOnFocus:u,triggerRef:p,...h}=e,m=(0,o.O)({...h,delay:c}),f=(0,r.useRef)(null),g=(0,s.B)(p),y=p||g,b=(0,i.t)({...h,overlayRef:f,targetRef:y,offset:d,isOpen:m.isOpen,onClose:m.close});return(0,r.useEffect)(()=>{m.isOpen&&requestAnimationFrame(b.updatePosition)},[m.isOpen]),(0,l.jsx)(a.t,{tooltip:t,positionAria:b,trigger:n,state:m,overlayRef:f,triggerRef:y,showOnFocus:u,isDisabled:h.isDisabled})};c.__docgenInfo={description:"Sets {@param tooltip} for its {@param children}. Tooltip will be positioned based relative to the trigger.\nThe default tooltip positioning is based on cursor, which is implemented by {@link TooltipTrigger}",methods:[],displayName:"PositionedTooltipTrigger",props:{delay:{defaultValue:{value:"500",computed:!1},required:!1},offset:{defaultValue:{value:"8",computed:!1},required:!1},tooltip:{required:!0,tsType:{name:"ReactElement"},description:"Tooltip content. The value should be an element of type {@link Tooltip}."},children:{required:!0,tsType:{name:"union",raw:"| React.ReactNode\n| ((\n    props: HTMLAttributes<HTMLElement> & { ref: RefObject<T> }\n  ) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"Either a focusable component, or a render function which accepts trigger props and passes it to some component."},showOnFocus:{required:!1,tsType:{name:"boolean"},description:"Whether to show the tooltip on trigger's focus. By default, tooltip is shown only when the trigger\nis hovered, but it can improve accessibility to show the tooltip on focus as well."},triggerRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"T"}],raw:"RefObject<T>"},description:"Ref to trigger.\nIf not provided, a ref will be created internally.\nUseful for when a ref to the trigger is necessary where PositionedTooltipTrigger\nis used."}},composes:["Omit","Pick"]}},7228:function(e,t,n){"use strict";n.d(t,{u:()=>E});var r=n("2784"),o=n("99586"),i=n("48233"),a=n("63631"),s=n("75486"),l=n("26526"),c=n("77284"),d=n("6468");let u=e=>{let{theme:t}=e;return t.color("ToolTip.background",t.dark?"#3c3f41":"#f2f2f2")};var p=n("52322");let h="translate(-6px, -9px)",m={top:(0,a.iv)`
    top: 0;
    transform: ${h};
  `,bottom:(0,a.iv)`
    bottom: 0;
    transform: rotateX(180deg) ${h};
  `,left:(0,a.iv)`
    left: 0;
    transform: rotate(-90deg) ${h};
  `,right:(0,a.iv)`
    right: 0;
    transform: rotate(90deg) ${h};
  `},f=a.zo.span`
  position: absolute;
  width: 0;
  height: 0;
  ${e=>{let{side:t}=e;return m[t]}};

  &::before {
    content: "";
    position: absolute;
    border-left: ${7.5}px solid transparent;
    border-right: ${7.5}px solid transparent;
    border-bottom: ${10.5}px solid #636569;
    left: -${1.5}px;
    top: -${1.5}px;
  }

  &::after {
    content: "";
    position: absolute;
    border-left: ${6}px solid transparent;
    border-right: ${6}px solid transparent;
    border-bottom: ${9}px solid ${u};
  }
`;function g(e){return"number"==typeof e?`${e}px`:e}let y=e=>t=>void 0!=t?`max(${e}px, ${g(t)})`:t,b=e=>t=>void 0!=t?`min(${e}px, ${g(t)})`:t,v=(e,t)=>"top"===e||"bottom"===e?t?"right":"left":t?"bottom":"top";function w(e){let{side:t,offset:n,tooltipSize:r}=e;return(0,p.jsx)(f,{side:t,style:function(e,t){let{width:n,height:r}=e,{top:o,left:i,right:a,bottom:s}=t,l=(0,c.Z)(r?b(r-13):d.Z,y(13)),u=(0,c.Z)(n?b(n-10):d.Z,y(10));return{top:l(o),bottom:l(s),left:u(i),right:u(a)}}(r,"specific"===n.type?function(e){let{side:t,offset:n="50%"}=e,{invert:r=!1,value:o}="object"==typeof n?n:{invert:!1,value:n};return{[v(t,r)]:o}}({side:t,offset:n.value}):n.value)})}w.__docgenInfo={description:"",methods:[],displayName:"TooltipPointer",props:{side:{required:!0,tsType:{name:"union",raw:'TooltipPointerPosition["side"]'},description:""},offset:{required:!0,tsType:{name:"union",raw:'| { type: "calculated"; value: CSSProperties }\n| { type: "specific"; value: TooltipPointerPosition["offset"] }',elements:[{name:"signature",type:"object",raw:'{ type: "calculated"; value: CSSProperties }',signature:{properties:[{key:"type",value:{name:"literal",value:'"calculated"',required:!0}},{key:"value",value:{name:"CSSProperties",required:!0}}]}},{name:"signature",type:"object",raw:'{ type: "specific"; value: TooltipPointerPosition["offset"] }',signature:{properties:[{key:"type",value:{name:"literal",value:'"specific"',required:!0}},{key:"value",value:{name:"union",raw:'TooltipPointerPosition["offset"]',required:!0}}]}}]},description:""},tooltipSize:{required:!0,tsType:{name:"signature",type:"object",raw:"{ width: number; height: number }",signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}}]}},description:""}}};let x=a.zo.div`
  box-sizing: content-box;
  max-width: ${e=>{let{theme:t,multiline:n}=e;return n?`${t.value("HelpTooltip.maxWidth")??250}px`:null}};
  white-space: ${e=>{let{multiline:t}=e;return t?null:"nowrap"}};
  display: inline-flex;
  flex-direction: column;
  gap: ${e=>{let{theme:t}=e;return t.value("HelpToolTip.verticalGap")??4}}px;
  background: ${u};
  color: ${e=>{let{theme:t}=e;return t.color("ToolTip.foreground",t.dark?"#bfbfbf":"#000")}};
  padding: ${e=>{let{theme:t,multiline:n}=e;return n?t.inset("HelpTooltip.defaultTextBorderInsets")||"0.5rem 0.8125rem 0.625rem 0.625rem":t.inset("HelpTooltip.smallTextBorderInsets")||"0.375rem 0.75rem 0.4375rem 0.625rem"}};
  line-height: 1.2;
  border-style: solid;
  border-width: ${e=>{let{theme:t,hasPointer:n}=e;return t.value("ToolTip.paintBorder")||n?"1px":"0px"}};
  border-color: ${e=>{let{theme:t}=e;return t.color("ToolTip.borderColor",t.dark?"#636569":"#adadad")}};
  ${s.s};
  ${e=>{let{hasPointer:t}=e;return t&&(0,a.iv)`
      position: relative; // needed for absolute positioning of the pointer
      border-radius: ${4}px;
    `}}
`,A=a.zo.kbd`
  all: unset;
  color: ${e=>{let{theme:t}=e;return t.color("ToolTip.shortcutForeground",t.dark?"#999999":"#787878")}};
`,j=a.zo.div`
  font-size: ${e=>{let{theme:t}=e;return t.fontSizeDelta("HelpTooltip.fontSizeDelta")}};
  display: flex;
  gap: 0.5rem;
`,T=a.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("Tooltip.infoForeground",t.commonColors.contextHelpForeground)}};
  font-size: ${e=>{let{theme:t}=e;return t.fontSizeDelta("HelpTooltip.descriptionSizeDelta")}};
`,C=a.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("ToolTip.linkForeground",t.commonColors.linkForegroundEnabled)}};
  a,
  [role="link"] {
    // Maybe target Link instead, without important. It didn't work as expected, in the first try tho.
    color: inherit !important;
  }
`,S={bottom:"top",top:"bottom",left:"right",right:"left",center:"top"},k=r.forwardRef(function(e,t){let{children:n,multiline:a,withPointer:s,...c}=e,d=(0,i.B)(t),{state:u,isInteractive:h,pointerPositionStyle:m,placement:f="bottom"}=(0,r.useContext)(l.d)||{},{tooltipProps:g}=(0,o.l)(c,u?{...u,open:h?u?.open:()=>{}}:u),y=R(d),{side:b,offset:v}="object"==typeof s?s:{side:S[f],offset:void 0};return(0,p.jsxs)(x,{hasPointer:!!s,multiline:a,...g,className:c.className,ref:d,children:[s&&y&&(0,p.jsx)(w,{tooltipSize:y,side:b,offset:v||!m?{type:"specific",value:v}:{type:"calculated",value:m}}),n]})}),R=e=>{let[t,n]=(0,r.useState)(void 0);return(0,r.useLayoutEffect)(()=>{if(!e.current)return;let{offsetHeight:r,offsetWidth:o}=e.current;(r!=t?.height||o!=t?.width)&&n({height:r,width:o})}),t},E=Object.assign(k,{Header:j,Shortcut:A,Description:T,Link:C});k.__docgenInfo={description:"Implements the UI of a Tooltip. For tooltip to be shown for a trigger, on hover, use {@link TooltipTrigger}.\nThe following components can be used to compose the content of a tooltip.\n- {@link Tooltip.Header}\n- {@link Tooltip.Description}\n- {@link Tooltip.Link}\n- {@link Tooltip.Shortcut}\nPrefer using higher-level components like {@link HelpTooltip}, {@link ActionHelpTooltip} or {@link ActionTooltip}.\nthat ensure different pieces of tooltip content follow the\n[design system recommendation](https://jetbrains.github.io/ui/controls/tooltip)\n\n\n### Reference:\nTooltip, Tooltip.* and TooltipTrigger are corresponding to [HelpTooltip](https://github.com/JetBrains/intellij-community/blob/854daf45b47a6ea9da0348978608bfbfe998d99c/platform/platform-api/src/com/intellij/ide/HelpTooltip.java#L102)\nin the original impl.",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},multiline:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""},withPointer:{required:!1,tsType:{name:"union",raw:"boolean | TooltipPointerPosition",elements:[{name:"boolean"},{name:"TooltipPointerPosition"}]},description:"Whether (and in what position) the arrow pointer should be shown.\nWhen using {@link TooltipTrigger} or {@link PositionedTooltipTrigger}, the position of the pointer is calculated\nbased on the target element, and a boolean value to define whether the arrow should be shown or not would suffice.\n\nTooltips with pointer have slight style difference.\n{@see https://www.figma.com/file/nfDfMAdV7j2fnQlpYNAOfP/IntelliJ-Platform-UI-Kit-(Community)?type=design&node-id=15-51&mode=design&t=7PplrxG8ZfXB4hIK-0}\n\n@example\n<Tooltip withPointer />\n// shows the pointer in the position controlled by {@link TooltipTrigger} or {@link PositionedTooltipTrigger}\n// If there is not `TooltipTrigger` or `PositionedTooltipTrigger`, the arrow is shown on top center by default.\n\n@example\n<Tooltip withPointer={{side: 'top', offset: 30}} />\n// shows the pointer on the top side, with horizontal offset of 30px from the left of tooltip, regardless\n// of whether `TooltipTrigger` or `PositionedTooltipTrigger` is used.\n\n@example\n<Tooltip withPointer={{side: 'left', offset: -30}} />\n// shows the pointer on the left side, with vertidcal offset of 30px from the bottom of the tooltip, regardless\n// of whether `TooltipTrigger` or `PositionedTooltipTrigger` is used."}},composes:["Omit"]}},26526:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});let r=n(2784).createContext(null)},17560:function(e,t,n){"use strict";let r;n.d(t,{a:()=>p});var o=n("2784"),i=n("68512"),a=n("24457"),s=n("72705");let l=null;var c=n("63631"),d=n("45622"),u=n("52322");let p=e=>{let{tooltip:t,children:n,delay:p=500,offset:h,placement:m="bottom left",...f}=e,g=(0,o.useRef)(null),y=(0,c.Fg)(),b=(0,i.O)({...f,delay:p}),v=(0,o.useRef)(null),w=function(e){let t=(0,o.useRef)(null);(0,a.b)(()=>{if(l||(l=e=>{let{clientX:t,clientY:n}=e;r={clientX:t,clientY:n}},document.addEventListener("mousemove",l)),!t.current){let e=document.createElement("span");return Object.assign(e.style,{width:"0px",height:"0px",pointerEvents:"none",position:"fixed",visibility:"hidden"}),document.body.appendChild(e),t.current=e,()=>{e.remove()}}},[]);let n=n=>{let o=n||r;if(t.current&&o){let{clientX:n,clientY:r}=o;t.current.style.left=`${n+(e.crossOffset??0)}px`,t.current.style.top=`${r}px`}i()};(0,a.b)(()=>{e.isOpen&&n()},[e.isOpen,t.current]);let{updatePosition:i,...c}=(0,s.t)({...e,targetRef:t});return{...c,updatePosition:n}}({overlayRef:v,isOpen:b.isOpen,placement:m,shouldFlip:!0,offset:h??y.value("HelpTooltip.mouseCursorOffset")??20});return(0,o.useEffect)(()=>{b.isOpen&&requestAnimationFrame(()=>{w.updatePosition()})},[b.isOpen]),(0,u.jsx)(d.t,{tooltip:t,positionAria:w,trigger:n,state:b,overlayRef:v,triggerRef:g,showOnFocus:!1,isDisabled:f.isDisabled})};p.__docgenInfo={description:"Sets {@param tooltip} for its {@param children}.\nShowing tooltip on focus and controlled open state are not supported at the moment, based on how tooltip works in the\nreference impl, and since tooltip is positioned based on cursor position. Positioning the tooltip based on cursor\nposition requires tooltip to be opened on hover. That's why neither controlling opened state nor showing the tooltip\non focus are supported here. {@link PositionedTooltipTrigger} allows for positioning the tooltip with respect to the\ntrigger element, and offers more options.",methods:[],displayName:"TooltipTrigger",props:{delay:{defaultValue:{value:"500",computed:!1},required:!1},placement:{defaultValue:{value:'"bottom left"',computed:!1},required:!1,tsType:{name:'AriaPositionProps["placement"]',raw:'AriaPositionProps["placement"]'},description:'Placement of the tooltip with respect to the cursor\n@default "bottom left"'},tooltip:{required:!0,tsType:{name:"ReactElement"},description:"Tooltip content. The value should be an element of type {@link Tooltip}."},offset:{required:!1,tsType:{name:"number"},description:'The additional offset applied along the main axis between the element and its\nanchor element.\n@default theme.value<number>("HelpTooltip.mouseCursorOffset") ?? 20'},children:{required:!0,tsType:{name:"union",raw:"| React.ReactNode\n| ((\n    props: HTMLAttributes<HTMLElement> & { ref: RefObject<HTMLElement> }\n  ) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"Either a focusable component, or a render function which accepts trigger props and passes it to some component."}},composes:["Omit"]}},45622:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(2784),o=n(91177),i=n(91346),a=n(26208),s=n(24457),l=n(1554),c=n(26526),d=n(52322);let u=e=>{var t,n;let{tooltip:o,trigger:u,state:h,overlayRef:m,triggerRef:f,showOnFocus:g,positionAria:y,...b}=e,[v,w]=(0,r.useState)(!1),{triggerProps:x,tooltipProps:A}=p(b,{...h,close:v?h.close:()=>h.close(!0)},f);return g||delete x.onFocus,(0,s.b)(()=>{w(m.current?.querySelector('a, button, [role="button"], [role=link]')!==null)}),(0,d.jsxs)(d.Fragment,{children:[(t=u,n={...x,ref:f},"function"==typeof t?t(n):r.isValidElement(t)&&"string"==typeof t.type?r.cloneElement(t,n):(0,d.jsx)(i.t,{...n,children:t})),h.isOpen&&!b.isDisabled&&(0,d.jsx)(a.aV,{children:(0,d.jsx)(c.d.Provider,{value:{state:h,isInteractive:v,placement:y.placement??void 0,pointerPositionStyle:y.arrowProps.style},children:(0,d.jsx)("div",{...(0,l.d)(y.overlayProps,A),ref:m,children:o})})})]})},p=(e,t,n)=>{let{triggerProps:r,tooltipProps:i}=(0,o.Q)(e,t,n);return r.onPointerDown=()=>{n.current instanceof HTMLInputElement||t.close(!0)},delete r.onMouseDown,{triggerProps:r,tooltipProps:i}};u.__docgenInfo={description:"Sets {@param tooltip} for its {@param children}. It doesn't handle tooltip positioning, and so shouldn't be used\ndirectly. {@param tooltipOverlayProps} should be used to apply the intended positioning.\n\nTODO: Implement timeout-based auto-hide (https://jetbrains.github.io/ui/controls/tooltip/#19)\nTODO: shadow",methods:[],displayName:"TooltipTriggerAndOverlay",props:{tooltip:{required:!0,tsType:{name:"ReactElement"},description:"Tooltip content. The value should be an element of type {@link Tooltip}."},trigger:{required:!0,tsType:{name:"union",raw:"| React.ReactNode\n| ((\n    props: HTMLAttributes<HTMLElement> & { ref: RefObject<T> }\n  ) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:"Either a focusable component, or a render function which accepts trigger props and passes it to some component."},state:{required:!0,tsType:{name:"TooltipTriggerState"},description:""},showOnFocus:{required:!1,tsType:{name:"boolean"},description:""},positionAria:{required:!0,tsType:{name:"PositionAria"},description:""},overlayRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""},triggerRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"T"}],raw:"RefObject<T>"},description:""},isDisabled:{required:!1,tsType:{name:"boolean"},description:""}}}},65465:function(e,t,n){"use strict";n.d(t,{p:function(){return l}}),n(2784);var r=n(7228),o=n(63631),i=n(52322);let a=(0,o.zo)(r.u)`
  box-shadow: none;
  padding: 0.25rem 0.5rem; // from ComponentValidator class in the reference impl
  max-width: ${e=>{let{theme:t}=e;return`${t.value("ValidationTooltip.maxWidth")}px`}};
  background: ${e=>{let{theme:t}=e;return t.color("ValidationTooltip.errorBackground")}};
  border: 1px solid
    ${e=>{let{theme:t}=e;return t.color("ValidationTooltip.errorBorderColor")}};
`,s=(0,o.zo)(a)`
  background: ${e=>{let{theme:t}=e;return t.color("ValidationTooltip.warningBackground")}};
  border-color: ${e=>{let{theme:t}=e;return t.color("ValidationTooltip.warningBorderColor")}};
`,l=e=>{let{type:t="error",children:n}=e,r="error"===t?a:s;return(0,i.jsx)(r,{multiline:!0,children:n})};l.__docgenInfo={description:"Tooltip to be used for validation error messages\n@see https://jetbrains.github.io/ui/principles/validation_errors/",methods:[],displayName:"ValidationTooltip",props:{type:{defaultValue:{value:'"error"',computed:!1},required:!1,tsType:{name:"union",raw:'"error" | "warning"',elements:[{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:"@default error"},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},76164:function(e,t,n){"use strict";n.d(t,{b:()=>v});var r=n("2784"),o=n("53974"),i=n("63393"),a=n("55795"),s=n("57881"),l=n("92485"),c=n("61335"),d=n("76231"),u=n("9904"),p=n("66657"),h=n("38626"),m=n("52322");let f=e=>{let{item:t}=e;return(0,m.jsx)(h.w,{itemKey:t.key,children:(0,m.jsx)(p.O,{item:t},t.key)})};f.__docgenInfo={description:"",methods:[],displayName:"SpeedSearchTreeNode",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""}}};var g=n("48233"),y=n("56925"),b=n("48948");let v=r.forwardRef((e,t)=>{let{fillAvailableSpace:n=!1,treeRef:r,hideSpeedSearchPopup:p,style:h,className:v,...w}=e,x=(0,l.D)({...w,disallowEmptySelection:!w.allowEmptySelection}),A=(0,g.B)(t);(0,b.r)({state:x,scrollRef:A},r);let{treeProps:j,treeContext:T,speedSearchContextValue:C,searchPopupProps:S}=(0,u.J)({...w,isVirtualized:!0},x,A),{virtualizerProps:k}=(0,c.T)({state:x});return(0,m.jsx)(d.k.Provider,{value:T,children:(0,m.jsxs)(i.M.Provider,{value:C,children:[!p&&(0,m.jsx)(s.e,{...S}),(0,m.jsx)(a.q,{as:o.d,ref:A,fillAvailableSpace:n,...k,...j,...(0,y.z)(w,{labelable:!0}),style:h,className:v,children:(e,t)=>(0,m.jsx)(f,{item:t},t.key)})]})})});v.__docgenInfo={description:"",methods:[],displayName:"SpeedSearchTree",props:{fillAvailableSpace:{defaultValue:{value:"false",computed:!1},required:!1},hideSpeedSearchPopup:{required:!1,tsType:{name:"boolean"},description:"Whether speed search popup should not be shown. Useful when speed search state is controlled, and\na search input is rendered outside the tree."}}}},9904:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(96807),o=n(1554),i=n(32858),a=n(42034),s=n(12503),l=n(27011);function c(e,t,n){let{containerProps:c,keyboardDelegate:d,selectionManager:u,speedSearch:p,...h}=(0,i.q)({...e,collection:t.collection,selectionManager:t.selectionManager,keyboardDelegate:new a.P(t.collection,t.disabledKeys,n),ref:n}),{keyboardProps:m}=(0,r.v)({onKeyDown:e=>{["Enter","ArrowLeft","ArrowRight"].includes(e.key)&&!(0,l.a)(e)?p.clear():e.continuePropagation()}}),{treeProps:f,...g}=(0,s.O)({...e,keyboardDelegate:d},{...t,selectionManager:u},n);return{treeProps:(0,o.d)(f,c,m),...h,...g}}},55795:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(63631),o=n(34069);let i=(0,r.zo)(o.C).attrs({role:"tree"})`
  background: ${e=>{let{theme:t}=e;return t.color("Tree.background")}};
`},76231:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});let r=n(2784).createContext(null)},42034:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(82574);class o extends r.d{constructor(e,t,n,r){super({collection:e,disabledKeys:t,ref:n,collator:r,layout:"grid"}),this.collection=e}getKeyLeftOf(e){let t=this.collection.getItem(e);return t?.parentKey??this.getKeyAbove(e)}getKeyRightOf(e){return this.getKeyBelow(e)}}},66657:function(e,t,n){"use strict";n.d(t,{O:()=>y});var r=n("45347"),o=n("2784"),i=n("12550"),a=n("49844"),s=n("63631"),l=n("52322");let c=(0,s.zo)(a.J)`
  margin-left: -20px;
  margin-right: 4px;
  margin-top: -1px; // the svg path seems to have uneven vertical padding. This is to compensate for that.
  flex-shrink: 0;
  align-self: center;
`,d=(e,t)=>{let n={Selected:e};return t?{themePath:e?"Tree.expandedSelectedIcon":"Tree.expandedIcon",iconPath:{name:"treeExpanded",modifiers:n}}:t?void 0:{themePath:e?"Tree.collapsedSelectedIcon":"Tree.collapsedIcon",iconPath:{name:"treeCollapsed",modifiers:n}}};function u(e){let{selected:t,expanded:n,...r}=e,i=(0,o.useMemo)(()=>d(t,n),[t,n]);return(0,l.jsx)(c,{icon:i?.iconPath,themePath:i?.themePath,size:16,...r})}u.__docgenInfo={description:"",methods:[],displayName:"TreeNodeIcon",props:{selected:{required:!0,tsType:{name:"boolean"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""}}};var p=n("53928"),h=n("1554"),m=n("76231"),f=n("84244");let g=(0,s.zo)(f.o).attrs({role:"treeitem"})`
  // There are some theme properties for tree node padding (theme.ui.Tree.leftChildIndent and
  // theme.ui.Tree.leftChildIndent), but they doesn't seem to be applicable.
  padding-left: ${e=>{let{level:t}=e;return`${(t+1)*16+8}px`}};
  padding-right: 0.25rem;
  ${e=>{let t,{containerFocused:n,selected:r,disabled:o,theme:i}=e,a=o?i.color("*.disabledForeground"):i.color("Tree.foreground",i.commonColors.labelForeground);return r&&(n?(a=i.asCurrentForeground(i.color("Tree.selectionForeground")||i.commonColors.labelSelectedForeground),t=i.color("Tree.selectionBackground")):(a=i.color("Tree.selectionInactiveForeground",a),t=i.color("Tree.selectionBackgroundInactive"))),{backgroundColor:t,color:a}}}
`;function y(e){let{item:t}=e,n=(0,o.useRef)(null),{state:{collection:a,selectionManager:s,expandedKeys:c,disabledKeys:d,toggleKey:f},focused:y,onActionRef:{current:b}}=(0,o.useContext)(m.k),v=s.isSelected(t.key),w=c.has(t.key),x=d.has(t.key),{pressProps:A}=(0,r.r)({...function(e){let{collection:t,toggleKey:n,selectionManager:r,key:o}=e;return{treeNodeToggleButtonProps:{preventFocusOnPress:!0,onPress:()=>{n(o);let e=[...r.selectedKeys].filter(e=>{let n=t.getItem(e)?.parentKey;for(;n;){if(n===e)return!0;n=t.getItem(n)?.parentKey}return!1});e.forEach(e=>r.toggleSelection(e)),!r.isSelected(o)&&e.length>0&&r.toggleSelection(o)}}}}({key:t.key,collection:a,selectionManager:s,toggleKey:f}).treeNodeToggleButtonProps,isDisabled:x}),{treeNodeProps:j}=function(e){let{item:t,ref:n,selectionManager:o,disabled:i,toggleKey:a,onAction:s}=e,{pressProps:{onKeyDown:l,...c}}=(0,r.r)({...(0,p.C)({key:t.key,ref:n,selectionManager:o,isVirtualized:!1}).itemProps,isDisabled:i,preventFocusOnPress:!1});return{treeNodeProps:(0,h.d)(c,{onDoubleClick:()=>{[...t.childNodes].length>0?a(t.key):s?.(t.key)}},{role:"treeitem"})}}({item:t,ref:n,toggleKey:f,onAction:b,selectionManager:s,disabled:x});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(g,{ref:n,...j,containerFocused:y,disabled:x,selected:v,"aria-disabled":x,"aria-selected":v,level:t.level,children:[[...t.childNodes].length>0&&(0,l.jsx)(u,{selected:v,expanded:w,...A}),(0,l.jsx)(i.k.Provider,{value:{isDisabled:x,isSelected:v,isContainerFocused:y,node:t},children:t.rendered})]})})}y.__docgenInfo={description:"",methods:[],displayName:"TreeNode",props:{item:{required:!0,tsType:{name:"Node",elements:[{name:"T"}],raw:"Node<T>"},description:""},showAsFocused:{required:!1,tsType:{name:"boolean"},description:""}}}},12503:function(e,t,n){"use strict";n.d(t,{O:function(){return g}});var r=n(2784),o=n(14129),i=n(96807),a=n(56925),s=n(1554),l=n(72940),c=n(21954),d=n(42034),u=n(27195),p=n(28266),h=n(27011),m=n(56202),f=n(89017);function g(e,t,n){let{onAction:m,onFocus:g,onBlur:b,autoFocus:v,showAsFocused:w,focusProxyRef:x,...A}=e,j=(0,a.z)(A),T=(0,l.X)({usage:"search",sensitivity:"base"}),[C,S]=(0,r.useState)(!1),{collectionProps:{onMouseDown:k,onKeyDown:R,...E}}=(0,c.g)({ref:n,selectionManager:t.selectionManager,disallowEmptySelection:!A.allowEmptySelection,selectOnFocus:!0,autoFocus:v,keyboardDelegate:(0,r.useMemo)(()=>A.keyboardDelegate||new d.P(t.collection,t.disabledKeys,n,T),[t.collection,t.disabledKeys,A.keyboardDelegate])});(0,f.Q)({collectionRef:n,state:t,onAction:m,focusProxyRef:x});let{focusWithinProps:I}=(0,o.L)({onFocusWithinChange:S});(0,u.E)({isVirtualized:A.isVirtualized,selectionManager:t.selectionManager},n);let{keyboardProps:P}=(0,i.v)({onKeyDown:e=>{let n=t.selectionManager.focusedKey,r=n?t.collection.getItem(n):null;if(r){let o=!!r?.hasChildNodes,i=null!=n&&t.expandedKeys.has(n);if(null!=n&&t.disabledKeys.has(n)){e.continuePropagation();return}A?.onNodeKeyDown?.(e,r);let a=!(0,h.a)(e)&&("Enter"===e.key||"ArrowLeft"===e.key&&i||"ArrowRight"===e.key&&!i);if(o&&a&&null!=n){e.preventDefault(),t.toggleKey(n);return}if("Enter"===e.key&&null!=n){m?.(n);return}}[e.metaKey,e.ctrlKey,e.shiftKey,e.altKey].filter(e=>e).length<2&&R?.(e),e.continuePropagation()}}),N=(0,p.d)(m),{selectionManager:D,collection:M,expandedKeys:B,disabledKeys:F,toggleKey:O}=t,_=(0,r.useMemo)(()=>({state:{collection:M,selectionManager:D,expandedKeys:B,disabledKeys:F,toggleKey:O},focused:!!(C||w),onActionRef:N}),[D,M,B,F,O,C,w,N]);return y(t),{treeProps:(0,s.d)(I,E,P,j,{onFocus:g,onBlur:b,role:"tree"}),treeContext:_,focused:C}}let y=e=>{let t=(0,r.useRef)(e.collection);(0,r.useEffect)(()=>{if("all"!==e.selectionManager.rawSelection){let n=[...e.collection.getKeys()],{invalid:r=[],valid:o=[]}=(0,m.Z)(e=>n.includes(e)?"valid":"invalid",[...e.selectionManager.selectedKeys]);if(0===o.length&&r.length>0)for(let i of r){let r=i;for(;void 0!=r;){if(n.includes(r)){e.selectionManager.setSelectedKeys(o.concat(r)),e.selectionManager.setFocusedKey(r);return}r=t.current.getItem(r)?.parentKey??void 0}}}t.current=e.collection},[e.collection])}},48948:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(2784),o=n(28266),i=n(94753),a=n(3510);function s(e,t){let{state:n,scrollRef:s}=e,l=(0,o.d)(n);(0,r.useImperativeHandle)(t,()=>({replaceSelection:e=>{l.current.selectionManager.replaceSelection(e)},focus:e=>{let t=l.current.selectionManager;t.setFocused(!0),t.setFocusedKey(e),setTimeout(()=>{let t=(0,a.D)(s,e);s.current&&t?(0,i.z)(s.current,t):console.error("could not find element to scroll into",s,t)})},expandSelection(){l.current.selectionManager.expandSelection()},shrinkSelection(){l.current.selectionManager.shrinkSelection()},expandAll(){l.current.setExpandedKeys(l.current.collection.getAllExpandableKeys())},collapseAll(){let{collection:e,setExpandedKeys:t,selectionManager:n}=l.current,r=n.focusedKey;if(t(new Set),r&&!e.rootKeys.includes(r)){let t=e.getItem(r);for(;t?.parentKey!=null;)t=e.getItem(t.parentKey);t&&(n.setFocusedKey(t.key),n.isSelected(r)&&n.select(t.key))}}}),[])}},92485:function(e,t,n){"use strict";n.d(t,{D:()=>f});var r=n("2784"),o=n("87006"),i=n("53491"),a=n("88109"),s=n("41379");let l=e=>{let{cacheInvalidation:t}=e,n="object"==typeof t?t.invalidators:[],r=(0,s.D)(n);return{invalidated:"object"==typeof t?t.invalidators.length!==r.length||t.invalidators.some((e,t)=>e!==r[t]):t}};class c{constructor(e,t){let n,{expandedKeys:r}=void 0===t?{}:t;this.keyMap=new Map,this.iterable=void 0,this.firstKey=void 0,this.lastKey=void 0,this.iterable=e,r=r||new Set;let o=e=>{if(this.keyMap.set(e.key,e),e.childNodes&&("section"===e.type||r.has(e.key)))for(let t of e.childNodes)o(t)};for(let t of e)o(t);let i=0;for(let[e,t]of this.keyMap)n?(n.nextKey=e,t.prevKey=n.key):(this.firstKey=e,t.prevKey=void 0),"item"===t.type&&(t.index=i++),(n=t).nextKey=void 0;this.lastKey=n?.key}*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){let t=this.keyMap.get(e);return t?.prevKey??null}getKeyAfter(e){let t=this.keyMap.get(e);return t?.nextKey??null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)??null}at(e){let t=[...this.getKeys()];return this.getItem(t[e])}}let d=e=>e.hasChildNodes||!function(e){for(let t of e||[])return!1;return!0}(e.childNodes);var u=n("88397");class p extends u.Z{constructor(e,t,n){super(e,t,n),this.collection=void 0,this.collection=e}expandSelection(){if(this.focusedKey){let e=this.collection.getItem(this.focusedKey);if(e){let{expandKeys:t}=this.getExpandAndShrinkKeys(e);t.length>0&&this.setSelectedKeys([...this.selectedKeys,...t])}}}shrinkSelection(){if(this.focusedKey){let e=this.collection.getItem(this.focusedKey);if(e){let{shrinkKeys:t}=this.getExpandAndShrinkKeys(e);t.length>0&&this.setSelectedKeys([...this.selectedKeys].filter(e=>!t.includes(e)))}}}getExpandAndShrinkKeys(e){return this.recursivelyGetExpandAndShrinkKeys(e,[...this.collection.getKeys()],null)}recursivelyGetExpandAndShrinkKeys(e,t,n){let r=e&&e.parentKey?this.collection.getItem(e.parentKey):null,o=t.filter(e=>e!==n),i=r?h(r,o).map(e=>{let{key:t}=e;return t}):this.getAllRoots().flatMap(t=>{let n=this.collection.getItem(t);return t!==e.key&&n?h(n,o).map(e=>{let{key:t}=e;return t}).concat(t):[]});if(r&&i.every(e=>this.isSelected(e)))return this.recursivelyGetExpandAndShrinkKeys(r,t,e.key);let a=h(e,t.filter(e=>e!==n)).map(e=>{let{key:t}=e;return t});return{expandKeys:a.some(e=>!this.isSelected(e))?a:this.isSelected(e.key)?i:[e.key],shrinkKeys:i.length>0&&i.every(e=>this.isSelected(e))?i:this.isSelected(e.key)&&n?[e.key]:a.filter(e=>this.isSelected(e))}}getAllRoots(){return[...this.collection.getKeys()].filter(e=>this.collection.getItem(e)?.parentKey==null)}}function h(e,t){let n=(e.hasChildNodes?[...e.childNodes]:[]).filter(e=>t.includes(e.key));return e.hasChildNodes?n.concat(n.map(e=>h(e,t)).flat()):[]}class m extends c{constructor(e,t){let{expandedKeys:n}=t;super(e,{expandedKeys:n}),this.rootKeys=void 0,this.rootKeys=Array.from(e).map(e=>{let{key:t}=e;return t})}getAllExpandableKeys(){let e=this.rootKeys.map(e=>this.getItem(e)).filter(e=>null!=e);return this.recursivelyAddExpandableKeys(e,new Set)}recursivelyAddExpandableKeys(e,t){for(let n of e)n?.hasChildNodes&&(t.add(n.key),this.recursivelyAddExpandableKeys(n.childNodes,t));return t}}function f(e){let{childExpansionBehaviour:t="multi",...n}=e,[s,c]=(0,a.z)(n.expandedKeys?new Set(n.expandedKeys):void 0,n.defaultExpandedKeys?new Set(n.defaultExpandedKeys):new Set,n.onExpandedChange),d=(0,o.q)({...n,selectionBehavior:"replace"}),u=(0,r.useMemo)(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),h=l(n),f=(0,i.K)(n,(0,r.useCallback)(e=>new m(e,{expandedKeys:s}),[s]),h),v=new p(f,d);return(0,r.useEffect)(()=>{null==d.focusedKey||f.getItem(d.focusedKey)||d.setFocusedKey(null)},[f,d.focusedKey]),{collection:f,expandedKeys:s,disabledKeys:u,toggleKey:e=>{let n=b(f,s,e);"single"===t&&(n=(function(e,t){let n=e.getItem(t)?.parentKey;if(!n)return[...e.rootKeys].concat(y(e));let r=n?e.getItem(n):null;if(r?.type==="item")return g(r).map(e=>{let{key:t}=e;return t});let o=[];for(;r;)o.push(...g(r).map(e=>{let{key:t}=e;return t})),"section"===r.type?r.parentKey?r=e.getItem(r.parentKey):(o.push(...y(e)),r=null):r=null;return Array.from(new Set(o))})(f,e).filter(t=>t!==e&&s.has(t)).reduce((e,t)=>b(f,e,t),n)),c(n)},selectionManager:v,setExpandedKeys:c}}function g(e){let t=[...e.childNodes||[]],n=t.filter(e=>{let{type:t}=e;return"item"===t}),r=t.filter(e=>{let{type:t}=e;return"section"===t});return n.concat(r.flatMap(g))}function y(e){return e.rootKeys.map(t=>e.getItem(t)).filter(e=>null!=e).flatMap(g).map(e=>{let{key:t}=e;return t})}function b(e,t,n){var r,o;let i;if(!t.has(n)&&!e.getItem(n)?.hasChildNodes)return t;let a=(r=t,o=n,(i=new Set(r)).has(o)?i.delete(o):i.add(o),i);for(let t of a)null==e.getItem(t)&&a.delete(t);if(a.has(n))for(let t of function e(t,n){if(!t)return[];let r=t.childNodes[Symbol.iterator](),{value:o,done:i}=r.next(),a=i||null==r.next().value;return null!=o&&a&&d(o)?e(o,n.concat(o.key)):n}(e.getItem(n),[]))a.add(t);return a}},61335:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(2784),o=n(43084),i=n(47574);class a extends i.T{constructor(){super(...arguments),this.padding=0}buildChild(e,t,n,r){let o=super.buildChild(e,t,n,r);return e.parentKey&&this.collection.getItem(e.parentKey)?.type==="item"&&(o.layoutInfo.parentKey=null),o}doBuildCollection(e){void 0===e&&(e=0);let t=this.virtualizer.collection,n=0,r=[],i=[...t.getKeys()].map(e=>t.getItem(e)).filter(e=>null!=e);for(let t of i){let o=this.rowHeight??this.estimatedRowHeight??20;if("item"===t.type&&e+o<this.requestedRect.y&&!this.isValid(t,e)){e+=o,n++;continue}let a=this.buildChild(t,0,e,null);if(e=a.layoutInfo.rect.maxY,r.push(a),"item"===t.type&&e>this.requestedRect.maxY){e+=(i.length-(r.length+n))*o;break}}return this.contentSize=new o.$(this.virtualizer.visibleRect.width,e),r}shouldInvalidateEverything(e){return super.shouldInvalidateEverything(e)||this.lastCollection!==this.collection}isVisible(e,t){return super.isVisible(e,t)}getVisibleLayoutInfos(e){return super.getVisibleLayoutInfos(e).filter(e=>null!=this.collection.getItem(e.key))}}let s=e=>{let{state:t}=e,n=(0,r.useMemo)(()=>new a({estimatedRowHeight:20}),[]),o=t.selectionManager.focusedKey;return{virtualizerProps:{persistedKeys:(0,r.useMemo)(()=>new Set(o?[o]:[]),[o]),collection:t.collection,layout:n,scrollDirection:"both"}}}},96730:function(e,t,n){"use strict";n.d(t,{x:function(){return a}}),n(2784);var r=n(26357),o=n(39472),i=n(52322);function a(e){let{treeRef:t}=e;return[{id:r.$.EXPAND_ALL,title:"Expand All",icon:(0,i.jsx)(o.vq,{icon:"actions/expandall"}),actionPerformed:()=>{t.current?.expandAll()}},{id:r.$.COLLAPSE_ALL,title:"Collapse All",icon:(0,i.jsx)(o.vq,{icon:"actions/collapseall"}),actionPerformed:()=>{t.current?.collapseAll()}},{id:r.$.EXPAND_SELECTION,title:"Expand Selection",actionPerformed:()=>{t.current?.expandSelection()}},{id:r.$.SHRINK_SELECTION,title:"Shrink Selection",actionPerformed:()=>{t.current?.shrinkSelection()}}]}},69611:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});let r=(e,t)=>{let n=[];return o(e,t,n),n},o=function(e,t,n){void 0===n&&(n=[]);let r=t(e);null==r?n.push(e):r.forEach(e=>o(e,t,n))};class i{constructor(e,t){this.state=e,this.tree=t,this.cache=new WeakMap,this.tree=t,this.state=e}toggle(e){let t=this.tree.getChildren(e),n=this.tree.getKey(e);if(null==t)this.state.toggle(n);else{let t=this.getSelectionState(e),n=r(e,e=>a(this.tree.getChildren(e))).map(this.tree.getKey);"Selected"===t?this.state.delete(...n):this.state.add(...n)}}getSelectionState(e){let t;let n=this.cache.get(e);if(n)return n;let r=a(this.tree.getChildren(e)),o=this.tree.getKey(e);if(null==r)t=[...this.state.items].includes(o)?"Selected":"NotSelected";else{let e=r.map(e=>this.getSelectionState(e));t=e.every(e=>"NotSelected"===e)?"NotSelected":e.every(e=>"Selected"===e)?"Selected":"PartiallySelected"}return this.cache.set(e,t),t}}function a(e){return e?[].concat(e):null}},50907:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(2784),o=n(76164),i=n(52322);let a=r.forwardRef((e,t)=>{let{nestedSelection:n,cacheInvalidation:r,onNodeKeyDown:a,...s}=e,l="object"==typeof r?r.invalidators:[];return(0,i.jsx)(o.b,{ref:t,...s,cacheInvalidation:{invalidators:[n,...l]},onNodeKeyDown:(e,t)=>{" "===e.key&&t.value&&n.toggle(t.value),a?.(e,t)}})});a.__docgenInfo={description:"Experimental wrapper component around SpeedSearchTree, which allows rendering {@link TreeNodeCheckbox} in nodes.\n\nSee [design-decisions.md](../Tree/design-decisions.md) for more thoughts about how should different features\nlike this be supported.\n\n@alpha",methods:[],displayName:"SpeedSearchTreeWithCheckboxes",props:{nestedSelection:{required:!0,tsType:{name:"NestedSelectionState",elements:[{name:"T"}],raw:"NestedSelectionState<T>"},description:""}}}},51726:function(e,t,n){"use strict";n.d(t,{x:function(){return d}});var r=n(2784),o=n(39060),i=n(76231),a=n(12550),s=n(20569),l=n(52322);let c=s.ZP.span.withConfig({displayName:"TreeNodeCheckbox__StyledCheckboxWrapper",componentId:"sc-1dgtqwa-0"})(["margin-right:0.125rem;display:inline-flex;"]),d=e=>{let{selectionState:t,onToggle:n,selectItemOnPress:s=!0}=e,d=(0,r.useContext)(i.k),u=(0,r.useContext)(a.k);if(!u)throw Error("TreeNodeCheckbox is rendered outside tree nodes.");return(0,l.jsx)(c,{children:(0,l.jsx)(o.X,{preventFocus:!0,"aria-label":`Select ${u.node.textValue}`,isSelected:"Selected"===t,isIndeterminate:"PartiallySelected"===t,isDisabled:u.isDisabled,onChange:()=>{n(),d&&u&&s&&(d.state.selectionManager.setFocusedKey(u.node.key),d.state.selectionManager.setFocused(!0),d.state.selectionManager.setSelectedKeys([u.node.key]))}})})};d.__docgenInfo={description:"Checkbox to be used with {@link SpeedSearchTreeWithCheckboxes}. `SpeedSearchTreeWithCheckboxes` doesn't add the\ncheckboxes by default to the nodes, which makes it more flexible in terms of which nodes should have checkbox, or\nit's exact placement within the tree rows.\n\nTreeNodeCheckbox renders a Checkbox with a few extras:\n- `aria-label` set based on the encompassing item's textValue\n- `isSelected` and `isIndeterminate` set based on `selectionState`\n- `isDisabled` is set based in disabled state of the item.\n- The encompassing item will be selected upon press, if `selectItemOnPress` is `true` (default is `true`).\n- Small styling adjustment achieved by a wrapper StyledListIconWrapper.\n\n@see SpeedSearchTreeWithCheckboxes\n@see useNestedSelectionState\n\nNOTE: this component currently uses TreeContext, to get a hold of selectionManager. If a more abstract component\nlike CollectionCheckbox is needed in the future, we can refactor TreeContext also to something more abstract like\nCollectionContext which is provided by all such components like List, Tree or Table.",methods:[],displayName:"TreeNodeCheckbox",props:{selectItemOnPress:{defaultValue:{value:"true",computed:!1},required:!1,tsType:{name:"boolean"},description:""},selectionState:{required:!1,tsType:{name:"SelectionState"},description:""},onToggle:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},91555:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(2784),o=n(28266),i=n(66095),a=n(69611);let s=(e,t)=>{let{selectedKeys:n,defaultSelectedKeys:s,onSelectedKeysChange:l}=t,[c,d]=(0,i.z)(n,s||new Set,l),u=(0,o.d)(e);return(0,r.useMemo)(()=>new a.f({items:c,...d},u.current),[c,e.rootNodes])}},47574:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(39594),o=n(61086),i=n(63608);class a extends r.P{constructor(e){super(e),this.keyToWidth=new Map,this.visibleContentWidth=0,this.dividerHeight=2,void 0!=e.dividerHeight&&(this.dividerHeight=e.dividerHeight)}buildItem(e,t,n){let r=super.buildItem(e,t,n);return this.visibleContentWidth&&(r.layoutInfo.rect.width=this.visibleContentWidth),r}buildNode(e,t,n){return"divider"===e.type?this.buildDivider(e,t,n):super.buildNode(e,t,n)}buildDivider(e,t,n){let r=this.virtualizer?.visibleRect.width??0,a=this.dividerHeight,s=new o.U(t,n,r-t,a),l=new i.h(e.type,e.key,s);return l.estimatedSize=!1,{layoutInfo:l,validRect:l.rect}}doBuildCollection(){return super.buildCollection()}buildCollection(){this.visibleContentWidth=this.getVisibleContentWidth();let e=this.doBuildCollection();return this.contentSize.width=this.visibleContentWidth,e}shouldInvalidate(e,t){return super.shouldInvalidate(e,t)||this.virtualizer?.contentSize.width!==this.visibleContentWidth}isValid(e,t){let n=this.layoutNodes.get(e.key);return super.isValid(e,t)&&n?.layoutInfo.rect.width===this.visibleContentWidth}updateItemSize(e,t){let n=super.updateItemSize(e,t);return this.getLayoutInfo(e)&&t.width>this.contentSize.width?(this.keyToWidth.set(e,t.width),!0):n}getVisibleContentWidth(){return Math.max(this.virtualizer?.visibleRect.width??0,...[...this.virtualizer?.getVisibleLayoutInfos().values()??[]].map(e=>{let t=e&&this.keyToWidth.get(e.key);return t&&this.virtualizer&&e.rect.intersects(this.virtualizer?.visibleRect)?t:0}))}}},12746:function(e,t,n){"use strict";n.d(t,{M:()=>l});var r=n("36932");function o(e){return i(e)||"_"==e||"-"==e||":"==e||"+"==e||"."==e}function i(e){return/^\s*$/.test(e)}function a(e){return e.toUpperCase()===e&&e.toLowerCase()!==e}function s(e){return!o(e)&&!i(e)}let l=(e,t)=>{let n=e.split("").map(c),o=t.split("").filter(s).join(""),i=[],a=!1,l=0,d=0;for(;;){if(i.length===o.length)return(0,r.nf)(i.map(e=>{let{inputIndex:t}=e;return t}));if(l>e.length-1){if(i.length>0){let e=i.pop();l=e.inputIndex+1,d=e.patternIndex;continue}break}if(!s(e[l])){l++;continue}o[d].toLowerCase()===e[l].toLowerCase()&&(a||n[l]||0===i.length)?(i.push({patternIndex:d,inputIndex:l}),a=!0,d++):a=!1,l++}return null};function c(e,t,n){let r=n[t-1];return 0===t||o(r)&&!o(e)||a(e)&&!a(r)}},21954:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(2784),o=n(74606);let i=e=>{let{collectionProps:{onKeyDown:t,...n}}=(0,o.g)(e);return(0,r.useEffect)(()=>{let{selectionManager:t,autoFocus:n,selectOnFocus:r}=e;r&&("first"===n||"last"===n)&&null!=t.focusedKey&&t.replaceSelection(t.focusedKey)},[]),(0,r.useLayoutEffect)(()=>{let{selectionManager:t}=e;t.firstSelectedKey&&null==t.focusedKey&&t.setFocusedKey(t.firstSelectedKey)},[]),{collectionProps:{...n,onKeyDown:e=>{e.altKey||t?.(e)}}}}},53928:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(65202),o=n(1554);let i=e=>{let t=(0,r.C)(e);return{...t,itemProps:(0,o.d)(t.itemProps,{onContextMenu:t=>{e.selectionManager.isSelected(e.key)||e.selectionManager.select(e.key)}})}}},75486:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});let r="box-shadow: 0 5px 15px rgb(0 0 0 / 30%)"},88111:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(10879),o=n(2784),i=n(52322);let a=o.forwardRef(function(e,t){let{children:n,...a}=e,l=(0,o.useRef)(null),c=(0,o.useRef)(null);return(0,o.useImperativeHandle)(t,()=>({focus:e=>{let t=c.current,n=l.current?.parentElement;if(!t)throw Error("focus manager not found!");if(!n)throw Error("container element not found");if(e)return t.focusFirst();document.activeElement&&document.activeElement!==n&&n.contains(document.activeElement)||t.focusNext({tabbable:!0})}}),[]),(0,i.jsxs)(r.MT,{...a,children:[(0,i.jsx)(s,{ref:c}),(0,i.jsx)("span",{"data-focus-root-direct-child":"",hidden:!0,ref:l}),n]})}),s=o.forwardRef(function(e,t){let n=(0,r.bO)();return(0,o.useImperativeHandle)(t,()=>n,[n]),null});a.__docgenInfo={description:"A version of FocusScope which also allows for imperatively moving focus to the scope.\nand has tiny patches/improvements\nIt's useful for",methods:[],displayName:"FocusScope"}},60868:function(e,t,n){"use strict";n.d(t,{z:()=>s,r:()=>l});var r=n("65503");let o="default",i="";var a=n("28266");function s(e){let{target:t,currentTarget:n}=e;return n===t||t instanceof HTMLElement&&[...t.childNodes].every(e=>e instanceof HTMLElement)}function l(e){let{dragThreshold:t=0,disabled:n,onMoveStart:s,onMove:l,onMoveEnd:c,canMoveStart:d=()=>!0}=e,u=(0,a.d)({onMove:l,onMoveEnd:c});return n?{}:{onMouseDown:e=>{let n;if(0!==e.button||!d(e))return;e.preventDefault(),"default"===o&&(i=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),o="disabled";let a={x:e.pageX,y:e.pageY},l=!1,c=e=>{let{pageX:r,pageY:o}=e,i={x:r-a.x,y:o-a.y};(Math.abs(i.x)>=t||Math.abs(i.y)>=t)&&!l&&(l=!0,n=s({from:a})),l&&u.current.onMove({from:a,to:{x:a.x+i.x,y:a.y+i.y},movement:i,startState:n})};document.addEventListener("mousemove",c),document.addEventListener("mouseup",()=>{"disabled"===o&&(o="restoring",setTimeout(()=>{(0,r.Q)(()=>{"restoring"===o&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=i||""),i="",o="default")})},300)),l&&u.current.onMoveEnd?.({startState:n}),document.removeEventListener("mousemove",c)},{once:!0})}}}},27011:function(e,t,n){"use strict";function r(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}n.d(t,{a:function(){return r}})},8728:function(e,t,n){"use strict";n.d(t,{o:()=>s});var r=n("2784"),o=n("13953"),i=n("17519");class a{constructor(e){this.callback=e,this.mutationObserver=void 0,this.data=new Map,this.mutationObserver=new MutationObserver(e=>{e.forEach(e=>{let t=e.target;t instanceof Element&&(e.removedNodes.forEach(e=>{e instanceof Element&&this.data.get(t)?.intersectionObserver.unobserve(e)}),e.addedNodes.forEach(e=>{e instanceof Element&&this.data.get(t)?.intersectionObserver.observe(e)}))})})}observe(e,t){this.data.get(e)?.intersectionObserver.disconnect();let n=new IntersectionObserver(t=>{let n=this.data.get(e),r=(0,o.Z)(e=>-e.time,t),a=(0,i.Z)(e=>e.target,r),s=a.map(e=>!e.isIntersecting&&e.target instanceof Element?e.target:void 0).filter(e=>null!=e),l=a.map(e=>e.isIntersecting&&e.target instanceof Element?e.target:null).filter(e=>null!=e),c=n?.currentOverflowElements||[],d=c.filter(e=>!l.includes(e)).concat(s).filter(e=>!(e instanceof HTMLElement&&0===e.offsetWidth&&0===e.offsetHeight));this.callback({previouslyOverflowedElements:c,overflowedElements:d,target:e},this),n&&(n.currentOverflowElements=d)},{...t,root:e});[...e?.children||[]].forEach(e=>{n.observe(e)}),this.data.set(e,{intersectionObserver:n,currentOverflowElements:[]}),this.mutationObserver.observe(e,{childList:!0})}unobserve(e){this.data.get(e)?.intersectionObserver.disconnect()}disconnect(){[...this.data.values()].forEach(e=>{let{intersectionObserver:t}=e;return t.disconnect()}),this.data=new Map,this.mutationObserver.disconnect()}}function s(e,t){let{threshold:n=.9,rootMargin:o="0px"}=void 0===t?{}:t,[i,s]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let t=new a(e=>{s(e.overflowedElements)});return t.observe(e.current,{rootMargin:o,threshold:n}),()=>{t.disconnect()}},[e.current]),{overflowedElements:i}}},64374:function(e,t,n){"use strict";n.d(t,{Bp:function(){return o},Ck:function(){return i},Om:function(){return r},eA:function(){return a},kD:function(){return s}});let r=(e,t,n)=>{let r=n.map(t),o=n=>{let i=n?e(n):null;null!=n&&i&&(r.push(t(n)),i.forEach(o))};return n.map(e).flat().forEach(o),r},o=(e,t,n,r)=>{let o=new Set(r),a=[];return i(e,(e,n)=>{let r=t(e),i=n?.some(e=>e)||o.has(r);return i&&a.push(r),i},n),a},i=(e,t,n)=>{let r=n=>{let o=e(n);return t(n,o?.map(r)??null)};n.forEach(r)},a=(e,t,n)=>{let r=(n,o)=>{let i=t(n,o),a=e(n);return a?.map(e=>r(e,i)),i};return n.map(e=>r(e,null))},s=(e,t)=>{let n=(t,n)=>{let r=e(t),o=e(n);return r<o?-1:r>o?1:0};t.roots.sort(n),a(t.getChildren,e=>{let r=t.getChildren(e);r&&r.sort(n)},t.roots)}},77536:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(2784);let o=(e,t)=>{let n=(0,r.useContext)(e);if(null==n)throw Error(t);return n}},76680:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(2784);function o(e){let t=(0,r.useRef)();return(0,r.useLayoutEffect)(()=>{t.current=e}),(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current?.apply(null,n)},[])}},27637:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(10879);function o(e){let{forwardFocus:t,ignoreFocusedDescendant:n=!1}=void 0===e?{}:e;return{focusForwarderProps:{onFocus:e=>{if(e.target!==e.currentTarget)return;let o=e.relatedTarget;if(o instanceof Element&&e.currentTarget?.contains(o)&&!n){o instanceof HTMLElement&&o.focus();return}t?t():r.QL(e.currentTarget).firstChild()?.focus()}}}}},28266:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(2784);function o(e){let t=(0,r.useRef)(e);return(0,r.useLayoutEffect)(()=>{t.current=e}),t}},41379:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(2784);function o(e){let t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t.current}},66095:function(e,t,n){"use strict";n.d(t,{z:()=>s,y:()=>a});var r=n("88109"),o=n("2784");class i{constructor(e){this.size=void 0,this.set=void 0,this.set=new Set(e),this.size=this.set.size}add(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.setValueWithMutation(e=>{t.forEach(t=>{e.add(t)})})}delete(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.setValueWithMutation(e=>{t.forEach(t=>{e.delete(t)})})}toggle(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.setValueWithMutation(e=>{t.forEach(t=>{e.delete(t)||e.add(t)})})}clear(){return this.setValueWithMutation(e=>{e.clear()})}setValueWithMutation(e){let t=new Set(this.set);return e(t),new i(t)}forEach(){return this.set.forEach(...arguments)}has(e){return this.set.has(e)}[Symbol.iterator](){return this.set[Symbol.iterator]()}entries(){return this.set.entries()}keys(){return this.set.keys()}values(){return this.set.values()}}let a=e=>({add:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(e=>new Set(new i(e).add(...n)))},delete:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(e=>new Set(new i(e).delete(...n)))},clear:()=>e(e=>new Set(new i(e).clear())),toggle:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(e=>new Set(new i(e).toggle(...n)))}}),s=function(e,t,n){void 0===t&&(t=new Set);let[i,s]=(0,r.z)(e,t,n);return[i,(0,o.useMemo)(()=>a(s),[s])]}},13775:function(e,t,n){var r={"./simpleWorker.js":"57772","./simpleWorker":"57772"};function o(e){return Promise.resolve().then(function(){if(!n.o(r,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(r[e])})}o.keys=()=>Object.keys(r),o.id="13775",e.exports=o},56755:function(e,t,n){var r={"./treeViewsDndService.js":["61860"],"./textResourceConfiguration":["16576"],"./unicodeTextModelHighlighter.js":["83969"],"./findSectionHeaders":["43631"],"./languageFeaturesService":["99423"],"./model.js":["65041"],"./editorSimpleWorker":["66298"],"./editorBaseApi":["79375"],"./editorWorker":["30363"],"./editorWorkerHost.js":["76679"],"./semanticTokensDto":["21982"],"./semanticTokensDto.js":["21982"],"./semanticTokensStyling.js":["76567"],"./textResourceConfiguration.js":["16576"],"./editorWorker.js":["30363"],"./languagesAssociations":["41356"],"./markerDecorationsService":["1022"],"./languageFeatureDebounce":["69060"],"./model":["65041"],"./resolverService":["91223"],"./languagesRegistry":["33550"],"./markerDecorations.js":["52919"],"./semanticTokensProviderStyling":["45960"],"./semanticTokensProviderStyling.js":["45960"],"./languageService.js":["44718"],"./semanticTokensStylingService":["29922"],"./getIconClasses.js":["75154"],"./languageFeatures.js":["35921"],"./modelService.js":["94657"],"./languagesRegistry.js":["33550"],"./languageFeatures":["35921"],"./markerDecorationsService.js":["1022"],"./textModelSync/textModelSync.impl.js":["13423"],"./languageService":["44718"],"./editorSimpleWorker.js":["66298"],"./markerDecorations":["52919"],"./textModelSync/textModelSync.protocol":["66828","9348"],"./findSectionHeaders.js":["43631"],"./treeSitterParserService":["40143"],"./treeViewsDnd":["55247"],"./languagesAssociations.js":["41356"],"./treeViewsDnd.js":["55247"],"./unicodeTextModelHighlighter":["83969"],"./editorWorkerHost":["76679"],"./textModelSync/textModelSync.impl":["13423"],"./languageFeatureDebounce.js":["69060"],"./editorBaseApi.js":["79375"],"./textModelSync/textModelSync.protocol.js":["66828","9348"],"./languageFeaturesService.js":["99423"],"./getIconClasses":["75154"],"./treeSitterParserService.js":["40143"],"./semanticTokensStylingService.js":["29922"],"./semanticTokensStyling":["76567"],"./treeViewsDndService":["61860"],"./modelService":["94657"],"./resolverService.js":["91223"]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(o)})}o.keys=()=>Object.keys(r),o.id="56755",e.exports=o},57011:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="57011",e.exports=t}}]);
//# sourceMappingURL=3154.b3a23cea.js.map