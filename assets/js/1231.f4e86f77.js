"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1231],{76818:(e,t,n)=>{n.r(t),n.d(t,{App:()=>ma,default:()=>ha});var r=n(2784),o=n(53476),a=n(50921),i=n(56576),l=n(21941),s=n(77890),c=n(3628),d=n(83108),A=n(75545),u=n(7896),m=n(82132);const h=e=>r.createElement(m.E,(0,u.Z)({},e,{src:"data:image/gif;base64,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",darkSrc:"data:image/gif;base64,R0lGODlhEAAQAPe2AEZGRkdHR09PT0lJSX19fVBQUIWFhXx8fEtLS11dXVhYWFJSUlFRUXNzc0pKSnd3d2JiYl5eXltbW1VVVUxMTHl5eU5OToqKil9fX1xcXIGBgWBgYG1tbYKCgldXV4iIiI2NjXBwcGdnZ0hISFRUVHZ2dlpaWmRkZFlZWWhoaGVlZWNjY2xsbGFhYZeXl3p6epqampubm3R0dFNTU3Jyck1NTYCAgGZmZnh4eH9/f7CwsM3NzVZWVqSkpJ2dnX5+fpGRkWpqao+Pj5OTk3FxcW5uboaGhpCQkPHx8YeHh29vb2tra4SEhLy8vJKSkmlpadLS0o6Ojrm5uYODg5iYmIyMjOHh4XV1dZWVlYmJiZaWlsLCwnt7e6urq+zs7LW1tampqebm5qGhoaenp97e3sjIyNTU1Pn5+ZycnODg4Lu7u7Kysre3t7+/v/X19cbGxtnZ2YuLi8vLy66urqCgoNjY2MrKyqamptbW1pSUlOnp6aioqM7OzqKioqysrNra2qWlpcXFxaqqqvT09MfHx+fn58TExK+vr7i4uMzMzOTk5LGxsfb29kVFRcDAwOvr69XV1b29vZ6env7+/rq6usPDw9fX17a2tujo6Pr6+vv7+9DQ0J+fn+/v78HBweLi4qOjo62trbOzs76+vs/Pz5mZme3t7erq6rS0tNvb2/Dw8P39/eXl5dHR0e7u7tPT093d3dzc3N/f3+Pj48nJyfz8/EVFRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQC2ACwAAAAAEAAQAAAIvABtCbQ1Q+AHKwMTDiQx6IKtGJMEikigUKAdTAUg2ppAgOLAFy9s3Rg0BiIAGVcA2HIgUJQrQzew0BCIgMYEBjIMsASQJU2qEQkbtWCiYUNCASIqTggyQOABIUeOVBR4Q4SICHKsaJ1qC4hXIwMtZKi4gAZLgQA6JKJUMUiMITcEhsKjY0OFuLZ4YPHg4QOaBbYIzJwQCMYPKRR6CBHIQCGaLSQO21IiSEXFEYYMBJZiC0AUDlNJqAwxZmpAACH5BAUFALYALAAAAAAQABAAAAitAG0JtLVAoIE/AxMOnPHIiC0XjAR+yaNQ4JY0DyNyWTUk4YMHtk6c6gNxgBUrCv18inQCiBKBEv7MEFDkwACDkFopBBDhwIsMClVUnCFUII4LSCsKhMBUgiMzUJXaSkL1R0ITFQuwuDmQgKM5FVUI+QBBIKgydxLIKGuLxAUSJHIcKWDrAQdbM9gAwdEFARUDAgUoHPJlwYMutoL4aKGUjdXDBkUoLWiLRQylAQEAIfkECQUAtgAsAAAAABAAEAAACLgAbQm0xUCgBigDEw5cQKaDLSdeBB46olCgFDMCINrCMUhIQho0bLUggwZIxD9/BtgiIRAUpDUQ4rAQaAJKiRQ7Ms0QmINWoAAKXWjq5HGgBQgVG3QpaKvBlClMKgqMQFUBqjdYpdoiwPXKwBoKKgq4obDEmj4VNzD5kUBgKSkwTBTBIHCBjQULShiwYItGCoJgkhDx4aDKAYF8E2a5UyCED1sqjmSoGGDPA1uOBR5AWrGAwBtFFQYEACH5BAkFALYALAAAAAAQABAAAAi3AG0JHGhLgg2CCAUO4WCrSh2BBBgktAWmkgMQD4k8KkFwQIKCm0A4HLGDEEIiZegoOHJBAYsUip60cNRjYAlKhiQOLEAHiRUZBBEUSQgjBgKBPAgoXZAQRSkYMDAQ0UE1QkIOSJCoujDQAYSEJjAEIMiixx0HBEdAOFBigkAlfi7MUNJAgAIFGmoI4PBEIAIUtizEwMECxAgNISba+kGFwhIQtiIYYZpQxglbjwVuGKBYYIGvCQMCACH5BAUFALYALAAAAAAQABAAAAi5AG0JtCVA4IMmAxMOLFDpgS0jUASKSaJQYA81NQxEJELGSMInQWxlqARC44g3ZUbYWiDwCCIfGX6oEOjBU4gTbTCxBNBgjp8ACQFEKUTmQ0IKGSoWEVNA4JMSUCsKxIJFi4YYYLJKteWma6yBCGZUbLGnqUAAS6hUqehEkykQAg34MDLhhAKBFogIeEKq1gZbIv5aOFJChYEBFTgIjKDwAYgahkUS8FAxgJCQkQFwkCDVAgBbCbhIDQgAIfkEBQUAtgAsAAAAABAAEAAACLgAbQm0ZUFgCD8DEw60sCiELQJtBGrJoVCiIAoQbbFIRHHgihO2UOjocCDiJSkCGQhkAkiIgistBE5Ys2TDGksqbS3xEaOiETx8NCREoKBiECoCBK7gwKFIRYFRogg5EMeF1ae2CmndNNBBzoQYxCQdeCJLx4QgOln5ILACiAoLIkwQCMHMjRuEVEWw1UKCrRodOGx4wcCLHIEZFBaxQQHDC1tRMp1NqGGFLce2Aryp8pSCQBQ0ngYEACH5BAUFALYALAAAAAAQABAAAAi5AG0JtEVBYAoqAxMOpBBDhC0aYwQakaFQoAEtCIhEPLGI4sAECWxNgFFCYwA6fQLYEiDwgRMbE1hIELgAzQkJPpqwtHUizgUACl+o+VIioQMSFVdkqSEwgQoVNyoK1ECVRo4PWKXassOVzcABOxNKAGJhYCMMBDwm1ACF0AGBIWyEKGBiQdNRLVosemXCVgYPthBUSOEkjAAolwQqUJgCB4rCtqaQKaoQQAUMtiDbWqNBKgKVNnZIDQgAIfkEBQUAtgAsAAAAABAAEAAACKcAbQkcaEsEFoIIBWq5YStED4EGGiS01QGIA4e2VuiQODBDBlsktMhQ8lCSGIQNQBwg8cSEQAYxVgiMNLCFEQMJKwh8QHDAjIkEJUBYIXNihw5TGlQ42gHojqeUCFpImGEIwgw4QiRkUifRD4EsuHAQEIcjBkMQIHyBI8GWCR5u3USigsRWqiYCUSBUM8gEXVtJwuBIOIARJ1su6tqSwmSiS1sG8EwMCAAh+QQFBQC2ACwAAAAAEAAQAAAIswBtCbTlQGCLDwMTDkTwYYOtJ3kEcmGhUOADJg8jYuBEcaACBbYYfGCRIuKRIQJrCGShoQGDFTwECoiCQQGQLiobJeDCpSINQXdCKGRQEYMNCgI9RFhaUeCLF1w40KhAtamtJli7DGTQoiKKCyoFAjjiBU9FAoSa4BAY6IwcER+E2kqACAMGMGVAXiBgC8WpS04U2dqhI6nCL3pQBLalwVKDpo9g2AIi2NacH01B2rIhp2lAACH5BAUFALYALAAAAAAQABAAAAiwAG0JHGgrQQ6CCG05sJHAlooLAq+ISGiLCIEBJyBKyDNxIA8etgrYEJHRVpIsAikITPGCQ4ENJARaMJCBxwc6KgGYKHElIQdJMZYQZFAgYYYKCAQagMGUoi0ZV648SXOmqlMdWMUMfJnQwxSVA0GwIpUQh5pFDQQ6QhJIBZMiAiUcSpCAThOQSV7YUvDpEAg4FraMETgB4Zw0Hv7aOiBHCcVZWGwptnVHb1eBB7ZQDAgAIfkEBQUAtgAsAAAAABAAEAAACLYAbQm0NUCgBBwDEw4cUMGErRYdBCpZoVAghwe2NkREcYHiwB8/bKWosEKjrRwaANhCILCJJj4pEswQWIMAChI5sLC0JcRLmBEKUwwBciNhgSAVUTRwILCDi6cVJSpRogIOkqtRbfXY6iIhhooTDuwUmAVWmYoNDgEqIlAKplEnbCwRiAKQBBMudEywxQSjB0t7PuyowUaSQBIK9+DhkWSHrQdt5lasI8RWY4E+rkTlIRAHoqgBAQAh+QQFBQC2ACwAAAAAEAAQAAAIrgBtCbQ1Q6CCBgMTDpyQqYqtCAcEBtmgUCAfUwwg2vIwheLAAxFFnBEEEUCFFwoRubEjggpCWxQeeFhQwaHAKmHSVDwR58MKhSkqeigyMMeQoxUlBlkCAYqep0ltwZgaZaCABBVJPFBoBJKnikV6oAkiUJQsNhAIBN3oA4WCKIAK2pBhi8cOMVO2UAilReAChX0STchrqwGqtQlH8Llgq8MWWwCwEEk6QaCMOUkDAgA7"}));h.__docgenInfo={description:"",methods:[],displayName:"LoadingGif"};const g=(0,A.ZP)(h).withConfig({displayName:"DefaultSuspense__Loading",componentId:"sc-1n9vzm7-0"})(["width:fit-content;margin:auto;"]),p=e=>{let{fallback:t=r.createElement(g,null),children:n}=e;return r.createElement(r.Suspense,{fallback:t},n)};p.__docgenInfo={description:"",methods:[],displayName:"DefaultSuspense",props:{fallback:{defaultValue:{value:"<Loading />",computed:!1},required:!1}}};var f=n(8884),E=n(89029),y=n(59942),C=n(12446),w=n(91244),v=n(49391),S=n(23224),b=n(25253),I=n(42597),k=n(44146),B=n(48583),F=n(49099),T=n(82398),N=n(72893),Q=n(62575),P=n(60226),D=n(20261),R=n(21023),M=n.n(R);const x="fileTypes/text",G="nodes/folder",H={editorconfig:"nodes/editorconfig",js:"fileTypes/javaScript",gitignore:"vcs/ignore_file",archive:"fileTypes/archive",as:"fileTypes/as",config:"fileTypes/config",css:"fileTypes/css",dtd:"fileTypes/dtd",hpr:"fileTypes/hprof",htaccess:"fileTypes/htaccess",html:"fileTypes/html",idl:"fileTypes/idl",java:"fileTypes/java",jfr:"fileTypes/jfr",json:"fileTypes/json",jsp:"fileTypes/jsp",jspx:"fileTypes/jspx",manifest:"fileTypes/manifest",properties:"fileTypes/properties",txt:"fileTypes/text",wsdl:"fileTypes/wsdlFile",xhtml:"fileTypes/xhtml",xml:"fileTypes/xml",xsd:"fileTypes/xsdFile",yaml:"fileTypes/yaml"},L=e=>{const t=K(e);return H[t]||x},K=e=>e.split(".").pop()||"";function V(e,t){return void 0===t&&(t=M().sep),O(e,t)}function O(e,t,n){void 0===n&&(n=[]);const r=M().dirname(e);return r!==t?[r].concat(O(r,t,n)):n}var U=n(48892);const _=JSON.parse('{"nG":[{"scope":"emphasis","settings":{"fontStyle":"italic"}},{"scope":"strong","settings":{"fontStyle":"bold"}},{"scope":"header","settings":{"foreground":"#000080"}},{"scope":"comment","settings":{"foreground":"#808080"}},{"scope":"constant.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["constant.numeric"],"settings":{"foreground":"#6897BB"}},{"scope":"constant.regexp","settings":{"foreground":"#646695"}},{"scope":"entity.name.tag","settings":{"foreground":"#FFC66D"}},{"scope":"entity.name.tag.css","settings":{"foreground":"#d7ba7d"}},{"scope":"entity.other.attribute-name","settings":{"foreground":"#BABABA"}},{"scope":["entity.other.attribute-name.class.css","entity.other.attribute-name.class.mixin.css","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.pseudo-class.css","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.attribute.scss","entity.other.attribute-name.scss"],"settings":{"foreground":"#d7ba7d"}},{"scope":"invalid","settings":{"foreground":"#f44747"}},{"scope":"markup.underline","settings":{"fontStyle":"underline"}},{"scope":"markup.bold","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.heading","settings":{"foreground":"#A9B7C6"}},{"scope":"markup.italic","settings":{"fontStyle":"italic"}},{"scope":"markup.inserted","settings":{"foreground":"#b5cea8"}},{"scope":"markup.deleted","settings":{"foreground":"#ce9178"}},{"scope":"markup.changed","settings":{"foreground":"#A9B7C6"}},{"scope":"beginning.punctuation.definition.quote.markdown","settings":{"foreground":"#608b4e"}},{"scope":"beginning.punctuation.definition.list.markdown","settings":{"foreground":"#6796e6"}},{"scope":"markup.inline.raw","settings":{"foreground":"#ce9178"}},{"scope":"meta.selector","settings":{"foreground":"#d7ba7d"}},{"name":"brackets of XML/HTML tags","scope":"punctuation.definition.tag","settings":{"foreground":"#FFC66D"}},{"scope":"meta.preprocessor","settings":{"foreground":"#CC7832"}},{"scope":"meta.preprocessor.string","settings":{"foreground":"#ce9178"}},{"scope":"meta.preprocessor.numeric","settings":{"foreground":"#b5cea8"}},{"scope":"meta.structure.dictionary.key.python","settings":{"foreground":"#9876AA"}},{"scope":"meta.diff.header","settings":{"foreground":"#CC7832"}},{"scope":"storage","settings":{"foreground":"#ff0000"}},{"scope":"storage.type","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":["keyword.other.phpdoc.php","keyword.other.type.php","storage.type.class.jsdoc","entity.name.type.instance.jsdoc","variable.other.jsdoc"],"settings":{"foreground":"#808080"}},{"scope":"storage.modifier","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"string","settings":{"foreground":"#6A8759"}},{"scope":"string.tag","settings":{"foreground":"#6A8759"}},{"scope":"string.value","settings":{"foreground":"#6A8759"}},{"scope":"string.regexp","settings":{"foreground":"#6A8759"}},{"name":"JavaScript string interpolation ${}","scope":["punctuation.definition.template-expression.begin.js","punctuation.definition.template-expression.begin.ts","punctuation.definition.template-expression.end.ts","punctuation.definition.template-expression.end.js"],"settings":{"foreground":"#A9B7C6"}},{"scope":["support.type.vendored.property-name","support.type.property-name","variable.css","variable.scss","variable.other.less"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.property","support.variable.property.dom","entity.other.inherited-class"],"settings":{"foreground":"#9876AA"}},{"scope":["variable.other.object","variable.other.object.property","support.class.dom","meta.function-call","entity.name.type.module"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable.other.readwrite","variable.other.constant.ts","variable.parameter","variable.other.readwrite.alias"],"settings":{"foreground":"#A9B7C6"}},{"scope":"keyword","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"scope":"keyword.operator","settings":{"foreground":"#A9B7C6"}},{"scope":["keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.logical.python"],"settings":{"foreground":"#CC7832"}},{"scope":"keyword.other.unit","settings":{"foreground":"#b5cea8"}},{"scope":["punctuation.section.embedded.begin.metatag.php","punctuation.section.embedded.end.metatag.php"],"settings":{"foreground":"#CC7832"}},{"scope":"support.function.git-rebase","settings":{"foreground":"#9876AA"}},{"scope":"constant.sha.git-rebase","settings":{"foreground":"#b5cea8"}},{"name":"coloring of the Java import and package identifiers","scope":["storage.modifier.import.java","storage.modifier.package.java"],"settings":{"foreground":"#d4d4d4"}},{"name":"this.self","scope":"variable.language","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Source Python","scope":["source.python"],"settings":{"foreground":"#A9B7C6"}},{"name":"Magic function python","scope":["support.function.magic.python"],"settings":{"foreground":"#9876AA"}},{"name":"Self keyword python","scope":["variable.language.special.self.python","variable.parameter.function.language.special.self.python"],"settings":{"foreground":"#9876AA","fontStyle":""}},{"name":"Function declarations Python","scope":["entity.name.function.python","meta.function-call.generic.python"],"settings":{"foreground":"#FFC66D"}},{"name":"Function declarations","scope":["entity.name.function","support.function","support.constant.handlebars"],"settings":{"foreground":"#FFC66D"}},{"name":"Types declaration and references","scope":["meta.return-type","support.class","support.type","entity.name.type","entity.name.class","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy"],"settings":{"foreground":"#4EC9B0"}},{"name":"Types declaration and references","scope":["support.class","entity.name.class","support.type","entity.name.type"],"settings":{"foreground":"#FFC66D"}},{"name":"Arrow Function","scope":["storage.type.function.arrow"],"settings":{"foreground":"#A9B7C6"}},{"name":"Types declaration and references, TS grammar specific","scope":["meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json"],"settings":{"foreground":"#4EC9B0"}},{"name":"Control flow keywords","scope":"keyword.control","settings":{"foreground":"#CC7832","fontStyle":"bold"}},{"name":"Variable and parameter name","scope":["meta.definition.variable.name","support.variable"],"settings":{"foreground":"#A9B7C6"}},{"scope":["variable"],"settings":{"foreground":"#9876AA"}},{"name":"Object keys, TS grammar specific","scope":["meta.object-literal.key","meta.object-literal.key entity.name.function"],"settings":{"foreground":"#9876AA"}},{"name":"CSS property value","scope":["support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color"],"settings":{"foreground":"#CE9178"}},{"scope":"token.info-token","settings":{"foreground":"#6796e6"}},{"scope":"token.warn-token","settings":{"foreground":"#cd9731"}},{"scope":"token.error-token","settings":{"foreground":"#f44747"}},{"scope":"token.debug-token","settings":{"foreground":"#b267e6"}}]}').nG.flatMap((e=>{let{scope:t,settings:n}=e;return[].concat(t).flatMap((e=>e.split(" "))).map((e=>{const t={token:e};return Object.keys(n).forEach((e=>{const r=n[e];r&&(t[e]=r)})),t}))})),j=(0,f.zo)(U.ZP)`
  .monaco-editor {
    .margin-view-overlays .line-numbers {
      text-align: left;
      padding-left: 7px;
    }

    .scrollbar .slider {
      border-radius: 0.25rem;
    }
  }
`,q=e=>{const t=(()=>{const e=(0,U.Ik)(),t=(0,A.Fg)(),[n,o]=(0,r.useState)(t.dark?"vs-dark":"light");return(0,r.useLayoutEffect)((()=>{if(e){const n=`jui-theme-${t.name.replace(" ","")}`;e.editor.defineTheme(n,{base:t.dark?"vs-dark":"vs",inherit:!0,colors:t.dark?{"editor.background":"#2B2B2B","editor.lineHighlightBackground":"#323232","editor.lineHighlightBorder":"none","editorLineNumber.foreground":"#606366","editorActiveLineNumber.foreground":"#a4a3a3","editorIndentGuide.background":"#373737","editorIndentGuide.activeBackground":"#505050","editorGutter.background":t.dark?"#313335":"#f0f0f0"}:{},rules:_}),o(n)}}),[e,t]),n})();return r.createElement(j,(0,u.Z)({},e,{options:{minimap:{enabled:!1},lineHeight:20,showFoldingControls:"always",renderIndentGuides:!0,overviewRulerBorder:!1,scrollbar:{verticalScrollbarSize:14,horizontalScrollbarSize:8,verticalSliderSize:8,horizontalSliderSize:8,horizontal:"auto",vertical:"visible",alwaysConsumeMouseWheel:!1},...e.options},theme:t}))};q.__docgenInfo={description:"Monaco Editor styled to look like Intellij Platform's editor.\nTODO:\n - folding controls appearance is different and should be changed\n - highlighting pairs of parens, brackets, etc. is different.\n - context menu look different.\n - selection look different.\n - BUG: height is more than necessary. Needs investigation first.",methods:[],displayName:"Editor"};var J=n(35848),Y=n(80965),Z=n(22633),W=n(42378),z=n.n(W);async function $(e){void 0===e&&(e="bfs-local-fs");const t=await te((t=>{Z.FileSystem.IndexedDB.Create({storeName:e},t)}));return await new Promise((e=>t.init(t.store,e))),t}function X(e){Z.initialize(e);const t=Z.BFSRequire("fs");return t.promises=z()(t),t}window.BrowserFS=Z;const ee=e=>{const t=new(Z.BFSRequire("fs").FS);return t.initialize(e),t};function te(e){return new Promise(((t,n)=>{e(((e,r)=>{if(e||!r)return n(e);t(r)}))}))}var ne=n(15048);const re=(0,ne.qf)((function*(e,t){const{source:n,target:r,rootDir:o,onCopy:a,force:i}=t,l=yield n.readdir(o);for(const s of l){const l=M().join(o,s),c=yield n.stat(l);if(c.isFile()||c.isSymbolicLink()){if(!i&&(yield oe(r,l)))return;null==a||a(l);const e=yield n.readFile(l);yield ae(r,M().dirname(l)),yield r.writeFile(l,e)}else c.isDirectory()?yield re(e,{...t,rootDir:M().join(o,s)}):console.warn("unsupported file system item skipped, when copying:",c)}})),oe=async(e,t)=>await e.exists(t).catch((e=>"boolean"==typeof e?e:Promise.reject(e)))&&!(await e.stat(t)).isDirectory();async function ae(e,t){const n=await e.stat(t).catch((e=>"ENOENT"!==e.code&&Promise.reject(e)));if(!1===n){const n=M().dirname(t);n!==M().dirname(n)&&await ae(e,n),await e.mkdir(t).catch((e=>"EEXIST"===e.code?Promise.resolve():Promise.reject(e)))}else if(!n.isDirectory())throw new Error(`path is not a directory, but already exists: ${t}`)}let ie;const le=(se="demo_app_use_persistent_fs",{get:()=>localStorage.getItem(se),set:e=>localStorage.setItem(se,e)});var se;async function ce(e){let{onCopy:t=console.log,cancelSignal:n}=void 0===e?{}:e;if(!(ie.getRootFS()instanceof Z.FileSystem.InMemory))return void console.log("Already on persistent fs. Nothing to do.");console.log("Creating IndexedDB FS"),console.time("creating db");const r=await $();await async function(e){let{source:t,target:n,cancelSignal:r,...o}=e;await re(r,{...o,source:z()(t),target:z()(n),rootDir:"/"})}({source:ie,target:await ee(r),cancelSignal:n,force:!0,onCopy:t}),console.timeEnd("creating db"),X(r),console.log("FS switched to IndexedDB backend",r)}const de=function(e){let t,n="pending";const r=e.then((e=>{n="success",t=e}),(e=>{n="error",t=e}));return{read:()=>{switch(n){case"pending":throw r;case"error":throw t;default:return t}}}}(("yes"===le.get()?$():async function(){return await te((e=>{Z.FileSystem.InMemory.Create({},e)}))}()).then(X).then((e=>(window.fs=e,ie=e))).catch((e=>{throw console.log("could not initialize FS:",e),e}))),Ae=e=>{let{children:t}=e;return de.read(),t};const ue=(0,o.CG)({key:"dirContents",get:e=>async()=>{let t;try{t=await ie.promises.readdir(e)}catch(n){return null}return(await Promise.all(t.map((t=>{const n=`${e}/${t}`;return ie.promises.stat(n).then((e=>({...e,type:e.isDirectory()?"dir":"file",filePath:n})))})))).map((e=>({type:e.type,path:e.filePath,size:e.size})))}}),me=async e=>e?ie.promises.readFile(e,{encoding:"utf8"}):"",he=(0,o.xu)({key:"fileContent",default:me,effects:e=>[t=>{let{onSet:n}=t;n((t=>{e&&ie.promises.writeFile(e,t,{encoding:"utf8"}).catch((e=>{console.error("failed to sync the file back to the fs",e)}))}))}]}),ge=e=>{let{path:t}=e;return!t.split("/").includes(".git")};var pe=n(55892);function fe(e,t){return(0,o._8)((n=>{let{snapshot:r}=n;return()=>r.getLoadable(e).getValue()??t}),[])}const Ee={path:"/workspace/jui",url:"https://github.com/alirezamirian/jui.git"},ye=(0,o.cn)({key:"project",default:{name:"JUI",path:Ee.path}}),Ce=(0,o.CG)({key:"projectFilePath",get:e=>t=>{let{get:n}=t;return M().join(n(ye).path,e)}}),we=(0,o.nZ)({key:"projectFiles",get:async e=>{let{get:t}=e;const n=t(ye),r=t(ue(n.path)),o=[],a=e=>{if("dir"===e.type&&ge(e)){const n=t(ue(e.path));n&&n.map(a)}else o.push({...e,relativePath:M().relative(n.path,e.path)})};return(r||[]).forEach((e=>a(e))),o}}),ve=(0,o.cn)({key:"project.activePaths",default:[]}),Se=(be=ve,Ie=[],e=>{const t=(0,o.Zl)(be),n=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{n.current&&t((t=>(0,pe.Z)(e,t)?t:e))}),[e]),{onFocus:()=>{t(e),n.current=!0},onBlur:e=>{var r;e.relatedTarget instanceof Element&&null!=(r=e.relatedTarget)&&r.closest("[data-overlay-container]")||(t(Ie),n.current=!1)}}});var be,Ie;const ke=(0,o.nZ)({key:"editor.tabs/Default",get:e=>{let{get:t}=e;return(0,J.Z)([(0,Y.Z)((e=>e.path===t(Ce("README.md")))),(0,Y.Z)((e=>e.path.endsWith(".ts"))),(0,Y.Z)((e=>e.path.endsWith(".js")))],t(we).filter((e=>"file"===e.type))).slice(0,12).map((e=>({filePath:e.path,editorState:{cursorPos:{lineNumber:0,column:0}}})))}}),Be=(0,o.cn)({key:"editor.tabs",default:ke}),Fe=(0,o.cn)({key:"editor.activeTabIndex",default:0}),Te=(0,o.nZ)({key:"editor.activeTab",get:e=>{let{get:t}=e;return t(Be)[t(Fe)]||null}}),Ne=(0,o.cn)({key:"editor.cursorPosition",default:new D.Ly(0,0)}),Qe=(0,o.cn)({key:"editor.focusHandle",default:null}),Pe=()=>{const[e,t]=(0,o.FV)(Be),n=(0,o.Zl)(Fe),r=(0,o._8)((e=>{let{snapshot:t}=e;return()=>{var e;null==(e=t.getLoadable(Qe).valueOrThrow())||e.focus()}}),[]),a=e=>{n(e)},i=e=>{t((t=>t.filter(((t,n)=>n!==e))))};return{tabs:e,openPath:function(n,o){void 0===o&&(o=!0);const i=e.findIndex((e=>e.filePath===n));if(i>-1)a(i);else{const r=e.length;t((e=>[...e,{filePath:n,editorState:{cursorPos:{lineNumber:0,column:0}}}])),a(r)}o&&setTimeout(r)},closePath:t=>{const r=e.findIndex((e=>e.filePath===t));r>-1&&(i(r),n(Math.max(r-1,0)))},closeTab:i,closeOthersTabs:e=>{t((t=>t.filter(((t,n)=>n===e))))},select:a}};function De(e){return Array.isArray(e)?1===e[1]?["DELETED","NOT_CHANGED","MODIFIED"][e[2]]:0===e[1]?0===e[3]?"UNKNOWN":"ADDED":"UNKNOWN":"modified"===e||"*modified"===e?"MODIFIED":"deleted"===e||"*deleted"===e?"DELETED":"added"===e?"ADDED":"unmodified"===e?"NOT_CHANGED":"UNKNOWN"}const Re=(0,o.cn)({key:"vcsRoots",default:(0,o.nZ)({key:"vcsRoots/temporaryDefault",get:e=>{let{get:t}=e;return[{dir:t(ye).path,vcs:"git"}]}})}),Me=(0,o.CG)({key:"gitRootForFile",get:e=>t=>{var n;let{get:r}=t;return(null==(n=r(Re).find((t=>e.startsWith(t.dir))))?void 0:n.dir)??null}}),xe=(0,o.CG)({key:"gitBranchForFile",get:e=>async t=>{let{get:n}=t;const r=n(Me(e));return r?n(Ge(r)):null}}),Ge=(0,o.CG)({key:"gitRepoCurrentBranch",get:e=>async()=>await a.ZP.currentBranch({fs:ie,dir:e,fullname:!1})||null}),He=(0,o.xu)({key:"fileStatus",default:"NOT_CHANGED"}),Le=()=>(0,o._8)((e=>{let{snapshot:t,set:n}=e;return async e=>{const r=await t.getPromise(Me(e));if(null!=r){console.time(`status ${e}`);const t=await(0,a.i7)({fs:ie,dir:r,filepath:R.relative(r,e)});console.timeEnd(`status ${e}`),n(He(e),De(t))}}}),[]),Ke=()=>{const e=(0,o._8)((e=>{let{snapshot:t,transact_UNSTABLE:n}=e;return async()=>{const e=await t.getPromise(Re);return Promise.all(e.filter((e=>{let{vcs:t}=e;return"git"===t})).map((async e=>{let{dir:t}=e;console.time("statusMatrix");const r=await(0,a.ks)({fs:ie,dir:t});console.timeEnd("statusMatrix"),n((e=>{let{set:n}=e;r.forEach((e=>{n(He(`${t}/${e[0]}`),De(e))}))}))})))}}),[]);(0,r.useEffect)((()=>{e().catch((e=>{console.error("could not initialize VCS file statuses",e)}))}),[])},Ve=e=>{const t=(0,A.Fg)();switch(e){case"MODIFIED":return t.dark?"#6897bb":"#0032a0";case"ADDED":return t.dark?"#629755":"#0a7700";case"DELETED":return t.dark?"#6c6c6c":"#616161";case"UNKNOWN":return t.dark?"#d1675a":"#993300"}},Oe=e=>{let{children:t,filepath:n}=e;const a=(e=>{const t=(0,o.sJ)(He(e));return Ve(t)})(n);return r.createElement("span",{style:{color:a}},t)},Ue=e=>{let{children:t,status:n}=e;const o=Ve(n);return r.createElement("span",{style:{color:o}},t)};Oe.__docgenInfo={description:"",methods:[],displayName:"FileStatusColor"},Ue.__docgenInfo={description:"",methods:[],displayName:"StatusColor"};var _e=n(87211),je=n(66727);const qe={value:null};function Je(){var e;null==(e=qe.value)||e.show({icon:"Warning",title:"Unimplemented action",body:"This action is not implemented yet.",actions:r.createElement(r.Fragment,null,r.createElement(je.r,{onPress:Je},"Read more..."))})}const Ye=()=>{const e=Pe(),t=(0,o.sJ)(Te),n=(0,r.useRef)(),[a,i]=(0,r.useState)(!1),l=(0,E.BH)(C.xm),s=(0,o.Zl)(Ne),c=(0,w.d)({closePath:e.closePath,closeOthersTabs:e.closeOthersTabs}),d=(0,o.Zl)(Qe),A=he(null==t?void 0:t.filePath),u=(0,o.$P)(A),m=(0,o.Zl)(A),h=Le();(0,r.useEffect)((()=>{var e,r;(null==(e=n.current)||e.focus(),null!=t&&t.editorState.cursorPos)&&(null==(r=n.current)||r.setPosition(null==t?void 0:t.editorState.cursorPos))}),[null==t?void 0:t.filePath]);const g=Se(t?[t.filePath]:[]),p=u.valueMaybe();return r.createElement(Ze,(0,_e.dG)(g,{onFocus:()=>{i(!0),d({focus:()=>{var e;return null==(e=n.current)?void 0:e.focus()}})}}),e.tabs.length>0&&r.createElement(v.X,{renderMenu:()=>r.createElement(S.v2,{onAction:Je},r.createElement(b.c,{key:"close"},"Close"),r.createElement(b.c,{key:"closeOthers"},"Close Other tabs"),r.createElement(b.c,{key:"closeAll"},"Close all tabs"),r.createElement(b.c,{key:"closeLeft"},"Close tabs to the left"),r.createElement(b.c,{key:"closeRight"},"Close tabs to the right"))},r.createElement(I.s,{items:e.tabs,active:a,selectedKey:null==t?void 0:t.filePath,onSelectionChange:t=>e.select(e.tabs.findIndex((e=>e.filePath===t))),noBorders:!0},(t=>{const n=R.basename(t.filePath),o=r.createElement(k.vq,{icon:L(t.filePath)});return r.createElement(B.E,{key:t.filePath,textValue:n,inOverflowMenu:r.createElement(F._,{content:n,icon:o})},r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:t.filePath})},r.createElement(Q.X,{icon:o,title:r.createElement(Oe,{filepath:t.filePath},n),closeButton:r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"Close. Alt-Click to Close Others"})},r.createElement(P.W,{onPress:n=>{n.altKey?c.current.closeOthersTabs(e.tabs.indexOf(t)):c.current.closePath(t.filePath)}})),containerProps:{onDoubleClick:()=>{null==l||l.perform()}}})))}))),t&&("string"==typeof p?r.createElement(q,{height:"100%",path:t.filePath,onMount:(e,t)=>{e.focus(),function(e){e.languages.typescript.typescriptDefaults.setCompilerOptions({jsx:D.Mj.typescript.JsxEmit.React}),e.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})}(t),n.current=e,e.onDidChangeCursorPosition((e=>{s(e.position)})),e.onDidChangeModel((()=>{var e;const t=null==(e=n.current)?void 0:e.getPosition();t&&s(t)}))},onChange:function(e){void 0===e&&(e=""),i(!1),m(e),t&&h(t.filePath).catch((e=>{console.error("Could not update file status",e)}))},value:p}):p&&"UNSUPPORTED CONTENT"),"loading"===u.state&&r.createElement(We,null))},Ze=f.zo.div`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.color("Editor.background",t.isUnderDarcula()?"rgb(40,40,40)":t.commonColors.panelBackground)}};
`,We=(0,f.zo)(h)`
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
`;Ye.__docgenInfo={description:"Used as main content in the main ToolWindows. Shows currently opened files tabs and the editor.\n\nTODO: preserve editor state when switching between tabs\nTODO: support multiple editors in split view.",methods:[],displayName:"FileEditor"};var ze=n(27039),$e=n(84534),Xe=n(29902);const et=(0,A.ZP)(Xe.O).withConfig({displayName:"Terminal__StyledXterm",componentId:"sc-19jke66-0"})(["height:100%;background:rgb(43,43,43);"]),tt=()=>{const[e,t]=(0,r.useState)(""),n=(0,r.useRef)(null),o=(0,r.useMemo)((()=>({theme:{background:"rgb(43,43,43)",selection:"#214283"},fontFamily:"sans-serif",letterSpacing:-8,fontSize:12,lineHeight:1.3,cursorStyle:"block",cursorBlink:!0,cursorWidth:8,rendererType:"dom"})),[]);return(0,r.useEffect)((()=>{setTimeout((()=>{var e,t;null==(e=n.current)||e.terminal.resize(80,10),null==(t=n.current)||t.terminal.write("$ ")}),3e3)}),[]),r.createElement(et,{ref:n,options:o,onData:r=>{const o=r.charCodeAt(0);if(13===o){var a,i;if(e.length>0)null==(i=n.current)||i.terminal.write("\r\nYou typed: '"+e+"'");null==(a=n.current)||a.terminal.write("\r\n$ "),t("")}else{if(o<32||127===o)return;var l;null==(l=n.current)||l.terminal.write(r),t(e+r)}}})};tt.__docgenInfo={description:"",methods:[],displayName:"Terminal"};var nt=n(42892),rt=n(97739),ot=n(86094);const at=(0,o.cn)({key:"projectView.foldersOnTop",default:!0}),it=(0,o.cn)({key:"projectView.expandedKeys",default:(0,o.nZ)({key:"projectView.expandedKeys/default",get:e=>{let{get:t}=e;return new Set([t(ye).path])}})}),lt=(0,o.cn)({key:"projectView.selectedKeys",default:new Set([])}),st=(0,o.cn)({key:"projectView.focusHandle",default:r.createRef(),dangerouslyAllowMutability:!0}),ct=(0,o.nZ)({key:"projectTree",get:e=>{let{get:t}=e;return async function(e,t){const n=await t(ue(e.path)),r=e=>async n=>{const o=R.basename(n.path),a={...n,name:o,parent:e},i={...a,children:[]};return"dir"===n.type&&(i.children=await Promise.all((await t(ue(n.path))??[]).map(r(i)))),"dir"===n.type?i:a};return{type:"project",path:e.path,name:e.name,parent:null,children:await Promise.all((n||[]).filter(ge).map(r(null)))}}(t(ye),t)}});const dt=e=>{let{snapshot:t,set:n}=e;return e=>{const r=t.getLoadable(it).valueOrThrow(),o=[t.getLoadable(ye).valueOrThrow().path].concat(V(e));n(it,new Set([...r,...o]))}},At=e=>{let{snapshot:t}=e;return e=>{var n;const r=null==(n=t.getLoadable(st).valueOrThrow())?void 0:n.current;null==r||r.replaceSelection(e),null==r||r.focus(e)}},ut=()=>{const e=(0,o._8)(dt,[]),t=(0,o._8)(At,[]);return n=>{e(n),t(n)}};var mt=n(74903),ht=n(65154),gt=n(94214),pt=n(35424),ft=n(10463),Et=n(44065);const yt=()=>{const e=(0,o.sJ)(ye),t=Pe(),n=(0,r.useRef)(null),a=(0,o.Zl)(st);(0,r.useLayoutEffect)((()=>{a(n)}),[n]);const i=(0,o.sJ)(ct),[l,s]=(0,o.FV)(it),[c,d]=(0,o.FV)(lt),A=(0,o.sJ)(at)?(0,ft.Z)((e=>"dir"===e.type?1:2)):Et.Z,m="all"===c?[]:[...c].filter((e=>"string"==typeof e)),h=Se(m);return r.createElement(p,null,r.createElement(mt.b,(0,u.Z)({ref:n},h,{items:[i],onAction:e=>{t.openPath(`${e}`)},fillAvailableSpace:!0,autoFocus:!0,selectionMode:"multiple",selectedKeys:c,onSelectionChange:d,expandedKeys:l,onExpandedChange:s}),(t=>r.createElement(b.c,{key:t.path,textValue:t.name,childItems:"children"in t?A(t.children):void 0},r.createElement(ht.e,null,r.createElement(bt,{node:t}),"project"===t.type?r.createElement(r.Fragment,null,r.createElement("b",null,r.createElement(gt.J,null)),r.createElement(ht.e.Hint,null,e.path)):r.createElement(Ct,{node:t}))))))},Ct=e=>{let{node:t}=e;return"dir"===t.type?r.createElement(wt,{node:t}):r.createElement(vt,{node:t})},wt=e=>{let{}=e;return r.createElement(gt.J,null)},vt=e=>{let{node:t}=e;const n=(0,r.useContext)(pt.k);return null!=n&&n.isSelected&&null!=n&&n.isContainerFocused?r.createElement(gt.J,null):r.createElement(Oe,{filepath:t.path},r.createElement(gt.J,null))},St={project:"nodes/folder",dir:G,file:x};function bt(e){let{node:t}=e;const n="file"===(o=t).type?L(o.name):St[o.type]??null;var o;return r.createElement(r.Fragment,null,n&&r.createElement(k.vq,{icon:n}))}yt.__docgenInfo={description:"",methods:[],displayName:"ProjectViewPane"};const{SELECT_IN_PROJECT_VIEW:It}={SELECT_IN_PROJECT_VIEW:"SelectInProjectView"};function kt(){const e=(0,o.sJ)(st),t=(0,nt.x)({treeRef:e}),n=function(){const e=(0,o.sJ)(Te),t=ut(),n=()=>{e&&t(e.filePath)};return[{id:It,title:"Select Opened File",icon:r.createElement(k.vq,{icon:"general/locate"}),actionPerformed:n,isDisabled:!e,description:"Selects a context file in the Project View"}]}();return r.createElement($e.n,{headerContent:"Project",actions:[...t,...n],additionalActions:r.createElement(r.Fragment,null,r.createElement(ot.aU.Button,{actionId:It}),r.createElement(ot.aU.Button,{actionId:rt.$.EXPAND_ALL}),r.createElement(ot.aU.Button,{actionId:rt.$.COLLAPSE_ALL}))},r.createElement(yt,null))}kt.__docgenInfo={description:"",methods:[],displayName:"ProjectToolWindow"};var Bt=n(51548),Ft=n(6182);const Tt=(0,o.cn)({key:"changelists.lists",default:[{id:"some-UUID",name:"Changes",comment:"last modified commit message",changes:[],active:!0},{id:"some-other-UUID",name:"Some other changelist",comment:"Some empty changelist for testing",changes:[],active:!1}]}),Nt=((0,o.nZ)({key:"changelists.lists/default",get:e=>{let{get:t}=e;return t(Tt).find((e=>e.active))??null}}),(0,o.nZ)({key:"changelists.allChanges",get:e=>{let{get:t}=e;return t(Tt).map((e=>e.changes)).flat()}})),Qt=e=>{let[,t,n,r]=e;return 1!==t||1!==n||1!==r},Pt=e=>{let{snapshot:t,set:n}=e;return async()=>{const e=(await t.getPromise(Re)).filter((e=>"git"===e.vcs)),r=(await Promise.all(e.map((async e=>{let{dir:t}=e;return(await(0,a.ks)({fs:ie,dir:t})).filter(Qt).map((e=>{let[n,...r]=e;return[M().join(t,n),...r]}))})))).flat().map((e=>{let[t,n,r,o]=e;return{after:{path:t,isDir:!1},before:{path:t,isDir:!1}}}));n(Tt,(e=>e.map((e=>e.active?(console.log(r),{...e,changes:r}):{...e,changes:[]}))))}},Dt=()=>{const e=Le();return(0,o._8)((t=>async n=>{const{snapshot:r,set:o}=t,i=(e=>{let{set:t}=e;return async e=>t(he(e),await me(e))})(t),l=await Promise.all(n.filter((e=>!e.after.isDir)).map((async e=>{const t=await r.getPromise(Me(e.after.path));return{repoRoot:t,fullPath:e.after.path,relativePath:M().relative(t,e.after.path)}}))),s=(0,Ft.Z)((e=>{let{repoRoot:t}=e;return t}),l);await Promise.all(Object.entries(s).map((async t=>{let[n,r]=t;await(0,a.JE)({fs:ie,dir:n,force:!0,filepaths:r.map((e=>{let{relativePath:t}=e;return t}))}),await Promise.all(r.map((async t=>{let{fullPath:r,relativePath:o}=t;return await(0,a.us)({fs:ie,dir:n,filepath:o}),await i(r),e(r)})))}))),o(Tt,(e=>e.map((e=>({...e,changes:e.changes.filter((e=>!n.includes(e)))})))))}),[])},Rt=()=>(0,o._8)(Pt,[]);var Mt=n(42677);const xt=[{id:"repository",title:"Repository",isAvailable:(0,o.nZ)({key:"repositoryGrouping/isAvailable",get:e=>{let{get:t}=e;return t(Re).length>0}}),groupFn:(0,o.nZ)({key:"repositoryGrouping/groupFn",get:e=>{let{get:t}=e;return e=>t(Re).map((t=>An(t,e.filter((e=>{var n,r,o;return null==(n=(null==(r=e.change.after)?void 0:r.path)||(null==(o=e.change.before)?void 0:o.path))?void 0:n.startsWith(t.dir)})))))}})},{id:"directory",title:"Directory",isAvailable:(0,o.Kz)(!0),groupFn:e=>{const t={},n=e.map((e=>{if(e.change.after.isDir)throw new Error("isDir=true is not supported for changes ATM!");return V(e.change.after.path).reduce(((e,n)=>{t[n]||(t[n]=dn(n,"")),"directory"===e.type&&(e.parentNodePath=n);const r=t[n];return r.children=r.children.includes(e)?r.children:[e,...r.children],r}),e)})),r=e=>{let{children:t,dirPath:n}=e;return 1===e.children.length&&hn(e.children[0])&&(t=e.children[0].children,n=e.children[0].dirPath),{...e,dirPath:n,children:t.map((e=>hn(e)?r(e):e))}};return(0,Mt.Z)(n).map(r)}}];var Gt=n(96334),Ht=n(41301),Lt=n(98940);const Kt=(0,o.cn)({key:"rollbackView.isOpen",default:!1}),Vt=(0,o.cn)({key:"rollbackView.windowBounds",default:{height:500}}),Ot=(0,o.cn)({key:"rollbackView.initiallySelectedChanges",default:[]}),Ut=(0,o.nZ)({key:"rollbackView.includedRootNodes",get:e=>{let{get:t}=e;const n=t(Ot),{rootNodes:r}=t(fn);return r.filter((e=>{let{changeList:{changes:t,active:r}}=e;return 0===n.length&&r||n.some((e=>t.includes(e)))}))}}),_t={isOpen:Kt,windowBounds:Vt,initiallyExpandedKeys:(0,o.nZ)({key:"rollbackView.initiallyExpandedKeys",get:e=>{let{get:t}=e;const n=t(Ot),r=t(Ut),o=(0,Gt.Bp)((e=>un(e)?e.children:null),(e=>e.key),r,n.map(sn));return new Set(o.length?o:(0,Gt.Om)((e=>un(e)?e.children:null),(e=>e.key),r))}}),initiallyIncludedChanges:Ot,rootNodes:Ut};var jt=n(52208);const qt=(0,o.xu)({key:"vcs/currentBranchName",default:xe}),Jt=(0,o.cn)({key:"changesView/showIgnoredFiles",default:!1}),Yt=(0,o.cn)({key:"changesView/showRelatedFiles",default:!1}),Zt=(0,o.xu)({key:"changesView/grouping",default:!0}),Wt=(0,o.cn)({key:"changesView.selectedKeys",default:new Set([])}),zt=(0,o.nZ)({key:"changesView.resolvedSelectedKeys",get:e=>{let{get:t}=e;const n=t(Wt);if("all"===n){const{rootNodes:e}=t(fn);return new Set((0,Gt.eA)((e=>un(e)?e.children:[]),((e,t)=>{const n=t??[];return n.push(e),n}),e).flat().map((e=>e.key)))}return n}}),$t=(0,o.nZ)({key:"changesView.selectedNodes",get:e=>{let{get:t}=e;const n=t(zt),{byKey:r}=t(fn);return new Set([...n].map((e=>r.get(e))).filter(jt.N))}}),Xt=(0,o.nZ)({key:"changesView.selectedKeys.changes",get:e=>{let{get:t}=e;const n=t($t),r=new Set,o=e=>{e&&("change"===e.type&&r.add(e.change),un(e)&&e.children.forEach(o))};return n.forEach(o),r}}),en=(0,o.nZ)({key:"changesView.selectedChangeLists",get:e=>{let{get:t}=e;const n=t($t),r=t(Tt),o=new Set,a=e=>{if(e){if("changelist"===e.type&&o.add(e.changeList),"change"===e.type){const t=r.find((t=>t.changes.includes(e.change)));t&&o.add(t)}un(e)&&e.children.forEach(a)}};return n.forEach(a),o}}),tn=(0,o.cn)({key:"changesView.includedChangeKeys",default:new Set([])}),nn=(0,o.nZ)({key:"changesView.includedChanges",get:e=>{let{get:t}=e;const n=t(tn);return t(Nt).filter((e=>n.has(sn(e))))}}),rn=(0,o.nZ)({key:"changesView.selectedChanges.nestedSelectionState",get:e=>{let{get:t,getCallback:n}=e;const{rootNodes:r}=t(fn),o=t(tn),a=n((e=>{let{set:t}=e;return e=>t(tn,e)}));return new Ht.f({items:o,...(0,Lt.y)(a)},{rootNodes:r,getChildren:e=>un(e)?e.children:null,getKey:e=>e.key})}}),on=(0,o.cn)({key:"changesView.expandedKeys",default:(0,o.nZ)({key:"changesView.expandedKeys/temporaryDefault",get:e=>{let{get:t}=e;return new Set(t(fn).rootNodes.map((e=>[e.key,...e.children.map((e=>e.key))])).flat())}})}),an=(0,o.nZ)({key:"changes.availableGroupings",get:e=>{let{get:t}=e;return xt.filter((e=>(0,o.Oy)(e.isAvailable)?t(e.isAvailable):e.isAvailable)).map((e=>({grouping:e,isActive:t(Zt(e.id))})))}}),ln=(e,t)=>`${e}_${t}`,sn=e=>ln("change",e.after.path),cn=function(e,t){return void 0===t&&(t=e=>e),{type:"changelist",key:ln("changelist",e.id),changeList:e,children:t(e.changes.map((e=>(e=>({type:"change",key:sn(e),change:e}))(e))))}},dn=function(e,t,n){return void 0===n&&(n=[]),{type:"directory",key:ln("directory",e),dirPath:e,parentNodePath:t,children:n}},An=function(e,t){return void 0===t&&(t=[]),{type:"repo",key:ln("repo",e.dir),repository:e,children:t}},un=e=>"children"in e,mn=e=>"change"===e.type,hn=e=>"directory"===e.type,gn=(e,t)=>{if(0===e.length||0===t.length)return t;const n=e.slice(1),r=t.filter(mn),o=t.filter(un),a=e[0](r);return[...o,...a].forEach((e=>{e.children=gn(n,e.children)})),a},pn=e=>un(e)?e.children:null,fn=(0,o.nZ)({key:"changesView.treeNodes",get:e=>{let{get:t}=e;const n=t(Tt),r=t(an).filter((e=>{let{isActive:t}=e;return t})).map((e=>{let{grouping:n}=e;return r=n.groupFn,(0,o.Oy)(r)?t(r):r;var r})),a=e=>gn(r,e),i=(0,ft.Z)((e=>{let{active:t}=e;return!t}),n).map((e=>cn(e,a))),l=new Map,s=new Map;return(0,Gt.Ck)(pn,((e,t)=>{if(s.set(e.key,e),!t)return 1;const n=t.reduce(((e,t)=>e+t),0);return l.set(e.key,n),n}),i),{rootNodes:i,fileCountsMap:l,byKey:s}}}),En=(0,o.xu)({key:"changesView/splitter/commitMessageSize",default:e=>"horizontal"===e?.4:.3}),yn=(0,o.cn)({key:"changesView/amendCommit",default:!1}),Cn=(0,o.cn)({key:"changesView/commitMessage",default:""}),wn=(0,o.nZ)({key:"changesView/changesFromActivePaths",get:e=>{let{get:t}=e;const n=t(ve);return t(Nt).filter((e=>n.some((t=>e.after.path.startsWith(t)))))}}),vn=e=>{let{set:t,snapshot:n}=e;return e=>{const r=(e?n.getLoadable(Nt).getValue().filter((t=>e.some((e=>t.after.path.startsWith(e))))):n.getLoadable(wn).getValue()).map(sn);if(t(tn,new Set(r)),r.length>0){const e=(0,Gt.Bp)((e=>un(e)?e.children:null),(e=>e.key),n.getLoadable(fn).getValue().rootNodes,r);t(on,(t=>new Set([..."all"!==t?t:new Set,...e]))),t(Wt,new Set([r[0]]))}}},Sn=e=>{let{set:t,snapshot:n}=e;return function(e){void 0===e&&(e=!0);const r=n.getLoadable(ve).getValue(),o=n.getLoadable(Xt).getValue(),a=e&&r.length>0?n.getLoadable(wn).getValue():null;t(_t.initiallyIncludedChanges,a??[...o]),t(_t.isOpen,!0)}},bn=e=>{let{repo:t}=e;const n=(0,o.sJ)(qt((null==t?void 0:t.dir)??""));return r.createElement(r.Fragment,null,n)};bn.__docgenInfo={description:"",methods:[],displayName:"CurrentBranchName",props:{repo:{required:!1,tsType:{name:"VcsDirectoryMapping"},description:""}}};var In=n(55884),kn=n(70639),Bn=n(17480),Fn=n(62238),Tn=n(61715),Nn=n(23585),Qn=n(37734),Pn=n(24263),Dn=n(73566),Rn=n(38678);const Mn={ROLLBACK:"ChangesView.Revert",REFRESH:"ChangesView.Refresh",SHELVE_SILENTLY:"ChangesView.ShelveSilently",SHELVE:"ChangesView.Shelve",UNSHELVE_SILENTLY:"ChangesView.UnshelveSilently",NEW_CHANGELIST:"ChangesView.NewChangeList",RENAME_CHANGELIST:"ChangesView.Rename",REMOVE_CHANGELIST:"ChangesView.RemoveChangeList",SET_DEFAULT_CHANGELIST:"ChangesView.SetDefault",MOVE_TO_ANOTHER_CHANGELIST:"ChangesView.Move",SHOW_DIFF:"Diff.ShowDiff",CHECK_IN:"CheckinFiles",JUMP_TO_SOURCE:rt.$.EDIT_SOURCE,GROUP_CHANGES_VIEW_POPUP_MENU:"ChangesViewPopupMenu",GIT_CREATE_NEW_BRANCH:"Git.CreateNewBranch",GIT_BRANCHES:"Git.Branches"};var xn=n(68674);const Gn=()=>0===[...(0,o.sJ)(Wt)].length?null:r.createElement(xn.C,{"aria-label":"Context menu",actions:[(0,E.BH)(Mn.CHECK_IN),(0,E.BH)(Mn.ROLLBACK),(0,E.BH)(Mn.JUMP_TO_SOURCE),new Rn.P,(0,E.BH)(Mn.SHELVE),new Rn.P,(0,E.BH)(Mn.NEW_CHANGELIST),(0,E.BH)(Mn.RENAME_CHANGELIST),(0,E.BH)(Mn.REMOVE_CHANGELIST),(0,E.BH)(Mn.SET_DEFAULT_CHANGELIST),(0,E.BH)(Mn.MOVE_TO_ANOTHER_CHANGELIST),new Rn.P,(0,E.BH)(Mn.REFRESH)].filter(jt.N)});Gn.__docgenInfo={description:"",methods:[],displayName:"ChangesViewTreeContextMenu"};var Hn=n(83483);const Ln=f.zo.span`
  width: 14px;
  height: 14px;
  align-self: center;
  margin-right: 0.1rem;
  position: relative;

  //  after pseudo element is used to create the color mixing implemented here:
  //  https://github.com/JetBrains/intellij-community/blob/82f201386c3f7a339ff25fc8f3389024c8078a87/platform/vcs-log/impl/src/com/intellij/vcs/log/ui/VcsLogColorManagerImpl.java#L60
  &&:after {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.75;
    background: ${e=>{let{theme:t}=e;return t.color("Table.background")||(t.dark?"#3C3F41":"#fff")}};
  }
`,Kn=e=>{const t=(0,o.sJ)(Re).findIndex((t=>t.dir===e)),n=(0,A.Fg)(),r=[n.commonColors.red,n.commonColors.blue];return r[t%r.length]??r[0]},Vn=e=>{let{rootPath:t}=e;return r.createElement(Ln,{style:{backgroundColor:Kn(t)}})};Vn.__docgenInfo={description:"",methods:[],displayName:"RepoColorIcon",props:{rootPath:{required:!0,tsType:{name:"string"},description:""}}};var On=n(49657);const Un=f.zo.span`
  display: inline-flex;
  align-self: center;
  height: 1.1rem;
  line-height: 1.1rem;
  padding: 0 0.25rem;

  background: ${e=>{let{theme:t}=e;return new On.I(t.color("VersionControl.RefLabel.backgroundBase",t.dark?"#fff":"#000")).withTransparency(t.value("VersionControl.RefLabel.backgroundBrightness")??.08).toString()}};
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("VersionControl.RefLabel.foreground",t.dark?"#909090":"#7a7a7a"))}};
`,_n=new Hn.C("{fileCount, plural,\n    =0 {No files}\n    =1 {1 file}\n    other {# files}\n  }","en-US"),jn=e=>{let{node:t}=e;const n=(0,o.sJ)(Zt("directory"));return r.createElement(ht.e.Hint,null,!n&&M().dirname(t.change.after.path))},qn={repo:(e,t)=>{let{fileCount:n}=t;return{textValue:M().basename(e.repository.dir),rendered:r.createElement(ht.e,null,r.createElement(Vn,{rootPath:e.repository.dir}),r.createElement(gt.J,null),r.createElement(ht.e.Hint,null,_n.format({fileCount:n})),r.createElement(Un,null,r.createElement(bn,{repo:e.repository})))}},directory:(e,t)=>{let{fileCount:n}=t;return{textValue:e.parentNodePath?M().relative(e.parentNodePath,e.dirPath):e.dirPath,rendered:r.createElement(ht.e,null,r.createElement(k.vq,{icon:G}),r.createElement(gt.J,null),r.createElement(ht.e.Hint,null,_n.format({fileCount:n})))}},changelist:(e,t)=>{let{fileCount:n}=t;return{textValue:e.changeList.name,rendered:r.createElement(ht.e,null,r.createElement("span",{style:{fontWeight:e.changeList.active?"bold":void 0}},r.createElement(gt.J,null)),r.createElement(ht.e.Hint,null,_n.format({fileCount:n})," "))}},change:e=>({textValue:M().basename(e.change.after.path),rendered:r.createElement(ht.e,null,r.createElement(k.vq,{icon:L(e.change.after.path)}),r.createElement(gt.J,null),r.createElement(jn,{node:e}))})},Jn=e=>{var t;let{node:n,fileCountsMap:r}=e;const o=qn[n.type],{textValue:a,rendered:i}=o(n,{fileCount:r.get(n.key)||0,dirCount:0});return{key:n.key,childItems:un(n)?n.children:[],hasChildItems:un(n)&&(null==(t=n.children)?void 0:t.length)>0,textValue:a,children:i}};function Yn(e){return"directory"===(null==e?void 0:e.type)?[e.dirPath]:"change"===(null==e?void 0:e.type)?[e.change.after.path]:un(e)?e.children.flatMap(Yn):[]}const Zn=e=>{let{treeRef:t}=e;const{rootNodes:n,fileCountsMap:a,byKey:i}=(0,o.sJ)(fn),[l,s]=(0,o.FV)(Wt),[c,d]=(0,o.FV)(on),A=(0,o.sJ)(rn),{openPath:m}=Pe(),h=(0,o._8)((e=>{let{snapshot:t}=e;return e=>{const n=t.getLoadable(fn).getValue().byKey.get(e);return"change"===(null==n?void 0:n.type)&&m(n.change.after.path),n}}),[]),g=Se("all"===l?[]:[...l].flatMap((e=>{const t=i.get(e);return t?Yn(t):[]})));return r.createElement(v.X,{renderMenu:()=>r.createElement(Gn,null),style:{height:"100%"}},r.createElement(Pn.G,(0,u.Z)({ref:t,items:n,selectionMode:"multiple",selectedKeys:l,expandedKeys:c,onExpandedChange:d,onSelectionChange:s,onAction:h,nestedSelection:A,fillAvailableSpace:!0,autoFocus:"first"},g),(e=>{var t;const n=Jn({fileCountsMap:a,node:e});return r.createElement(b.c,n,0!==(null==(t=e.children)?void 0:t.length)&&r.createElement(Dn.x,{selectionState:A.getSelectionState(e),onToggle:()=>A.toggle(e)}),n.children)})))};Zn.__docgenInfo={description:"TODO: unversioned files\nTODO: show diff/source on double click (on action to be more precise)",methods:[],displayName:"ChangeViewTree",props:{treeRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"TreeRefValue"}],raw:"RefObject<TreeRefValue>"},description:""}}};var Wn=n(24834),zn=n(49733);const $n=()=>{const e=[(0,E.BH)(Mn.NEW_CHANGELIST),(0,E.BH)(Mn.RENAME_CHANGELIST),(0,E.BH)(Mn.REMOVE_CHANGELIST),(0,E.BH)(Mn.SET_DEFAULT_CHANGELIST),(0,E.BH)(Mn.MOVE_TO_ANOTHER_CHANGELIST)].filter(jt.N);return r.createElement(zn.N,{renderMenu:t=>{let{menuProps:n}=t;return r.createElement(xn.C,{menuProps:n,actions:e})}},r.createElement(k.vq,{icon:"vcs/changelist.svg"}))};$n.__docgenInfo={description:"",methods:[],displayName:"ChangeListsActionButton"};var Xn=n(566);const er=()=>{const e=(0,o.sJ)(an),t=(0,o._8)((e=>{let{set:t}=e;return e=>{t(Zt(e),(e=>!e))}}),[]);return r.createElement(zn.N,{renderMenu:n=>{let{menuProps:o}=n;return r.createElement(S.v2,(0,u.Z)({},o,{selectedKeys:e.filter((e=>{let{isActive:t}=e;return t})).map((e=>{let{grouping:t}=e;return t.id})),onAction:n=>{var r;const o=null==(r=e.find((e=>{let{grouping:t}=e;return t.id===n})))?void 0:r.grouping.id;o&&t(o)}}),r.createElement(Xn.$0,{title:"Group By"},e.map((e=>{let{grouping:t}=e;return r.createElement(b.c,{key:t.id},t.title)}))))}},r.createElement(k.vq,{icon:"actions/groupBy.svg"}))};er.__docgenInfo={description:"",methods:[],displayName:"GroupByActionButton"};const tr=()=>{const[e,t]=(0,o.FV)(Yt),[n,a]=(0,o.FV)(Jt),i={showRelatedFiles:e,showIgnoredFiles:n};return r.createElement(zn.N,{renderMenu:e=>{let{menuProps:n}=e;return r.createElement(S.v2,(0,u.Z)({},n,{selectedKeys:Object.keys(i).filter((e=>i[e])),onAction:e=>{switch(e){case"showIgnoredFiles":return a((e=>!e));case"showRelatedFiles":return t((e=>!e))}}}),r.createElement(b.c,{key:"showIgnoredFiles"},"Show Ignored Files"),r.createElement(b.c,{key:"showRelatedFiles"},"Show Files Related to Active Changelist"))}},r.createElement(k.vq,{icon:"actions/show.svg"}))};function nr(){return r.createElement(Wn.K,{hasBorder:!0},r.createElement(ot.aU.Button,{actionId:Mn.REFRESH}),r.createElement(ot.aU.Button,{actionId:Mn.ROLLBACK}),r.createElement(ot.aU.Button,{actionId:Mn.SHOW_DIFF}),r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"Changelists"})},r.createElement($n,null)),r.createElement(ot.aU.Button,{actionId:Mn.SHELVE_SILENTLY}),r.createElement(Wn.f,null),r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"Group By"})},r.createElement(er,null)),r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"View Options"})},r.createElement(tr,null)),r.createElement(ot.aU.Button,{actionId:rt.$.EXPAND_ALL}),r.createElement(ot.aU.Button,{actionId:rt.$.COLLAPSE_ALL}))}tr.__docgenInfo={description:"",methods:[],displayName:"ViewOptionsActionButton"},nr.__docgenInfo={description:"",methods:[],displayName:"ChangesViewToolbar"};const rr=e=>{let{changes:t}=e;const n=t.filter((e=>e.after.path&&e.before.path)).length,o=t.filter((e=>e.after.path&&!e.before.path)).length,a=t.filter((e=>e.before.path&&!e.after.path)).length;return r.createElement(r.Fragment,null,o>0&&r.createElement(Ue,{status:"ADDED"},o," added"),n>0&&r.createElement(Ue,{status:"MODIFIED"},n," modified"),a>0&&r.createElement(Ue,{status:"DELETED"},a," deleted"))};rr.__docgenInfo={description:"",methods:[],displayName:"ChangesSummary",props:{changes:{required:!0,tsType:{name:"ReadonlyArray",elements:[{name:"Change"}],raw:"ReadonlyArray<Change>"},description:""}}};const or=A.ZP.div.withConfig({displayName:"ChangesViewSplitter__StyledContainer",componentId:"sc-ivnejd-0"})(["display:flex;flex-direction:column;height:100%;"]),ar=A.ZP.div.withConfig({displayName:"ChangesViewSplitter__StyledTreeViewWrapper",componentId:"sc-ivnejd-1"})(["flex:1;overflow:auto;"]),ir=A.ZP.div.withConfig({displayName:"ChangesViewSplitter__StyledActionsRow",componentId:"sc-ivnejd-2"})(["display:flex;padding:0.125rem;position:relative;"]),lr=(0,A.ZP)(In.X).withConfig({displayName:"ChangesViewSplitter__StyledAmendCheckbox",componentId:"sc-ivnejd-3"})(["padding-right:0.625rem;"]),sr=A.ZP.div.withConfig({displayName:"ChangesViewSplitter__StyledCommitMessageContainer",componentId:"sc-ivnejd-4"})(["background:",";height:100%;display:flex;flex-direction:column;"],(e=>{let{theme:t}=e;return t.dark?"#2b2b2b":"#fff"})),cr=A.ZP.textarea.withConfig({displayName:"ChangesViewSplitter__StyledCommitMessageTextArea",componentId:"sc-ivnejd-5"})(["flex:1;background:none;padding:0.25rem 0.375rem;color:",";font-family:inherit;border:none;resize:none;outline:none;"],(e=>{let{theme:t}=e;return t.dark?"#a9b7c6":"#000"})),dr=A.ZP.div.withConfig({displayName:"ChangesViewSplitter__StyledCommitActionsRow",componentId:"sc-ivnejd-6"})(["display:flex;gap:0.3rem;padding:0.4rem;"]),Ar=A.ZP.span.withConfig({displayName:"ChangesViewSplitter__StyledChangesSummaryContainer",componentId:"sc-ivnejd-7"})(["position:absolute;right:0.5rem;top:0.25rem;background:",";z-index:1;"],(e=>{let{theme:t}=e;return t.color("Panel.background")}));let ur=()=>{};const mr=()=>{const{state:{anchor:e}}=(0,kn.j)(),t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=(0,Bn.Ss)(e),[i,l]=(0,o.FV)(En(a)),s=(0,nt.x)({treeRef:t});return ur=()=>{setTimeout((()=>{var e;null==(e=n.current)||e.focus()}))},r.createElement(Fn.D,{orientation:a,innerView:r.createElement(E.DG,{actions:s},(e=>{let{shortcutHandlerProps:n}=e;return r.createElement(or,n,r.createElement(nr,null),r.createElement(ar,null,r.createElement(Zn,{treeRef:t})),r.createElement(gr,null))})),innerViewMinSize:50,lastView:r.createElement(pr,{editorRef:n}),lastSize:i,onLastResize:l})},hr=()=>{const e=(0,o.sJ)(nn);return r.createElement(rr,{changes:e})};function gr(){const[e,t]=(0,o.FV)(yn);return r.createElement(ir,null,r.createElement(T.a,{tooltip:r.createElement(Tn.h,{actionName:"Amend Commit",helpText:"Modify the latest commit of the current branch"})},(n=>r.createElement("span",n,r.createElement(lr,{isSelected:e,onChange:t,preventFocus:!0},"Amend")))),r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"Show Commit Options"})},r.createElement(Nn.Kk,{onPress:Je},r.createElement(k.vq,{icon:"general/gear.svg"}))),r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:"Commit Message History"})},r.createElement(Nn.Kk,{isDisabled:!0,onPress:Je},r.createElement(k.vq,{icon:"vcs/historyInline.svg"}))),r.createElement(Ar,null,r.createElement(hr,null)))}function pr(e){let{editorRef:t}=e;const n=(0,r.useRef)(null),[a,i]=(0,o.FV)(Cn),{hasFocus:l}=(0,$e.e)();return(0,r.useImperativeHandle)(t,(()=>({focus:()=>{var e;null==(e=n.current)||e.focus()}})),[]),r.createElement(sr,null,r.createElement(cr,{ref:n,value:a,onChange:e=>{i(e.target.value)},placeholder:"Commit Message","data-gramm":"false"}),r.createElement(dr,null,r.createElement(Qn.z,{preventFocusOnPress:!0,variant:l?"default":void 0,onPress:Je},"Commit"),r.createElement(Qn.z,{preventFocusOnPress:!0,onPress:Je},"Commit and Push...")))}mr.__docgenInfo={description:"",methods:[],displayName:"ChangesViewSplitter"};const fr=A.ZP.div.withConfig({displayName:"ChangesViewPane__StyledContainer",componentId:"sc-1pqba05-0"})(["display:flex;flex-direction:column;height:100%;"]),Er=()=>{const e=Rt();return(0,r.useEffect)((()=>{e()}),[]),r.createElement(fr,null,r.createElement(mr,null))};Er.__docgenInfo={description:"",methods:[],displayName:"ChangesViewPane"};const yr="Commit",Cr=()=>r.createElement(Bt.y,null,r.createElement(Bt.y.View,{tabContent:r.createElement(r.Fragment,null,"Commit to ",r.createElement(bn,null)),key:"commit"},r.createElement(Er,null)));Cr.__docgenInfo={description:"",methods:[],displayName:"CommitToolWindow"};const wr=[{id:"Project",title:"Project",icon:r.createElement(k.vq,{icon:"toolwindows/toolWindowProject"}),content:r.createElement(kt,null),initialState:(0,ze.x5)({isVisible:!0,weight:.23})},{id:"Terminal",title:"Terminal",icon:r.createElement(k.vq,{icon:"toolwindows/toolWindowProject"}),content:r.createElement($e.n,{headerContent:"Terminal"},r.createElement(tt,null)),initialState:(0,ze.x5)({anchor:"bottom"})},{id:yr,title:"Commit",icon:r.createElement(k.vq,{icon:"toolwindows/toolWindowCommit"}),content:r.createElement(Cr,null),initialState:(0,ze.x5)({anchor:"left",isVisible:!1})}];var vr=n(86253),Sr=n(63515),br=n(93493),Ir=n(38522),kr=n(34223),Br=n(41636),Fr=n(49930),Tr=n(84280);const Nr=(0,o.cn)({key:"switchToPersistentFsProcess",default:null});function Qr(){const e=(0,s.L)(),t=(0,o.Zl)(Nr);(0,r.useEffect)((()=>{const n=setTimeout((()=>{null==le.get()&&e.showSticky({title:"Switch to IndexedDB filesystem",body:"By default an in-memory filesystem is used to have a faster git clone. But it means all changes will be lost upon refresh. You can switch in the background to a persistence fs implementation which uses IndexedDB to store files.",actions:r.createElement(r.Fragment,null,r.createElement(Tr.g,{onPress:()=>{const e=new ne.qf.cancelToken;t({details:"Copying ...",isIndeterminate:!0,state:"STARTED",progress:0,onCancel:()=>{e.abort("canceled")},name:"Switching to IndexedDB FS"});ce({cancelSignal:e.signal,onCopy:e=>{var n;n={name:`Copying ${M().dirname(e)}`},t((e=>e?{...e,...n}:null))}}).then((()=>{le.set("yes")})).catch((e=>{"canceled"!==e&&console.error("Error during switch to persistent FS:",e)})).finally((()=>{t(null)}))}},"Switch to IndexedDB FS"),r.createElement(Tr.g,{onPress:()=>le.set("no")},"Don't ask again"))})}),3e3);return()=>clearTimeout(n)}),[])}var Pr=n(20078),Dr=n(21097),Rr=n(64478),Mr=n(83031);const xr=(0,o.CG)({key:"vcs/repoLocalBranches",get:e=>t=>{let{get:n}=t;return a.ZP.listBranches({fs:ie,dir:e}).then((t=>{const r=n(Ge(e));return Promise.all(t.map((async t=>({name:t,isCurrent:r===t,trackingBranch:await Lr({fs:ie,dir:e,branch:t})}))))}))}}),Gr=(0,o.CG)({key:"vcs/repoRemoteBranches",get:e=>async()=>{const t=await a.ZP.listRemotes({fs:ie,dir:e});return(await Promise.all(t.map((t=>{let{remote:n}=t;return a.ZP.listBranches({fs:ie,dir:e,remote:n}).then((e=>e.filter((e=>"HEAD"!==e)).map((e=>`${n}/${e}`))))})))).flat()}}),Hr=(0,o.nZ)({key:"vcs/allBranches",get:e=>{let{get:t}=e;return t(Re).map((e=>{let{dir:n}=e;return{repoRoot:n,localBranches:t(xr(n)),remoteBranches:t(Gr(n))}}))}});async function Lr(e){let{fs:t,dir:n,branch:r}=e;const o=await a.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.merge`}),i=await a.ZP.getConfig({fs:t,dir:n,path:`branch.${r}.remote`});return o&&i?`${i}/${o.replace(/^refs\/heads\//,"")}`:null}function Kr(e){let{onClose:t}=e;const n=function(e){const[t,n]=(0,r.useState)(null);let a=(0,o.$P)(e);return(0,r.useEffect)((()=>{"hasValue"===a.state&&n(a.contents)}),[a]),t}(Hr),i=(0,E.BH)(Mn.GIT_CREATE_NEW_BRANCH),l=(0,o._8)((e=>{let{refresh:t}=e;return(e,n)=>(0,a.NA)({fs:ie,dir:n,ref:e}).then((()=>{t(Hr)}))}),[]),c=(0,s.L)(),d=e=>"master"===e;if(!n)return null;const A=1===n.length?`Git Branches in ${M().basename(n[0].repoRoot)}`:"Git Branches";return r.createElement(Pr.F,{header:r.createElement(Dr.GI.Header,null,A),content:r.createElement(Rr.w,{"aria-label":A,submenuBehavior:"toggleOnPress",fillAvailableSpace:!0,autoFocus:"first",disabledKeys:n.flatMap((e=>{let{localBranches:t,repoRoot:n}=e;return t.filter((e=>{let{trackingBranch:t}=e;return!t})).map((e=>{let{name:t}=e;return`${n}/pull-${t}`}))})),onAction:e=>{const[t,n,o]=`${e}`.split("//");return e===(null==i?void 0:i.id)?null==i?void 0:i.perform():"delete"===o?l(n,t).then((()=>{c.show({title:`Deleted branch: ${n}`,icon:"Info",actions:r.createElement(Tr.g,{onPress:Je},"Restore")})}),(()=>{c.show({title:`Could not deleted branch: ${n}`,icon:"Error"})})):Je()},onClose:t},i&&r.createElement(b.c,{key:i.id,textValue:i.title},r.createElement(F._,{icon:i.icon,content:i.title})),r.createElement(b.c,{key:"checkout_revision"},"Checkout Tag or Revision..."),n.flatMap((e=>{var t;let{remoteBranches:o,localBranches:a,repoRoot:i}=e;const l=null==(t=a.find((e=>{let{isCurrent:t}=e;return t})))?void 0:t.name,s=e=>n.length>1?`${e} in ${M().basename(n[0].repoRoot)}`:e,c=(e,t)=>[!t&&r.createElement(b.c,{key:`${i}//${e}//compare-with-branch`},`Compare with '${e}'`),r.createElement(b.c,{key:`${i}//${e}//show-diff-with-working-tree`},"Show Diff with Working Tree"),r.createElement(Rn.i,null)],A=(e,t)=>[!t&&r.createElement(b.c,{key:`${i}//${e}//checkout`},"Checkout"),r.createElement(b.c,{key:`${i}//${e}//new-branch-from`},`New Branch from '${e}'...`),!t&&r.createElement(b.c,{key:`${i}//${e}//checkout-and-rebase-onto`},`Checkout and rebase onto '${e}'`),r.createElement(Rn.i,null)],u=(e,t)=>t&&e!==t&&[r.createElement(b.c,{key:`${i}//${e}//rebase-current-onto`},`Rebase '${t}' onto '${e}'`),r.createElement(b.c,{key:`${i}//${e}//merge-into-current`},`Merge '${e}' onto '${t}'`),r.createElement(Rn.i,null)];return[r.createElement(Xn.$0,{title:s("Local Branches")},a.map((e=>{let{name:t,trackingBranch:n,isCurrent:o}=e;return r.createElement(b.c,{key:`${i}//${t}`,textValue:t,title:r.createElement(F._,{content:t,icon:d(t)?r.createElement(k.vq,{icon:"nodes/favorite.svg"}):r.createElement(Mr.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"}),shortcut:n&&r.createElement(ht.e.Hint,{small:!0},n)})},A(t,o),c(t,o),u(t,l),r.createElement(b.c,{key:`${i}//${t}//pull`},"Update"),r.createElement(b.c,{key:`${i}//${t}//push`},"Push..."),r.createElement(Rn.i,null),r.createElement(b.c,{key:`${i}//${t}//rename`},"Rename..."),!o&&r.createElement(b.c,{key:`${i}//${t}//delete`},"Delete"))}))),r.createElement(Xn.$0,{title:s("Remote Branches")},o.map((e=>r.createElement(b.c,{key:`${i}//${e}`,textValue:e,title:r.createElement(F._,{content:e,icon:d(e)?r.createElement(k.vq,{icon:"nodes/favorite.svg"}):r.createElement(Mr.v,{icon:"nodes/emptyNode.svg",hoverIcon:"nodes/notFavoriteOnHover.svg",hoverContainerSelector:"[role='menuitem']"})})},A(e,!1),c(e,!1),u(e,l),r.createElement(b.c,{key:`${i}//${e}//pull-into-using-merge`},`Pull into '${e}' Using Merge`),r.createElement(b.c,{key:`${i}//${e}//pull-into-using-rebase`},`Pull into '${e}' Using Rebase`),r.createElement(Rn.i,null),r.createElement(b.c,{key:`${i}//${e}//delete`},"Delete")))))]})))})}Kr.__docgenInfo={description:"",methods:[],displayName:"BranchesPopupContent",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Vr=(0,o.nZ)({key:"vcs/activeFileRepo",get:e=>{var t,n;let{get:r}=e;const o=null==(t=r(Te))?void 0:t.filePath;return(o&&r(Me(o)))??(null==(n=r(Re)[0])?void 0:n.dir)}}),Or=(0,o.nZ)({key:"vcs/activeFileRepoBranches",get:e=>{let{get:t}=e;const n=t(Vr);return t(Hr).find((e=>{let{repoRoot:t}=e;return n===t}))??{repoRoot:n,localBranches:[],remoteBranches:[]}}}),Ur=(0,o.nZ)({key:"vcs/activeFileCurrentBranch",get:e=>{let{get:t}=e;return xe(t(Vr))}}),_r=A.ZP.div.withConfig({displayName:"IdeStatusBar__StyledLastMessage",componentId:"sc-1hz1fp-0"})(["margin-left:0.75rem;cursor:pointer;"]),jr=()=>{const e=(0,o.sJ)(Nr);return e&&r.createElement(vr.ko,{name:e.name,isIndeterminate:e.isIndeterminate,value:e.progress,dense:!0,namePosition:"side",width:146,button:r.createElement(r.Fragment,null,e.onPause&&r.createElement(Sr.P,{small:!0,paused:!1,onPausedChange:()=>{}}),e.onCancel&&r.createElement(br.b,{small:!0,onPress:e.onCancel}))})},qr=()=>{const e=(0,o.sJ)(Ne),t=(0,o.sJ)(Ur),[n,a]=(0,r.useState)(!1);return r.createElement(Ir.A,{left:r.createElement(r.Fragment,null,r.createElement(k.vq,{icon:"general/tbHidden.svg",role:"button",onClick:Je}),r.createElement(_r,null,"Tooltip content or last message will show up here.")),right:r.createElement(r.Fragment,null,r.createElement(jr,null),r.createElement(kr.V,{onPress:Je,label:"LF"}),r.createElement(kr.V,{onPress:Je,label:`${e.lineNumber},${e.column}`}),r.createElement(kr.V,{label:"UTF-8"}),r.createElement(Br.b,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(S.v2,(0,u.Z)({},t,{onAction:Je}),r.createElement(b.c,null,"Configure Indents for Typescript"),r.createElement(b.c,null,"Disable Indents Detection for Project"))}},((e,t)=>r.createElement(kr.V,(0,u.Z)({},e,{ref:t,label:"2 spaces"})))),r.createElement(Br.b,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(S.v2,(0,u.Z)({},t,{onAction:Je}),r.createElement(b.c,{title:"Compile"},r.createElement(b.c,null,"packages/jui/tsconfig.json"),r.createElement(b.c,null,"packages/jui/src/StatusBar/StatusBar.stories.tsx"),r.createElement(b.c,null,"Compile All")),r.createElement(Rn.i,null),r.createElement(b.c,null,r.createElement(F._,{icon:r.createElement(k.vq,{icon:"javaee/updateRunningApplication.svg"}),content:"Restart Typescript Service"})),r.createElement(b.c,null,r.createElement(F._,{icon:r.createElement(k.vq,{icon:"general/settings.svg"}),content:"Configure Typescript..."})))}},((e,t)=>r.createElement(kr.V,(0,u.Z)({},e,{ref:t,label:"TypeScript 4.4.3"})))),r.createElement(Fr.P,{isOpen:n,onOpenChange:a,placement:"top",interactions:"all",trigger:r.createElement(T.a,{tooltip:r.createElement(N.M,{actionName:`Git Branch: ${t}`})},r.createElement(kr.V,{icon:r.createElement(k.vq,{icon:"vcs/branch.svg"}),label:t}))},(e=>{let{close:t}=e;return r.createElement(Kr,{onClose:t})})),r.createElement(kr.V,{icon:r.createElement(k.vq,{icon:"ide/readwrite.svg"})}),r.createElement(kr.V,{icon:r.createElement(k.vq,{icon:"ide/fatalError.svg"})}))})};qr.__docgenInfo={description:"",methods:[],displayName:"IdeStatusBar"};var Jr=n(85506),Yr=n(19101),Zr=n(85048);const Wr=()=>r.createElement(S.v2,{disabledKeys:["showDiff"],"aria-label":"Context menu",onAction:Je},r.createElement(b.c,{key:"showDiff",textValue:"Show Diff"},r.createElement(F._,{icon:r.createElement(k.vq,{icon:"actions/diff.svg"}),content:"Show Diff"})));Wr.__docgenInfo={description:"",methods:[],displayName:"RollbackTreeContextMenu"};const zr=f.zo.div`
  box-sizing: border-box;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 1rem 0.75rem 0;
`,$r=f.zo.div`
  border: 1px solid ${e=>{let{theme:t}=e;return t.commonColors.contrastBorder}};
  flex: 1;
  overflow: auto;
`,Xr=f.zo.div`
  line-height: 2;
  padding-left: 0.5rem;
`;function eo(){const e=(0,o.sJ)(_t.initiallyExpandedKeys),t=(0,o.sJ)(_t.initiallyIncludedChanges).map(sn),{fileCountsMap:n}=(0,o.sJ)(fn),[a,i]=(0,o.FV)(_t.windowBounds),l=(0,o.sJ)(_t.rootNodes),[c,d]=(0,r.useState)(new Set(t.slice(0,1))),[A,m]=(0,r.useState)(e),[h,g]=(0,r.useState)(new Set(t)),p=(0,Jr.T)({rootNodes:l,getKey:e=>e.key,getChildren:e=>un(e)?e.children:null},{selectedKeys:h,onSelectedKeysChange:g}),f=(0,o.sJ)(Nt).filter((e=>h.has(sn(e)))),y=Dt(),C=(0,s.L)(),w=(0,o.Zl)(_t.isOpen),I=()=>w(!1),B=(0,r.useRef)(null),F=(0,nt.x)({treeRef:B});return r.createElement(Yr.Du,{onClose:I,bounds:a,onBoundsChange:i,minHeight:200,minWidth:275},r.createElement(Zr.b,{header:"Rollback changes",content:r.createElement(E.DG,{actions:F},(e=>{let{shortcutHandlerProps:t}=e;return r.createElement(zr,t,r.createElement("div",{style:{display:"flex"}},r.createElement(Wn.K,null,r.createElement(Nn.Kk,{isDisabled:!0},r.createElement(k.vq,{icon:"actions/diff"})),r.createElement(zn.N,{renderMenu:e=>{let{menuProps:t}=e;return r.createElement(S.v2,(0,u.Z)({},t,{selectedKeys:[],onAction:Je}),r.createElement(Xn.$0,{title:"Group By"},xt.map((e=>r.createElement(b.c,{key:e.id},e.title)))))}},r.createElement(k.vq,{icon:"actions/groupBy.svg"}))),r.createElement("span",{style:{flex:1}}),r.createElement(Wn.K,null,r.createElement(ot.aU.Button,{actionId:rt.$.EXPAND_ALL}),r.createElement(ot.aU.Button,{actionId:rt.$.COLLAPSE_ALL}))),r.createElement($r,null,r.createElement(v.X,{renderMenu:()=>r.createElement(Wr,null),style:{height:"100%"}},r.createElement(Pn.G,{ref:B,items:l,selectionMode:"multiple",selectedKeys:c,onSelectionChange:d,expandedKeys:A,onExpandedChange:m,nestedSelection:p,fillAvailableSpace:!0},(e=>{var t;const o=Jn({node:e,fileCountsMap:n});return r.createElement(b.c,o,0!==(null==(t=e.children)?void 0:t.length)&&r.createElement(Dn.x,{selectionState:p.getSelectionState(e),onToggle:()=>p.toggle(e)}),o.children)})))))})),footer:r.createElement(r.Fragment,null,r.createElement("div",{style:{padding:"0 .75rem",display:"flex",flexDirection:"column"}},r.createElement(Xr,null,r.createElement(rr,{changes:f})),r.createElement(In.X,{isDisabled:!0},"Delete local copies of the added files")),r.createElement(Zr.b.Footer,{right:r.createElement(r.Fragment,null,r.createElement(Qn.z,{onPress:I},"Cancel"),r.createElement(Qn.z,{variant:"default",onPress:()=>{y(f).catch((e=>{C.show({title:"Reverting changes failed",icon:"Error",body:"Could not revert selected changes. See console for more info"}),console.error("Git revert error:",e)})).finally(I)}},"Rollback"))}))}))}eo.__docgenInfo={description:"",methods:[],displayName:"RollbackWindow"};const to=(0,o.cn)({key:"toolWindows",default:new ze.iC(Object.fromEntries(wr.map((e=>{let{id:t,initialState:n}=e;return[t,n]}))))});var no=n(77327),ro=n(32777),oo=n(75375),ao=n(48686),io=n(77305),lo=n(87778),so=n(73074);const co=[{actionId:rt.$.EXPAND_SELECTION,title:"Press $shortcut to expand selection"},{actionId:rt.$.SHRINK_SELECTION,title:"Press $shortcut to shrink selection"}],Ao=()=>{const e=(0,l.og)(),t=(0,r.useMemo)((()=>co.map((t=>{var n;let{actionId:r,title:o}=t;return{keyboardShortcut:null==e||null==(n=e[r])?void 0:n.find((e=>"keyboard"===e.type)),title:o}})).filter((e=>{let{keyboardShortcut:t}=e;return t})).map((e=>{let{keyboardShortcut:t,title:n}=e;return n.replace("$shortcut",(0,so.W)(t))}))),[e]),[n,o]=(0,r.useState)(Math.floor(Math.random()*t.length));return{current:t[n],next:()=>{const e=Math.floor(Math.random()*(t.length-1)),r=e<n?e:e+1;console.log("changing index to",r,"tmpIndex",e),o(r)}}},uo=r.forwardRef((function(e,t){const n=(0,_e.B3)(t),{focusableProps:o}=(0,io.kc)({autoFocus:e.autoFocus},n);return r.createElement("input",(0,u.Z)({},(0,_e.dG)(o,e),{ref:n}))}));uo.__docgenInfo={description:"",methods:[],displayName:"Input"};const mo={isOpen:(0,o.cn)({key:"search.everywhere.isOpen",default:!1}),tab:(0,o.cn)({key:"search.everywhere.tab",default:"All"}),contextElement:(0,o.cn)({key:"search.everywhere.contextElement",default:void 0}),initialSearchQuery:(0,o.xu)({key:"search.everywhere.initialQuery",default:""}),bounds:(0,o.cn)({key:"search.everywhere.bounds",default:null})};function ho(e){let{hasContent:t,persistedBoundsState:n,noContentHeight:a,minHeight:i,...l}=e;const s=(0,o.Zl)(n),c=fe(n,{top:150,height:Math.max(200,window.innerHeight-300)}),[d,A]=(0,r.useState)(c),m=(0,r.useRef)(d.height);return(0,r.useEffect)((()=>{A((e=>({...e,height:t?m.current:a})))}),[t]),r.createElement(Dr.GI,(0,u.Z)({},l,{bounds:d,onBoundsChange:e=>{t&&(m.current=e.height,s(e)),A(e)},minHeight:t?i:a}))}ho.__docgenInfo={description:"A special type of popup, where the content can be toggled on and off. Needed only for SearchEveryWhere at the moment,\nbut extracted as a component, to collocate related pieces, rather than leave them with the rest of the code in the\ncomponent.\n- Updates persisted {@param boundsState}, when the bounds are changed, only if the content is shown when the bounds\n  is changed.\n- Minimizes the popup into {@param noContentHeight}, when {@param hasContent} is `false`.\n- Restores the popup height to it's latest value, or based on content, when {@param hasContent} changes to `true`.\n- Returns the right to be applied based on the input {@param minHeight} and {@param hasContent}.",methods:[],displayName:"ContentAwarePopup",props:{hasContent:{required:!0,tsType:{name:"boolean"},description:"Whether the popup has content. If `false`, the popup is minimized to `noContentHeight`."},noContentHeight:{required:!0,tsType:{name:"number"},description:"The minimized height of the popup, when there is no content."},persistedBoundsState:{required:!0,tsType:{name:"RecoilState",elements:[{name:"union",raw:"Partial<Bounds> | null",elements:[{name:"Partial",elements:[{name:"Bounds"}],raw:"Partial<Bounds>"},{name:"null"}]}],raw:"RecoilState<Partial<Bounds> | null>"},description:"Persisted state of the popup bounds, in form of a recoil state."}}};var go=n(44439),po=n(88825),fo=n(29561);const Eo=f.zo.span`
  width: 1.125rem;
  display: inline-flex;
  justify-content: center;
`,yo=(0,f.zo)(ht.e)`
  min-height: 1.375rem;
  width: 100%;
  padding: 0;
`,Co=f.zo.span`
  color: ${e=>{let{theme:t,isDisabled:n}=e;return n&&t.currentForegroundAware(t.commonColors.inactiveTextColor)}};
`,wo=f.zo.div`
  flex: 1;
`;function vo(e){let{action:t,highlights:n}=e;const{isSelected:o}=(0,r.useContext)(pt.k)||{};return r.createElement(yo,null,r.createElement(Eo,null,t.icon),r.createElement(Co,{isDisabled:t.isDisabled},o?r.createElement(po.x,{highlights:n},t.title):t.title),r.createElement(ht.e.Hint,{style:{fontSize:".85em",fontWeight:"bold"}},t.shortcut),r.createElement(wo,null),r.createElement(ht.e.Hint,{style:{marginRight:"-0.375rem"}},function(e,t){let n=(0,fo.nf)(e)?e.parent:null;const r=[];for(;n;)r.unshift(t?n[t]:n),n=n.parent;return r}(t,"title").join(" | ")))}vo.__docgenInfo={description:"UI of actions in SearchEverywhere list",methods:[],displayName:"ActionItem",props:{action:{required:!0,tsType:{name:"Action"},description:""},highlights:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:""}}};const So={id:"Actions",title:"Actions",actionId:rt.$.GO_TO_ACTION,use:e=>{let{everyWhereAutoSet:t}=e;const n=(0,o.sJ)(mo.contextElement),[a,i]=(0,r.useState)(null),l=(0,r.useMemo)((()=>n?(0,E.C9)(n):[]),[n]),s=a??t,c=[{id:rt.$.SHOW_INTENTION_ACTIONS,title:"Assign a shortcut",actionPerformed:Je}];return{search:e=>{const t=l.map((t=>({highlights:(0,go.M)(t.title,e),action:t}))).filter((t=>{let{action:n,highlights:r}=t;return r||(0,go.M)(n.description||"",e)}));return s?t:t.filter((e=>{let{action:t}=e;return!t.isDisabled}))},searchDeps:[s],isEverywhere:s,toggleEverywhere:()=>{i((e=>!e))},searchAdvertiser:r.createElement(no.i,{actionId:rt.$.SHOW_INTENTION_ACTIONS},(e=>`Press ${e} to assign a shortcut`)),headerFilters:r.createElement(In.X,{preventFocus:!0,isSelected:s,onChange:e=>{i(e)}},"Include disabled actions"),actions:c,processSelectedItem(e){let{action:t}=e;null==t||t.perform({event:null,element:n})},getKey:e=>{let{action:t}=e;return t.id},getItemText(e){let{action:{title:t}}=e;return t},renderItem(e){let{action:t,highlights:n}=e;return r.createElement(vo,{action:t,highlights:n})}}}};var bo=n(65617);function Io(e){let{file:t,matches:n}=e;const{isSelected:o}=(0,r.useContext)(pt.k)||{},a=M().basename(t.relativePath),i=M().dirname(t.relativePath),[l,s]=(0,bo.Z)((e=>e.from>=i.length),n||[]),c=s.map((e=>{let{from:t,to:n}=e;return{from:t-i.length,to:n-i.length}}));return r.createElement(yo,null,r.createElement(Eo,null,r.createElement(k.vq,{icon:L(t.path)})),r.createElement(Co,null,o?r.createElement(po.x,{highlights:c},a):a),r.createElement(ht.e.Hint,null,o?r.createElement(po.x,{highlights:l},i):i))}Io.__docgenInfo={description:"UI of paths in SearchEverywhere list.",methods:[],displayName:"FileItem",props:{file:{required:!0,tsType:{name:"ProjectFsItem"},description:""},matches:{required:!0,tsType:{name:"union",raw:"null | TextRange[]",elements:[{name:"null"},{name:"Array",elements:[{name:"TextRange"}],raw:"TextRange[]"}]},description:"matches on file.relativePath"}}};const ko={id:"Files",title:"Files",actionId:rt.$.GO_TO_FILE,use:()=>{const e=(0,o._8)((e=>{let{snapshot:t}=e;return()=>t.getLoadable(we).getValue()}),[]),{openPath:t}=Pe(),n=ut();return{search:t=>e().map((e=>({matches:(0,go.M)(e.relativePath,t),file:e}))).filter((e=>{let{matches:t}=e;return null==t?void 0:t.length})),searchDeps:[],isEverywhere:!0,processSelectedItem(e){let{file:r}=e;"file"===(null==r?void 0:r.type)&&t(r.path,!0),"dir"===(null==r?void 0:r.type)&&n(r.path)},getKey(e){let{file:t}=e;return t.path},renderItem(e){let{file:t,matches:n}=e;return r.createElement(Io,{file:t,matches:n})},getItemText(e){let{file:{relativePath:t}}=e;return t}}}},Bo="SearchEverywhere.PrevTab",Fo="SearchEverywhere.NextTab",To=f.zo.div`
  display: flex;
  width: 100%;
  background: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Header.background")}};
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,No=f.zo.button`
  all: unset;
  background: ${e=>{let{theme:t,selected:n}=e;return n&&t.color("SearchEverywhere.Tab.selectedBackground")}};
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.Tab.selectedForeground")}};
  opacity: ${e=>{let{disabled:t}=e;return t&&".5"}};
`,Qo=f.zo.span`
  display: flex;
  padding: 0 0.75rem;
  height: 1.8rem;
  align-items: center;
`,Po=f.zo.div`
  line-height: normal;
  border-bottom: none;
`,Do=f.zo.div`
  display: flex;
  flex-shrink: 0;
  height: 1.85rem;
  align-items: center;
  padding: 0 0.75rem 0;
  gap: 0.75rem;

  input {
    all: unset;
    flex: 1;
    line-height: 1.25;

    &::selection {
      color: ${e=>{let{theme:t}=e;return t.color("*.selectionForeground")}};
      background: ${e=>{let{theme:t}=e;return t.color("*.selectionBackground")}};
    }
  }
`,Ro=f.zo.div`
  height: 24rem;
  flex: 1;
  min-height: 0; // for it to properly fill the remaining height and not to exceed that
`,Mo=f.zo.hr`
  all: unset;
  height: 1px;
  width: 100%;
  border-bottom: 1px solid
    ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.borderColor")}};
`,xo=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.color("SearchEverywhere.SearchField.infoForeground")}};
  white-space: nowrap;
`,Go=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.currentForegroundAware(t.color("SearchEverywhere.SearchField.infoForeground"))}};
  font-size: 0.7rem;
  min-height: 1.375rem;
`,Ho=f.zo.div`
  color: ${e=>{let{theme:t}=e;return t.commonColors.inactiveTextColor}};
  position: absolute;
  text-align: center;
  width: 100%;
  top: 50%;
`,Lo=[So,ko],Ko={},Vo="LOAD_MORE_ITEM_KEY";function Oo(){const e=(0,o.Zl)(mo.isOpen),[t,n]=(0,o.FV)(mo.tab),[a,i]=(0,r.useState)(!1),[l,s]=(0,r.useState)(fe(mo.initialSearchQuery(t))),c=(0,o.Zl)(mo.initialSearchQuery(t)),d=(0,no.k)(),[A,m]=(0,r.useState)(new Set),h={};Lo.forEach((e=>{h[e.id]={...e,...e.use({everyWhereAutoSet:a})}}));const g=Lo.filter((e=>""===t||e.id===t)).map((e=>{let{id:t}=e;return h[t]})),[p,f]=(0,r.useState)(30),{searchResult:y}=(0,r.useMemo)((()=>({searchResult:g.flatMap((e=>e.search(l).map((t=>({key:`${e.id}_${e.getKey(t)}`,contributor:e,item:t})))))})),[l,t,...g.flatMap((e=>{let{searchDeps:t}=e;return t}))]),C=h[t],w=(0,r.useMemo)((()=>{const e=y.slice(0,p);return y.length>e.length&&e.push({key:Vo,item:Ko,contributor:null}),e}),[p,y]),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{l&&c(l)}),[l,t]),(0,r.useEffect)((()=>{if(y[0]){var e;const{key:t}=y[0];m(new Set([t])),null==(e=N.current)||e.setFocusedKey(t)}f(30)}),[y]);const S=[{id:Bo,title:"Prev tab",description:"Switch to previous tab in Search Everywhere dialog",actionPerformed:()=>{var e;const r=Lo.findIndex((e=>{let{id:n}=e;return t===n}));n(""===t?Lo.slice(-1)[0].id:(null==(e=Lo[r-1])?void 0:e.id)||"")}},{id:Fo,title:"Next tab",description:"Switch to next tab in Search Everywhere dialog",actionPerformed:()=>{var e;const r=Lo.findIndex((e=>{let{id:n}=e;return t===n}));n((null==(e=Lo[r+1])?void 0:e.id)||"")}}],I=Lo.flatMap((e=>{let{id:r,actionId:o,title:a}=e;return o?[{id:o,title:`Find ${a}`,description:`Quickly go to ${a} by name`,actionPerformed:()=>{t!==r?n(r):null==C||null==C.toggleEverywhere||C.toggleEverywhere()}}]:[]})),B=()=>e(!1),F=(0,r.useRef)(null),N=(0,r.useRef)(null),{collectionSearchInputProps:Q}=(0,ro.R)({collectionRef:F,selectionManager:N.current}),P=Ao();return r.createElement(ho,{persistedBoundsState:mo.bounds,hasContent:Boolean(l),noContentHeight:59,minWidth:670,minHeight:160,interactions:"all",onClose:B},r.createElement(E.DG,{actions:[...(null==C?void 0:C.actions)||[],...I,...S]},(e=>{let{shortcutHandlerProps:o}=e;return r.createElement("div",(0,u.Z)({},o,{style:{height:"inherit"}}),r.createElement(Dr.GI.Layout,{header:r.createElement(r.Fragment,null,r.createElement(Dr.GI.Header,{hasControls:!0},r.createElement(To,null,r.createElement("div",{style:{flex:1}},r.createElement(oo.m,{TabComponent:No,TabsComponent:Po,selectedKey:t,onSelectionChange:e=>n(e)},r.createElement(b.c,{key:""},r.createElement(Qo,null,"All")),Lo.map((e=>{const t=d(e.actionId),n=r.createElement(Qo,null,e.title);return r.createElement(b.c,{key:e.id},t?r.createElement(T.a,{tooltip:r.createElement(ao.u,null,t)},r.createElement("span",null,n)):n)})))),null==C?void 0:C.headerFilters,r.createElement(Nn.Kk,{style:{margin:"0 0.5rem"},isDisabled:!0},r.createElement(k.vq,{icon:"actions/moveToLeftBottom"})))),r.createElement(Do,null,r.createElement(k.vq,{icon:"actions/search"}),r.createElement(io.MT,{contain:!0},r.createElement(uo,(0,u.Z)({},Q,{autoFocus:!0,onFocus:e=>{e.target.select()},value:l,onChange:e=>(e=>{const t=v.current&&e.includes(v.current);null!=C&&C.isEverywhere&&!t&&i(!1),s(e)})(e.currentTarget.value)}))),r.createElement(xo,null,null==C?void 0:C.searchAdvertiser))),content:r.createElement(r.Fragment,null,r.createElement(Mo,null),l&&r.createElement(Ro,null,r.createElement(lo.a,{ref:F,selectionManagerRef:N,items:w,selectionMode:"single",alwaysShowAsFocused:!0,shouldFocusWrap:!0,fillAvailableSpace:!0,selectedKeys:A,onSelectionChange:m,onAction:e=>{if(e===Vo){f((e=>e+30));const e=y[w.length+1];e&&setTimeout((()=>{var t;m(new Set([e.key])),null==(t=N.current)||t.setFocusedKey(e.key)}))}else B(),setTimeout((()=>{const t=y.find((t=>t.key===e));null==t||t.contributor.processSelectedItem(t.item)}),50)}},(e=>{let{key:t,item:n,contributor:o}=e;return t===Vo?r.createElement(b.c,{key:Vo},r.createElement(Go,null,"...more")):r.createElement(b.c,{key:t,textValue:o.getItemText(n)},o.renderItem(n))})),0===y.length&&r.createElement(Ho,null,"No actions with such name found"))),footer:r.createElement(Dr.GI.Hint,null,P.current," ",r.createElement(je.r,{onPress:P.next},"Next Tip"))}))})))}function Uo(){const e=(0,o._8)((e=>{let{set:t}=e;return(e,n)=>{let{element:r}=e;r&&(t(mo.isOpen,!0),t(mo.tab,n),t(mo.contextElement,r))}}),[]);return[{id:rt.$.GO_TO_ACTION,title:"Find Action",description:"Quickly navigate to action by name",actionPerformed:t=>{e(t,"Actions")}},{id:rt.$.GO_TO_FILE,title:"Go to file",description:"Quickly navigate to file by name",actionPerformed:t=>{e(t,"Files")}}]}Oo.__docgenInfo={description:"TODO: implement history navigation",methods:[],displayName:"SearchEverywherePopup"};const _o=r.createContext(null),jo=()=>{const e=(0,o._8)(Sn,[]),t=Rt();return[Yo(),Zo(),{id:Mn.ROLLBACK,title:"Rollback...",icon:r.createElement(k.vq,{icon:"actions/rollback.svg"}),actionPerformed:t=>{e(Boolean(t))}},{id:Mn.REFRESH,title:"Refresh",icon:r.createElement(k.vq,{icon:"actions/refresh.svg"}),actionPerformed:t},{id:Mn.SHOW_DIFF,title:"Show Diff",icon:r.createElement(k.vq,{icon:"actions/diff.svg"}),actionPerformed:Je},{id:Mn.SHELVE_SILENTLY,title:"Shelve Silently",icon:r.createElement(k.vq,{icon:"vcs/shelveSilent.svg"}),actionPerformed:Je},{id:Mn.SHELVE,title:"Shelve Changes...",description:"Save changes to an external patch file and remove them from the code",icon:r.createElement(k.vq,{icon:"vcs/shelve.svg"}),actionPerformed:Je},...zo()]},qo=new Hn.C("{count, plural,\n    =1 {Commit File...}\n    other {Commit Files...}\n  }","en-US"),Jo=new Hn.C("{count, plural,\n    =1 {Commit Directory...}\n    other {Commit Directories...}\n  }","en-US");function Yo(){const e=(0,o._8)(vn,[]),t=(()=>{const e=(0,r.useContext)(_o);return{open:t=>{var n,r;null==e||null==(n=e.current)||n.changeState((e=>e.show(t))),null==e||null==(r=e.current)||r.focus(t)}}})(),n=(0,o.sJ)(ve),a=(0,o.sJ)(we),i=n.filter((e=>!n.find((t=>e!==t&&e.startsWith(t))))),l=a.find((e=>M().dirname(e.path).startsWith(i[0]))),s=(0,o.sJ)(Nt),c=i.some((e=>s.find((t=>function(e,t){const n=M().relative(e,t);return!n||!n.startsWith("..")&&!M().isAbsolute(n)}(e,t.after.path)))));return{id:Mn.CHECK_IN,title:l?Jo.format({count:i.length}):qo.format({count:i.length}),isDisabled:!c,actionPerformed:()=>{e(),t.open(yr),ur()}}}function Zo(){const e=Pe(),t=(0,o.sJ)(Xt);return{id:rt.$.EDIT_SOURCE,title:"Jump to source",icon:r.createElement(k.vq,{icon:"actions/editSource.svg"}),actionPerformed:()=>{[...t].forEach(((t,n,r)=>{t.after.isDir||e.openPath(t.after.path,n===r.length-1)}))}}}const Wo=new Hn.C("Delete {count, plural,\n    =1 {Changelist}\n    other {Changelists}\n  }","en-US");function zo(){const e=(0,o.sJ)(en),t=(0,o.sJ)(Xt),n=(0,o._8)((e=>{let{set:t,snapshot:n}=e;return e=>{const r=n.getLoadable(Tt).getValue(),o=r.find((t=>{let{id:n}=t;return n===e}));o&&t(Tt,r.map((e=>({...e,active:e===o}))))}}),[]),a=[...e].filter((e=>!e.active)),i=[{id:Mn.NEW_CHANGELIST,title:"New Changelist...",description:"Create new changelist",icon:r.createElement(k.vq,{icon:"general/add.svg"}),actionPerformed:Je}];return 1===e.size&&i.push({id:Mn.RENAME_CHANGELIST,title:"Edit Changelist...",description:"Edit name and description of selected changelist",icon:r.createElement(k.vq,{icon:"actions/edit.svg"}),actionPerformed:Je}),a.length>0&&i.push({id:Mn.REMOVE_CHANGELIST,title:Wo.format({count:a.length}),description:"Remove changelist and move all changes to another",icon:r.createElement(k.vq,{icon:"general/remove.svg"}),actionPerformed:Je}),1===a.length&&i.push({title:"Set Active Changelist",description:"Set changelist to which new changes are placed by default",id:Mn.SET_DEFAULT_CHANGELIST,icon:r.createElement(k.vq,{icon:"actions/selectall.svg"}),actionPerformed:()=>{n(a[0].id)}}),t.size>0&&i.push({title:"Move to Another Changelist...",description:"Move selected changes to another changelist",id:Mn.MOVE_TO_ANOTHER_CHANGELIST,actionPerformed:Je}),i}var $o=n(13211);const Xo=f.zo.div`
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 1rem 0.875rem 0.25rem;
  gap: 0.6rem;
`,ea=f.zo.div`
  margin-left: -0.25rem; // to align with the field. Maybe something to look into in checkbox.
  display: flex;
  gap: 0.75rem;
`,ta={EXISTING:e=>r.createElement(r.Fragment,null,"Branch name ",e," already exists. ",r.createElement("br",null),"Change the name or overwrite existing branch"),CLASHING_WITH_REMOTE:e=>r.createElement(r.Fragment,null,"Branch name ",e," clashes with remote branch ",r.createElement("br",null),"with the same name")};function na(e){var t;let{close:n}=e;const[i,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),A=(0,o.sJ)(Or),[u,m]=(0,r.useState)(!1),h=(0,s.L)(),g=(0,o._8)((e=>{let{refresh:t}=e;return function(e,n,r){return void 0===r&&(r=!0),(0,a.WY)({fs:ie,dir:n,checkout:r,ref:e}).then((()=>{t(Hr)}))}}),[]),p=null==(t=A.localBranches.find((e=>{let{isCurrent:t}=e;return t})))?void 0:t.name,[f,E]=(0,r.useState)(p||""),y=function(e,t){if(e.remoteBranches.some((e=>e===t)))return"CLASHING_WITH_REMOTE";if(e.localBranches.some((e=>{let{name:n}=e;return n===t})))return"EXISTING";return null}(A,f),C=!y||"EXISTING"===y&&c,w=!C&&u?"invalid":"valid";return r.createElement(Zr.b,{header:"Create New Branch",content:r.createElement(Xo,{id:"create_branch_form",as:"form",onSubmit:e=>{e.preventDefault(),C?g(f,A.repoRoot,i).catch((e=>{e instanceof a.D1.AlreadyExistsError?h.show({icon:"Error",title:"Unimplemented action",body:"Overwrite option is currently not supported."}):h.show({icon:"Error",title:"Unexpected error",body:`Could not create branch ${f}.`}),console.error("Branch creation error: ",e)})).then((()=>{n()})):m(!0)}},r.createElement($o.U,{autoFocus:!0,autoSelect:!0,value:f,onChange:e=>{E(function(e){return e.replace(ra,"_")}(e)),m(!0)},validationState:w,errorMessage:"invalid"===w&&y&&ta[y](f),label:"New branch name:",labelPlacement:"above"}),r.createElement(ea,null,r.createElement(In.X,{isSelected:i,onChange:l},"Checkout branch"),r.createElement(In.X,{isSelected:c,isDisabled:!u||"EXISTING"!==y,onChange:d},"Overwrite existing branch"))),footer:r.createElement(Zr.b.Footer,{right:r.createElement(r.Fragment,null,r.createElement(Qn.z,{onPress:n},"Cancel"),r.createElement(Qn.z,{variant:"default",type:"submit",form:"create_branch_form",isDisabled:"invalid"===w},"Create"))})})}const ra=new RegExp(`(^\\.)|(^-)|(^/)|(\\.\\.)+|[ ~:^?*\\[\\\\]+|(@\\{)+|[${Array(32).fill(null).map(((e,t)=>String.fromCharCode(t))).join("")}u007F]`);function oa(){const{show:e}=(0,d.U)(),{openModalWindow:t}=(0,c.S)();return[...jo(),{id:Mn.GIT_CREATE_NEW_BRANCH,title:"New Branch\u2026",description:"Create new branch starting from the selected commit",icon:r.createElement(k.vq,{icon:"general/add.svg"}),actionPerformed:()=>{t((e=>{let{close:t}=e;return r.createElement(na,{close:t})}),{minWidth:"content",minHeight:"content"})}},{id:Mn.GIT_BRANCHES,title:"Branches\u2026",icon:r.createElement(k.vq,{icon:"vcs/branch.svg"}),actionPerformed:()=>{e((e=>{let{close:t}=e;return r.createElement(Kr,{onClose:t})}))}}]}na.__docgenInfo={description:"",methods:[],displayName:"CreateNewBranchWindow",props:{close:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const aa=f.zo.div`
  display: flex;
  flex-direction: column;
  height: 100vh;
  min-height: 0;
`,ia=e=>{let{height:t,toolWindowRef:n}=e;const[a,i]=(0,o.FV)(to),l=(0,o.sJ)(_t.isOpen),c=(0,o.sJ)(mo.isOpen);Ke(),(()=>{const e=Rt();(0,r.useEffect)((()=>{e().catch((e=>console.error("could not initialize changes",e)))}),[e])})(),Qr(),qe.value=(0,s.L)();const d=[...Uo(),...oa()];return r.createElement(aa,{style:{height:t}},r.createElement(E.DG,{actions:d,useCapture:!0},(e=>{let{shortcutHandlerProps:t}=e;return r.createElement(r.Fragment,null,r.createElement(y.u,{ref:n,toolWindowsState:a,onToolWindowStateChange:e=>{i(e)},windows:wr,containerProps:t,allowBlurOnInteractionOutside:!0},r.createElement(Ye,null)),r.createElement(qr,null))})),c&&r.createElement(Oo,null),l&&r.createElement(eo,null))};ia.__docgenInfo={description:"",methods:[],displayName:"Project",props:{height:{required:!0,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""},toolWindowRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"ToolWindowRefValue"}],raw:"RefObject<ToolWindowRefValue>"},description:""}}};var la=n(82853);const sa=A.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialog",componentId:"sc-1ljr97b-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:",";color:",";",";text-align:center;line-height:1.5;"],(e=>{let{theme:t}=e;return t.color("*.background")}),(e=>{let{theme:t}=e;return t.color("*.foreground")}),la.s),ca=A.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialogHeader",componentId:"sc-1ljr97b-1"})(["background:",";padding:4px;text-align:center;"],(e=>{let{theme:t}=e;return t.color("Popup.Header.activeBackground")})),da=A.ZP.div.withConfig({displayName:"SampleRepoInitializer__StyledDialogContent",componentId:"sc-1ljr97b-2"})(["padding:8px 16px;"]);const Aa=e=>{let{children:t}=e;const[n,o]=(0,r.useState)("uninitialized");return(0,r.useEffect)((()=>{(async function(e,t){await async function(e){try{if(!(await ie.promises.stat(e)).isDirectory())return console.info(`Already cloned repo was not found. "${e}" is not a directory.`),!1;const t=await ie.promises.readdir(e);if(1===t.length&&".git"===t[0])return console.info(`Already cloned repo was not found at "${e}". ".git" folder exists, but it's not successfully unpacked.`),!1}catch(t){return console.info(`Already cloned repo was not found at "${e}".`),!1}return!0}(e)||(o("cloning"),await async function(e,t){console.log("cloning repo: "),await(0,a.d9)({fs:ie,url:t,http:i.Z,corsProxy:"https://cors.isomorphic-git.org",dir:e,singleBranch:!0})}(e,t))})(Ee.path,Ee.url).then((()=>{console.log("demo repo initialized"),o("initialized")})).catch((e=>{console.error("could not initialize the demo repo",e),o("error")}))}),[]),"uninitialized"===n?null:"initialized"===n?r.createElement(r.Fragment,null,t):r.createElement("div",{style:{minHeight:"100vh",position:"relative"}},r.createElement(sa,null,r.createElement(ca,null,"Cloning sample repo"),r.createElement(da,null,"cloning"===n?r.createElement(r.Fragment,null,"Cloning ",r.createElement("b",null,Ee.url),". ",r.createElement("br",null),"It may take several seconds."):r.createElement(r.Fragment,null,"Something went wrong!"))))};Aa.__docgenInfo={description:"",methods:[],displayName:"SampleRepoInitializer"};const ua={ActivateProjectWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit1",modifiers:["Meta"]}}],ActivateCommitWindow:[{type:"keyboard",firstKeyStroke:{code:"Digit0",modifiers:["Meta"]}}],ActivateTerminalWindow:[{type:"keyboard",firstKeyStroke:{code:"F12",modifiers:["Alt"]}}],[Mn.ROLLBACK]:[{type:"keyboard",firstKeyStroke:{code:"KeyZ",modifiers:["Alt","Meta"]}}],[Mn.SHOW_DIFF]:[{type:"keyboard",firstKeyStroke:{code:"KeyD",modifiers:["Meta"]}}],[Mn.SHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyH",modifiers:["Meta","Shift"]}}],[Mn.UNSHELVE_SILENTLY]:[{type:"keyboard",firstKeyStroke:{code:"KeyU",modifiers:["Meta","Alt"]}}],[Bo]:[{type:"keyboard",firstKeyStroke:{code:"Tab",modifiers:["Shift"]}}],[Fo]:[{type:"keyboard",firstKeyStroke:{code:"Tab"}}],[Mn.RENAME_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"F2"}}],[Mn.MOVE_TO_ANOTHER_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Meta","Shift"],code:"KeyM"}}],[Mn.SET_DEFAULT_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{modifiers:["Control"],code:"Space"}}],[Mn.REMOVE_CHANGELIST]:[{type:"keyboard",firstKeyStroke:{code:"Backspace"}}]};window.git=a.ZP,window.fs=ie,window.http=i.Z;const ma=e=>{let{height:t}=e;const n=(0,r.useRef)(null);return r.createElement(p,null,r.createElement(Ae,null,r.createElement(Aa,null,r.createElement(l.ur,{keymap:ua},r.createElement(o.Wh,null,r.createElement(s.a,{disablePortal:!0},r.createElement(c.f,null,r.createElement(d.q,null,r.createElement(_o.Provider,{value:n},r.createElement(ia,{height:t,toolWindowRef:n}))))))))))};ma.__docgenInfo={description:"Example app root component. It expects ThemeProvider to be provided based on where it's rendered.",methods:[],displayName:"App",props:{height:{required:!1,tsType:{name:'CSSProperties["height"]',raw:'CSSProperties["height"]'},description:""}}};const ha=ma}}]);
//# sourceMappingURL=1231.f4e86f77.js.map