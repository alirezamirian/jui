{"version":3,"file":"assets/js/3e5491f6.95c1b835.js","mappings":"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","sources":["webpack://website/./src/components/ExampleContext.tsx","webpack://website/./src/components/RefToIntellijPlatform.tsx","webpack://website/./docs/components/SpeedSearch.mdx"],"sourcesContent":["import React, { useEffect, useMemo } from \"react\";\nimport { SSRProvider } from \"@react-aria/ssr\";\nimport darculaTheme from \"../../../jui/themes/darcula.theme.json\";\nimport highContrastTheme from \"../../../jui/themes/HighContrast.theme.json\";\nimport lightTheme from \"../../../jui/themes/intellijlaf.theme.json\";\nimport { Theme, ThemeProvider } from \"../../../jui/src\";\n\nexport type ExampleContextThemeName = \"light\" | \"darcula\" | \"highContrast\";\n\nexport const ExampleContext: React.FC<{\n  themeName?: ExampleContextThemeName;\n}> = ({ children, themeName = \"darcula\" }) => {\n  const themeJson = (\n    {\n      light: lightTheme,\n      highContrast: highContrastTheme,\n      darcula: darculaTheme,\n    } as const\n  )[themeName];\n\n  // IMPORTANT: passing a function that returns Theme is crucial in get it working. Otherwise, ThemeProvider will try\n  // to \"merge\" themes, and the end result is an POJO, with prototype link lost.\n  // @ts-expect-error ThemeJson type is not accurate ATM.\n  const theme = useMemo(() => new Theme(themeJson), [themeJson]);\n\n  useFixDocusaurusStyleBleeds();\n  return (\n    <SSRProvider>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </SSRProvider>\n  );\n};\n\n/**\n * TODO: add a surrounding UI for examples, with tools for theme selection for example.\n */\nexport const Example: React.FC = ({ children }) => (\n  <ExampleContext>\n    <div\n      // @ts-expect-error: css prop is not working for some reason\n      css={`\n        background: ${({ theme }) => theme.color(\"*.background\")};\n      `}\n    >\n      {children}\n    </div>\n  </ExampleContext>\n);\n\nexport const withExampleContext = <P extends {}>(\n  Component: React.ComponentType<P>\n) => {\n  function WithExampleContext(props: P) {\n    return (\n      <ExampleContext>\n        <Component {...props} />\n      </ExampleContext>\n    );\n  }\n\n  return WithExampleContext;\n};\n\nconst useFixDocusaurusStyleBleeds = () => {\n  useEffect(() => {\n    const FLAG_CLASSNAME = \"example-context-patch\";\n    if (!document.body.classList.contains(FLAG_CLASSNAME)) {\n      try {\n        undoUseKeyboardNavigation();\n        document.body.classList.add(FLAG_CLASSNAME);\n      } catch (e) {\n        console.error(\"Could not undo useKeyboardNavigation\");\n      }\n    }\n  }, []);\n};\n\n/**\n * Reverts the \"improvement\" [useKeyboardNavigation][1] does :|\n *\n * [1]: https://github.com/facebook/docusaurus/blob/f87a3ead4664b301901c12466cb2c82cd95d141b/packages/docusaurus-theme-common/src/hooks/useKeyboardNavigation.ts#L14\n */\nfunction undoUseKeyboardNavigation() {\n  document\n    .querySelectorAll<HTMLLinkElement>(\"link[rel=stylesheet]\")\n    .forEach((linkEl) => {\n      for (let i = 0; i < linkEl.sheet.cssRules.length; i++) {\n        const rule = linkEl.sheet.cssRules.item(i);\n        if (rule.cssText?.startsWith(\"body:not(.navigation-with-keyboard)\")) {\n          linkEl.sheet.deleteRule(i); // We can change the rule to only disable it within the boundary of example\n        }\n      }\n    });\n}\n","import React from \"react\";\n\n/**\n * To make relation between things in jui and original reference impl in Intellij Platform\n */\nexport const RefToIntellijPlatform = ({\n  path,\n  name,\n}: {\n  path: string;\n  name?: string;\n}) => {\n  return (\n    // TODO: make it some nice box with an icon and a hint text which says something like \"Intellij Platform\" or\n    //  \"Reference\" or something better :D\n    <a\n      href={`https://github.com/JetBrains/intellij-community/blob/master/${path}`}\n      target=\"_blank\"\n    >\n      {name || path.split(\"/\").pop()}\n    </a>\n  );\n};\n","\n\n/* @jsxRuntime classic */\n/* @jsx mdx */\n/* @jsxFrag React.Fragment */\n\nimport React from 'react';\nimport { mdx } from '@mdx-js/react';\n\n\nexport const frontMatter = {};\nexport const contentTitle = 'SpeedSearch';\nexport const metadata = {\n  \"unversionedId\": \"components/SpeedSearch\",\n  \"id\": \"components/SpeedSearch\",\n  \"title\": \"SpeedSearch\",\n  \"description\": \"Speed search allows for searching in any UI that represents a collection of items. It detects stop points in each item,\",\n  \"source\": \"@site/docs/components/SpeedSearch.mdx\",\n  \"sourceDirName\": \"components\",\n  \"slug\": \"/components/SpeedSearch\",\n  \"permalink\": \"/jui/docs/components/SpeedSearch\",\n  \"draft\": false,\n  \"editUrl\": \"https://github.com/alirezamirian/jui/edit/master/packages/website/docs/components/SpeedSearch.mdx\",\n  \"tags\": [],\n  \"version\": \"current\",\n  \"frontMatter\": {},\n  \"sidebar\": \"tutorialSidebar\",\n  \"previous\": {\n    \"title\": \"SearchInput\",\n    \"permalink\": \"/jui/docs/components/SearchInput\"\n  },\n  \"next\": {\n    \"title\": \"StatusBar\",\n    \"permalink\": \"/jui/docs/components/StatusBar\"\n  }\n};\nexport const assets = {\n\n};\n\nimport { RefToIntellijPlatform } from \"@site/src/components/RefToIntellijPlatform.tsx\";\nimport { SpeedSearch } from \"@intellij-platform/core/SpeedSearch/SpeedSearch\";\nimport { Example } from \"@site/src/components/ExampleContext\";\nexport const toc = [{\n  value: 'Features',\n  id: 'features',\n  level: 3\n}, {\n  value: 'Integration with other components',\n  id: 'integration-with-other-components',\n  level: 2\n}, {\n  value: 'Advanced use',\n  id: 'advanced-use',\n  level: 2\n}, {\n  value: 'Low level speed search API',\n  id: 'low-level-speed-search-api',\n  level: 3\n}, {\n  value: 'hooks',\n  id: 'hooks',\n  level: 4\n}, {\n  value: 'Collection Speed Search API',\n  id: 'collection-speed-search-api',\n  level: 3\n}];\n\nconst layoutProps = {\n  toc\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"speedsearch\"\n    }}>{`SpeedSearch`}</h1>\n    <p>{`Speed search allows for searching in any UI that represents a collection of items. It detects stop points in each item,\nand you can type only one or more character from the beginning of each stop point. The name is kept inline with the\noriginal implementation.`}</p>\n    <h3 {...{\n      \"id\": \"features\"\n    }}>{`Features`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Detecting stop points based on casing, use of non-alphabetic characters, etc., with a high degree of matching the\noriginal implementation.`}</li>\n      <li parentName=\"ul\">{`Highlighting matches in items`}</li>\n      <li parentName=\"ul\">{`Showing search query as an overlay at the top left, with visual feedback about search result.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#low-level-speed-search-api\"\n        }}>{`Low level`}</a>{` API for implementing speed search for any UI component.`}</li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#collcetion-speed-search-API\"\n        }}>{`Higher level API`}</a>{` for integrating speed search with Collection components, such as `}<inlineCode parentName=\"li\">{`List`}</inlineCode>{`, `}<inlineCode parentName=\"li\">{`Tree`}</inlineCode>{`, etc.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"integration-with-other-components\"\n    }}>{`Integration with other components`}</h2>\n    <p>{`Normally, you don't need to use speed search hooks and components directly. Collection component like `}<inlineCode parentName=\"p\">{`List`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`Tree`}</inlineCode>{`\ncome with a version with built-in support for speed search.`}</p>\n    <p>{`See `}<a parentName=\"p\" {...{\n        \"href\": \"./list#speedsearchlist\"\n      }}>{`SpeedSearchList`}</a>{`, `}<a parentName=\"p\" {...{\n        \"href\": \"./Tree#speedsearchtree\"\n      }}>{`SpeedSearchTree`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"advanced-use\"\n    }}>{`Advanced use`}</h2>\n    <h3 {...{\n      \"id\": \"low-level-speed-search-api\"\n    }}>{`Low level speed search API`}</h3>\n    <p><inlineCode parentName=\"p\">{`SpeedSearch`}</inlineCode>{` component is container, which when focused, captures the search query as the user\nstarts typing. It shows the search query as an overlay at the top left of the container. The state of the speed search\n(search query, and the state of search being active or not) can be controlled or left uncontrolled.`}</p>\n    <admonition {...{\n      \"title\": \"Note\",\n      \"type\": \"info\"\n    }}><p parentName=\"admonition\"><inlineCode parentName=\"p\">{`SpeedSearch`}</inlineCode>{` component doesn't have anything to do with the search logic itself, it only captures the UI behaviour of\na container that supports Speed Search.`}</p></admonition>\n    <p>{`Here is a very simple, and functionally incomplete example of using `}<inlineCode parentName=\"p\">{`SpeedSearch`}</inlineCode>{`. Click anywhere in the container box\nto move focus to it, and start typing:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\",\n        \"metastring\": \"live\",\n        \"live\": true\n      }}>{`function SpeedSearchExample() {\n  return (\n    <>\n      <SpeedSearch className=\"my-speed-search\">\n        <ul>\n          <li>Paco de lucia</li>\n          <li>Vicente Amigo</li>\n          <li>Gerardo Nunez</li>\n        </ul>\n      </SpeedSearch>\n      <style>\n        {\\`\n          .my-speed-search {\n            border: 1px solid #aaa;\n          }\n          .my-speed-search:focus {\n            border-color: blue;\n          }\n        \\`}\n      </style>\n    </>\n  );\n}\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`minusculeMatch`}</inlineCode>{` function can be used to do the actual search in a string and get back the matched ranges. Then\n`}<inlineCode parentName=\"p\">{`TextWithHighlights`}</inlineCode>{` can be used to show the matches. Here is a full example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\",\n        \"metastring\": \"live\",\n        \"live\": true\n      }}>{`function FullSpeedSearchExample() {\n  const items = [\"Paco de Lucia\", \"Vicente Amigo\", \"Gerardo Nunez\"];\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [active, setActive] = useState(false);\n  const searchResult = useMemo(\n    () =>\n      items.reduce((result, item) => {\n        result[item] = minusculeMatch(item, searchTerm);\n        return result;\n      }, {}),\n    [searchTerm]\n  );\n  const match = Object.values(searchResult).some((i) => i);\n  return (\n    <>\n      <SpeedSearch\n        className=\"my-speed-search\"\n        searchTerm={searchTerm}\n        onSearchTermChange={setSearchTerm}\n        active={active}\n        onActiveChange={setActive}\n        match={match}\n      >\n        <ul>\n          {items.map((item) => (\n            <li key={item}>\n              <TextWithHighlights highlights={searchResult[item]}>\n                {item}\n              </TextWithHighlights>\n            </li>\n          ))}\n        </ul>\n      </SpeedSearch>\n      <style>\n        {\\`\n          .my-speed-search {\n            border: 1px solid #aaa;\n          }\n          .my-speed-search:focus {\n            border-color: blue;\n          }\n        \\`}\n      </style>\n    </>\n  );\n}\n`}</code></pre>\n    <h4 {...{\n      \"id\": \"hooks\"\n    }}>{`hooks`}</h4>\n    <p><inlineCode parentName=\"p\">{`SpeedSearch`}</inlineCode>{` component is built on top of a couple of hooks:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`useSpeedSearch`}</inlineCode>{`: encapsulates event handling logic for speed search container`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`useSpeedSearchState`}</inlineCode>{`: encapsulates state management for `}<inlineCode parentName=\"li\">{`searchTerm`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`active`}</inlineCode>{` state.`}</li>\n    </ul>\n    <p><inlineCode parentName=\"p\">{`SpeedSearch`}</inlineCode>{` merely uses those hooks together with `}<inlineCode parentName=\"p\">{`SpeedSearchContainer`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`SpeedSearchPopup`}</inlineCode>{` which\nare dump UI components.`}</p>\n    <h3 {...{\n      \"id\": \"collection-speed-search-api\"\n    }}>{`Collection Speed Search API`}</h3>\n    <p>{`If you are implementing a new collection component (similar to List, Tree, Table, etc.) this low level hook can be used\nto add support for speed search in that component. More documentation to be added here.`}</p>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n"],"names":["ExampleContext","children","themeName","themeJson","light","lightTheme","highContrast","highContrastTheme","darcula","darculaTheme","theme","useMemo","Theme","useFixDocusaurusStyleBleeds","Example","useEffect","FLAG_CLASSNAME","document","body","classList","contains","querySelectorAll","forEach","linkEl","i","sheet","cssRules","length","item","cssText","startsWith","deleteRule","add","e","console","error","color","RefToIntellijPlatform","path","name","href","target","split","pop","frontMatter","contentTitle","metadata","assets","toc","value","id","level","layoutProps","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}