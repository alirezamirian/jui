{"version":3,"file":"assets/js/e3b22f57.caa347fb.js","mappings":"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","sources":["webpack://website/../../node_modules/@docusaurus/core/lib/client/exports/BrowserOnly.js","webpack://website/../jui/src/Collections/ItemStateContext.tsx","webpack://website/../jui/src/Icon/PlatformIcon.tsx","webpack://website/../jui/src/Icon/StyledIconWrapper.tsx","webpack://website/../jui/src/Icon/useSvgIcon.tsx","webpack://website/../jui/src/Theme/parseColorString.ts","webpack://website/../jui/src/Theme/Color.ts","webpack://website/../jui/src/styled.ts","webpack://website/../jui/src/utils/useForwardedRef.ts","webpack://website/./src/components/ExampleContext.tsx","webpack://website/./src/components/LazyExampleApp.tsx","webpack://website/./src/pages/example-app.tsx"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { isValidElement } from 'react';\nimport useIsBrowser from '@docusaurus/useIsBrowser';\n// Similar comp to the one described here:\n// https://www.joshwcomeau.com/react/the-perils-of-rehydration/#abstractions\nexport default function BrowserOnly({ children, fallback, }) {\n    const isBrowser = useIsBrowser();\n    if (isBrowser) {\n        if (typeof children !== 'function' &&\n            process.env.NODE_ENV === 'development') {\n            throw new Error(`Docusaurus error: The children of <BrowserOnly> must be a \"render function\", e.g. <BrowserOnly>{() => <span>{window.location.href}</span>}</BrowserOnly>.\nCurrent type: ${isValidElement(children) ? 'React element' : typeof children}`);\n        }\n        return <>{children?.()}</>;\n    }\n    return fallback ?? null;\n}\n","import React from \"react\";\nimport { Node } from \"@react-types/shared\";\n\n/**\n * Generic state of items in collections, provided via a context.\n * To be used in Menu, Tree, or anything that deals with a collection of items for which the common states like\n * **disabled** or **selected** is applicable.\n */\nexport interface ItemStateContextType {\n  node: Node<unknown>;\n  isSelected: boolean;\n  isContainerFocused: boolean;\n  isDisabled: boolean;\n}\n\nexport const ItemStateContext =\n  React.createContext<ItemStateContextType | null>(null);\n","import React, { ForwardedRef } from \"react\";\nimport useForwardedRef from \"@intellij-platform/core/utils/useForwardedRef\";\nimport { useTheme } from \"@intellij-platform/core/styled\";\nimport { IconProps } from \"./IconProps\";\nimport { StyledIconWrapper } from \"./StyledIconWrapper\";\nimport { useSvgIcon } from \"./useSvgIcon\";\n\nexport interface PlatformIconProps extends IconProps {\n  /**\n   * Icon path in intellij platform repo.\n   * If starts with \"/\", the path will be from the repo root. Otherwise, it's relative to \"platform/icons/src\".\n   * \".svg\" extension is optional.\n   */\n  icon: string;\n  /**\n   * Similar to icon, but for dark themes.\n   */\n  darkIcon?: string;\n}\n\nexport const amendName = (iconNameOrPath: string, amendment: string) => {\n  const [name, ext] = iconNameOrPath.split(\".\");\n  return `${name}${amendment}${ext ? `.${ext}` : \"\"}`;\n};\n\nexport const getDarkPath = (path: string, darkPath?: string) => {\n  const [name, ext] = path.split(\".\");\n  return darkPath || `${name}_dark${ext ? `.${ext}` : \"\"}`;\n};\n\nconst getPlatformIconPath = (relativePath: string) =>\n  relativePath.startsWith(\"/\")\n    ? relativePath.slice(1)\n    : `platform/icons/src/${relativePath}`;\n\n/**\n * Renders an icon from the predefined list of platform icons.\n * icon name must follow the directory structure in platform icons.\n * @example <PlatformIcon icon=\"general/hideToolWindow\" />\n * @example <PlatformIcon icon=\"toolbar/pin\" />\n * @example <PlatformIcon icon=\"toolbar/pin.svg\" />\n * @example <PlatformIcon icon=\"/platform/dvcs-impl/resources/icons/currentBranchLabel.svg\" />\n */\nexport const PlatformIcon = React.forwardRef(\n  (\n    { icon, darkIcon, ...props }: PlatformIconProps,\n    forwardedRef: ForwardedRef<HTMLElement>\n  ) => {\n    const ref = useForwardedRef(forwardedRef);\n    const theme = useTheme();\n    const iconName = theme.dark ? getDarkPath(icon, darkIcon) : icon;\n    useSvgIcon(\n      {\n        path: getPlatformIconPath(iconName),\n        fallbackPath: getPlatformIconPath(icon),\n      },\n      ref\n    );\n\n    return <StyledIconWrapper {...props} ref={ref} />;\n  }\n);\n","import { styled } from \"../styled\";\nimport { IconSize } from \"@intellij-platform/core/Icon/IconProps\";\n\nconst DEFAULT_ICON_SIZE: IconSize = 16;\n\nexport const StyledIconWrapper = styled.span<{\n  size?: IconSize;\n  useCurrentColor?: boolean;\n}>`\n  box-sizing: border-box;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 0;\n  width: ${({ size = DEFAULT_ICON_SIZE }) => `${size}px`};\n  height: ${({ size = DEFAULT_ICON_SIZE }) => `${size}px`};\n  position: relative; // to allow absolute positioned indicators and overlays on icon\n`;\n","import { RefObject, useContext, useEffect } from \"react\";\nimport { useTheme } from \"@intellij-platform/core/styled\";\nimport { ItemStateContext } from \"@intellij-platform/core/Collections\";\n\nexport function useSvgIcon(\n  { path, fallbackPath }: { path: string; fallbackPath?: string },\n  /**\n   * ref to the icon wrapper element in which the svg should be injected.\n   * This hook used to return svg string, and that svg was set as dangerouslySetInnerHTML. But now it injects the svg.\n   * by direct DOM manipulation. That's to eliminate the need for using dangerouslySetInnerHTML, so that we can allow\n   * arbitrary children (like LiveIndicator) as overlays on top of icons.\n   */\n  ref: RefObject<HTMLElement>\n) {\n  const theme = useTheme();\n  const itemState = useContext(ItemStateContext);\n  const selected = itemState?.isSelected || itemState?.isContainerFocused;\n  useEffect(() => {\n    let unmounted = false;\n    const fetchIcon = async () => {\n      if (!path) {\n        console.error(\"icon path is empty\");\n        return;\n      }\n      if (ref.current) {\n        // For querying for icons that are not loaded yet. Especially useful for visual testing\n        ref.current.dataset.loadingIcon = \"true\";\n      }\n      const svg = await theme.getSvgIcon(path, selected).catch((e) => {\n        if (fallbackPath) {\n          return theme.getSvgIcon(fallbackPath, selected);\n        }\n        throw e;\n      });\n      if (svg) {\n        if (!unmounted && ref?.current) {\n          if (ref) {\n            // potential SSR issues here?\n            ref.current?.querySelector(\"svg\")?.remove();\n            const svgElement = document.createElement(\"svg\");\n            ref.current?.appendChild(svgElement);\n            svgElement.outerHTML = svg;\n            delete ref.current?.dataset.loadingIcon;\n          }\n        }\n      } else {\n        console.error(\"Could not resolve icon:\", path);\n      }\n    };\n    fetchIcon().catch(console.error);\n    return () => {\n      unmounted = true;\n    };\n  }, [path, selected]);\n}\n","// language=JSRegexp\nconst numberPattern = \"[0-9]{0,3}.?[0-9]*\";\n\nconst parseComponent = (componentStr: string, index: number) =>\n  componentStr\n    ? index < 3\n      ? parseInt(componentStr)\n      : Math.round(Math.min(parseFloat(componentStr), 1) * 255)\n    : undefined;\n\nconst parseHexRgba = (str: string) =>\n  str\n    .match(/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?$/i)\n    ?.slice(1, 5)\n    .map((i) => (i ? parseInt(i, 16) : undefined));\nconst parseShorthandHex = (str: string) =>\n  str\n    .match(/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i)\n    ?.slice(1, 4)\n    .map((i) => (i ? parseInt(i + i, 16) : undefined));\nconst parseRgb = (str: string) =>\n  str\n    .match(\n      new RegExp(\n        `^rgb\\\\(\\\\s*(${numberPattern})\\\\s*,\\\\s*(${numberPattern})\\\\s*,\\\\s*(${numberPattern}\\\\s*)\\\\)$`\n      )\n    )\n    ?.slice(1, 5)\n    .map(parseComponent);\nconst parseRgba = (str: string) =>\n  str\n    .match(\n      new RegExp(\n        `^rgba\\\\(\\\\s*(${numberPattern})\\\\s*,\\\\s*(${numberPattern})\\\\s*,\\\\s*(${numberPattern})\\\\s*,\\\\s*(${numberPattern}\\\\s*)\\\\)$`\n      )\n    )\n    ?.slice(1, 5)\n    .map(parseComponent);\n\n/**\n * parses a color string into rgba components.\n * @param str\n */\nexport const parseColorString = (\n  str: string\n): [number, number, number, number?] | null => {\n  const result = [parseHexRgba, parseShorthandHex, parseRgb, parseRgba].reduce<\n    (number | undefined)[] | undefined\n  >((result, parse) => result || parse(str), undefined);\n  return Array.isArray(result) &&\n    result.slice(0, 3).every((c) => Number.isInteger(c))\n    ? (result as [number, number, number, number?])\n    : null;\n};\n","import { parseColorString } from \"./parseColorString\";\n\n/**\n * A Color class resembling AWT Color\n */\nexport class Color {\n  public readonly r: number;\n  public readonly g: number;\n  public readonly b: number;\n  public readonly a: number;\n\n  private static readonly FACTOR = 0.7;\n\n  constructor(r: number, g: number, b: number, a?: number);\n  constructor(rgba: string);\n  constructor(rgba: Color);\n  constructor(\n    rgba: string | number | Color,\n    g?: number,\n    b?: number,\n    a: number = 255\n  ) {\n    let r: number;\n    if (typeof rgba === \"string\") {\n      [r = NaN, g = NaN, b = NaN, a = 255] = parseColorString(rgba) || [];\n    } else if (rgba instanceof Color) {\n      [r, g, b, a] = [rgba.r, rgba.g, rgba.b, rgba.a];\n    } else {\n      r = rgba;\n    }\n    this.r = r;\n    this.g = g!;\n    this.b = b!;\n    this.a = a < 1 ? Math.round(a * 255) : a;\n  }\n\n  isValid() {\n    return (\n      Number.isInteger(this.r) &&\n      Number.isInteger(this.g) &&\n      Number.isInteger(this.b) &&\n      Number.isInteger(this.a)\n    );\n  }\n\n  /**\n   * Extra method for changing transparency\n   */\n  withTransparency(alpha: number) {\n    return new Color(this.r, this.g, this.b, alpha);\n  }\n\n  brighter() {\n    let { r, g, b, a: alpha } = this;\n    const int = Math.floor,\n      FACTOR = Color.FACTOR;\n    // The rest is copy paste of java.awt.Color (only `int i` is changed to `let i` :D)\n    let i = int(1.0 / (1.0 - FACTOR));\n    if (r == 0 && g == 0 && b == 0) {\n      return new Color(i, i, i, alpha);\n    }\n    if (r > 0 && r < i) r = i;\n    if (g > 0 && g < i) g = i;\n    if (b > 0 && b < i) b = i;\n\n    return new Color(\n      Math.min(int(r / FACTOR), 255),\n      Math.min(int(g / FACTOR), 255),\n      Math.min(int(b / FACTOR), 255),\n      alpha\n    );\n  }\n\n  darker() {\n    const FACTOR = Color.FACTOR;\n    const int = Math.floor;\n\n    return new Color(\n      Math.max(int(this.r * FACTOR), 0),\n      Math.max(int(this.g * FACTOR), 0),\n      Math.max(int(this.b * FACTOR), 0),\n      this.a\n    );\n  }\n\n  static brighter(color: string): string {\n    // note: we can't type args simply with ConstructorParameters<typeof Color>.\n    // see more: https://github.com/microsoft/TypeScript/issues/37079\n    return new Color(color).brighter().toString();\n  }\n\n  blend(colorOrColorString: Color | string) {\n    const color =\n      typeof colorOrColorString === \"string\"\n        ? new Color(colorOrColorString)\n        : colorOrColorString;\n    const getBlendedValue = (component: \"r\" | \"g\" | \"b\") =>\n      Math.round(\n        (color.a / 255) * color[component] +\n          (this.a / 255) * (1 - color.a / 255) * this[component]\n      );\n    return new Color(\n      getBlendedValue(\"r\"),\n      getBlendedValue(\"g\"),\n      getBlendedValue(\"b\")\n    );\n  }\n\n  toString() {\n    const toString = (component: number) =>\n      Number.isNaN(component) ? \"\" : component.toString(16).padStart(2, \"0\");\n    const r = toString(this.r);\n    const g = toString(this.g);\n    const b = toString(this.b);\n    const a = this.a === 255 ? \"\" : toString(this.a);\n    return `#${r}${g}${b}${a}`;\n  }\n}\n","import * as styledComponents from \"styled-components\";\nimport { ThemedStyledComponentsModule } from \"styled-components\";\nimport { Theme } from \"./Theme\";\nimport { KnownThemePropertyPath } from \"./Theme/types\";\n\ntype JuiStyledComponentsModule = ThemedStyledComponentsModule<\n  Theme<KnownThemePropertyPath>\n>;\n\nexport const styled =\n  styledComponents.default as JuiStyledComponentsModule[\"default\"];\nexport const useTheme =\n  styledComponents.useTheme as JuiStyledComponentsModule[\"useTheme\"];\nexport const css = styledComponents.css as JuiStyledComponentsModule[\"css\"];\nexport const ThemeConsumer =\n  styledComponents.ThemeConsumer as JuiStyledComponentsModule[\"ThemeConsumer\"];\n","import React, { useRef } from \"react\";\n\n/**\n * For when a component needs to forward ref, but it too needs to use the same ref. Since forwarded ref can be in form\n * of a callback too, this will normalize it as a RefObject.\n * NOTE: Should we keep the ref in state because of edge cases?\n */\nexport default function useForwardedRef<T>(\n  forwardedRef: React.Ref<T>\n): React.RefObject<T> {\n  const innerRef = useRef<T>(null);\n  React.useEffect(() => {\n    if (!forwardedRef) {\n      return;\n    }\n\n    if (typeof forwardedRef === \"function\") {\n      forwardedRef(innerRef.current);\n    } else {\n      (forwardedRef as React.MutableRefObject<T | null>).current =\n        innerRef.current;\n    }\n  });\n\n  return innerRef;\n}\n","import React, { useEffect, useMemo } from \"react\";\nimport { SSRProvider } from \"@react-aria/ssr\";\nimport darculaTheme from \"../../../jui/themes/darcula.theme.json\";\nimport highContrastTheme from \"../../../jui/themes/HighContrast.theme.json\";\nimport lightTheme from \"../../../jui/themes/intellijlaf.theme.json\";\nimport { Theme, ThemeProvider } from \"../../../jui/src\";\n\nexport type ExampleContextThemeName = \"light\" | \"darcula\" | \"highContrast\";\n\nexport const ExampleContext: React.FC<{\n  themeName?: ExampleContextThemeName;\n}> = ({ children, themeName = \"darcula\" }) => {\n  const themeJson = (\n    {\n      light: lightTheme,\n      highContrast: highContrastTheme,\n      darcula: darculaTheme,\n    } as const\n  )[themeName];\n\n  // IMPORTANT: passing a function that returns Theme is crucial in get it working. Otherwise, ThemeProvider will try\n  // to \"merge\" themes, and the end result is an POJO, with prototype link lost.\n  // @ts-expect-error ThemeJson type is not accurate ATM.\n  const theme = useMemo(() => new Theme(themeJson), [themeJson]);\n\n  useFixDocusaurusStyleBleeds();\n  return (\n    <SSRProvider>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </SSRProvider>\n  );\n};\n\n/**\n * TODO: add a surrounding UI for examples, with tools for theme selection for example.\n */\nexport const Example: React.FC = ({ children }) => (\n  <ExampleContext>\n    <div\n      // @ts-expect-error: css prop is not working for some reason\n      css={`\n        background: ${({ theme }) => theme.color(\"*.background\")};\n      `}\n    >\n      {children}\n    </div>\n  </ExampleContext>\n);\n\nexport const withExampleContext = <P extends {}>(\n  Component: React.ComponentType<P>\n) => {\n  function WithExampleContext(props: P) {\n    return (\n      <ExampleContext>\n        <Component {...props} />\n      </ExampleContext>\n    );\n  }\n\n  return WithExampleContext;\n};\n\nconst useFixDocusaurusStyleBleeds = () => {\n  useEffect(() => {\n    const FLAG_CLASSNAME = \"example-context-patch\";\n    if (!document.body.classList.contains(FLAG_CLASSNAME)) {\n      try {\n        undoUseKeyboardNavigation();\n        document.body.classList.add(FLAG_CLASSNAME);\n      } catch (e) {\n        console.error(\"Could not undo useKeyboardNavigation\");\n      }\n    }\n  }, []);\n};\n\n/**\n * Reverts the \"improvement\" [useKeyboardNavigation][1] does :|\n *\n * [1]: https://github.com/facebook/docusaurus/blob/f87a3ead4664b301901c12466cb2c82cd95d141b/packages/docusaurus-theme-common/src/hooks/useKeyboardNavigation.ts#L14\n */\nfunction undoUseKeyboardNavigation() {\n  document\n    .querySelectorAll<HTMLLinkElement>(\"link[rel=stylesheet]\")\n    .forEach((linkEl) => {\n      for (let i = 0; i < linkEl.sheet.cssRules.length; i++) {\n        const rule = linkEl.sheet.cssRules.item(i);\n        if (rule.cssText?.startsWith(\"body:not(.navigation-with-keyboard)\")) {\n          linkEl.sheet.deleteRule(i); // We can change the rule to only disable it within the boundary of example\n        }\n      }\n    });\n}\n","import React, { ComponentProps } from \"react\";\nimport BrowserOnly from \"@docusaurus/BrowserOnly\";\n\nimport { ExampleContext } from \"./ExampleContext\";\n\nconst App = React.lazy(() => import(\"../../../example-app/src/App\"));\n\nexport const LazyExampleApp = ({\n  themeName = \"darcula\",\n  children = (i) => i,\n  ...otherProps\n}: {\n  themeName?: ComponentProps<typeof ExampleContext>[\"themeName\"];\n  children?: (app: React.ReactNode) => React.ReactNode;\n} & ComponentProps<typeof App>) => {\n  return (\n    <BrowserOnly>\n      {() => (\n        <ExampleContext themeName={themeName}>\n          <React.Suspense fallback=\"loading...\">\n            {children(<App {...otherProps} />)}\n          </React.Suspense>\n        </ExampleContext>\n      )}\n    </BrowserOnly>\n  );\n};\n","import React, { ComponentProps, useState } from \"react\";\nimport Link from \"@docusaurus/Link\";\nimport { Color, PlatformIcon, styled } from \"@intellij-platform/core\";\nimport {\n  ExampleContext,\n  ExampleContextThemeName,\n} from \"../components/ExampleContext\";\nimport { LazyExampleApp } from \"../components/LazyExampleApp\";\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background: ${({ theme }) => theme.color(\"*.background\")};\n`;\n\nconst StyledBanner = styled.div`\n  background: ${({ theme }) =>\n    new Color(theme.color(\"*.background\")).darker().toString()};\n  color: ${({ theme }) => theme.color(\"*.foreground\")};\n  display: flex;\n`;\n\nconst BannerLinkButton = styled(Link)`\n  color: inherit;\n  padding: 0 6px;\n  height: 100%;\n  display: inline-flex;\n  align-items: center;\n  &:hover {\n    background: ${({ theme }) =>\n      theme.color(\"ActionButton.hoverBackground\", \"#DFDFDF\")};\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n\nconst StyledSpacer = styled.span`\n  flex: 1;\n`;\n\nexport default function ExampleAppPage(): JSX.Element {\n  const [themeName, setThemeName] =\n    useState<ComponentProps<typeof ExampleContext>[\"themeName\"]>(\"darcula\");\n\n  return (\n    <LazyExampleApp themeName={themeName}>\n      {(app) => (\n        <ColumnContainer>\n          <StyledBanner>\n            <BannerLinkButton to=\"/\">\n              <PlatformIcon icon=\"actions/exit.svg\" />\n              &nbsp; Quit example app\n            </BannerLinkButton>\n            <StyledSpacer />\n            <label>\n              Theme: &nbsp;\n              <select\n                value={themeName}\n                onChange={({ target }) =>\n                  setThemeName(target.value as ExampleContextThemeName)\n                }\n              >\n                <option value=\"darcula\">Darcula</option>\n                <option value=\"light\">Light</option>\n                <option value=\"highContrast\">High Contrast</option>\n              </select>\n            </label>\n          </StyledBanner>\n          {app}\n        </ColumnContainer>\n      )}\n    </LazyExampleApp>\n  );\n}\n"],"names":["BrowserOnly","children","fallback","useIsBrowser","ItemStateContext","React","amendName","iconNameOrPath","amendment","name","ext","split","getPlatformIconPath","relativePath","startsWith","slice","PlatformIcon","forwardedRef","icon","darkIcon","props","ref","useForwardedRef","iconName","useTheme","dark","path","darkPath","getDarkPath","useSvgIcon","fallbackPath","DEFAULT_ICON_SIZE","StyledIconWrapper","styled","size","theme","itemState","useContext","selected","isSelected","isContainerFocused","useEffect","unmounted","async","console","error","current","dataset","loadingIcon","svg","getSvgIcon","catch","e","querySelector","remove","svgElement","document","createElement","appendChild","outerHTML","fetchIcon","numberPattern","parseComponent","componentStr","index","parseInt","Math","round","min","parseFloat","undefined","parseHexRgba","str","match","map","i","parseShorthandHex","parseRgb","RegExp","parseRgba","Color","constructor","rgba","g","b","a","r","NaN","result","reduce","parse","Array","isArray","every","c","Number","isInteger","parseColorString","this","isValid","withTransparency","alpha","brighter","int","floor","FACTOR","darker","max","color","toString","blend","colorOrColorString","getBlendedValue","component","isNaN","padStart","styledComponents","css","ThemeConsumer","innerRef","useRef","ExampleContext","themeName","themeJson","light","lightTheme","highContrast","highContrastTheme","darcula","darculaTheme","useMemo","Theme","useFixDocusaurusStyleBleeds","Example","FLAG_CLASSNAME","body","classList","contains","querySelectorAll","forEach","linkEl","sheet","cssRules","length","item","cssText","deleteRule","add","App","LazyExampleApp","otherProps","ColumnContainer","StyledBanner","BannerLinkButton","Link","StyledSpacer","ExampleAppPage","setThemeName","useState","app","to","value","onChange","target"],"sourceRoot":""}